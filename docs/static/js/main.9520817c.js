/*! For license information please see main.9520817c.js.LICENSE.txt */
!function(){var t={9713:function(t){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports},7757:function(t,e,i){t.exports=i(9727)},4187:function(t,e,i){var r={"./ion-phaser.entry.js":[6340,340]};function n(t){if(!i.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],n=e[0];return i.e(e[1]).then((function(){return i(n)}))}n.keys=function(){return Object.keys(r)},n.id=4187,t.exports=n},6373:function(t,e,i){"use strict";i.d(e,{b:function(){return X},g:function(){return k},p:function(){return A},r:function(){return Q}});var r=i(5671),n=i(3144),s=i(7326),o=i(136),a=i(9388),l=i(1120),u=i(9611);var h=i(8814);function c(t,e,i){return c=(0,h.Z)()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return i&&(0,u.Z)(n,i.prototype),n},c.apply(null,arguments)}function d(t){var e="function"===typeof Map?new Map:void 0;return d=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,(0,l.Z)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,u.Z)(r,t)},d(t)}var f=i(885),p=i(5861),m=i(907);var v=i(181);function y(t){return function(t){if(Array.isArray(t))return(0,m.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,v.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=i(7757),x=i.n(g),b=!1,w="undefined"!==typeof window?window:{},_=w.document||{head:{}},S={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,i,r){return t.addEventListener(e,i,r)},rel:function(t,e,i,r){return t.removeEventListener(e,i,r)},ce:function(t,e){return new CustomEvent(t,e)}},A=function(t){return Promise.resolve(t)},T=function(){try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replace}catch(t){}return!1}(),E="{visibility:hidden}.hydrated{visibility:inherit}",M=new WeakMap,C=function(t,e,i){var r=et.get(t);T&&i?(r=r||new CSSStyleSheet).replace(e):r=e,et.set(t,r)},P=function(t){var e=t.$cmpMeta$,i=t.$hostElement$,r=(e.$tagName$,function(){});!function(t,e,i,r){var n=R(e),s=et.get(n);if(t=11===t.nodeType?t:_,s)if("string"===typeof s){t=t.head||t;var o,a=M.get(t);a||M.set(t,a=new Set),a.has(n)||((o=_.createElement("style")).innerHTML=s,t.insertBefore(o,t.querySelector("link")),a&&a.add(n))}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[].concat(y(t.adoptedStyleSheets),[s]))}(i.getRootNode(),e);r()},R=function(t,e){return"sc-"+t.$tagName$},k=function(t){return q(t).$hostElement$},L=function(t,e){e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((function(e){return t.$onRenderResolve$=e})))},O=function(t,e){if(t.$flags$|=16,!(4&t.$flags$)){L(t,t.$ancestorComponent$);return lt((function(){return D(t,e)}))}t.$flags$|=512},D=function(t,e){var i=(t.$cmpMeta$.$tagName$,function(){}),r=t.$lazyInstance$;return i(),U(undefined,(function(){return I(t,r,e)}))},I=function(){var t=(0,p.Z)(x().mark((function t(e,i,r){var n,s,o,a,l,u;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.$hostElement$,e.$cmpMeta$.$tagName$,s=function(){},o=n["s-rc"],r&&P(e),e.$cmpMeta$.$tagName$,a=function(){},F(e,i),o&&(o.map((function(t){return t()})),n["s-rc"]=void 0),a(),s(),l=n["s-p"],u=function(){return j(e)},0===l.length?u():(Promise.all(l).then(u),e.$flags$|=4,l.length=0);case 12:case"end":return t.stop()}}),t)})));return function(e,i,r){return t.apply(this,arguments)}}(),F=function(t,e,i){try{e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2}catch(r){J(r,t.$hostElement$)}return null},j=function(t){t.$cmpMeta$.$tagName$;var e=t.$hostElement$,i=function(){},r=t.$ancestorComponent$;64&t.$flags$?i():(t.$flags$|=64,z(e),i(),t.$onReadyResolve$(e),r||B()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&at((function(){return O(t,!1)})),t.$flags$&=-517},B=function(t){z(_.documentElement),at((function(){return function(t,e,i){var r=S.ce(e,i);return t.dispatchEvent(r),r}(w,"appload",{detail:{namespace:"ionphaser"}})}))},N=function(t,e,i){if(t&&t[e])try{return t[e](i)}catch(r){J(r)}},U=function(t,e){return t&&t.then?t.then(e):e()},z=function(t){return t.classList.add("hydrated")},G=function(t,e,i){if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);var r=Object.entries(e.$members$),n=t.prototype;if(r.map((function(t){var r=(0,f.Z)(t,2),s=r[0],o=(0,f.Z)(r[1],1)[0];31&o||2&i&&32&o?Object.defineProperty(n,s,{get:function(){return t=s,q(this).$instanceValues$.get(t);var t},set:function(t){!function(t,e,i,r){var n=q(t),s=n.$hostElement$,o=n.$instanceValues$.get(e),a=n.$flags$,l=n.$lazyInstance$;if(i=function(t,e){return null!=t&&"object"!==(i=typeof(i=t))&&"function"!==i&&4&e?"false"!==t&&(""===t||!!t):t;var i}(i,r.$members$[e][0]),(!(8&a)||void 0===o)&&i!==o&&(n.$instanceValues$.set(e,i),l)){if(r.$watchers$&&128&a){var u=r.$watchers$[e];u&&u.map((function(t){try{l[t](i,o,e)}catch(r){J(r,s)}}))}2===(18&a)&&O(n,!1)}}(this,s,t,e)},configurable:!0,enumerable:!0}):1&i&&64&o&&Object.defineProperty(n,s,{value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=q(this);return r.$onInstancePromise$.then((function(){var t;return(t=r.$lazyInstance$)[s].apply(t,e)}))}})})),1&i){var s=new Map;n.attributeChangedCallback=function(t,e,i){var r=this;S.jmp((function(){var e=s.get(t);r[e]=(null!==i||"boolean"!==typeof r[e])&&i}))},t.observedAttributes=r.filter((function(t){var e=(0,f.Z)(t,2);e[0];return 15&e[1][0]})).map((function(t){var e=(0,f.Z)(t,2),i=e[0],r=e[1][1]||i;return s.set(r,i),r}))}}return t},V=function(){var t=(0,p.Z)(x().mark((function t(e,i,r,n,s){var o,a,l,u,h,c,d;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(32&i.$flags$)){t.next=18;break}if(i.$flags$|=32,!(s=tt(r)).then){t.next=9;break}return o=function(){},t.next=7,s;case 7:s=t.sent,o();case 9:s.isProxied||(r.$watchers$=s.watchers,G(s,r,2),s.isProxied=!0),r.$tagName$,a=function(){},i.$flags$|=8;try{new s(i)}catch(e){J(e)}i.$flags$&=-9,i.$flags$|=128,a(),H(i.$lazyInstance$),s.style&&(l=s.style,u=R(r),et.has(u)||(r.$tagName$,h=function(){},C(u,l,!!(1&r.$flags$)),h()));case 18:c=i.$ancestorComponent$,d=function(){return O(i,!0)},c&&c["s-rc"]?c["s-rc"].push(d):d();case 21:case"end":return t.stop()}}),t)})));return function(e,i,r,n,s){return t.apply(this,arguments)}}(),H=function(t){N(t,"connectedCallback")},W=function(t){if(0===(1&S.$flags$)){var e=q(t),i=e.$cmpMeta$,r=(i.$tagName$,function(){});if(1&e.$flags$)H(e.$lazyInstance$);else{e.$flags$|=1;for(var n=t;n=n.parentNode||n.host;)if(n["s-p"]){L(e,e.$ancestorComponent$=n);break}i.$members$&&Object.entries(i.$members$).map((function(e){var i=(0,f.Z)(e,2),r=i[0];if(31&(0,f.Z)(i[1],1)[0]&&t.hasOwnProperty(r)){var n=t[r];delete t[r],t[r]=n}})),V(t,e,i)}r()}},Y=function(t){if(0===(1&S.$flags$)){var e=q(t).$lazyInstance$;N(e,"disconnectedCallback")}},X=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=function(){},u=[],h=i.exclude||[],c=w.customElements,f=_.head,p=f.querySelector("meta[charset]"),m=_.createElement("style"),v=[],y=!0;Object.assign(S,i),S.$resourcesUrl$=new URL(i.resourcesUrl||"./",_.baseURI).href,t.map((function(t){return t[1].map((function(i){var l={$flags$:i[0],$tagName$:i[1],$members$:i[2],$listeners$:i[3]};l.$members$=i[2],l.$watchers$={};var f=l.$tagName$,p=function(t){(0,o.Z)(u,t);var i=(0,a.Z)(u);function u(t){var e;return(0,r.Z)(this,u),e=i.call(this,t),t=(0,s.Z)(e),K(t,l),e}return(0,n.Z)(u,[{key:"connectedCallback",value:function(){var t=this;e&&(clearTimeout(e),e=null),y?v.push(this):S.jmp((function(){return W(t)}))}},{key:"disconnectedCallback",value:function(){var t=this;S.jmp((function(){return Y(t)}))}},{key:"componentOnReady",value:function(){return q(this).$onReadyPromise$}}]),u}(d(HTMLElement));l.$lazyBundleId$=t[0],h.includes(f)||c.get(f)||(u.push(f),c.define(f,G(p,l,1)))}))})),m.innerHTML=u+E,m.setAttribute("data-styles",""),f.insertBefore(m,p?p.nextSibling:f.firstChild),y=!1,v.length?v.map((function(t){return t.connectedCallback()})):S.jmp((function(){return e=setTimeout(B,30)})),l()},Z=new WeakMap,q=function(t){return Z.get(t)},Q=function(t,e){return Z.set(e.$lazyInstance$=t,e)},K=function(t,e){var i={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return i.$onInstancePromise$=new Promise((function(t){return i.$onInstanceResolve$=t})),i.$onReadyPromise$=new Promise((function(t){return i.$onReadyResolve$=t})),t["s-p"]=[],t["s-rc"]=[],Z.set(t,i)},J=function(t,e){return(0,console.error)(t,e)},$=new Map,tt=function(t,e,r){var n=t.$tagName$.replace(/-/g,"_"),s=t.$lazyBundleId$,o=$.get(s);return o?o[n]:i(4187)("./".concat(s,".entry.js")).then((function(t){return $.set(s,t),t[n]}),J)},et=new Map,it=[],rt=[],nt=function(t,e){return function(i){t.push(i),b||(b=!0,e&&4&S.$flags$?at(ot):S.raf(ot))}},st=function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(i){J(i)}t.length=0},ot=function t(){st(it),st(rt),(b=it.length>0)&&S.raf(t)},at=function(t){return A().then(t)},lt=nt(rt,!0)},9948:function(t){"use strict";var e=function(t){return function(t){return!!t&&"object"===typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((i=t,Array.isArray(i)?[]:{}),t,e):t;var i}function n(t,e,i){return t.concat(e).map((function(t){return r(t,i)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function o(t,e){try{return e in t}catch(i){return!1}}function a(t,e,i){var n={};return i.isMergeableObject(t)&&s(t).forEach((function(e){n[e]=r(t[e],i)})),s(e).forEach((function(s){(function(t,e){return o(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,s)||(o(t,s)&&i.isMergeableObject(e[s])?n[s]=function(t,e){if(!e.customMerge)return l;var i=e.customMerge(t);return"function"===typeof i?i:l}(s,i)(t[s],e[s],i):n[s]=r(e[s],i))})),n}function l(t,i,s){(s=s||{}).arrayMerge=s.arrayMerge||n,s.isMergeableObject=s.isMergeableObject||e,s.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(i);return o===Array.isArray(t)?o?s.arrayMerge(t,i,s):a(t,i,s):r(i,s)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,i){return l(t,i,e)}),{})};var u=l;t.exports=u},5641:function(t,e,i){t.exports=i(2132)},2132:function(t,e,i){t=i.nmd(t),function(){var e,i,r,n,s,o,a,l,u,h,c,d,f,p,m;r=Math.floor,h=Math.min,i=function(t,e){return t<e?-1:t>e?1:0},u=function(t,e,n,s,o){var a;if(null==n&&(n=0),null==o&&(o=i),n<0)throw new Error("lo must be non-negative");for(null==s&&(s=t.length);n<s;)o(e,t[a=r((n+s)/2)])<0?s=a:n=a+1;return[].splice.apply(t,[n,n-n].concat(e)),e},o=function(t,e,r){return null==r&&(r=i),t.push(e),p(t,0,t.length-1,r)},s=function(t,e){var r,n;return null==e&&(e=i),r=t.pop(),t.length?(n=t[0],t[0]=r,m(t,0,e)):n=r,n},l=function(t,e,r){var n;return null==r&&(r=i),n=t[0],t[0]=e,m(t,0,r),n},a=function(t,e,r){var n;return null==r&&(r=i),t.length&&r(t[0],e)<0&&(e=(n=[t[0],e])[0],t[0]=n[1],m(t,0,r)),e},n=function(t,e){var n,s,o,a,l,u;for(null==e&&(e=i),a=function(){u=[];for(var e=0,i=r(t.length/2);0<=i?e<i:e>i;0<=i?e++:e--)u.push(e);return u}.apply(this).reverse(),l=[],s=0,o=a.length;s<o;s++)n=a[s],l.push(m(t,n,e));return l},f=function(t,e,r){var n;if(null==r&&(r=i),-1!==(n=t.indexOf(e)))return p(t,0,n,r),m(t,n,r)},c=function(t,e,r){var s,o,l,u,h;if(null==r&&(r=i),!(o=t.slice(0,e)).length)return o;for(n(o,r),l=0,u=(h=t.slice(e)).length;l<u;l++)s=h[l],a(o,s,r);return o.sort(r).reverse()},d=function(t,e,r){var o,a,l,c,d,f,p,m,v;if(null==r&&(r=i),10*e<=t.length){if(!(l=t.slice(0,e).sort(r)).length)return l;for(a=l[l.length-1],c=0,f=(p=t.slice(e)).length;c<f;c++)r(o=p[c],a)<0&&(u(l,o,0,null,r),l.pop(),a=l[l.length-1]);return l}for(n(t,r),v=[],d=0,m=h(e,t.length);0<=m?d<m:d>m;0<=m?++d:--d)v.push(s(t,r));return v},p=function(t,e,r,n){var s,o,a;for(null==n&&(n=i),s=t[r];r>e&&n(s,o=t[a=r-1>>1])<0;)t[r]=o,r=a;return t[r]=s},m=function(t,e,r){var n,s,o,a,l;for(null==r&&(r=i),s=t.length,l=e,o=t[e],n=2*e+1;n<s;)(a=n+1)<s&&!(r(t[n],t[a])<0)&&(n=a),t[e]=t[n],n=2*(e=n)+1;return t[e]=o,p(t,l,e,r)},e=function(){function t(t){this.cmp=null!=t?t:i,this.nodes=[]}return t.push=o,t.pop=s,t.replace=l,t.pushpop=a,t.heapify=n,t.updateItem=f,t.nlargest=c,t.nsmallest=d,t.prototype.push=function(t){return o(this.nodes,t,this.cmp)},t.prototype.pop=function(){return s(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return n(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),(null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}.call(this)},5102:function(t){function e(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function i(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,r,n){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(n=r,r={}),r=r||{},n=n||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=t,r.attrs&&function(t,e){for(var i in e)t.setAttribute(i,e[i])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?e:i)(o,n),o.onload||e(o,n),s.appendChild(o)}},5781:function(t,e,i){"use strict";i.r(e);var r=Number.isNaN||function(t){return"number"===typeof t&&t!==t};function n(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(n=t[i],s=e[i],!(n===s||r(n)&&r(s)))return!1;var n,s;return!0}e.default=function(t,e){var i;void 0===e&&(e=n);var r,s=[],o=!1;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return o&&i===this&&e(n,s)||(r=t.apply(this,n),o=!0,i=this,s=n),r}}},1725:function(t){"use strict";var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}()?Object.assign:function(t,s){for(var o,a,l=n(t),u=1;u<arguments.length;u++){for(var h in o=Object(arguments[u]))i.call(o,h)&&(l[h]=o[h]);if(e){a=e(o);for(var c=0;c<a.length;c++)r.call(o,a[c])&&(l[a[c]]=o[a[c]])}}return l}},4157:function(t,e,i){t.exports=i(6690)},6690:function(t,e,i){t.exports={Heap:i(5641),Node:i(2499),Grid:i(4458),Util:i(2606),DiagonalMovement:i(9673),Heuristic:i(1325),AStarFinder:i(7220),BestFirstFinder:i(2370),BreadthFirstFinder:i(7251),DijkstraFinder:i(3786),BiAStarFinder:i(1330),BiBestFirstFinder:i(7536),BiBreadthFirstFinder:i(3063),BiDijkstraFinder:i(3590),IDAStarFinder:i(1292),JumpPointFinder:i(510)}},9673:function(t){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},4458:function(t,e,i){var r=i(2499),n=i(9673);function s(t,e,i){var r;"object"!==typeof t?r=t:(e=t.length,r=t[0].length,i=t),this.width=r,this.height=e,this.nodes=this._buildNodes(r,e,i)}s.prototype._buildNodes=function(t,e,i){var n,s,o=new Array(e);for(n=0;n<e;++n)for(o[n]=new Array(t),s=0;s<t;++s)o[n][s]=new r(s,n);if(void 0===i)return o;if(i.length!==e||i[0].length!==t)throw new Error("Matrix size does not fit");for(n=0;n<e;++n)for(s=0;s<t;++s)i[n][s]&&(o[n][s].walkable=!1);return o},s.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},s.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},s.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},s.prototype.setWalkableAt=function(t,e,i){this.nodes[e][t].walkable=i},s.prototype.getNeighbors=function(t,e){var i=t.x,r=t.y,s=[],o=!1,a=!1,l=!1,u=!1,h=!1,c=!1,d=!1,f=!1,p=this.nodes;if(this.isWalkableAt(i,r-1)&&(s.push(p[r-1][i]),o=!0),this.isWalkableAt(i+1,r)&&(s.push(p[r][i+1]),l=!0),this.isWalkableAt(i,r+1)&&(s.push(p[r+1][i]),h=!0),this.isWalkableAt(i-1,r)&&(s.push(p[r][i-1]),d=!0),e===n.Never)return s;if(e===n.OnlyWhenNoObstacles)a=d&&o,u=o&&l,c=l&&h,f=h&&d;else if(e===n.IfAtMostOneObstacle)a=d||o,u=o||l,c=l||h,f=h||d;else{if(e!==n.Always)throw new Error("Incorrect value of diagonalMovement");a=!0,u=!0,c=!0,f=!0}return a&&this.isWalkableAt(i-1,r-1)&&s.push(p[r-1][i-1]),u&&this.isWalkableAt(i+1,r-1)&&s.push(p[r-1][i+1]),c&&this.isWalkableAt(i+1,r+1)&&s.push(p[r+1][i+1]),f&&this.isWalkableAt(i-1,r+1)&&s.push(p[r+1][i-1]),s},s.prototype.clone=function(){var t,e,i=this.width,n=this.height,o=this.nodes,a=new s(i,n),l=new Array(n);for(t=0;t<n;++t)for(l[t]=new Array(i),e=0;e<i;++e)l[t][e]=new r(e,t,o[t][e].walkable);return a.nodes=l,a},t.exports=s},1325:function(t){t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var i=Math.SQRT2-1;return t<e?i*t+e:i*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},2499:function(t){t.exports=function(t,e,i){this.x=t,this.y=e,this.walkable=void 0===i||i}},2606:function(t,e){function i(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function r(t,e,i,r){var n,s,o,a,l,u,h=Math.abs,c=[];for(n=t<i?1:-1,s=e<r?1:-1,l=(o=h(i-t))-(a=h(r-e));c.push([t,e]),t!==i||e!==r;)(u=2*l)>-a&&(l-=a,t+=n),u<o&&(l+=o,e+=s);return c}e.backtrace=i,e.biBacktrace=function(t,e){var r=i(t),n=i(e);return r.concat(n.reverse())},e.pathLength=function(t){var e,i,r,n,s,o=0;for(e=1;e<t.length;++e)i=t[e-1],r=t[e],n=i[0]-r[0],s=i[1]-r[1],o+=Math.sqrt(n*n+s*s);return o},e.interpolate=r,e.expandPath=function(t){var e,i,n,s,o,a,l=[],u=t.length;if(u<2)return l;for(o=0;o<u-1;++o)for(e=t[o],i=t[o+1],s=(n=r(e[0],e[1],i[0],i[1])).length,a=0;a<s-1;++a)l.push(n[a]);return l.push(t[u-1]),l},e.smoothenPath=function(t,e){var i,n,s,o,a,l,u,h,c,d=e.length,f=e[0][0],p=e[0][1],m=e[d-1][0],v=e[d-1][1];for(s=[[i=f,n=p]],o=2;o<d;++o){for(u=r(i,n,(l=e[o])[0],l[1]),c=!1,a=1;a<u.length;++a)if(h=u[a],!t.isWalkableAt(h[0],h[1])){c=!0;break}c&&(lastValidCoord=e[o-1],s.push(lastValidCoord),i=lastValidCoord[0],n=lastValidCoord[1])}return s.push([m,v]),s},e.compressPath=function(t){if(t.length<3)return t;var e,i,r,n,s,o,a=[],l=t[0][0],u=t[0][1],h=t[1][0],c=t[1][1],d=h-l,f=c-u;for(d/=s=Math.sqrt(d*d+f*f),f/=s,a.push([l,u]),o=2;o<t.length;o++)e=h,i=c,r=d,n=f,d=(h=t[o][0])-e,f=(c=t[o][1])-i,f/=s=Math.sqrt(d*d+f*f),(d/=s)===r&&f===n||a.push([e,i]);return a.push([h,c]),a}},7220:function(t,e,i){var r=i(5641),n=i(2606),s=i(1325),o=i(9673);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}a.prototype.findPath=function(t,e,i,s,o){var a,l,u,h,c,d,f,p,m=new r((function(t,e){return t.f-e.f})),v=o.getNodeAt(t,e),y=o.getNodeAt(i,s),g=this.heuristic,x=this.diagonalMovement,b=this.weight,w=Math.abs,_=Math.SQRT2;for(v.g=0,v.f=0,m.push(v),v.opened=!0;!m.empty();){if((a=m.pop()).closed=!0,a===y)return n.backtrace(y);for(h=0,c=(l=o.getNeighbors(a,x)).length;h<c;++h)(u=l[h]).closed||(d=u.x,f=u.y,p=a.g+(d-a.x===0||f-a.y===0?1:_),(!u.opened||p<u.g)&&(u.g=p,u.h=u.h||b*g(w(d-i),w(f-s)),u.f=u.g+u.h,u.parent=a,u.opened?m.updateItem(u):(m.push(u),u.opened=!0)))}return[]},t.exports=a},2370:function(t,e,i){var r=i(7220);function n(t){r.call(this,t);var e=this.heuristic;this.heuristic=function(t,i){return 1e6*e(t,i)}}n.prototype=new r,n.prototype.constructor=n,t.exports=n},1330:function(t,e,i){var r=i(5641),n=i(2606),s=i(1325),o=i(9673);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}a.prototype.findPath=function(t,e,i,s,o){var a,l,u,h,c,d,f,p,m=function(t,e){return t.f-e.f},v=new r(m),y=new r(m),g=o.getNodeAt(t,e),x=o.getNodeAt(i,s),b=this.heuristic,w=this.diagonalMovement,_=this.weight,S=Math.abs,A=Math.SQRT2;for(g.g=0,g.f=0,v.push(g),g.opened=1,x.g=0,x.f=0,y.push(x),x.opened=2;!v.empty()&&!y.empty();){for((a=v.pop()).closed=!0,h=0,c=(l=o.getNeighbors(a,w)).length;h<c;++h)if(!(u=l[h]).closed){if(2===u.opened)return n.biBacktrace(a,u);d=u.x,f=u.y,p=a.g+(d-a.x===0||f-a.y===0?1:A),(!u.opened||p<u.g)&&(u.g=p,u.h=u.h||_*b(S(d-i),S(f-s)),u.f=u.g+u.h,u.parent=a,u.opened?v.updateItem(u):(v.push(u),u.opened=1))}for((a=y.pop()).closed=!0,h=0,c=(l=o.getNeighbors(a,w)).length;h<c;++h)if(!(u=l[h]).closed){if(1===u.opened)return n.biBacktrace(u,a);d=u.x,f=u.y,p=a.g+(d-a.x===0||f-a.y===0?1:A),(!u.opened||p<u.g)&&(u.g=p,u.h=u.h||_*b(S(d-t),S(f-e)),u.f=u.g+u.h,u.parent=a,u.opened?y.updateItem(u):(y.push(u),u.opened=2))}}return[]},t.exports=a},7536:function(t,e,i){var r=i(1330);function n(t){r.call(this,t);var e=this.heuristic;this.heuristic=function(t,i){return 1e6*e(t,i)}}n.prototype=new r,n.prototype.constructor=n,t.exports=n},3063:function(t,e,i){var r=i(2606),n=i(9673);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=n.OnlyWhenNoObstacles:this.diagonalMovement=n.IfAtMostOneObstacle:this.diagonalMovement=n.Never)}s.prototype.findPath=function(t,e,i,n,s){var o,a,l,u,h,c=s.getNodeAt(t,e),d=s.getNodeAt(i,n),f=[],p=[],m=this.diagonalMovement;for(f.push(c),c.opened=!0,c.by=0,p.push(d),d.opened=!0,d.by=1;f.length&&p.length;){for((l=f.shift()).closed=!0,u=0,h=(o=s.getNeighbors(l,m)).length;u<h;++u)if(!(a=o[u]).closed)if(a.opened){if(1===a.by)return r.biBacktrace(l,a)}else f.push(a),a.parent=l,a.opened=!0,a.by=0;for((l=p.shift()).closed=!0,u=0,h=(o=s.getNeighbors(l,m)).length;u<h;++u)if(!(a=o[u]).closed)if(a.opened){if(0===a.by)return r.biBacktrace(a,l)}else p.push(a),a.parent=l,a.opened=!0,a.by=1}return[]},t.exports=s},3590:function(t,e,i){var r=i(1330);function n(t){r.call(this,t),this.heuristic=function(t,e){return 0}}n.prototype=new r,n.prototype.constructor=n,t.exports=n},7251:function(t,e,i){var r=i(2606),n=i(9673);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=n.OnlyWhenNoObstacles:this.diagonalMovement=n.IfAtMostOneObstacle:this.diagonalMovement=n.Never)}s.prototype.findPath=function(t,e,i,n,s){var o,a,l,u,h,c=[],d=this.diagonalMovement,f=s.getNodeAt(t,e),p=s.getNodeAt(i,n);for(c.push(f),f.opened=!0;c.length;){if((l=c.shift()).closed=!0,l===p)return r.backtrace(p);for(u=0,h=(o=s.getNeighbors(l,d)).length;u<h;++u)(a=o[u]).closed||a.opened||(c.push(a),a.opened=!0,a.parent=l)}return[]},t.exports=s},3786:function(t,e,i){var r=i(7220);function n(t){r.call(this,t),this.heuristic=function(t,e){return 0}}n.prototype=new r,n.prototype.constructor=n,t.exports=n},1292:function(t,e,i){i(2606);var r=i(1325),n=i(2499),s=i(9673);function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}o.prototype.findPath=function(t,e,i,r,s){var o,a,l,u=(new Date).getTime(),h=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),c=function(t,e,i,r,o){if(this.timeLimit>0&&(new Date).getTime()-u>1e3*this.timeLimit)return 1/0;var a,l,d,p,m=e+h(t,f)*this.weight;if(m>i)return m;if(t==f)return r[o]=[t.x,t.y],t;var v,y,g=s.getNeighbors(t,this.diagonalMovement);for(d=0,a=1/0;p=g[d];++d){if(this.trackRecursion&&(p.retainCount=p.retainCount+1||1,!0!==p.tested&&(p.tested=!0)),(l=c(p,e+(y=p,(v=t).x===y.x||v.y===y.y?1:Math.SQRT2),i,r,o+1))instanceof n)return r[o]=[t.x,t.y],l;this.trackRecursion&&0===--p.retainCount&&(p.tested=!1),l<a&&(a=l)}return a}.bind(this),d=s.getNodeAt(t,e),f=s.getNodeAt(i,r),p=h(d,f);for(o=0;;++o){if((l=c(d,0,p,a=[],0))===1/0)return[];if(l instanceof n)return a;p=l}return[]},t.exports=o},6554:function(t,e,i){var r=i(7621),n=i(9673);function s(t){r.call(this,t)}s.prototype=new r,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,r){var n=this.grid,s=t-i,o=e-r;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s&&0!==o){if(n.isWalkableAt(t-s,e+o)&&!n.isWalkableAt(t-s,e)||n.isWalkableAt(t+s,e-o)&&!n.isWalkableAt(t,e-o))return[t,e];if(this._jump(t+s,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==s){if(n.isWalkableAt(t+s,e+1)&&!n.isWalkableAt(t,e+1)||n.isWalkableAt(t+s,e-1)&&!n.isWalkableAt(t,e-1))return[t,e]}else if(n.isWalkableAt(t+1,e+o)&&!n.isWalkableAt(t+1,e)||n.isWalkableAt(t-1,e+o)&&!n.isWalkableAt(t-1,e))return[t,e];return this._jump(t+s,e+o,t,e)},s.prototype._findNeighbors=function(t){var e,i,r,s,o,a,l,u,h=t.parent,c=t.x,d=t.y,f=this.grid,p=[];if(h)e=h.x,i=h.y,r=(c-e)/Math.max(Math.abs(c-e),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==r&&0!==s?(f.isWalkableAt(c,d+s)&&p.push([c,d+s]),f.isWalkableAt(c+r,d)&&p.push([c+r,d]),f.isWalkableAt(c+r,d+s)&&p.push([c+r,d+s]),f.isWalkableAt(c-r,d)||p.push([c-r,d+s]),f.isWalkableAt(c,d-s)||p.push([c+r,d-s])):0===r?(f.isWalkableAt(c,d+s)&&p.push([c,d+s]),f.isWalkableAt(c+1,d)||p.push([c+1,d+s]),f.isWalkableAt(c-1,d)||p.push([c-1,d+s])):(f.isWalkableAt(c+r,d)&&p.push([c+r,d]),f.isWalkableAt(c,d+1)||p.push([c+r,d+1]),f.isWalkableAt(c,d-1)||p.push([c+r,d-1]));else for(l=0,u=(o=f.getNeighbors(t,n.Always)).length;l<u;++l)a=o[l],p.push([a.x,a.y]);return p},t.exports=s},4107:function(t,e,i){var r=i(7621),n=i(9673);function s(t){r.call(this,t)}s.prototype=new r,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,r){var n=this.grid,s=t-i,o=e-r;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s&&0!==o){if(n.isWalkableAt(t-s,e+o)&&!n.isWalkableAt(t-s,e)||n.isWalkableAt(t+s,e-o)&&!n.isWalkableAt(t,e-o))return[t,e];if(this._jump(t+s,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==s){if(n.isWalkableAt(t+s,e+1)&&!n.isWalkableAt(t,e+1)||n.isWalkableAt(t+s,e-1)&&!n.isWalkableAt(t,e-1))return[t,e]}else if(n.isWalkableAt(t+1,e+o)&&!n.isWalkableAt(t+1,e)||n.isWalkableAt(t-1,e+o)&&!n.isWalkableAt(t-1,e))return[t,e];return n.isWalkableAt(t+s,e)||n.isWalkableAt(t,e+o)?this._jump(t+s,e+o,t,e):null},s.prototype._findNeighbors=function(t){var e,i,r,s,o,a,l,u,h=t.parent,c=t.x,d=t.y,f=this.grid,p=[];if(h)e=h.x,i=h.y,r=(c-e)/Math.max(Math.abs(c-e),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==r&&0!==s?(f.isWalkableAt(c,d+s)&&p.push([c,d+s]),f.isWalkableAt(c+r,d)&&p.push([c+r,d]),(f.isWalkableAt(c,d+s)||f.isWalkableAt(c+r,d))&&p.push([c+r,d+s]),!f.isWalkableAt(c-r,d)&&f.isWalkableAt(c,d+s)&&p.push([c-r,d+s]),!f.isWalkableAt(c,d-s)&&f.isWalkableAt(c+r,d)&&p.push([c+r,d-s])):0===r?f.isWalkableAt(c,d+s)&&(p.push([c,d+s]),f.isWalkableAt(c+1,d)||p.push([c+1,d+s]),f.isWalkableAt(c-1,d)||p.push([c-1,d+s])):f.isWalkableAt(c+r,d)&&(p.push([c+r,d]),f.isWalkableAt(c,d+1)||p.push([c+r,d+1]),f.isWalkableAt(c,d-1)||p.push([c+r,d-1]));else for(l=0,u=(o=f.getNeighbors(t,n.IfAtMostOneObstacle)).length;l<u;++l)a=o[l],p.push([a.x,a.y]);return p},t.exports=s},7979:function(t,e,i){var r=i(7621),n=i(9673);function s(t){r.call(this,t)}s.prototype=new r,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,r){var n=this.grid,s=t-i,o=e-r;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s&&0!==o){if(this._jump(t+s,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==s){if(n.isWalkableAt(t,e-1)&&!n.isWalkableAt(t-s,e-1)||n.isWalkableAt(t,e+1)&&!n.isWalkableAt(t-s,e+1))return[t,e]}else if(0!==o&&(n.isWalkableAt(t-1,e)&&!n.isWalkableAt(t-1,e-o)||n.isWalkableAt(t+1,e)&&!n.isWalkableAt(t+1,e-o)))return[t,e];return n.isWalkableAt(t+s,e)&&n.isWalkableAt(t,e+o)?this._jump(t+s,e+o,t,e):null},s.prototype._findNeighbors=function(t){var e,i,r,s,o,a,l,u,h,c=t.parent,d=t.x,f=t.y,p=this.grid,m=[];if(c){if(e=c.x,i=c.y,r=(d-e)/Math.max(Math.abs(d-e),1),s=(f-i)/Math.max(Math.abs(f-i),1),0!==r&&0!==s)p.isWalkableAt(d,f+s)&&m.push([d,f+s]),p.isWalkableAt(d+r,f)&&m.push([d+r,f]),p.isWalkableAt(d,f+s)&&p.isWalkableAt(d+r,f)&&m.push([d+r,f+s]);else if(0!==r){h=p.isWalkableAt(d+r,f);var v=p.isWalkableAt(d,f+1),y=p.isWalkableAt(d,f-1);h&&(m.push([d+r,f]),v&&m.push([d+r,f+1]),y&&m.push([d+r,f-1])),v&&m.push([d,f+1]),y&&m.push([d,f-1])}else if(0!==s){h=p.isWalkableAt(d,f+s);var g=p.isWalkableAt(d+1,f),x=p.isWalkableAt(d-1,f);h&&(m.push([d,f+s]),g&&m.push([d+1,f+s]),x&&m.push([d-1,f+s])),g&&m.push([d+1,f]),x&&m.push([d-1,f])}}else for(l=0,u=(o=p.getNeighbors(t,n.OnlyWhenNoObstacles)).length;l<u;++l)a=o[l],m.push([a.x,a.y]);return m},t.exports=s},3564:function(t,e,i){var r=i(7621),n=i(9673);function s(t){r.call(this,t)}s.prototype=new r,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,r){var n=this.grid,s=t-i,o=e-r;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s){if(n.isWalkableAt(t,e-1)&&!n.isWalkableAt(t-s,e-1)||n.isWalkableAt(t,e+1)&&!n.isWalkableAt(t-s,e+1))return[t,e]}else{if(0===o)throw new Error("Only horizontal and vertical movements are allowed");if(n.isWalkableAt(t-1,e)&&!n.isWalkableAt(t-1,e-o)||n.isWalkableAt(t+1,e)&&!n.isWalkableAt(t+1,e-o))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+s,e+o,t,e)},s.prototype._findNeighbors=function(t){var e,i,r,s,o,a,l,u,h=t.parent,c=t.x,d=t.y,f=this.grid,p=[];if(h)e=h.x,i=h.y,r=(c-e)/Math.max(Math.abs(c-e),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==r?(f.isWalkableAt(c,d-1)&&p.push([c,d-1]),f.isWalkableAt(c,d+1)&&p.push([c,d+1]),f.isWalkableAt(c+r,d)&&p.push([c+r,d])):0!==s&&(f.isWalkableAt(c-1,d)&&p.push([c-1,d]),f.isWalkableAt(c+1,d)&&p.push([c+1,d]),f.isWalkableAt(c,d+s)&&p.push([c,d+s]));else for(l=0,u=(o=f.getNeighbors(t,n.Never)).length;l<u;++l)a=o[l],p.push([a.x,a.y]);return p},t.exports=s},510:function(t,e,i){var r=i(9673),n=i(3564),s=i(6554),o=i(7979),a=i(4107);t.exports=function(t){return(t=t||{}).diagonalMovement===r.Never?new n(t):t.diagonalMovement===r.Always?new s(t):t.diagonalMovement===r.OnlyWhenNoObstacles?new o(t):new a(t)}},7621:function(t,e,i){var r=i(5641),n=i(2606),s=i(1325);i(9673);function o(t){t=t||{},this.heuristic=t.heuristic||s.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}o.prototype.findPath=function(t,e,i,s,o){var a,l=this.openList=new r((function(t,e){return t.f-e.f})),u=this.startNode=o.getNodeAt(t,e),h=this.endNode=o.getNodeAt(i,s);for(this.grid=o,u.g=0,u.f=0,l.push(u),u.opened=!0;!l.empty();){if((a=l.pop()).closed=!0,a===h)return n.expandPath(n.backtrace(h));this._identifySuccessors(a)}return[]},o.prototype._identifySuccessors=function(t){var e,i,r,n,o,a,l,u,h,c,d=this.grid,f=this.heuristic,p=this.openList,m=this.endNode.x,v=this.endNode.y,y=t.x,g=t.y,x=Math.abs;Math.max;for(n=0,o=(e=this._findNeighbors(t)).length;n<o;++n)if(i=e[n],r=this._jump(i[0],i[1],y,g)){if(a=r[0],l=r[1],(c=d.getNodeAt(a,l)).closed)continue;u=s.octile(x(a-y),x(l-g)),h=t.g+u,(!c.opened||h<c.g)&&(c.g=h,c.h=c.h||f(x(a-m),x(l-v)),c.f=c.g+c.h,c.parent=t,c.opened?p.updateItem(c):(p.push(c),c.opened=!0))}},t.exports=o},7744:function(t,e,i){var r,n=i(9713).default;r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1528)}([function(t,e){function i(t,e,i){var r=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&r.value&&"object"===typeof r.value&&(r=r.value),!(!r||!function(t){return!!t.get&&"function"===typeof t.get||!!t.set&&"function"===typeof t.set}(r))&&("undefined"===typeof r.enumerable&&(r.enumerable=!0),"undefined"===typeof r.configurable&&(r.configurable=!0),r)}function r(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"===typeof i.value&&(i=i.value),!1===i.configurable)}function n(t,e,n,s){for(var a in e)if(e.hasOwnProperty(a)){var l=i(e,a,n);if(!1!==l){if(r((s||t).prototype,a)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,a,l)}else t.prototype[a]=e[a]}}function s(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)n(t,e[i].prototype||e[i])}}function o(t){var e,i;if(t||(t={}),t.initialize){if("function"!==typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var r=t.Extends;e=function(){r.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var o=null;return t.Mixins&&(o=t.Mixins,delete t.Mixins),s(e,o),n(e,t,!0,i),e}o.extend=n,o.mixin=s,o.ignoreFinals=!1,t.exports=o},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,i){var r=typeof t;return t&&"number"!==r&&"string"!==r&&t.hasOwnProperty(e)&&void 0!==t[e]?t[e]:i}},function(t,e,i){var r=i(0),n=i(124),s=new r({initialize:function(t,e){this.x=0,this.y=0,"object"===typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new s(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},fuzzyEquals:function(t,e){return n(this.x,t.x,e)&&n(this.y,t.y,e)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},setAngle:function(t){return this.setToPolar(t,this.length())},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},setLength:function(t){return this.normalize().scale(t)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},normalizeLeftHand:function(){var t=this.x;return this.x=this.y,this.y=-1*t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,r=this.y;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this},transformMat3:function(t){var e=this.x,i=this.y,r=t.val;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},transformMat4:function(t){var e=this.x,i=this.y,r=t.val;return this.x=r[0]*e+r[4]*i+r[12],this.y=r[1]*e+r[5]*i+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(t){var e=this.length();return e&&e>t&&this.scale(t/e),this},reflect:function(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))},mirror:function(t){return this.reflect(t).negate()},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),t.exports=s},function(t,e,i){var r=i(0),n=i(56),s=new r({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.type=n.POINT,this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=s},function(t,e,i){var r=i(0),n=i(24),s=i(20),o=new r({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(t,e){o.prototype.hasOwnProperty(t)||(o.prototype[t]=e)},o.remove=function(t){o.prototype.hasOwnProperty(t)&&delete o.prototype[t]},n.register("GameObjectFactory",o,"add"),t.exports=o},function(t,e){t.exports=function(t,e,i){if(t&&"number"!==typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var r=e.split("."),n=t,s=i,o=0;o<r.length;o++){if(!n.hasOwnProperty(r[o])){s=i;break}s=n[r[o]],n=n[r[o]]}return s}return i}return i}},function(t,e){t.exports=function(t){if("object"!==typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},function(t,e){var i={},r={install:function(t){for(var e in i)t[e]=i[e]},register:function(t,e){i[t]=e},destroy:function(){i={}}};t.exports=r},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function s(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,r,s){if("function"!==typeof i)throw new TypeError("The listener must be a function");var a=new o(i,r||t,s),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o},u.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},u.prototype.emit=function(t,e,i,r,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var l,u,h=this._events[a],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,r),!0;case 5:return h.fn.call(h.context,e,i,r,s),!0;case 6:return h.fn.call(h.context,e,i,r,s,o),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var d,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,i);break;case 4:h[u].fn.call(h[u].context,e,i,r);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];h[u].fn.apply(h[u].context,l)}}return!0},u.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},u.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},u.prototype.removeListener=function(t,e,i,r){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return l(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||r&&!o.once||i&&o.context!==i||l(this,s);else{for(var a=0,u=[],h=o.length;a<h;a++)(o[a].fn!==e||r&&!o[a].once||i&&o[a].context!==i)&&u.push(o[a]);u.length?this._events[s]=1===u.length?u[0]:u:l(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&l(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,i){var r=i(0),n=i(57),s=i(171),o=i(306),a=i(56),l=i(47),u=i(174),h=new r({initialize:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.type=a.RECTANGLE,this.x=t,this.y=e,this.width=i,this.height=r},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return u(this,t)},setTo:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new l),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new l),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new l),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new l),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},function(t,e,i){t.exports={Alpha:i(607),AlphaSingle:i(303),BlendMode:i(304),ComputedSize:i(608),Crop:i(609),Depth:i(305),Flip:i(610),GetBounds:i(611),Mask:i(309),Origin:i(632),PathFollower:i(633),Pipeline:i(167),ScrollFactor:i(312),Size:i(634),Texture:i(635),TextureCrop:i(636),Tint:i(637),ToJSON:i(176),Transform:i(313),TransformMatrix:i(25),Visible:i(314)}},function(t,e){function i(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}t.exports={getTintFromFloats:function(t,e,i,r){return((255&(255*r|0))<<24|(255&(255*t|0))<<16|(255&(255*e|0))<<8|255&(255*i|0))>>>0},getTintAppendFloatAlpha:function(t,e){return((255&(255*e|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){return((255&(255*e|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},checkShaderMax:function(t,e){e&&-1!==e||(e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS));for(var r=t.createShader(t.FRAGMENT_SHADER),n=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");;){var s=n.replace(/%forloop%/gi,i(e));if(t.shaderSource(r,s),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e},parseFragmentShaderMaxTextures:function(t,e){if(!t)return"";for(var i="",r=0;r<e;r++)r>0&&(i+="\n\telse "),r<e-1&&(i+="if (outTexId < "+r+".5)"),i+="\n\t{",i+="\n\t\ttexture = texture2D(uMainSampler["+r+"], outTexCoord);",i+="\n\t}";return(t=t.replace(/%count%/gi,e.toString())).replace(/%forloop%/gi,i)}}},function(t,e,i){var r=i(193),n=i(6);t.exports=function(t,e,i){var s=n(t,e,null);if(null===s)return i;if(Array.isArray(s))return r.RND.pick(s);if("object"===typeof s){if(s.hasOwnProperty("randInt"))return r.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return r.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if("function"===typeof s)return s(e);return s}},function(t,e){var i={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};t.exports=i},function(t,e,i){var r=i(0),n=i(176),s=i(101),o=i(9),a=i(75),l=i(20),u=new r({Extends:o,initialize:function(t,e){o.call(this),this.scene=t,this.displayList=null,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(t,e){return this.data||(this.data=new s(this)),this.data.set(t,e),this},incData:function(t,e){return this.data||(this.data=new s(this)),this.data.inc(t,e),this},toggleData:function(t){return this.data||(this.data=new s(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new s(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return n(this)},willRender:function(t){return!(u.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return this.displayList?i.unshift(this.displayList.getIndex(t)):i.unshift(this.scene.sys.displayList.getIndex(t)),i},addToDisplayList:function(t){return void 0===t&&(t=this.scene.sys.displayList),this.displayList&&this.displayList!==t&&this.removeFromDisplayList(),t.exists(this)||(this.displayList=t,t.add(this,!0),t.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),t.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var t=this.displayList||this.scene.sys.displayList;return t.exists(this)&&(t.remove(this,!0),t.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),t.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(t){this.scene&&!this.ignoreDestroy&&(void 0===t&&(t=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,t),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});u.RENDER_MASK=15,t.exports=u},function(t,e,i){var r=i(0),n=i(24),s=i(20),o=new r({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(t,e){o.prototype.hasOwnProperty(t)||(o.prototype[t]=e)},o.remove=function(t){o.prototype.hasOwnProperty(t)&&delete o.prototype[t]},n.register("GameObjectCreator",o,"make"),t.exports=o},function(t,e,i){var r=i(7);t.exports=function t(){var e,i,n,s,o,a,l=arguments[0]||{},u=1,h=arguments.length,c=!1;for("boolean"===typeof l&&(c=l,l=arguments[1]||{},u=2),h===u&&(l=this,--u);u<h;u++)if(null!=(e=arguments[u]))for(i in e)n=l[i],l!==(s=e[i])&&(c&&s&&(r(s)||(o=Array.isArray(s)))?(o?(o=!1,a=n&&Array.isArray(n)?n:[]):a=n&&r(n)?n:{},l[i]=t(c,a,s)):void 0!==s&&(l[i]=s));return l}},function(t,e){t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},function(t,e,i){var r=i(25),n=new r,s=new r,o=new r,a={camera:n,sprite:s,calc:o};t.exports=function(t,e,i){var r=n,l=s,u=o;return l.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(e.matrix),i?(r.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),l.e=t.x,l.f=t.y):(l.e-=e.scrollX*t.scrollFactorX,l.f-=e.scrollY*t.scrollFactorY),r.multiply(l,u),a}},function(t,e,i){t.exports={ADDED_TO_SCENE:i(656),BOOT:i(657),CREATE:i(658),DESTROY:i(659),PAUSE:i(660),POST_UPDATE:i(661),PRE_RENDER:i(662),PRE_UPDATE:i(663),READY:i(664),REMOVED_FROM_SCENE:i(665),RENDER:i(666),RESUME:i(667),SHUTDOWN:i(668),SLEEP:i(669),START:i(670),TRANSITION_COMPLETE:i(671),TRANSITION_INIT:i(672),TRANSITION_OUT:i(673),TRANSITION_START:i(674),TRANSITION_WAKE:i(675),UPDATE:i(676),WAKE:i(677)}},function(t,e){t.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(t,e,i){t.exports={BLUR:i(612),BOOT:i(613),CONTEXT_LOST:i(614),CONTEXT_RESTORED:i(615),DESTROY:i(616),FOCUS:i(617),HIDDEN:i(618),PAUSE:i(619),POST_RENDER:i(620),POST_STEP:i(621),PRE_RENDER:i(622),PRE_STEP:i(623),READY:i(624),RESUME:i(625),STEP:i(626),VISIBLE:i(627)}},function(t,e,i){var r=i(0),n=i(21),s=i(95),o=i(2),a=i(155),l=i(240),u=i(517),h=i(156),c=new r({initialize:function(t,e){this.loader=t,this.cache=o(e,"cache",!1),this.type=o(e,"type",!1),this.key=o(e,"key",!1);var i=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+i),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var r=o(e,"url");void 0===r?r=t.path+i+"."+o(e,"extension",""):"string"!==typeof r||r.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)||(r=t.path+r),this.url=r,this.src="",this.xhrSettings=h(o(e,"responseType",void 0)),o(e,"xhrSettings",!1)&&(this.xhrSettings=l(this.xhrSettings,o(e,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"===typeof this.url?n.FILE_POPULATED:n.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=o(e,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===n.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=n.FILE_LOADING,this.src=a(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=u(this,this.loader.xhr))},onLoad:function(t,e){var i=t.responseURL&&(0===t.responseURL.indexOf("file://")||0===t.responseURL.indexOf("capacitor://"))&&0===e.target.status,r=!(e.target&&200!==e.target.status)||i;4===t.readyState&&t.status>=400&&t.status<=599&&(r=!1),this.state=n.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,r)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=n.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=n.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=n.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){void 0===t&&(t=this.data);var e=this.key,i=this.type;this.loader.emit(s.FILE_COMPLETE,e,i,t),this.loader.emit(s.FILE_KEY_COMPLETE+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(t,e,i){if("function"===typeof URL)t.src=URL.createObjectURL(e);else{var r=new FileReader;r.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+r.result.split(",")[1]},r.onerror=t.onerror,r.readAsDataURL(e)}},c.revokeObjectURL=function(t){"function"===typeof URL&&URL.revokeObjectURL(t.src)},t.exports=c},function(t,e){var i={},r={},n={register:function(t,e,r,n){void 0===n&&(n=!1),i[t]={plugin:e,mapping:r,custom:n}},registerCustom:function(t,e,i,n){r[t]={plugin:e,mapping:i,data:n}},hasCore:function(t){return i.hasOwnProperty(t)},hasCustom:function(t){return r.hasOwnProperty(t)},getCore:function(t){return i[t]},getCustom:function(t){return r[t]},getCustomClass:function(t){return r.hasOwnProperty(t)?r[t].plugin:null},remove:function(t){i.hasOwnProperty(t)&&delete i[t]},removeCustom:function(t){r.hasOwnProperty(t)&&delete r[t]},destroyCorePlugins:function(){for(var t in i)i.hasOwnProperty(t)&&delete i[t]},destroyCustomPlugins:function(){for(var t in r)r.hasOwnProperty(t)&&delete r[t]}};t.exports=n},function(t,e,i){var r=i(0),n=i(14),s=i(3),o=new r({initialize:function(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.matrix=new Float32Array([t,e,i,r,n,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var t=this.matrix,e=t[0],i=t[1],r=t[2],s=t[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):r||s?n.TAU-(s>0?Math.acos(-r/this.scaleY):-Math.acos(r/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),r=this.matrix,n=r[0],s=r[1],o=r[2],a=r[3];return r[0]=n*i+o*e,r[1]=s*i+a*e,r[2]=n*-e+o*i,r[3]=s*-e+a*i,this},multiply:function(t,e){var i=this.matrix,r=t.matrix,n=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],h=r[0],c=r[1],d=r[2],f=r[3],p=r[4],m=r[5],v=void 0===e?this:e;return v.a=h*n+c*o,v.b=h*s+c*a,v.c=d*n+f*o,v.d=d*s+f*a,v.e=p*n+m*o+l,v.f=p*s+m*a+u,v},multiplyWithOffset:function(t,e,i){var r=this.matrix,n=t.matrix,s=r[0],o=r[1],a=r[2],l=r[3],u=e*s+i*a+r[4],h=e*o+i*l+r[5],c=n[0],d=n[1],f=n[2],p=n[3],m=n[4],v=n[5];return r[0]=c*s+d*a,r[1]=c*o+d*l,r[2]=f*s+p*a,r[3]=f*o+p*l,r[4]=m*s+v*a+u,r[5]=m*o+v*l+h,this},transform:function(t,e,i,r,n,s){var o=this.matrix,a=o[0],l=o[1],u=o[2],h=o[3],c=o[4],d=o[5];return o[0]=t*a+e*u,o[1]=t*l+e*h,o[2]=i*a+r*u,o[3]=i*l+r*h,o[4]=n*a+s*u+c,o[5]=n*l+s*h+d,this},transformPoint:function(t,e,i){void 0===i&&(i={x:0,y:0});var r=this.matrix,n=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5];return i.x=t*n+e*o+l,i.y=t*s+e*a+u,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=e*n-i*r;return t[0]=n/a,t[1]=-i/a,t[2]=-r/a,t[3]=e/a,t[4]=(r*o-n*s)/a,t[5]=-(e*o-i*s)/a,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t},copyToArray:function(t){var e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,r,n,s){var o=this.matrix;return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=n,o[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],r=e[1],n=e[2],s=e[3],o=i*s-r*n;if(t.translateX=e[4],t.translateY=e[5],i||r){var a=Math.sqrt(i*i+r*r);t.rotation=r>0?Math.acos(i/a):-Math.acos(i/a),t.scaleX=a,t.scaleY=o/a}else if(n||s){var l=Math.sqrt(n*n+s*s);t.rotation=.5*Math.PI-(s>0?Math.acos(-n/l):-Math.acos(n/l)),t.scaleX=o/l,t.scaleY=l}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t},applyITRS:function(t,e,i,r,n){var s=this.matrix,o=Math.sin(i),a=Math.cos(i);return s[4]=t,s[5]=e,s[0]=a*r,s[1]=o*r,s[2]=-o*n,s[3]=a*n,this},applyInverse:function(t,e,i){void 0===i&&(i=new s);var r=this.matrix,n=r[0],o=r[1],a=r[2],l=r[3],u=r[4],h=r[5],c=1/(n*l+a*-o);return i.x=l*c*t+-a*c*e+(h*a-u*l)*c,i.y=n*c*e+-o*c*t+(-h*n+u*o)*c,i},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getXRound:function(t,e,i){var r=this.getX(t,e);return i&&(r=Math.round(r)),r},getYRound:function(t,e,i){var r=this.getY(t,e);return i&&(r=Math.round(r)),r},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});t.exports=o},function(t,e,i){var r=i(2);t.exports=function(t,e,i,n,s,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=o.width),void 0===n&&(n=o.height),s||(s={});var a=r(s,"isNotEmpty",!1),l=r(s,"isColliding",!1),u=r(s,"hasInterestingFace",!1);t<0&&(i+=t,t=0),e<0&&(n+=e,e=0),t+i>o.width&&(i=Math.max(o.width-t,0)),e+n>o.height&&(n=Math.max(o.height-e,0));for(var h=[],c=e;c<e+n;c++)for(var d=t;d<t+i;d++){var f=o.data[c][d];if(null!==f){if(a&&-1===f.index)continue;if(l&&!f.collides)continue;if(u&&!f.hasInterestingFace)continue;h.push(f)}}return h}},function(t,e){t.exports=function(t,e,i,r,n,s){var o;void 0===r&&(r=0),void 0===n&&(n=0),void 0===s&&(s=1);var a=0,l=t.length;if(1===s)for(o=n;o<l;o++)t[o][e]=i+a*r,a++;else for(o=n;o>=0;o--)t[o][e]=i+a*r,a++;return t}},function(t,e,i){var r=i(35),n=i(13);t.exports=function(t,e,i){e.x=n(i,"x",0),e.y=n(i,"y",0),e.depth=n(i,"depth",0),e.flipX=n(i,"flipX",!1),e.flipY=n(i,"flipY",!1);var s=n(i,"scale",null);"number"===typeof s?e.setScale(s):null!==s&&(e.scaleX=n(s,"x",1),e.scaleY=n(s,"y",1));var o=n(i,"scrollFactor",null);"number"===typeof o?e.setScrollFactor(o):null!==o&&(e.scrollFactorX=n(o,"x",1),e.scrollFactorY=n(o,"y",1)),e.rotation=n(i,"rotation",0);var a=n(i,"angle",null);null!==a&&(e.angle=a),e.alpha=n(i,"alpha",1);var l=n(i,"origin",null);if("number"===typeof l)e.setOrigin(l);else if(null!==l){var u=n(l,"x",.5),h=n(l,"y",.5);e.setOrigin(u,h)}return e.blendMode=n(i,"blendMode",r.NORMAL),e.visible=n(i,"visible",!0),n(i,"add",!0)&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e}},function(t,e){t.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(t,e,i){var r=i(19);t.exports=function(t,e,i,n,s){var o=n.alpha*i.alpha;if(o<=0)return!1;var a=r(i,n,s).calc;return e.globalCompositeOperation=t.blendModes[i.blendMode],e.globalAlpha=o,e.save(),a.setToContext(e),e.imageSmoothingEnabled=!(!t.antialias||i.frame&&i.frame.source.scaleMode),!0}},function(t,e,i){var r=i(33),n=i(192),s=[],o=!1;t.exports=function(){var t=function(t,i,a,l,u){var h;void 0===i&&(i=1),void 0===a&&(a=1),void 0===l&&(l=r.CANVAS),void 0===u&&(u=!1);var c=e(l);return null===c?(c={parent:t,canvas:document.createElement("canvas"),type:l},l===r.CANVAS&&s.push(c),h=c.canvas):(c.parent=t,h=c.canvas),u&&(c.parent=h),h.width=i,h.height=a,o&&l===r.CANVAS&&n.disable(h.getContext("2d")),h},e=function(t){if(void 0===t&&(t=r.CANVAS),t===r.WEBGL)return null;for(var e=0;e<s.length;e++){var i=s[e];if(!i.parent&&i.type===t)return i}return null},i=function(){var t=0;return s.forEach((function(e){e.parent&&t++})),t};return{create2D:function(e,i,n){return t(e,i,n,r.CANVAS)},create:t,createWebGL:function(e,i,n){return t(e,i,n,r.WEBGL)},disableSmoothing:function(){o=!0},enableSmoothing:function(){o=!1},first:e,free:function(){return s.length-i()},pool:s,remove:function(t){var e=t instanceof HTMLCanvasElement;s.forEach((function(i){(e&&i.canvas===t||!e&&i.parent===t)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)}))},total:i}}()},function(t,e){var i={};t.exports=i,function(){i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i.extend=function(t,e){var r,n;"boolean"===typeof e?(r=2,n=e):(r=1,n=!0);for(var s=r;s<arguments.length;s++){var o=arguments[s];if(o)for(var a in o)n&&o[a]&&o[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=o[a]:(t[a]=t[a]||{},i.extend(t[a],n,o[a])):t[a]=o[a]}return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},i.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),r=0;r<i.length;r++)e.push(t[i[r]]);return e}for(var n in t)e.push(t[n]);return e},i.get=function(t,e,i,r){e=e.split(".").slice(i,r);for(var n=0;n<e.length;n+=1)t=t[e[n]];return t},i.set=function(t,e,r,n,s){var o=e.split(".").slice(n,s);return i.get(t,e,0,-1)[o[o.length-1]]=r,r},i.shuffle=function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(i.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!==typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"===typeof t},i.isPlainObject=function(t){return"object"===typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},i.clamp=function(t,e,i){return t<e?e:t>i?i:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-i._nowStartTime},i.random=function(e,i){return i="undefined"!==typeof i?i:1,(e="undefined"!==typeof e?e:0)+t()*(i-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.map=function(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r+=1)i.push(e(t[r]));return i},i.topologicalSort=function(t){var e=[],r=[],n=[];for(var s in t)r[s]||n[s]||i._topologicalSort(s,r,n,t,e);return e},i._topologicalSort=function(t,e,r,n,s){var o=n[t]||[];r[t]=!0;for(var a=0;a<o.length;a+=1){var l=o[a];r[l]||e[l]||i._topologicalSort(l,e,r,n,s)}r[t]=!1,e[t]=!0,s.push(t)},i.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var r=function(){for(var e,i=new Array(arguments.length),r=0,n=arguments.length;r<n;r++)i[r]=arguments[r];for(r=0;r<t.length;r+=1){var s=t[r].apply(e,i);"undefined"!==typeof s&&(e=s)}return e};return r._chained=t,r},i.chainPathBefore=function(t,e,r){return i.set(t,e,i.chain(r,i.get(t,e)))},i.chainPathAfter=function(t,e,r){return i.set(t,e,i.chain(i.get(t,e),r))}}()},function(t,e,i){var r={VERSION:"3.55.2",BlendModes:i(35),ScaleModes:i(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=r},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(47),a=new r({Extends:s,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Transform,n.Visible],initialize:function(t,e,i){void 0===e&&(e="Shape"),s.call(this,t,e),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=e,this.isFilled=!0),this},setStrokeStyle:function(t,e,i){return void 0===i&&(i=1),void 0===t?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=e,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}}});t.exports=a},function(t,e){t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(t,e,i){var r=i(14);t.exports=function(t){return t*r.DEG_TO_RAD}},function(t,e,i){t.exports={DESTROY:i(743),FADE_IN_COMPLETE:i(744),FADE_IN_START:i(745),FADE_OUT_COMPLETE:i(746),FADE_OUT_START:i(747),FLASH_COMPLETE:i(748),FLASH_START:i(749),FOLLOW_UPDATE:i(750),PAN_COMPLETE:i(751),PAN_START:i(752),POST_RENDER:i(753),PRE_RENDER:i(754),ROTATE_COMPLETE:i(755),ROTATE_START:i(756),SHAKE_COMPLETE:i(757),SHAKE_START:i(758),ZOOM_COMPLETE:i(759),ZOOM_START:i(760)}},function(t,e,i){var r=i(0),n=i(103),s=i(328),o=i(188),a=i(329),l=new r({initialize:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,e,i,r)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(t,e,i,r,n){return void 0===r&&(r=255),void 0===n&&(n=!0),this._locked=!0,this.red=t,this.green=e,this.blue=i,this.alpha=r,this._locked=!1,this.update(n)},setGLTo:function(t,e,i,r){return void 0===r&&(r=1),this._locked=!0,this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=r,this._locked=!1,this.update(!0)},setFromRGB:function(t){return this._locked=!0,this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this._locked=!1,this.update(!0)},setFromHSV:function(t,e,i){return o(t,e,i,this)},update:function(t){if(void 0===t&&(t=!1),this._locked)return this;var e=this.r,i=this.g,r=this.b,o=this.a;return this._color=n(e,i,r),this._color32=s(e,i,r,o),this._rgba="rgba("+e+","+i+","+r+","+o/255+")",t&&a(e,i,r,this),this},updateHSV:function(){var t=this.r,e=this.g,i=this.b;return a(t,e,i,this),this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,e){void 0===t&&(t=0),void 0===e&&(e=255);var i=Math.floor(t+Math.random()*(e-t)),r=Math.floor(t+Math.random()*(e-t)),n=Math.floor(t+Math.random()*(e-t));return this.setTo(i,r,n)},randomGray:function(t,e){void 0===t&&(t=0),void 0===e&&(e=255);var i=Math.floor(t+Math.random()*(e-t));return this.setTo(i,i,i)},saturate:function(t){return this.s+=t/100,this},desaturate:function(t){return this.s-=t/100,this},lighten:function(t){return this.v+=t/100,this},darken:function(t){return this.v-=t/100,this},brighten:function(t){var e=this.r,i=this.g,r=this.b;return e=Math.max(0,Math.min(255,e-Math.round(-t/100*255))),i=Math.max(0,Math.min(255,i-Math.round(-t/100*255))),r=Math.max(0,Math.min(255,r-Math.round(-t/100*255))),this.setTo(e,i,r)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update(!0)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t,o(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t,o(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t,o(this._h,this._s,t,this)}}});t.exports=l},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i){this.x=0,this.y=0,this.z=0,"object"===typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clone:function(){return new r(this.x,this.y,this.z)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,s=e.x,o=e.y,a=e.z;return this.x=r*a-n*o,this.y=n*s-i*a,this.z=i*o-r*s,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return"object"===typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},setFromMatrixPosition:function(t){return this.fromArray(t.val,12)},setFromMatrixColumn:function(t,e){return this.fromArray(t.val,4*e)},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addScale:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0;return Math.sqrt(e*e+i*i+r*r)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0;return e*e+i*i+r*r},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,r=t*t+e*e+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=e*r,this.z=i*r),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,o=t.z;return this.x=i*o-r*s,this.y=r*n-e*o,this.z=e*s-i*n,this},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,r=this.y,n=this.z;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this.z=n+e*(t.z-n),this},applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.val;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.val,s=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*s,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*s,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*s,this},transformMat3:function(t){var e=this.x,i=this.y,r=this.z,n=t.val;return this.x=e*n[0]+i*n[3]+r*n[6],this.y=e*n[1]+i*n[4]+r*n[7],this.z=e*n[2]+i*n[5]+r*n[8],this},transformMat4:function(t){var e=this.x,i=this.y,r=this.z,n=t.val;return this.x=n[0]*e+n[4]*i+n[8]*r+n[12],this.y=n[1]*e+n[5]*i+n[9]*r+n[13],this.z=n[2]*e+n[6]*i+n[10]*r+n[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,r=this.z,n=t.val,s=e*n[0]+i*n[4]+r*n[8]+n[12],o=e*n[1]+i*n[5]+r*n[9]+n[13],a=e*n[2]+i*n[6]+r*n[10]+n[14],l=e*n[3]+i*n[7]+r*n[11]+n[15];return this.x=s/l,this.y=o/l,this.z=a/l,this},transformQuat:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,o=t.z,a=t.w,l=a*e+s*r-o*i,u=a*i+o*e-n*r,h=a*r+n*i-s*e,c=-n*e-s*i-o*r;return this.x=l*a+c*-n+u*-o-h*-s,this.y=u*a+c*-s+h*-n-l*-o,this.z=h*a+c*-o+l*-s-u*-n,this},project:function(t){var e=this.x,i=this.y,r=this.z,n=t.val,s=n[0],o=n[1],a=n[2],l=n[3],u=n[4],h=n[5],c=n[6],d=n[7],f=n[8],p=n[9],m=n[10],v=n[11],y=n[12],g=n[13],x=n[14],b=1/(e*l+i*d+r*v+n[15]);return this.x=(e*s+i*u+r*f+y)*b,this.y=(e*o+i*h+r*p+g)*b,this.z=(e*a+i*c+r*m+x)*b,this},projectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unprojectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unproject:function(t,e){var i=t.x,r=t.y,n=t.z,s=t.w,o=this.x-i,a=s-this.y-1-r,l=this.z;return this.x=2*o/n-1,this.y=2*a/s-1,this.z=2*l-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});r.ZERO=new r,r.RIGHT=new r(1,0,0),r.LEFT=new r(-1,0,0),r.UP=new r(0,-1,0),r.DOWN=new r(0,1,0),r.FORWARD=new r(0,0,1),r.BACK=new r(0,0,-1),r.ONE=new r(1,1,1),t.exports=r},function(t,e){t.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(t,e,i){var r={};t.exports=r;var n=i(64),s=i(83),o=i(165),a=i(32),l=i(84),u=i(271);!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(e){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=n.centre(e.vertices):e.hasOwnProperty("vertices")||(i.vertices=n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var r=a.extend(i,e);return t(r,e),r.setOnCollideWith=function(t,e){return e?this.onCollideWith[t.id]=e:delete this.onCollideWith[t.id],this},r},r.nextGroup=function(t){return t?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var t=function(t,e){e=e||{},r.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t});var i=t.bounds;if(n.rotate(t.vertices,t.angle,t.position),u.rotate(t.axes,t.angle),l.update(i,t.vertices,t.velocity),r.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia}),1===t.parts.length){var o=t.centerOfMass,a=t.centerOffset,h=i.max.x-i.min.x,c=i.max.y-i.min.y;o.x=-(i.min.x-t.position.x)/h,o.y=-(i.min.y-t.position.y)/c,a.x=h*o.x,a.y=c*o.y}};r.set=function(t,e,i){var n;for(n in"string"===typeof e&&(n=e,(e={})[n]=i),e)if(Object.prototype.hasOwnProperty.call(e,n))switch(i=e[n],n){case"isStatic":r.setStatic(t,i);break;case"isSleeping":o.set(t,i);break;case"mass":r.setMass(t,i);break;case"density":r.setDensity(t,i);break;case"inertia":r.setInertia(t,i);break;case"vertices":r.setVertices(t,i);break;case"position":r.setPosition(t,i);break;case"angle":r.setAngle(t,i);break;case"velocity":r.setVelocity(t,i);break;case"angularVelocity":r.setAngularVelocity(t,i);break;case"parts":r.setParts(t,i);break;case"centre":r.setCentre(t,i);break;default:t[n]=i}},r.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var r=t.parts[i];r.isStatic=e,e?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null)}},r.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},r.setDensity=function(t,e){r.setMass(t,e*t.area),t.density=e},r.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},r.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=n.create(e,t),t.axes=u.fromVertices(t.vertices),t.area=n.area(t.vertices),r.setMass(t,t.density*t.area);var i=n.centre(t.vertices);n.translate(t.vertices,i,-1),r.setInertia(t,r._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},r.setParts=function(t,e,i){var s;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,s=0;s<e.length;s++){var o=e[s];o!==t&&(o.parent=t,t.parts.push(o))}if(1!==t.parts.length){if(i="undefined"===typeof i||i){var a=[];for(s=0;s<e.length;s++)a=a.concat(e[s].vertices);n.clockwiseSort(a);var u=n.hull(a),h=n.centre(u);r.setVertices(t,u),n.translate(t.vertices,h)}var c=r._totalProperties(t),d=c.centre.x,f=c.centre.y,p=t.bounds,m=t.centerOfMass,v=t.centerOffset;l.update(p,t.vertices,t.velocity),m.x=-(p.min.x-d)/(p.max.x-p.min.x),m.y=-(p.min.y-f)/(p.max.y-p.min.y),v.x=d,v.y=f,t.area=c.area,t.parent=t,t.position.x=d,t.position.y=f,t.positionPrev.x=d,t.positionPrev.y=f,r.setMass(t,c.mass),r.setInertia(t,c.inertia),r.setPosition(t,c.centre)}},r.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},r.setPosition=function(t,e){var i=s.sub(e,t.position);t.positionPrev.x+=i.x,t.positionPrev.y+=i.y;for(var r=0;r<t.parts.length;r++){var o=t.parts[r];o.position.x+=i.x,o.position.y+=i.y,n.translate(o.vertices,i),l.update(o.bounds,o.vertices,t.velocity)}},r.setAngle=function(t,e){var i=e-t.angle;t.anglePrev+=i;for(var r=0;r<t.parts.length;r++){var o=t.parts[r];o.angle+=i,n.rotate(o.vertices,i,t.position),u.rotate(o.axes,i),l.update(o.bounds,o.vertices,t.velocity),r>0&&s.rotateAbout(o.position,i,t.position,o.position)}},r.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=s.magnitude(t.velocity)},r.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},r.translate=function(t,e){r.setPosition(t,s.add(t.position,e))},r.rotate=function(t,e,i){if(i){var n=Math.cos(e),s=Math.sin(e),o=t.position.x-i.x,a=t.position.y-i.y;r.setPosition(t,{x:i.x+(o*n-a*s),y:i.y+(o*s+a*n)}),r.setAngle(t,t.angle+e)}else r.setAngle(t,t.angle+e)},r.scale=function(t,e,i,s){var o=0,a=0;s=s||t.position;for(var h=0;h<t.parts.length;h++){var c=t.parts[h];c.scale.x=e,c.scale.y=i,n.scale(c.vertices,e,i,s),c.axes=u.fromVertices(c.vertices),c.area=n.area(c.vertices),r.setMass(c,t.density*c.area),n.translate(c.vertices,{x:-c.position.x,y:-c.position.y}),r.setInertia(c,r._inertiaScale*n.inertia(c.vertices,c.mass)),n.translate(c.vertices,{x:c.position.x,y:c.position.y}),h>0&&(o+=c.area,a+=c.inertia),c.position.x=s.x+(c.position.x-s.x)*e,c.position.y=s.y+(c.position.y-s.y)*i,l.update(c.bounds,c.vertices,t.velocity)}t.parts.length>1&&(t.area=o,t.isStatic||(r.setMass(t,t.density*o),r.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},r.update=function(t,e,i,r){var o=Math.pow(e*i*t.timeScale,2),a=1-t.frictionAir*i*t.timeScale,h=t.position.x-t.positionPrev.x,c=t.position.y-t.positionPrev.y;t.velocity.x=h*a*r+t.force.x/t.mass*o,t.velocity.y=c*a*r+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*a*r+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=s.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var d=0;d<t.parts.length;d++){var f=t.parts[d];n.translate(f.vertices,t.velocity),d>0&&(f.position.x+=t.velocity.x,f.position.y+=t.velocity.y),0!==t.angularVelocity&&(n.rotate(f.vertices,t.angularVelocity,t.position),u.rotate(f.axes,t.angularVelocity),d>0&&s.rotateAbout(f.position,t.angularVelocity,t.position,f.position)),l.update(f.bounds,f.vertices,t.velocity)}},r.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var r=e.x-t.position.x,n=e.y-t.position.y;t.torque+=r*i.y-n*i.x},r._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var r=t.parts[i],n=r.mass!==1/0?r.mass:1;e.mass+=n,e.area+=r.area,e.inertia+=r.inertia,e.centre=s.add(e.centre,s.mult(r.position,n))}return e.centre=s.div(e.centre,e.mass),e}}()},function(t,e){t.exports=function(t){return t.y+t.height-t.height*t.originY}},function(t,e){t.exports=function(t){return t.x-t.width*t.originX}},function(t,e){t.exports=function(t){return t.x+t.width-t.width*t.originX}},function(t,e){t.exports=function(t){return t.y-t.height*t.originY}},function(t,e){t.exports=function(t,e,i,r,n,s){var o;void 0===r&&(r=0),void 0===n&&(n=0),void 0===s&&(s=1);var a=0,l=t.length;if(1===s)for(o=n;o<l;o++)t[o][e]+=i+a*r,a++;else for(o=n;o>=0;o--)t[o][e]+=i+a*r,a++;return t}},function(t,e,i){var r=i(0),n=i(307),s=i(172),o=i(56),a=i(173),l=i(3),u=new r({initialize:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.type=o.LINE,this.x1=t,this.y1=e,this.x2=i,this.y2=r},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return s(this,t,e,i)},getRandomPoint:function(t){return a(this,t)},setTo:function(t,e,i,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x1=t,this.y1=e,this.x2=i,this.y2=r,this},getPointA:function(t){return void 0===t&&(t=new l),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new l),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=u},function(t,e){t.exports=function(t,e,i,r){var n=i||e.fillColor,s=r||e.fillAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,l=255&n;t.fillStyle="rgba("+o+","+a+","+l+","+s+")"}},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r){var n=[];r.forEach((function(t){t&&n.push(t)})),this.loader=t,this.type=e,this.key=i,this.multiKeyIndex=t.multiKeyIndex++,this.files=n,this.complete=!1,this.pending=n.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var s=0;s<n.length;s++)n[s].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){-1!==this.files.indexOf(t)&&this.pending--},onFileFailed:function(t){-1!==this.files.indexOf(t)&&this.failed++}});t.exports=r},function(t,e){t.exports=function(t,e,i,r){var n=t-i,s=e-r;return Math.sqrt(n*n+s*s)}},function(t,e,i){t.exports={BOOT:i(922),DESTROY:i(923),DRAG_END:i(924),DRAG_ENTER:i(925),DRAG:i(926),DRAG_LEAVE:i(927),DRAG_OVER:i(928),DRAG_START:i(929),DROP:i(930),GAME_OUT:i(931),GAME_OVER:i(932),GAMEOBJECT_DOWN:i(933),GAMEOBJECT_DRAG_END:i(934),GAMEOBJECT_DRAG_ENTER:i(935),GAMEOBJECT_DRAG:i(936),GAMEOBJECT_DRAG_LEAVE:i(937),GAMEOBJECT_DRAG_OVER:i(938),GAMEOBJECT_DRAG_START:i(939),GAMEOBJECT_DROP:i(940),GAMEOBJECT_MOVE:i(941),GAMEOBJECT_OUT:i(942),GAMEOBJECT_OVER:i(943),GAMEOBJECT_POINTER_DOWN:i(944),GAMEOBJECT_POINTER_MOVE:i(945),GAMEOBJECT_POINTER_OUT:i(946),GAMEOBJECT_POINTER_OVER:i(947),GAMEOBJECT_POINTER_UP:i(948),GAMEOBJECT_POINTER_WHEEL:i(949),GAMEOBJECT_UP:i(950),GAMEOBJECT_WHEEL:i(951),MANAGER_BOOT:i(952),MANAGER_PROCESS:i(953),MANAGER_UPDATE:i(954),POINTER_DOWN:i(955),POINTER_DOWN_OUTSIDE:i(956),POINTER_MOVE:i(957),POINTER_OUT:i(958),POINTER_OVER:i(959),POINTER_UP:i(960),POINTER_UP_OUTSIDE:i(961),POINTER_WHEEL:i(962),POINTERLOCK_CHANGE:i(963),PRE_UPDATE:i(964),SHUTDOWN:i(965),START:i(966),UPDATE:i(967)}},function(t,e){t.exports=function(t,e){return t.y=e+t.height*t.originY,t}},function(t,e){t.exports=function(t,e){return t.x=e+t.width*t.originX,t}},function(t,e){t.exports=function(t,e){return t.x=e-t.width+t.width*t.originX,t}},function(t,e){t.exports=function(t,e){return t.y=e-t.height+t.height*t.originY,t}},function(t,e){t.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(t,e){t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i}},function(t,e,i){var r=i(0),n=i(175),s=i(9),o=i(374),a=i(2),l=i(69),u=i(91),h=i(141),c=i(12),d=i(375),f=new r({Extends:s,initialize:function(t){s.call(this);var e=t.game,i=e.renderer,r=i.gl;this.name=a(t,"name","WebGLPipeline"),this.game=e,this.renderer=i,this.manager,this.gl=r,this.view=e.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=a(t,"topology",r.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=a(t,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=t,this.glReset=!1},boot:function(){var t,e=this.gl,i=this.config,r=this.renderer;this.isPostFX||(this.projectionMatrix=(new l).identity());var n=this.renderTargets,s=a(i,"renderTarget",!1);"boolean"===typeof s&&s&&(s=1);var c=r.width,d=r.height;if("number"===typeof s)for(t=0;t<s;t++)n.push(new h(r,c,d,1,0,!0));else if(Array.isArray(s))for(t=0;t<s.length;t++){var f=a(s[t],"scale",1),p=a(s[t],"minFilter",0),m=a(s[t],"autoClear",1);n.push(new h(r,c,d,f,p,m))}n.length&&(this.currentRenderTarget=n[0]),this.setShadersFromConfig(i);var v=this.shaders,y=0;for(t=0;t<v.length;t++)v[t].vertexSize>y&&(y=v[t].vertexSize);var g=a(i,"batchSize",r.config.batchSize);this.vertexCapacity=6*g;var x=new ArrayBuffer(this.vertexCapacity*y);this.vertexData=x,this.bytes=new Uint8Array(x),this.vertexViewF32=new Float32Array(x),this.vertexViewU32=new Uint32Array(x);var b=a(i,"vertices",null);for(b?(this.vertexViewF32.set(b),this.vertexBuffer=r.createVertexBuffer(x,e.STATIC_DRAW)):this.vertexBuffer=r.createVertexBuffer(x.byteLength,e.DYNAMIC_DRAW),this.setVertexBuffer(),t=v.length-1;t>=0;t--)v[t].rebind();this.hasBooted=!0,r.on(u.RESIZE,this.resize,this),r.on(u.PRE_RENDER,this.onPreRender,this),r.on(u.RENDER,this.onRender,this),r.on(u.POST_RENDER,this.onPostRender,this),this.emit(o.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(t,e){var i=this.renderer;return t===this.currentShader&&i.currentProgram===this.currentShader.program||(this.flush(),i.resetTextures(),this.setVertexBuffer()&&!e&&(e=!0),t.bind(e,!1),this.currentShader=t),this},getShaderByName:function(t){for(var e=this.shaders,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},setShadersFromConfig:function(t){var e,i=this.shaders,r=this.renderer;for(e=0;e<i.length;e++)i[e].destroy();var s="vertShader",o="fragShader",l="attributes",u=a(t,s,null),h=c.parseFragmentShaderMaxTextures(a(t,o,null),r.maxTextures),f=a(t,l,null),p=a(t,"shaders",[]),m=p.length;if(0===m)u&&h&&(this.shaders=[new d(this,"default",u,h,n(f))]);else{var v=[];for(e=0;e<m;e++){var y=p[e],g=a(y,"name","default"),x=a(y,s,u),b=c.parseFragmentShaderMaxTextures(a(y,o,h),r.maxTextures),w=a(y,l,f);x&&b&&v.push(new d(this,g,x,b,n(w)))}this.shaders=v}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(t,e){return void 0===e&&(e=t.frame),this.currentUnit=this.renderer.setTextureSource(e.source),this.currentUnit},shouldFlush:function(t){return void 0===t&&(t=0),this.vertexCount+t>this.vertexCapacity},resize:function(t,e){t===this.width&&e===this.height||this.flush(),this.width=t,this.height=e;for(var i=this.renderTargets,r=0;r<i.length;r++)i[r].resize(t,e);return this.setProjectionMatrix(t,e),this.emit(o.RESIZE,t,e,this),this.onResize(t,e),this},setProjectionMatrix:function(t,e){var i=this.projectionMatrix;if(!i)return this;this.projectionWidth=t,this.projectionHeight=e,i.ortho(0,t,e,0,-1e3,1e3);for(var r=this.shaders,n="uProjectionMatrix",s=0;s<r.length;s++){var o=r[s];o.hasUniform(n)&&(o.resetUniform(n),o.setMatrix4fv(n,!1,i.val,o))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var t=this.renderer.projectionWidth,e=this.renderer.projectionHeight;this.projectionWidth===t&&this.projectionHeight===e||this.setProjectionMatrix(t,e)}},bind:function(t){if(void 0===t&&(t=this.currentShader),this.glReset)return this.rebind(t);var e=this.setVertexBuffer();return t.bind(e),this.currentShader=t,this.emit(o.BIND,this,t),this.onActive(t),this},rebind:function(t){this.setVertexBuffer();for(var e=this.shaders,i=e.length-1;i>=0;i--){var r=e[i].rebind();t&&r!==t||(this.currentShader=r)}return this.emit(o.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var t=this.gl,e=this.vertexBuffer;return t.getParameter(t.ARRAY_BUFFER_BINDING)!==e&&(t.bindBuffer(t.ARRAY_BUFFER,e),!0)},preBatch:function(t){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(t),this},postBatch:function(t){return this.onDraw(this.currentRenderTarget),this.onPostBatch(t),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(t){if(void 0===t&&(t=!1),this.vertexCount>0){this.emit(o.BEFORE_FLUSH,this,t),this.onBeforeFlush(t);var e=this.gl,i=this.vertexCount,r=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),i===this.vertexCapacity?e.bufferData(e.ARRAY_BUFFER,this.vertexData,e.DYNAMIC_DRAW):e.bufferSubData(e.ARRAY_BUFFER,0,this.bytes.subarray(0,i*r)),e.drawArrays(this.topology,0,i)),this.vertexCount=0,this.emit(o.AFTER_FLUSH,this,t),this.onAfterFlush(t)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(t,e,i,r,n,s,o){var a=this.vertexViewF32,l=this.vertexViewU32,u=this.vertexCount*this.currentShader.vertexComponentCount-1;a[++u]=t,a[++u]=e,a[++u]=i,a[++u]=r,a[++u]=n,a[++u]=s,l[++u]=o,this.vertexCount++},batchQuad:function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p,m,v,y,g,x){void 0===x&&(x=this.currentUnit);var b=!1;return this.shouldFlush(6)&&(this.flush(),b=!0,x=this.setTexture2D(g)),this.batchVert(e,i,u,h,x,y,f),this.batchVert(r,n,u,d,x,y,m),this.batchVert(s,o,c,d,x,y,v),this.batchVert(e,i,u,h,x,y,f),this.batchVert(s,o,c,d,x,y,v),this.batchVert(a,l,c,h,x,y,p),this.onBatch(t),b},batchTri:function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p,m,v){void 0===v&&(v=this.currentUnit);var y=!1;return this.shouldFlush(3)&&(this.flush(),y=!0,v=this.setTexture2D(m)),this.batchVert(e,i,a,l,v,p,c),this.batchVert(r,n,a,h,v,p,d),this.batchVert(s,o,u,h,v,p,f),this.onBatch(t),y},drawFillRect:function(t,e,i,r,n,s,o,a){void 0===o&&(o=this.renderer.whiteTexture.glTexture),void 0===a&&(a=!0),t=Math.floor(t),e=Math.floor(e);var l=Math.floor(t+i),u=Math.floor(e+r),h=this.setTexture2D(o),d=c.getTintAppendFloatAlphaAndSwap(n,s),f=0,p=1;a&&(f=1,p=0),this.batchQuad(null,t,e,t,u,l,u,l,e,0,f,1,p,d,d,d,d,0,o,h)},setTexture2D:function(t){return void 0===t&&(t=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(t),this.currentUnit},bindTexture:function(t,e){void 0===e&&(e=0);var i=this.gl;return i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,t),this},bindRenderTarget:function(t,e){return this.bindTexture(t.texture,e)},setTime:function(t){return this.set1f(t,this.game.loop.getDuration()),this},set1f:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1f(t,e),this},set2f:function(t,e,i,r){return void 0===r&&(r=this.currentShader),r.set2f(t,e,i),this},set3f:function(t,e,i,r,n){return void 0===n&&(n=this.currentShader),n.set3f(t,e,i,r),this},set4f:function(t,e,i,r,n,s){return void 0===s&&(s=this.currentShader),s.set4f(t,e,i,r,n),this},set1fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1fv(t,e),this},set2fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set2fv(t,e),this},set3fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set3fv(t,e),this},set4fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set4fv(t,e),this},set1iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1iv(t,e),this},set2iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set2iv(t,e),this},set3iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set3iv(t,e),this},set4iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set4iv(t,e),this},set1i:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1i(t,e),this},set2i:function(t,e,i,r){return void 0===r&&(r=this.currentShader),r.set2i(t,e,i),this},set3i:function(t,e,i,r,n){return void 0===n&&(n=this.currentShader),n.set3i(t,e,i,r),this},set4i:function(t,e,i,r,n,s){return void 0===s&&(s=this.currentShader),s.set4i(t,e,i,r,n),this},setMatrix2fv:function(t,e,i,r){return void 0===r&&(r=this.currentShader),r.setMatrix2fv(t,e,i),this},setMatrix3fv:function(t,e,i,r){return void 0===r&&(r=this.currentShader),r.setMatrix3fv(t,e,i),this},setMatrix4fv:function(t,e,i,r){return void 0===r&&(r=this.currentShader),r.setMatrix4fv(t,e,i),this},destroy:function(){var t;this.emit(o.DESTROY,this);var e=this.shaders;for(t=0;t<e.length;t++)e[t].destroy();var i=this.renderTargets;for(t=0;t<i.length;t++)i[t].destroy();this.gl.deleteBuffer(this.vertexBuffer);var r=this.renderer;return r.off(u.RESIZE,this.resize,this),r.off(u.PRE_RENDER,this.onPreRender,this),r.off(u.RENDER,this.onRender,this),r.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});t.exports=f},function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,a,l,u,h,f,p,v=e&&e.length,y=v?e[0]*i:t.length,g=n(t,0,y,i,!0),x=[];if(!g||g.next===g.prev)return x;if(v&&(g=function(t,e,i,r){var o,a,l,u=[];for(o=0,a=e.length;o<a;o++)(l=n(t,e[o]*r,o<a-1?e[o+1]*r:t.length,r,!1))===l.next&&(l.steiner=!0),u.push(m(l));for(u.sort(c),o=0;o<u.length;o++)d(u[o],i),i=s(i,i.next);return i}(t,e,g,i)),t.length>80*i){r=l=t[0],a=u=t[1];for(var b=i;b<y;b+=i)(h=t[b])<r&&(r=h),(f=t[b+1])<a&&(a=f),h>l&&(l=h),f>u&&(u=f);p=0!==(p=Math.max(l-r,u-a))?1/p:0}return o(g,x,i,r,a,p),x}function n(t,e,i,r,n){var s,o;if(n===C(t,e,i,r)>0)for(s=e;s<i;s+=r)o=T(s,t[s],t[s+1],o);else for(s=i-r;s>=e;s-=r)o=T(s,t[s],t[s+1],o);return o&&x(o,o.next)&&(E(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!x(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function o(t,e,i,r,n,c,d){if(t){!d&&c&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,l,u=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(l=u;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}s.nextZ=null,u*=2}while(o>1)}(n)}(t,r,n,c);for(var f,m,v=t;t.prev!==t.next;)if(f=t.prev,m=t.next,c?l(t,r,n,c):a(t))e.push(f.i/i),e.push(t.i/i),e.push(m.i/i),E(t),t=m.next,v=m.next;else if((t=m)===v){d?1===d?o(t=u(s(t),e,i),e,i,r,n,c,2):2===d&&h(t,e,i,r,n,c):o(s(t),e,i,r,n,c,1);break}}}function a(t){var e=t.prev,i=t,r=t.next;if(g(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(v(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&g(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function l(t,e,i,r){var n=t.prev,s=t,o=t.next;if(g(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,l=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,u=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,h=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,c=p(a,l,e,i,r),d=p(u,h,e,i,r),f=t.prevZ,m=t.nextZ;f&&f.z>=c&&m&&m.z<=d;){if(f!==t.prev&&f!==t.next&&v(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&g(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,m!==t.prev&&m!==t.next&&v(n.x,n.y,s.x,s.y,o.x,o.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&v(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&g(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&v(n.x,n.y,s.x,s.y,o.x,o.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function u(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!x(n,o)&&b(n,r,r.next,o)&&S(n,o)&&S(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),E(r),E(r.next),r=t=o),r=r.next}while(r!==t);return s(r)}function h(t,e,i,r,n,a){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&y(l,u)){var h=A(l,u);return l=s(l,l.next),h=s(h,h.next),o(l,e,i,r,n,a),void o(h,e,i,r,n,a)}u=u.next}l=l.next}while(l!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i;var l,u=i,h=i.x,c=i.y,d=1/0;r=i;do{n>=r.x&&r.x>=h&&n!==r.x&&v(s<c?n:o,s,h,c,s<c?o:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),S(r,t)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&f(i,r)))&&(i=r,d=l)),r=r.next}while(r!==u);return i}(t,e),e){var i=A(e,t);s(e,e.next),s(i,i.next)}}function f(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function p(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function v(t,e,i,r,n,s,o,a){return(n-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(r-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(n-o)*(r-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!==i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||x(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,r){var n=_(g(t,e,i)),s=_(g(t,e,r)),o=_(g(i,r,t)),a=_(g(i,r,e));return n!==s&&o!==a||!(0!==n||!w(t,i,e))||!(0!==s||!w(t,r,e))||!(0!==o||!w(i,t,r))||!(0!==a||!w(i,e,r))}function w(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function _(t){return t>0?1:t<0?-1:0}function S(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function A(t,e){var i=new M(t.i,t.x,t.y),r=new M(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function T(t,e,i,r){var n=new M(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}r.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,o=Math.abs(C(t,0,s,i));if(n)for(var a=0,l=e.length;a<l;a++){var u=e[a]*i,h=a<l-1?e[a+1]*i:t.length;o-=Math.abs(C(t,u,h,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,f=r[a+1]*i,p=r[a+2]*i;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[n][s][o]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i},t.exports=r},function(t,e){t.exports=function(t,e,i,r){var n=i||e.strokeColor,s=r||e.strokeAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,l=255&n;t.strokeStyle="rgba("+o+","+a+","+l+","+s+")",t.lineWidth=e.lineWidth}},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(6),u=i(7),h=new r({Extends:s,initialize:function(t,e,i,r,o){var h="json";if(u(e)){var c=e;e=a(c,"key"),i=a(c,"url"),r=a(c,"xhrSettings"),h=a(c,"extension",h),o=a(c,"dataKey",o)}var d={type:"json",cache:t.cacheManager.json,extension:h,responseType:"text",key:e,url:i,xhrSettings:r,config:o};s.call(this,t,d),u(i)&&(this.data=o?l(i,o):i,this.state=n.FILE_POPULATED)},onProcess:function(){if(this.state!==n.FILE_POPULATED){this.state=n.FILE_PROCESSING;try{var t=JSON.parse(this.xhrLoader.responseText)}catch(i){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),i}var e=this.config;this.data="string"===typeof e?l(t,e,t):t}this.onProcessComplete()}});o.register("json",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new h(this,t[n]));else this.addFile(new h(this,t,e,r,i));return this})),t.exports=h},function(t,e){t.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(t,e,i){var r=i(158),n=i(26);t.exports=function(t,e,i,s,o){for(var a=null,l=null,u=null,h=null,c=n(t,e,i,s,null,o),d=0;d<c.length;d++){var f=c[d];f&&(f.collides?(a=r(f.x,f.y-1,!0,o),l=r(f.x,f.y+1,!0,o),u=r(f.x-1,f.y,!0,o),h=r(f.x+1,f.y,!0,o),f.faceTop=!a||!a.collides,f.faceBottom=!l||!l.collides,f.faceLeft=!u||!u.collides,f.faceRight=!h||!h.collides):f.resetFaces())}}},function(t,e,i){var r={};t.exports=r;var n=i(83),s=i(32);r.create=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r],s={x:n.x,y:n.y,index:r,body:e,isInternal:!1,contact:null,offset:null};s.contact={vertex:s,normalImpulse:0,tangentImpulse:0},i.push(s)}return i},r.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,r){i.push({x:parseFloat(e),y:parseFloat(r)})})),r.create(i,e)},r.centre=function(t){for(var e,i,s,o=r.area(t,!0),a={x:0,y:0},l=0;l<t.length;l++)s=(l+1)%t.length,e=n.cross(t[l],t[s]),i=n.mult(n.add(t[l],t[s]),e),a=n.add(a,i);return n.div(a,6*o)},r.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return n.div(e,t.length)},r.area=function(t,e){for(var i=0,r=t.length-1,n=0;n<t.length;n++)i+=(t[r].x-t[n].x)*(t[r].y+t[n].y),r=n;return e?i/2:Math.abs(i)/2},r.inertia=function(t,e){for(var i,r,s=0,o=0,a=t,l=0;l<a.length;l++)r=(l+1)%a.length,s+=(i=Math.abs(n.cross(a[r],a[l])))*(n.dot(a[r],a[r])+n.dot(a[r],a[l])+n.dot(a[l],a[l])),o+=i;return e/6*(s/o)},r.translate=function(t,e,i){var r;if(i)for(r=0;r<t.length;r++)t[r].x+=e.x*i,t[r].y+=e.y*i;else for(r=0;r<t.length;r++)t[r].x+=e.x,t[r].y+=e.y;return t},r.rotate=function(t,e,i){if(0!==e){for(var r=Math.cos(e),n=Math.sin(e),s=0;s<t.length;s++){var o=t[s],a=o.x-i.x,l=o.y-i.y;o.x=i.x+(a*r-l*n),o.y=i.y+(a*n+l*r)}return t}},r.contains=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=t[(i+1)%t.length];if((e.x-r.x)*(n.y-r.y)+(e.y-r.y)*(r.x-n.x)>0)return!1}return!0},r.scale=function(t,e,i,s){if(1===e&&1===i)return t;var o,a;s=s||r.centre(t);for(var l=0;l<t.length;l++)o=t[l],a=n.sub(o,s),t[l].x=s.x+a.x*e,t[l].y=s.y+a.y*i;return t},r.chamfer=function(t,e,i,r,o){e="number"===typeof e?[e]:e||[8],i="undefined"!==typeof i?i:-1,r=r||2,o=o||14;for(var a=[],l=0;l<t.length;l++){var u=t[l-1>=0?l-1:t.length-1],h=t[l],c=t[(l+1)%t.length],d=e[l<e.length?l:e.length-1];if(0!==d){var f=n.normalise({x:h.y-u.y,y:u.x-h.x}),p=n.normalise({x:c.y-h.y,y:h.x-c.x}),m=Math.sqrt(2*Math.pow(d,2)),v=n.mult(s.clone(f),d),y=n.normalise(n.mult(n.add(f,p),.5)),g=n.sub(h,n.mult(y,m)),x=i;-1===i&&(x=1.75*Math.pow(d,.32)),(x=s.clamp(x,r,o))%2===1&&(x+=1);for(var b=Math.acos(n.dot(f,p))/x,w=0;w<x;w++)a.push(n.add(n.rotate(v,b*w),g))}else a.push(h)}return a},r.clockwiseSort=function(t){var e=r.mean(t);return t.sort((function(t,i){return n.angle(e,t)-n.angle(e,i)})),t},r.isConvex=function(t){var e,i,r,n,s=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(r=(e+2)%o,n=(t[i=(e+1)%o].x-t[e].x)*(t[r].y-t[i].y),(n-=(t[i].y-t[e].y)*(t[r].x-t[i].x))<0?s|=1:n>0&&(s|=2),3===s)return!1;return 0!==s||null},r.hull=function(t){var e,i,r=[],s=[];for((t=t.slice(0)).sort((function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y})),i=0;i<t.length;i+=1){for(e=t[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],e)<=0;)s.pop();s.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}return r.pop(),s.pop(),r.concat(s)}},function(t,e,i){var r=i(0),n=i(66),s=i(300),o=i(301),a=i(56),l=i(170),u=new r({initialize:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.type=a.CIRCLE,this.x=t,this.y=e,this._radius=i,this._diameter=2*i},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=u},function(t,e){t.exports=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},function(t,e){t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(t,e){t.exports=function(t,e,i){var r=i-e;return e+((t-e)%r+r)%r}},function(t,e,i){var r=i(0),n=i(39),s=1e-6,o=new r({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new o(this)},set:function(t){return this.copy(t)},setValues:function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p,m){var v=this.val;return v[0]=t,v[1]=e,v[2]=i,v[3]=r,v[4]=n,v[5]=s,v[6]=o,v[7]=a,v[8]=l,v[9]=u,v[10]=h,v[11]=c,v[12]=d,v[13]=f,v[14]=p,v[15]=m,this},copy:function(t){var e=t.val;return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromArray:function(t){return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(t,e,i){var r=a.fromQuat(i).val,n=e.x,s=e.y,o=e.z;return this.setValues(r[0]*n,r[1]*n,r[2]*n,0,r[4]*s,r[5]*s,r[6]*s,0,r[8]*o,r[9]*o,r[10]*o,0,t.x,t.y,t.z,1)},xyz:function(t,e,i){this.identity();var r=this.val;return r[12]=t,r[13]=e,r[14]=i,this},scaling:function(t,e,i){this.zero();var r=this.val;return r[0]=t,r[5]=e,r[10]=i,r[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var t=this.val,e=t[1],i=t[2],r=t[3],n=t[6],s=t[7],o=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=n,t[11]=t[14],t[12]=r,t[13]=s,t[14]=o,this},getInverse:function(t){return this.copy(t),this.invert()},invert:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=t[9],c=t[10],d=t[11],f=t[12],p=t[13],m=t[14],v=t[15],y=e*o-i*s,g=e*a-r*s,x=e*l-n*s,b=i*a-r*o,w=i*l-n*o,_=r*l-n*a,S=u*p-h*f,A=u*m-c*f,T=u*v-d*f,E=h*m-c*p,M=h*v-d*p,C=c*v-d*m,P=y*C-g*M+x*E+b*T-w*A+_*S;return P?(P=1/P,this.setValues((o*C-a*M+l*E)*P,(r*M-i*C-n*E)*P,(p*_-m*w+v*b)*P,(c*w-h*_-d*b)*P,(a*T-s*C-l*A)*P,(e*C-r*T+n*A)*P,(m*x-f*_-v*g)*P,(u*_-c*x+d*g)*P,(s*M-o*T+l*S)*P,(i*T-e*M-n*S)*P,(f*w-p*x+v*y)*P,(h*x-u*w-d*y)*P,(o*A-s*E-a*S)*P,(e*E-i*A+r*S)*P,(p*g-f*b-m*y)*P,(u*b-h*g+c*y)*P)):this},adjoint:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=t[9],c=t[10],d=t[11],f=t[12],p=t[13],m=t[14],v=t[15];return this.setValues(o*(c*v-d*m)-h*(a*v-l*m)+p*(a*d-l*c),-(i*(c*v-d*m)-h*(r*v-n*m)+p*(r*d-n*c)),i*(a*v-l*m)-o*(r*v-n*m)+p*(r*l-n*a),-(i*(a*d-l*c)-o*(r*d-n*c)+h*(r*l-n*a)),-(s*(c*v-d*m)-u*(a*v-l*m)+f*(a*d-l*c)),e*(c*v-d*m)-u*(r*v-n*m)+f*(r*d-n*c),-(e*(a*v-l*m)-s*(r*v-n*m)+f*(r*l-n*a)),e*(a*d-l*c)-s*(r*d-n*c)+u*(r*l-n*a),s*(h*v-d*p)-u*(o*v-l*p)+f*(o*d-l*h),-(e*(h*v-d*p)-u*(i*v-n*p)+f*(i*d-n*h)),e*(o*v-l*p)-s*(i*v-n*p)+f*(i*l-n*o),-(e*(o*d-l*h)-s*(i*d-n*h)+u*(i*l-n*o)),-(s*(h*m-c*p)-u*(o*m-a*p)+f*(o*c-a*h)),e*(h*m-c*p)-u*(i*m-r*p)+f*(i*c-r*h),-(e*(o*m-a*p)-s*(i*m-r*p)+f*(i*a-r*o)),e*(o*c-a*h)-s*(i*c-r*h)+u*(i*a-r*o))},determinant:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=t[9],c=t[10],d=t[11],f=t[12],p=t[13],m=t[14],v=t[15];return(e*o-i*s)*(c*v-d*m)-(e*a-r*s)*(h*v-d*p)+(e*l-n*s)*(h*m-c*p)+(i*a-r*o)*(u*v-d*f)-(i*l-n*o)*(u*m-c*f)+(r*l-n*a)*(u*p-h*f)},multiply:function(t){var e=this.val,i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=e[9],d=e[10],f=e[11],p=e[12],m=e[13],v=e[14],y=e[15],g=t.val,x=g[0],b=g[1],w=g[2],_=g[3];return e[0]=x*i+b*o+w*h+_*p,e[1]=x*r+b*a+w*c+_*m,e[2]=x*n+b*l+w*d+_*v,e[3]=x*s+b*u+w*f+_*y,x=g[4],b=g[5],w=g[6],_=g[7],e[4]=x*i+b*o+w*h+_*p,e[5]=x*r+b*a+w*c+_*m,e[6]=x*n+b*l+w*d+_*v,e[7]=x*s+b*u+w*f+_*y,x=g[8],b=g[9],w=g[10],_=g[11],e[8]=x*i+b*o+w*h+_*p,e[9]=x*r+b*a+w*c+_*m,e[10]=x*n+b*l+w*d+_*v,e[11]=x*s+b*u+w*f+_*y,x=g[12],b=g[13],w=g[14],_=g[15],e[12]=x*i+b*o+w*h+_*p,e[13]=x*r+b*a+w*c+_*m,e[14]=x*n+b*l+w*d+_*v,e[15]=x*s+b*u+w*f+_*y,this},multiplyLocal:function(t){var e=this.val,i=t.val;return this.setValues(e[0]*i[0]+e[1]*i[4]+e[2]*i[8]+e[3]*i[12],e[0]*i[1]+e[1]*i[5]+e[2]*i[9]+e[3]*i[13],e[0]*i[2]+e[1]*i[6]+e[2]*i[10]+e[3]*i[14],e[0]*i[3]+e[1]*i[7]+e[2]*i[11]+e[3]*i[15],e[4]*i[0]+e[5]*i[4]+e[6]*i[8]+e[7]*i[12],e[4]*i[1]+e[5]*i[5]+e[6]*i[9]+e[7]*i[13],e[4]*i[2]+e[5]*i[6]+e[6]*i[10]+e[7]*i[14],e[4]*i[3]+e[5]*i[7]+e[6]*i[11]+e[7]*i[15],e[8]*i[0]+e[9]*i[4]+e[10]*i[8]+e[11]*i[12],e[8]*i[1]+e[9]*i[5]+e[10]*i[9]+e[11]*i[13],e[8]*i[2]+e[9]*i[6]+e[10]*i[10]+e[11]*i[14],e[8]*i[3]+e[9]*i[7]+e[10]*i[11]+e[11]*i[15],e[12]*i[0]+e[13]*i[4]+e[14]*i[8]+e[15]*i[12],e[12]*i[1]+e[13]*i[5]+e[14]*i[9]+e[15]*i[13],e[12]*i[2]+e[13]*i[6]+e[14]*i[10]+e[15]*i[14],e[12]*i[3]+e[13]*i[7]+e[14]*i[11]+e[15]*i[15])},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.val,r=e.val,n=i[0],s=i[4],o=i[8],a=i[12],l=i[1],u=i[5],h=i[9],c=i[13],d=i[2],f=i[6],p=i[10],m=i[14],v=i[3],y=i[7],g=i[11],x=i[15],b=r[0],w=r[4],_=r[8],S=r[12],A=r[1],T=r[5],E=r[9],M=r[13],C=r[2],P=r[6],R=r[10],k=r[14],L=r[3],O=r[7],D=r[11],I=r[15];return this.setValues(n*b+s*A+o*C+a*L,l*b+u*A+h*C+c*L,d*b+f*A+p*C+m*L,v*b+y*A+g*C+x*L,n*w+s*T+o*P+a*O,l*w+u*T+h*P+c*O,d*w+f*T+p*P+m*O,v*w+y*T+g*P+x*O,n*_+s*E+o*R+a*D,l*_+u*E+h*R+c*D,d*_+f*E+p*R+m*D,v*_+y*E+g*R+x*D,n*S+s*M+o*k+a*I,l*S+u*M+h*k+c*I,d*S+f*M+p*k+m*I,v*S+y*M+g*k+x*I)},translate:function(t){return this.translateXYZ(t.x,t.y,t.z)},translateXYZ:function(t,e,i){var r=this.val;return r[12]=r[0]*t+r[4]*e+r[8]*i+r[12],r[13]=r[1]*t+r[5]*e+r[9]*i+r[13],r[14]=r[2]*t+r[6]*e+r[10]*i+r[14],r[15]=r[3]*t+r[7]*e+r[11]*i+r[15],this},scale:function(t){return this.scaleXYZ(t.x,t.y,t.z)},scaleXYZ:function(t,e,i){var r=this.val;return r[0]=r[0]*t,r[1]=r[1]*t,r[2]=r[2]*t,r[3]=r[3]*t,r[4]=r[4]*e,r[5]=r[5]*e,r[6]=r[6]*e,r[7]=r[7]*e,r[8]=r[8]*i,r[9]=r[9]*i,r[10]=r[10]*i,r[11]=r[11]*i,this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,s=t.x,o=t.y,a=t.z,l=n*s,u=n*o;return this.setValues(l*s+i,l*o-r*a,l*a+r*o,0,l*o+r*a,u*o+i,u*a-r*s,0,l*a-r*o,u*a+r*s,n*a*a+i,0,0,0,0,1)},rotate:function(t,e){var i=this.val,r=e.x,n=e.y,o=e.z,a=Math.sqrt(r*r+n*n+o*o);if(Math.abs(a)<s)return this;r*=a=1/a,n*=a,o*=a;var l=Math.sin(t),u=Math.cos(t),h=1-u,c=i[0],d=i[1],f=i[2],p=i[3],m=i[4],v=i[5],y=i[6],g=i[7],x=i[8],b=i[9],w=i[10],_=i[11],S=i[12],A=i[13],T=i[14],E=i[15],M=r*r*h+u,C=n*r*h+o*l,P=o*r*h-n*l,R=r*n*h-o*l,k=n*n*h+u,L=o*n*h+r*l,O=r*o*h+n*l,D=n*o*h-r*l,I=o*o*h+u;return this.setValues(c*M+m*C+x*P,d*M+v*C+b*P,f*M+y*C+w*P,p*M+g*C+_*P,c*R+m*k+x*L,d*R+v*k+b*L,f*R+y*k+w*L,p*R+g*k+_*L,c*O+m*D+x*I,d*O+v*D+b*I,f*O+y*D+w*I,p*O+g*D+_*I,S,A,T,E)},rotateX:function(t){var e=this.val,i=Math.sin(t),r=Math.cos(t),n=e[4],s=e[5],o=e[6],a=e[7],l=e[8],u=e[9],h=e[10],c=e[11];return e[4]=n*r+l*i,e[5]=s*r+u*i,e[6]=o*r+h*i,e[7]=a*r+c*i,e[8]=l*r-n*i,e[9]=u*r-s*i,e[10]=h*r-o*i,e[11]=c*r-a*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],o=e[2],a=e[3],l=e[8],u=e[9],h=e[10],c=e[11];return e[0]=n*r-l*i,e[1]=s*r-u*i,e[2]=o*r-h*i,e[3]=a*r-c*i,e[8]=n*i+l*r,e[9]=s*i+u*r,e[10]=o*i+h*r,e[11]=a*i+c*r,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5],h=e[6],c=e[7];return e[0]=n*r+l*i,e[1]=s*r+u*i,e[2]=o*r+h*i,e[3]=a*r+c*i,e[4]=l*r-n*i,e[5]=u*r-s*i,e[6]=h*r-o*i,e[7]=c*r-a*i,this},fromRotationTranslation:function(t,e){var i=t.x,r=t.y,n=t.z,s=t.w,o=i+i,a=r+r,l=n+n,u=i*o,h=i*a,c=i*l,d=r*a,f=r*l,p=n*l,m=s*o,v=s*a,y=s*l;return this.setValues(1-(d+p),h+y,c-v,0,h-y,1-(u+p),f+m,0,c+v,f-m,1-(u+d),0,e.x,e.y,e.z,1)},fromQuat:function(t){var e=t.x,i=t.y,r=t.z,n=t.w,s=e+e,o=i+i,a=r+r,l=e*s,u=e*o,h=e*a,c=i*o,d=i*a,f=r*a,p=n*s,m=n*o,v=n*a;return this.setValues(1-(c+f),u+v,h-m,0,u-v,1-(l+f),d+p,0,h+m,d-p,1-(l+c),0,0,0,0,1)},frustum:function(t,e,i,r,n,s){var o=1/(e-t),a=1/(r-i),l=1/(n-s);return this.setValues(2*n*o,0,0,0,0,2*n*a,0,0,(e+t)*o,(r+i)*a,(s+n)*l,-1,0,0,s*n*2*l,0)},perspective:function(t,e,i,r){var n=1/Math.tan(t/2),s=1/(i-r);return this.setValues(n/e,0,0,0,0,n,0,0,0,0,(r+i)*s,-1,0,0,2*r*i*s,0)},perspectiveLH:function(t,e,i,r){return this.setValues(2*i/t,0,0,0,0,2*i/e,0,0,0,0,-r/(i-r),1,0,0,i*r/(i-r),0)},ortho:function(t,e,i,r,n,s){var o=t-e,a=i-r,l=n-s;return o=0===o?o:1/o,a=0===a?a:1/a,l=0===l?l:1/l,this.setValues(-2*o,0,0,0,0,-2*a,0,0,0,0,2*l,0,(t+e)*o,(r+i)*a,(s+n)*l,1)},lookAtRH:function(t,e,i){var r=this.val;return c.subVectors(t,e),0===c.getLengthSquared()&&(c.z=1),c.normalize(),u.crossVectors(i,c),0===u.getLengthSquared()&&(1===Math.abs(i.z)?c.x+=1e-4:c.z+=1e-4,c.normalize(),u.crossVectors(i,c)),u.normalize(),h.crossVectors(c,u),r[0]=u.x,r[1]=u.y,r[2]=u.z,r[4]=h.x,r[5]=h.y,r[6]=h.z,r[8]=c.x,r[9]=c.y,r[10]=c.z,this},lookAt:function(t,e,i){var r=t.x,n=t.y,o=t.z,a=i.x,l=i.y,u=i.z,h=e.x,c=e.y,d=e.z;if(Math.abs(r-h)<s&&Math.abs(n-c)<s&&Math.abs(o-d)<s)return this.identity();var f=r-h,p=n-c,m=o-d,v=1/Math.sqrt(f*f+p*p+m*m),y=l*(m*=v)-u*(p*=v),g=u*(f*=v)-a*m,x=a*p-l*f;(v=Math.sqrt(y*y+g*g+x*x))?(y*=v=1/v,g*=v,x*=v):(y=0,g=0,x=0);var b=p*x-m*g,w=m*y-f*x,_=f*g-p*y;return(v=Math.sqrt(b*b+w*w+_*_))?(b*=v=1/v,w*=v,_*=v):(b=0,w=0,_=0),this.setValues(y,b,f,0,g,w,p,0,x,_,m,0,-(y*r+g*n+x*o),-(b*r+w*n+_*o),-(f*r+p*n+m*o),1)},yawPitchRoll:function(t,e,i){this.zero(),a.zero(),l.zero();var r=this.val,n=a.val,s=l.val,o=Math.sin(i),u=Math.cos(i);return r[10]=1,r[15]=1,r[0]=u,r[1]=o,r[4]=-o,r[5]=u,o=Math.sin(e),u=Math.cos(e),n[0]=1,n[15]=1,n[5]=u,n[10]=u,n[9]=-o,n[6]=o,o=Math.sin(t),u=Math.cos(t),s[5]=1,s[15]=1,s[0]=u,s[2]=-o,s[8]=o,s[10]=u,this.multiplyLocal(a),this.multiplyLocal(l),this},setWorldMatrix:function(t,e,i,r,n){return this.yawPitchRoll(t.y,t.x,t.z),a.scaling(i.x,i.y,i.z),l.xyz(e.x,e.y,e.z),this.multiplyLocal(a),this.multiplyLocal(l),r&&this.multiplyLocal(r),n&&this.multiplyLocal(n),this},multiplyToMat4:function(t,e){var i=this.val,r=t.val,n=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],h=i[6],c=i[7],d=i[8],f=i[9],p=i[10],m=i[11],v=i[12],y=i[13],g=i[14],x=i[15],b=r[0],w=r[1],_=r[2],S=r[3],A=r[4],T=r[5],E=r[6],M=r[7],C=r[8],P=r[9],R=r[10],k=r[11],L=r[12],O=r[13],D=r[14],I=r[15];return e.setValues(b*n+w*l+_*d+S*v,w*s+w*u+_*f+S*y,_*o+w*h+_*p+S*g,S*a+w*c+_*m+S*x,A*n+T*l+E*d+M*v,A*s+T*u+E*f+M*y,A*o+T*h+E*p+M*g,A*a+T*c+E*m+M*x,C*n+P*l+R*d+k*v,C*s+P*u+R*f+k*y,C*o+P*h+R*p+k*g,C*a+P*c+R*m+k*x,L*n+O*l+D*d+I*v,L*s+O*u+D*f+I*y,L*o+O*h+D*p+I*g,L*a+O*c+D*m+I*x)},fromRotationXYTranslation:function(t,e,i){var r=e.x,n=e.y,s=e.z,o=Math.sin(t.x),a=Math.cos(t.x),l=Math.sin(t.y),u=Math.cos(t.y),h=r,c=n,d=s,f=-o,p=0-f*l,m=0-a*l,v=f*u,y=a*u;return i||(h=u*r+l*s,c=p*r+a*n+v*s,d=m*r+o*n+y*s),this.setValues(u,p,m,0,0,a,o,0,l,v,y,0,h,c,d,1)},getMaxScaleOnAxis:function(){var t=this.val,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}}),a=new o,l=new o,u=new n,h=new n,c=new n;t.exports=o},function(t,e,i){t.exports={COMPLETE:i(987),DECODED:i(988),DECODED_ALL:i(989),DESTROY:i(990),DETUNE:i(991),GLOBAL_DETUNE:i(992),GLOBAL_MUTE:i(993),GLOBAL_RATE:i(994),GLOBAL_VOLUME:i(995),LOOP:i(996),LOOPED:i(997),MUTE:i(998),PAN:i(999),PAUSE_ALL:i(1e3),PAUSE:i(1001),PLAY:i(1002),RATE:i(1003),RESUME_ALL:i(1004),RESUME:i(1005),SEEK:i(1006),STOP_ALL:i(1007),STOP:i(1008),UNLOCKED:i(1009),VOLUME:i(1010)}},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function t(e,i,r,n,o){var u,h="png";if(l(i)){var c=i;i=a(c,"key"),r=a(c,"url"),u=a(c,"normalMap"),n=a(c,"xhrSettings"),h=a(c,"extension",h),o=a(c,"frameConfig")}Array.isArray(r)&&(u=r[1],r=r[0]);var d={type:"image",cache:e.textureManager,extension:h,responseType:"blob",key:i,url:r,xhrSettings:n,config:o};if(s.call(this,e,d),u){var f=new t(e,this.key,u,n,o);f.type="normalMap",this.setLink(f),e.addFile(f)}},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){s.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(t.data),t.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var t,e=this.linkFile;e&&e.state===n.FILE_COMPLETE?(t="image"===this.type?this.cache.addImage(this.key,this.data,e.data):this.cache.addImage(e.key,e.data,this.data),this.pendingDestroy(t),e.pendingDestroy(t)):e||(t=this.cache.addImage(this.key,this.data),this.pendingDestroy(t))}});o.register("image",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e){t.exports=function(t,e){e?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)}},function(t,e,i){var r=i(164),n=i(0),s=i(11),o=i(15),a=i(1065),l=new n({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,a],initialize:function(t,e,i,n,s){o.call(this,t,"Sprite"),this._crop=this.resetCropObject(),this.anims=new r(this),this.setTexture(n,s),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e){return this.anims.play(t,e)},playReverse:function(t,e){return this.anims.playReverse(t,e)},playAfterDelay:function(t,e){return this.anims.playAfterDelay(t,e)},playAfterRepeat:function(t,e){return this.anims.playAfterRepeat(t,e)},chain:function(t){return this.anims.chain(t)},stop:function(){return this.anims.stop()},stopAfterDelay:function(t){return this.anims.stopAfterDelay(t)},stopAfterRepeat:function(t){return this.anims.stopAfterRepeat(t)},stopOnFrame:function(t){return this.anims.stopOnFrame(t)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});t.exports=l},function(t,e){t.exports=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,r=t[e],n=e;n<i;n++)t[n]=t[n+1];return t.length=i,r}}},function(t,e,i){t.exports={ADDED_TO_SCENE:i(643),DESTROY:i(644),REMOVED_FROM_SCENE:i(645),VIDEO_COMPLETE:i(646),VIDEO_CREATED:i(647),VIDEO_ERROR:i(648),VIDEO_LOOP:i(649),VIDEO_PLAY:i(650),VIDEO_SEEKED:i(651),VIDEO_SEEKING:i(652),VIDEO_STOP:i(653),VIDEO_TIMEOUT:i(654),VIDEO_UNLOCKED:i(655)}},function(t,e){t.exports=function(t,e,i,r){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),r?(i+t)/e:i+t)}},function(t,e){t.exports=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i]=t[i].slice(0):e[i]=t[i];return e}},function(t,e){t.exports=function(t,e,i,r){var n=t.length;if(e<0||e>n||e>=i||i>n||e+i>n){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(t,e){function i(t,e){return String(t).localeCompare(e)}function r(t,e,i,r){var n,s,o,a,l,u=t.length,h=0,c=2*i;for(n=0;n<u;n+=c)for(o=(s=n+i)+i,s>u&&(s=u),o>u&&(o=u),a=n,l=s;;)if(a<s&&l<o)e(t[a],t[l])<=0?r[h++]=t[a++]:r[h++]=t[l++];else if(a<s)r[h++]=t[a++];else{if(!(l<o))break;r[h++]=t[l++]}}t.exports=function(t,e){void 0===e&&(e=i);var n=function(t,e){var i=t.length;if(i<=1)return t;for(var n=new Array(i),s=1;s<i;s*=2){r(t,e,s,n);var o=t;t=n,n=o}return t}(t,e);return n!==t&&r(n,null,t.length,t),t}},function(t,e,i){var r=i(134),n=i(205);t.exports=function(t,e){var i=r.Power0;if("string"===typeof t)if(r.hasOwnProperty(t))i=r[t];else{var s="";t.indexOf(".")&&("in"===(s=t.substr(t.indexOf(".")+1)).toLowerCase()?s="easeIn":"out"===s.toLowerCase()?s="easeOut":"inout"===s.toLowerCase()&&(s="easeInOut")),t=n(t.substr(0,t.indexOf(".")+1)+s),r.hasOwnProperty(t)&&(i=r[t])}else"function"===typeof t?i=t:Array.isArray(t)&&t.length;if(!e)return i;var o=e.slice(0);return o.unshift(0),function(t){return o[0]=t,i.apply(this,o)}}},function(t,e,i){var r=i(12);t.exports=function(t,e,i,n,s){var o=t.strokeTint,a=r.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*i);o.TL=a,o.TR=a,o.BL=a,o.BR=a;var l=e.pathData,u=l.length-1,h=e.lineWidth,c=h/2,d=l[0]-n,f=l[1]-s;e.closePath||(u-=2);for(var p=2;p<u;p+=2){var m=l[p]-n,v=l[p+1]-s;t.batchLine(d,f,m,v,c,c,h,p-2,!!e.closePath&&p===u-1),d=m,f=v}}},function(t,e,i){var r=i(0),n=i(115),s=i(476),o=i(477),a=i(56),l=i(47),u=i(181),h=new r({initialize:function(t,e,i,r,n,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===s&&(s=0),this.type=a.TRIANGLE,this.x1=t,this.y1=e,this.x2=i,this.y2=r,this.x3=n,this.y3=s},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return u(this,t)},setTo:function(t,e,i,r,n,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=r,this.x3=n,this.y3=s,this},getLineA:function(t){return void 0===t&&(t=new l),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return void 0===t&&(t=new l),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return void 0===t&&(t=new l),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}});t.exports=h},function(t,e){var i={};t.exports=i,i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var r=Math.cos(e),n=Math.sin(e);i||(i={});var s=t.x*r-t.y*n;return i.y=t.x*n+t.y*r,i.x=s,i},i.rotateAbout=function(t,e,i,r){var n=Math.cos(e),s=Math.sin(e);r||(r={});var o=i.x+((t.x-i.x)*n-(t.y-i.y)*s);return r.y=i.y+((t.x-i.x)*s+(t.y-i.y)*n),r.x=o,r},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(t,e){var i={};t.exports=i,i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<e.length;r++){var n=e[r];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+r}},function(t,e,i){var r=i(29),n=i(0),s=i(11),o=i(502),a=new n({Mixins:[s.Alpha,s.Flip,s.Visible],initialize:function(t,e,i,r,n,s,o,a){this.layer=t,this.index=e,this.x=i,this.y=r,this.width=n,this.height=s,this.right,this.bottom,this.baseWidth=void 0!==o?o:n,this.baseHeight=void 0!==a?a:s,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;return e?e.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;return e?e.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*e.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){return void 0===e&&(e=new o),e.x=this.getLeft(),e.y=this.getTop(),e.width=this.getRight()-e.x,e.height=this.getBottom()-e.y,e},getCenterX:function(t){return(this.getLeft(t)+this.getRight(t))/2},getCenterY:function(t){return(this.getTop(t)+this.getBottom(t))/2},intersects:function(t,e,i,r){return!(i<=this.pixelX||r<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){return t&&e?this.canCollide||this.hasInterestingFace:t?this.collides:!!e&&this.hasInterestingFace},resetCollision:function(t){return void 0===t&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,e,i,r,n){return void 0===e&&(e=t),void 0===i&&(i=t),void 0===r&&(r=t),void 0===n&&(n=!0),this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=r,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=r,n&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(t,e){return null===t?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=e),this},setSize:function(t,e,i,r){return void 0!==t&&(this.width=t),void 0!==e&&(this.height=e),void 0!==i&&(this.baseWidth=i),void 0!==r&&(this.baseHeight=r),this.updatePixelXY(),this},updatePixelXY:function(){var t=this.layer.orientation;if(t===r.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(t===r.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(t===r.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(t===r.HEXAGONAL){var e=this.layer.hexSideLength,i=(this.baseHeight-e)/2+e;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*i}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.layer.tilemapLayer;if(t){var e=t.gidMap[this.index];if(e)return e}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});t.exports=a},function(t,e,i){var r={};t.exports=r;var n=i(64),s=i(32),o=i(41),a=i(84),l=i(83),u=i(1393);r.rectangle=function(t,e,i,r,a){a=a||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(a.chamfer){var u=a.chamfer;l.vertices=n.chamfer(l.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete a.chamfer}return o.create(s.extend({},l,a))},r.trapezoid=function(t,e,i,r,a,l){l=l||{};var u,h=i*(a*=.5),c=h+(1-2*a)*i,d=c+h;u=a<.5?"L 0 0 L "+h+" "+-r+" L "+c+" "+-r+" L "+d+" 0":"L 0 0 L "+c+" "+-r+" L "+d+" 0";var f={label:"Trapezoid Body",position:{x:t,y:e},vertices:n.fromPath(u)};if(l.chamfer){var p=l.chamfer;f.vertices=n.chamfer(f.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete l.chamfer}return o.create(s.extend({},f,l))},r.circle=function(t,e,i,n,o){n=n||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var l=Math.ceil(Math.max(10,Math.min(o,i)));return l%2===1&&(l+=1),r.polygon(t,e,l,i,s.extend({},a,n))},r.polygon=function(t,e,i,a,l){if(l=l||{},i<3)return r.circle(t,e,a,l);for(var u=2*Math.PI/i,h="",c=.5*u,d=0;d<i;d+=1){var f=c+d*u,p=Math.cos(f)*a,m=Math.sin(f)*a;h+="L "+p.toFixed(3)+" "+m.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:t,y:e},vertices:n.fromPath(h)};if(l.chamfer){var y=l.chamfer;v.vertices=n.chamfer(v.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return o.create(s.extend({},v,l))},r.fromVertices=function(t,e,i,a,l,h,c){var d,f,p,m,v,y;for(a=a||{},f=[],l="undefined"!==typeof l&&l,h="undefined"!==typeof h?h:.01,c="undefined"!==typeof c?c:10,u||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(i[0])||(i=[i]),y=0;y<i.length;y+=1)if(m=i[y],(p=n.isConvex(m))||!u)m=p?n.clockwiseSort(m):n.hull(m),f.push({position:{x:t,y:e},vertices:m});else{var g=m.map((function(t){return[t.x,t.y]}));u.makeCCW(g),!1!==h&&u.removeCollinearPoints(g,h);var x=u.quickDecomp(g);for(v=0;v<x.length;v++){var b=x[v].map((function(t){return{x:t[0],y:t[1]}}));c>0&&n.area(b)<c||f.push({position:n.centre(b),vertices:b})}}for(v=0;v<f.length;v++)f[v]=o.create(s.extend(f[v],a));return l&&r.flagCoincidentParts(f,5),f.length>1?(d=o.create(s.extend({parts:f.slice(0)},a)),o.setPosition(d,{x:t,y:e}),d):f[0]},r.flagCoincidentParts=function(t,e){void 0===e&&(e=5);for(var i=0;i<t.length;i++)for(var r=t[i],n=i+1;n<t.length;n++){var s=t[n];if(a.overlaps(r.bounds,s.bounds))for(var o=r.vertices,u=s.vertices,h=0;h<r.vertices.length;h++)for(var c=0;c<s.vertices.length;c++){var d=l.magnitudeSquared(l.sub(o[(h+1)%o.length],u[c])),f=l.magnitudeSquared(l.sub(o[h],u[(c+1)%u.length]));d<e&&f<e&&(o[h].isInternal=!0,u[c].isInternal=!0)}}return t}},function(t,e){t.exports=function(t){return t.x-t.width*t.originX+.5*t.width}},function(t,e){t.exports=function(t,e){var i=t.width*t.originX;return t.x=e+i-.5*t.width,t}},function(t,e){t.exports=function(t){return t.y-t.height*t.originY+.5*t.height}},function(t,e){t.exports=function(t,e){var i=t.height*t.originY;return t.y=e+i-.5*t.height,t}},function(t,e,i){t.exports={POST_RENDER:i(628),PRE_RENDER:i(629),RENDER:i(630),RESIZE:i(631)}},function(t,e){t.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(t,e,i){var r=i(74);t.exports=function(t,e,i,n){var s;if(void 0===n&&(n=t),!Array.isArray(e))return-1!==(s=t.indexOf(e))?(r(t,s),i&&i.call(n,e),e):null;for(var o=e.length-1,a=[];o>=0;){var l=e[o];-1!==(s=t.indexOf(l))&&(r(t,s),a.push(l),i&&i.call(n,l)),o--}return a}},function(t,e,i){var r=i(0),n=i(199),s=i(10),o=i(3),a=new r({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){t||(t=new s),void 0===e&&(e=16);var i=this.getLength();e>i&&(e=i/2);var r=Math.max(1,Math.round(i/e));return n(this.getSpacedPoints(r),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return void 0===t&&(t=new o),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i=[],r=this.getPoint(0,this._tmpVec2A),n=0;i.push(0);for(var s=1;s<=t;s++)n+=(e=this.getPoint(s/t,this._tmpVec2B)).distance(r),i.push(n),r.copy(e);return this.cacheArcLengths=i,i},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var r=0;r<=t;r++)i.push(this.getPoint(r/t));return i},getRandomPoint:function(t){return void 0===t&&(t=new o),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var r=0;r<=t;r++){var n=this.getUtoTmapping(r/t,null,t);i.push(this.getPoint(n))}return i},getStartPoint:function(t){return void 0===t&&(t=new o),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new o);var i=1e-4,r=t-i,n=t+i;return r<0&&(r=0),n>1&&(n=1),this.getPoint(r,this._tmpVec2A),this.getPoint(n,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var r,n=this.getLengths(i),s=0,o=n.length;r=e?Math.min(e,n[o-1]):t*n[o-1];for(var a,l=0,u=o-1;l<=u;)if((a=n[s=Math.floor(l+(u-l)/2)]-r)<0)l=s+1;else{if(!(a>0)){u=s;break}u=s-1}if(n[s=u]===r)return s/(o-1);var h=n[s];return(s+(r-h)/(n[s+1]-h))/(o-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});t.exports=a},function(t,e,i){t.exports={ADD:i(968),COMPLETE:i(969),FILE_COMPLETE:i(970),FILE_KEY_COMPLETE:i(971),FILE_LOAD_ERROR:i(972),FILE_LOAD:i(973),FILE_PROGRESS:i(974),POST_PROCESS:i(975),PROGRESS:i(976),START:i(977)}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){void 0===i&&(i=new r);var n=t.x1,s=t.y1,o=t.x2,a=t.y2,l=e.x1,u=e.y1,h=e.x2,c=e.y2,d=(c-u)*(o-n)-(h-l)*(a-s);if(0===d)return!1;var f=((h-l)*(s-u)-(c-u)*(n-l))/d,p=((o-n)*(s-u)-(a-s)*(n-l))/d;return f>=0&&f<=1&&p>=0&&p<=1&&(i.x=n+f*(o-n),i.y=s+f*(a-s),!0)}},function(t,e){t.exports=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)}},function(t,e,i){var r=i(18);t.exports=function(t,e,i){return(i-e)*(t=r(t,0,1))+e}},function(t,e){t.exports=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}},function(t,e){t.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(t,e,i){var r=i(0),n=i(315),s=new r({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once(n.DESTROY,this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],r=0;r<t.length;r++)i.push(e[t[r]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"===typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},inc:function(t,e){if(this._frozen)return this;void 0===e&&(e=1);var i=this.get(t);return void 0===i&&(i=0),this.set(t,i+e),this},toggle:function(t){return this._frozen||this.set(t,!this.get(t)),this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,r=this.list,s=this.events,o=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return r[t]},set:function(e){if(!i._frozen){var a=r[t];r[t]=e,s.emit(n.CHANGE_DATA,o,t,e,a),s.emit(n.CHANGE_DATA_KEY+t,o,e,a)}}}),r[t]=e,s.emit(n.SET_DATA,o,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[1]=n,i[2]=this.list[n],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit(n.REMOVE_DATA,this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit(n.REMOVE_DATA,this.parent,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(n.CHANGE_DATA),this.events.off(n.SET_DATA),this.events.off(n.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});t.exports=s},function(t,e,i){var r=new(i(0))({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||this.size++,this.entries[t]=e,this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach((function(t){delete this.entries[t]}),this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;for(var e in console.group("Map"),t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,r=t.entries;for(var n in r)i.hasOwnProperty(n)&&e?i[n]=r[n]:this.set(n,r[n]);return this}});t.exports=r},function(t,e){t.exports=function(t,e,i){return t<<16|e<<8|i}},function(t,e,i){t.exports={ENTER_FULLSCREEN:i(800),FULLSCREEN_FAILED:i(801),FULLSCREEN_UNSUPPORTED:i(802),LEAVE_FULLSCREEN:i(803),ORIENTATION_CHANGE:i(804),RESIZE:i(805)}},function(t,e,i){(function(e){var i={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};t.exports=function(){if("function"===typeof importScripts)return i;var t=navigator.userAgent;/Windows/.test(t)?i.windows=!0:/Mac OS/.test(t)&&!/like Mac OS/.test(t)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(i.iOS=!0,i.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),i.iOSVersion=parseInt(RegExp.$1,10)):i.macOS=!0:/Android/.test(t)?i.android=!0:/Linux/.test(t)?i.linux=!0:/iP[ao]d|iPhone/i.test(t)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10),i.iPhone=-1!==t.toLowerCase().indexOf("iphone"),i.iPad=-1!==t.toLowerCase().indexOf("ipad")):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?i.kindle=!0:/CrOS/.test(t)&&(i.chromeOS=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0);var r=/Silk/.test(t);return(i.windows||i.macOS||i.linux&&!r||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),"function"!==typeof importScripts&&(void 0!==window.cordova&&(i.cordova=!0),void 0!==window.ejecta&&(i.ejecta=!0)),"undefined"!==typeof e&&e.versions&&e.versions.node&&(i.node=!0),i.node&&"object"===typeof e.versions&&(i.nodeWebkit=!!e.versions["node-webkit"],i.electron=!!e.versions.electron),/Crosswalk/.test(t)&&(i.crosswalk=!0),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(this,i(807))},function(t,e,i){t.exports={ADD:i(861),ERROR:i(862),LOAD:i(863),READY:i(864),REMOVE:i(865)}},function(t,e){t.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},function(t,e,i){var r=i(0),n=i(59),s=i(2),o=i(878),a=i(879),l=i(25),u=i(12),h=i(107),c=i(58),d=new r({Extends:c,initialize:function(t){var e=t.game.renderer,i=s(t,"fragShader",o);t.fragShader=u.parseFragmentShaderMaxTextures(i,e.maxTextures),t.vertShader=s(t,"vertShader",a),t.attributes=s(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),c.call(this,t),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.calcMatrix=new l,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){c.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(t,e,i){this.manager.set(this,t);var r=this._tempMatrix1,n=this._tempMatrix2,s=this._tempMatrix3,o=t.frame,a=o.glTexture,l=o.u0,h=o.v0,c=o.u1,d=o.v1,f=o.x,p=o.y,m=o.cutWidth,v=o.cutHeight,y=o.customPivot,g=t.displayOriginX,x=t.displayOriginY,b=-g+f,w=-x+p;if(t.isCropped){var _=t._crop;_.flipX===t.flipX&&_.flipY===t.flipY||o.updateCropUVs(_,t.flipX,t.flipY),l=_.u0,h=_.v0,c=_.u1,d=_.v1,m=_.width,v=_.height,b=-g+(f=_.x),w=-x+(p=_.y)}var S=1,A=1;t.flipX&&(y||(b+=-o.realWidth+2*g),S=-1),(t.flipY||o.source.isGLTexture&&!a.flipY)&&(y||(w+=-o.realHeight+2*x),A=-1),n.applyITRS(t.x,t.y,t.rotation,t.scaleX*S,t.scaleY*A),r.copyFrom(e.matrix),i?(r.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),n.e=t.x,n.f=t.y):(n.e-=e.scrollX*t.scrollFactorX,n.f-=e.scrollY*t.scrollFactorY),r.multiply(n,s);var T=b+m,E=w+v,M=e.roundPixels,C=s.getXRound(b,w,M),P=s.getYRound(b,w,M),R=s.getXRound(b,E,M),k=s.getYRound(b,E,M),L=s.getXRound(T,E,M),O=s.getYRound(T,E,M),D=s.getXRound(T,w,M),I=s.getYRound(T,w,M),F=u.getTintAppendFloatAlpha,j=e.alpha,B=F(t.tintTopLeft,j*t._alphaTL),N=F(t.tintTopRight,j*t._alphaTR),U=F(t.tintBottomLeft,j*t._alphaBL),z=F(t.tintBottomRight,j*t._alphaBR);this.shouldFlush(6)&&this.flush();var G=this.setGameObject(t,o);this.manager.preBatch(t),this.batchQuad(t,C,P,R,k,L,O,D,I,l,h,c,d,B,N,U,z,t.tintFill,a,G),this.manager.postBatch(t)},batchTexture:function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p,m,v,y,g,x,b,w,_,S,A,T,E,M,C,P,R,k){this.manager.set(this,t);var L=this._tempMatrix1,O=this._tempMatrix2,D=this._tempMatrix3,I=y/i+E,F=g/r+M,j=(y+x)/i+E,B=(g+b)/r+M,N=o,U=a,z=-m,G=-v;if(t.isCropped){var V=t._crop,H=V.width,W=V.height;N=H,U=W,o=H,a=W;var Y=y=V.x,X=g=V.y;c&&(Y=x-V.x-H),d&&(X=b-V.y-W),I=Y/i+E,F=X/r+M,j=(Y+H)/i+E,B=(X+W)/r+M,z=-m+y,G=-v+g}c&&(N*=-1,z+=o),(d^=!R&&e.isRenderTexture?1:0)&&(U*=-1,G+=a);var Z=z+N,q=G+U;O.applyITRS(n,s,h,l,u),L.copyFrom(C.matrix),P?(L.multiplyWithOffset(P,-C.scrollX*f,-C.scrollY*p),O.e=n,O.f=s):(O.e-=C.scrollX*f,O.f-=C.scrollY*p),L.multiply(O,D);var Q=C.roundPixels,K=D.getXRound(z,G,Q),J=D.getYRound(z,G,Q),$=D.getXRound(z,q,Q),tt=D.getYRound(z,q,Q),et=D.getXRound(Z,q,Q),it=D.getYRound(Z,q,Q),rt=D.getXRound(Z,G,Q),nt=D.getYRound(Z,G,Q);void 0===k&&(k=this.renderer.setTexture2D(e)),t&&this.manager.preBatch(t),this.batchQuad(t,K,J,$,tt,et,it,rt,nt,I,F,j,B,w,_,S,A,T,e,k),t&&this.manager.postBatch(t)},batchTextureFrame:function(t,e,i,r,n,s,o){this.manager.set(this);var a=this._tempMatrix1.copyFrom(s),l=this._tempMatrix2,h=e+t.width,c=i+t.height;o?a.multiply(o,l):l=a;var d=l.getX(e,i),f=l.getY(e,i),p=l.getX(e,c),m=l.getY(e,c),v=l.getX(h,c),y=l.getY(h,c),g=l.getX(h,i),x=l.getY(h,i),b=this.renderer.setTextureSource(t.source);r=u.getTintAppendFloatAlpha(r,n),this.batchQuad(null,d,f,p,m,v,y,g,x,t.u0,t.v0,t.u1,t.v1,r,r,r,r,0,t.glTexture,b)},batchFillRect:function(t,e,i,r,n,s){this.renderer.pipelines.set(this);var o=this.calcMatrix;s&&s.multiply(n,o);var a=t+i,l=e+r,u=o.getX(t,e),h=o.getY(t,e),c=o.getX(t,l),d=o.getY(t,l),f=o.getX(a,l),p=o.getY(a,l),m=o.getX(a,e),v=o.getY(a,e),y=this.fillTint;this.batchQuad(null,u,h,c,d,f,p,m,v,0,0,1,1,y.TL,y.TR,y.BL,y.BR,2)},batchFillTriangle:function(t,e,i,r,n,s,o,a){this.renderer.pipelines.set(this);var l=this.calcMatrix;a&&a.multiply(o,l);var u=l.getX(t,e),h=l.getY(t,e),c=l.getX(i,r),d=l.getY(i,r),f=l.getX(n,s),p=l.getY(n,s),m=this.fillTint;this.batchTri(null,u,h,c,d,f,p,0,0,1,1,m.TL,m.TR,m.BL,2)},batchStrokeTriangle:function(t,e,i,r,n,s,o,a,l){var u=this.tempTriangle;u[0].x=t,u[0].y=e,u[0].width=o,u[1].x=i,u[1].y=r,u[1].width=o,u[2].x=n,u[2].y=s,u[2].width=o,u[3].x=t,u[3].y=e,u[3].width=o,this.batchStrokePath(u,o,!1,a,l)},batchFillPath:function(t,e,i){this.renderer.pipelines.set(this);var r=this.calcMatrix;i&&i.multiply(e,r);for(var s,o,a=t.length,l=this.polygonCache,u=this.fillTint.TL,h=this.fillTint.TR,c=this.fillTint.BL,d=0;d<a;++d)o=t[d],l.push(o.x,o.y);a=(s=n(l)).length;for(var f=0;f<a;f+=3){var p=2*s[f+0],m=2*s[f+1],v=2*s[f+2],y=l[p+0],g=l[p+1],x=l[m+0],b=l[m+1],w=l[v+0],_=l[v+1],S=r.getX(y,g),A=r.getY(y,g),T=r.getX(x,b),E=r.getY(x,b),M=r.getX(w,_),C=r.getY(w,_);this.batchTri(null,S,A,T,E,M,C,0,0,1,1,u,h,c,2)}l.length=0},batchStrokePath:function(t,e,i,r,n){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=t.length-1,o=0;o<s;o++){var a=t[o],l=t[o+1];this.batchLine(a.x,a.y,l.x,l.y,a.width/2,l.width/2,e,o,!i&&o===s-1,r,n)}},batchLine:function(t,e,i,r,n,s,o,a,l,u,h){this.renderer.pipelines.set(this);var c=this.calcMatrix;h&&h.multiply(u,c);var d=i-t,f=r-e,p=Math.sqrt(d*d+f*f),m=n*(r-e)/p,v=n*(t-i)/p,y=s*(r-e)/p,g=s*(t-i)/p,x=i-y,b=r-g,w=t-m,_=e-v,S=i+y,A=r+g,T=t+m,E=e+v,M=c.getX(x,b),C=c.getY(x,b),P=c.getX(w,_),R=c.getY(w,_),k=c.getX(S,A),L=c.getY(S,A),O=c.getX(T,E),D=c.getY(T,E),I=this.strokeTint,F=I.TL,j=I.TR,B=I.BL,N=I.BR;if(this.batchQuad(null,O,D,P,R,M,C,k,L,0,0,1,1,F,j,B,N,2),!(o<=2)){var U=this.prevQuad,z=this.firstQuad;a>0&&U[4]?this.batchQuad(null,O,D,P,R,U[0],U[1],U[2],U[3],0,0,1,1,F,j,B,N,2):(z[0]=O,z[1]=D,z[2]=P,z[3]=R,z[4]=1),l&&z[4]?this.batchQuad(null,M,C,k,L,z[0],z[1],z[2],z[3],0,0,1,1,F,j,B,N,2):(U[0]=M,U[1]=C,U[2]=k,U[3]=L,U[4]=1)}}});t.exports=d},function(t,e,i){var r=i(0),n=i(18),s=i(17),o=new r({initialize:function(t,e,i,r,n,s,o){this.texture=t,this.name=e,this.source=t.source[i],this.sourceIndex=i,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(s,o,r,n)},setSize:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this.cutX=i,this.cutY=r,this.cutWidth=t,this.cutHeight=e,this.width=t,this.height=e,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*e),this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2);var n=this.data,s=n.cut;s.x=i,s.y=r,s.w=t,s.h=e,s.r=i+t,s.b=r+e,n.sourceSize.w=t,n.sourceSize.h=e,n.spriteSourceSize.w=t,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(t*t+e*e);var o=n.drawImage;return o.x=i,o.y=r,o.width=t,o.height=e,this.updateUVs()},setTrim:function(t,e,i,r,n,s){var o=this.data,a=o.spriteSourceSize;return o.trim=!0,o.sourceSize.w=t,o.sourceSize.h=e,a.x=i,a.y=r,a.w=n,a.h=s,a.r=i+n,a.b=r+s,this.x=i,this.y=r,this.width=n,this.height=s,this.halfWidth=.5*n,this.halfHeight=.5*s,this.centerX=Math.floor(n/2),this.centerY=Math.floor(s/2),this.updateUVs()},setCropUVs:function(t,e,i,r,s,o,a){var l=this.cutX,u=this.cutY,h=this.cutWidth,c=this.cutHeight,d=this.realWidth,f=this.realHeight,p=l+(e=n(e,0,d)),m=u+(i=n(i,0,f)),v=r=n(r,0,d-e),y=s=n(s,0,f-i),g=this.data;if(g.trim){var x=g.spriteSourceSize,b=e+(r=n(r,0,h-e)),w=i+(s=n(s,0,c-i));if(x.r<e||x.b<i||x.x>b||x.y>w)p=0,m=0,v=0,y=0;else{var _=Math.max(x.x,e),S=Math.max(x.y,i),A=Math.min(x.r,b)-_,T=Math.min(x.b,w)-S;v=A,y=T,p=o?l+(h-(_-x.x)-A):l+(_-x.x),m=a?u+(c-(S-x.y)-T):u+(S-x.y),e=_,i=S,r=A,s=T}}else o&&(p=l+(h-e-r)),a&&(m=u+(c-i-s));var E=this.source.width,M=this.source.height;return t.u0=Math.max(0,p/E),t.v0=Math.max(0,m/M),t.u1=Math.min(1,(p+v)/E),t.v1=Math.min(1,(m+y)/M),t.x=e,t.y=i,t.cx=p,t.cy=m,t.cw=v,t.ch=y,t.width=r,t.height=s,t.flipX=o,t.flipY=a,t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},setUVs:function(t,e,i,r,n,s){var o=this.data.drawImage;return o.width=t,o.height=e,this.u0=i,this.v0=r,this.u1=n,this.v1=s,this},updateUVs:function(){var t=this.cutX,e=this.cutY,i=this.cutWidth,r=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=r;var s=this.source.width,o=this.source.height;return this.u0=t/s,this.v0=e/o,this.u1=(t+i)/s,this.v1=(e+r)/o,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/e,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var t=new o(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=s(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=o},function(t,e,i){var r=i(208),n=i(0),s=i(1),o=i(79),a=new n({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(t,e){return e?r.Add(this.list,t):r.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,e,i){return i?r.AddAt(this.list,t,e):r.AddAt(this.list,t,e,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),o(this.list,e),this):this},getByName:function(t){return r.GetFirst(this.list,"name",t)},getRandom:function(t,e){return r.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return r.GetFirst(this.list,t,e,i,n)},getAll:function(t,e,i,n){return r.GetAll(this.list,t,e,i,n)},count:function(t,e){return r.CountAllMatching(this.list,t,e)},swap:function(t,e){r.Swap(this.list,t,e)},moveTo:function(t,e){return r.MoveTo(this.list,t,e)},moveAbove:function(t,e){return r.MoveAbove(this.list,t,e)},moveBelow:function(t,e){return r.MoveBelow(this.list,t,e)},remove:function(t,e){return e?r.Remove(this.list,t):r.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,e){return e?r.RemoveAt(this.list,t):r.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,e,i){return i?r.RemoveBetween(this.list,t,e):r.RemoveBetween(this.list,t,e,this.removeCallback,this)},removeAll:function(t){for(var e=this.list.length;e--;)this.remove(this.list[e],t);return this},bringToTop:function(t){return r.BringToTop(this.list,t)},sendToBack:function(t){return r.SendToBack(this.list,t)},moveUp:function(t){return r.MoveUp(this.list,t),t},moveDown:function(t){return r.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return r.Shuffle(this.list),this},replace:function(t,e){return r.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,n){return r.SetAll(this.list,t,e,i,n),this},each:function(t,e){for(var i=[null],r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<this.list.length;r++)i[0]=this.list[r],t.apply(e,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});t.exports=a},function(t,e,i){var r=i(0),n=i(112),s=i(445),o=i(446),a=i(56),l=i(180),u=new r({initialize:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.type=a.ELLIPSE,this.x=t,this.y=e,this.width=i,this.height=r},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},function(t,e){t.exports=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var r=(e-t.x)/t.width,n=(i-t.y)/t.height;return(r*=r)+(n*=n)<.25}},function(t,e,i){var r=i(275),n=i(0),s=i(75),o=i(9),a=i(207),l=i(2),u=i(6),h=i(7),c=i(437),d=i(149),f=i(73),p=new n({Extends:o,initialize:function(t,e,i){o.call(this),i?e&&!Array.isArray(e)&&(e=[e]):Array.isArray(e)?h(e[0])&&(i=e,e=null):h(e)&&(i=e,e=null),this.scene=t,this.children=new d,this.isParent=!0,this.type="Group",this.classType=l(i,"classType",f),this.name=l(i,"name",""),this.active=l(i,"active",!0),this.maxSize=l(i,"maxSize",-1),this.defaultKey=l(i,"defaultKey",null),this.defaultFrame=l(i,"defaultFrame",null),this.runChildUpdate=l(i,"runChildUpdate",!1),this.createCallback=l(i,"createCallback",null),this.removeCallback=l(i,"removeCallback",null),this.createMultipleCallback=l(i,"createMultipleCallback",null),this.internalCreateCallback=l(i,"internalCreateCallback",null),this.internalRemoveCallback=l(i,"internalRemoveCallback",null),e&&this.addMultiple(e),i&&this.createMultiple(i),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(t,e,i,r,n,s){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.defaultKey),void 0===r&&(r=this.defaultFrame),void 0===n&&(n=!0),void 0===s&&(s=!0),this.isFull())return null;var o=new this.classType(this.scene,t,e,i,r);return o.addToDisplayList(this.scene.sys.displayList),o.addToUpdateList(),o.visible=n,o.setActive(s),this.add(o),o},createMultiple:function(t){if(this.isFull())return[];Array.isArray(t)||(t=[t]);var e=[];if(t[0].key)for(var i=0;i<t.length;i++){var r=this.createFromConfig(t[i]);e=e.concat(r)}return e},createFromConfig:function(t){if(this.isFull())return[];this.classType=l(t,"classType",this.classType);var e=l(t,"key",void 0),i=l(t,"frame",null),n=l(t,"visible",!0),s=l(t,"active",!0),o=[];if(void 0===e)return o;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var a=l(t,"repeat",0),h=l(t,"randomKey",!1),d=l(t,"randomFrame",!1),f=l(t,"yoyo",!1),p=l(t,"quantity",!1),m=l(t,"frameQuantity",1),v=l(t,"max",0),y=c(e,i,{max:v,qty:p||m,random:h,randomB:d,repeat:a,yoyo:f});t.createCallback&&(this.createCallback=t.createCallback),t.removeCallback&&(this.removeCallback=t.removeCallback);for(var g=0;g<y.length;g++){var x=this.create(0,0,y[g].a,y[g].b,n,s);if(!x)break;o.push(x)}var b=u(t,"setXY.x",0),w=u(t,"setXY.y",0),_=u(t,"setXY.stepX",0),S=u(t,"setXY.stepY",0);r.SetXY(o,b,w,_,S);var A=u(t,"setRotation.value",0),T=u(t,"setRotation.step",0);r.SetRotation(o,A,T);var E=u(t,"setScale.x",1),M=u(t,"setScale.y",E),C=u(t,"setScale.stepX",0),P=u(t,"setScale.stepY",0);r.SetScale(o,E,M,C,P);var R=u(t,"setOrigin.x",.5),k=u(t,"setOrigin.y",R),L=u(t,"setOrigin.stepX",0),O=u(t,"setOrigin.stepY",0);r.SetOrigin(o,R,k,L,O);var D=u(t,"setAlpha.value",1),I=u(t,"setAlpha.step",0);r.SetAlpha(o,D,I);var F=u(t,"setDepth.value",0),j=u(t,"setDepth.step",0);r.SetDepth(o,F,j);var B=u(t,"setScrollFactor.x",1),N=u(t,"setScrollFactor.y",B),U=u(t,"setScrollFactor.stepX",0),z=u(t,"setScrollFactor.stepY",0);r.SetScrollFactor(o,B,N,U,z);var G=l(t,"hitArea",null),V=l(t,"hitAreaCallback",null);G&&r.SetHitArea(o,G,V);var H=l(t,"gridAlign",!1);return H&&r.GridAlign(o,H),this.createMultipleCallback&&this.createMultipleCallback.call(this,o),o},preUpdate:function(t,e){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),r=0;r<i.length;r++){var n=i[r];n.active&&n.update(t,e)}},add:function(t,e){return void 0===e&&(e=!1),this.isFull()||(this.children.set(t),this.internalCreateCallback&&this.internalCreateCallback.call(this,t),this.createCallback&&this.createCallback.call(this,t),e&&(t.addToDisplayList(this.scene.sys.displayList),t.addToUpdateList()),t.on(s.DESTROY,this.remove,this)),this},addMultiple:function(t,e){if(void 0===e&&(e=!1),Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return this},remove:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.children.contains(t)?(this.children.delete(t),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,t),this.removeCallback&&this.removeCallback.call(this,t),t.off(s.DESTROY,this.remove,this),i?t.destroy():e&&(t.removeFromDisplayList(),t.removeFromUpdateList()),this):this},clear:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);for(var i=this.children,r=0;r<i.size;r++){var n=i.entries[r];n.off(s.DESTROY,this.remove,this),e?n.destroy():t&&(n.removeFromDisplayList(),n.removeFromUpdateList())}return this.children.clear(),this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(t,e,i,r){return a(this.children.entries,t,e,i,r)},getFirst:function(t,e,i,r,n,s,o){return this.getHandler(!0,1,t,e,i,r,n,s,o)},getFirstNth:function(t,e,i,r,n,s,o,a){return this.getHandler(!0,t,e,i,r,n,s,o,a)},getLast:function(t,e,i,r,n,s,o){return this.getHandler(!1,1,t,e,i,r,n,s,o)},getLastNth:function(t,e,i,r,n,s,o,a){return this.getHandler(!1,t,e,i,r,n,s,o,a)},getHandler:function(t,e,i,r,n,s,o,a,l){var u,h;void 0===i&&(i=!1),void 0===r&&(r=!1);var c=0,d=this.children.entries;if(t)for(h=0;h<d.length;h++)if((u=d[h]).active===i){if(++c===e)break}else u=null;else for(h=d.length-1;h>=0;h--)if((u=d[h]).active===i){if(++c===e)break}else u=null;return u?("number"===typeof n&&(u.x=n),"number"===typeof s&&(u.y=s),u):r?this.create(n,s,o,a,l):null},get:function(t,e,i,r,n){return this.getFirst(!1,!0,t,e,i,r,n)},getFirstAlive:function(t,e,i,r,n,s){return this.getFirst(!0,t,e,i,r,n,s)},getFirstDead:function(t,e,i,r,n,s){return this.getFirst(!1,t,e,i,r,n,s)},playAnimation:function(t,e){return r.PlayAnimation(this.children.entries,t,e),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(t){void 0===t&&(t=!0);for(var e=0,i=0;i<this.children.size;i++)this.children.entries[i].active===t&&e++;return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-t},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},propertyValueSet:function(t,e,i,n,s){return r.PropertyValueSet(this.children.entries,t,e,i,n,s),this},propertyValueInc:function(t,e,i,n,s){return r.PropertyValueInc(this.children.entries,t,e,i,n,s),this},setX:function(t,e){return r.SetX(this.children.entries,t,e),this},setY:function(t,e){return r.SetY(this.children.entries,t,e),this},setXY:function(t,e,i,n){return r.SetXY(this.children.entries,t,e,i,n),this},incX:function(t,e){return r.IncX(this.children.entries,t,e),this},incY:function(t,e){return r.IncY(this.children.entries,t,e),this},incXY:function(t,e,i,n){return r.IncXY(this.children.entries,t,e,i,n),this},shiftPosition:function(t,e,i){return r.ShiftPosition(this.children.entries,t,e,i),this},angle:function(t,e){return r.Angle(this.children.entries,t,e),this},rotate:function(t,e){return r.Rotate(this.children.entries,t,e),this},rotateAround:function(t,e){return r.RotateAround(this.children.entries,t,e),this},rotateAroundDistance:function(t,e,i){return r.RotateAroundDistance(this.children.entries,t,e,i),this},setAlpha:function(t,e){return r.SetAlpha(this.children.entries,t,e),this},setTint:function(t,e,i,n){return r.SetTint(this.children.entries,t,e,i,n),this},setOrigin:function(t,e,i,n){return r.SetOrigin(this.children.entries,t,e,i,n),this},scaleX:function(t,e){return r.ScaleX(this.children.entries,t,e),this},scaleY:function(t,e){return r.ScaleY(this.children.entries,t,e),this},scaleXY:function(t,e,i,n){return r.ScaleXY(this.children.entries,t,e,i,n),this},setDepth:function(t,e){return r.SetDepth(this.children.entries,t,e),this},setBlendMode:function(t){return r.SetBlendMode(this.children.entries,t),this},setHitArea:function(t,e){return r.SetHitArea(this.children.entries,t,e),this},shuffle:function(){return r.Shuffle(this.children.entries),this},kill:function(t){this.children.contains(t)&&t.setActive(!1)},killAndHide:function(t){this.children.contains(t)&&(t.setActive(!1),t.setVisible(!1))},setVisible:function(t,e,i){return r.SetVisible(this.children.entries,t,e,i),this},toggleVisible:function(){return r.ToggleVisible(this.children.entries),this},destroy:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(e,t),this.scene=void 0,this.children=void 0)}});t.exports=p},function(t,e,i){var r=i(12);t.exports=function(t,e,i,n,s,o){for(var a=r.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),l=i.pathData,u=i.pathIndexes,h=0;h<u.length;h+=3){var c=2*u[h],d=2*u[h+1],f=2*u[h+2],p=l[c+0]-s,m=l[c+1]-o,v=l[d+0]-s,y=l[d+1]-o,g=l[f+0]-s,x=l[f+1]-o,b=e.getX(p,m),w=e.getY(p,m),_=e.getX(v,y),S=e.getY(v,y),A=e.getX(g,x),T=e.getY(g,x);t.batchTri(i,b,w,_,S,A,T,0,0,1,1,a,a,a,2)}}},function(t,e){t.exports=function(t,e,i){var r=t.x3-t.x1,n=t.y3-t.y1,s=t.x2-t.x1,o=t.y2-t.y1,a=e-t.x1,l=i-t.y1,u=r*r+n*n,h=r*s+n*o,c=r*a+n*l,d=s*s+o*o,f=s*a+o*l,p=u*d-h*h,m=0===p?0:1/p,v=(d*c-h*f)*m,y=(u*f-h*c)*m;return v>=0&&y>=0&&v+y<1}},function(t,e,i){var r=i(0),n=i(10),s=i(3);function o(t,e,i,r){var n=t-i,s=e-r,o=n*n+s*s;return Math.sqrt(o)}var a=new r({initialize:function(t,e,i){this.vertex1=t,this.vertex2=e,this.vertex3=i,this.bounds=new n,this._inCenter=new s},getInCenter:function(t){void 0===t&&(t=!0);var e,i,r,n,s,a,l=this.vertex1,u=this.vertex2,h=this.vertex3;t?(e=l.x,i=l.y,r=u.x,n=u.y,s=h.x,a=h.y):(e=l.vx,i=l.vy,r=u.vx,n=u.vy,s=h.vx,a=h.vy);var c=o(s,a,r,n),d=o(e,i,s,a),f=o(r,n,e,i),p=c+d+f;return this._inCenter.set((e*c+r*d+s*f)/p,(i*c+n*d+a*f)/p)},contains:function(t,e,i){var r=this.vertex1,n=this.vertex2,s=this.vertex3,o=r.vx,a=r.vy,l=n.vx,u=n.vy,h=s.vx,c=s.vy;if(i){var d=i.a,f=i.b,p=i.c,m=i.d,v=i.e,y=i.f;o=r.vx*d+r.vy*p+v,a=r.vx*f+r.vy*m+y,l=n.vx*d+n.vy*p+v,u=n.vx*f+n.vy*m+y,h=s.vx*d+s.vy*p+v,c=s.vx*f+s.vy*m+y}var g=h-o,x=c-a,b=l-o,w=u-a,_=t-o,S=e-a,A=g*g+x*x,T=g*b+x*w,E=g*_+x*S,M=b*b+w*w,C=b*_+w*S,P=A*M-T*T,R=0===P?0:1/P,k=(M*E-T*C)*R,L=(A*C-T*E)*R;return k>=0&&L>=0&&k+L<1},isCounterClockwise:function(t){var e=this.vertex1,i=this.vertex2,r=this.vertex3,n=(i.vx-e.vx)*(r.vy-e.vy)-(i.vy-e.vy)*(r.vx-e.vx);return t<=0?n>=0:n<0},load:function(t,e,i,r,n){return i=this.vertex1.load(t,e,i,r,n),i=this.vertex2.load(t,e,i,r,n),i=this.vertex3.load(t,e,i,r,n)},transformCoordinatesLocal:function(t,e,i,r){return this.vertex1.transformCoordinatesLocal(t,e,i,r),this.vertex2.transformCoordinatesLocal(t,e,i,r),this.vertex3.transformCoordinatesLocal(t,e,i,r),this},updateBounds:function(){var t=this.vertex1,e=this.vertex2,i=this.vertex3,r=this.bounds;return r.x=Math.min(t.vx,e.vx,i.vx),r.y=Math.min(t.vy,e.vy,i.vy),r.width=Math.max(t.vx,e.vx,i.vx)-r.x,r.height=Math.max(t.vy,e.vy,i.vy)-r.y,this},isInView:function(t,e,i,r,n,s,o,a,l,u,h){var c=this.vertex1.update(n,s,o,a,l,u,h,r),d=this.vertex2.update(n,s,o,a,l,u,h,r),f=this.vertex3.update(n,s,o,a,l,u,h,r);if(c.ta<=0&&d.ta<=0&&f.ta<=0)return!1;if(e&&!this.isCounterClockwise(i))return!1;var p=this.bounds;p.x=Math.min(c.tx,d.tx,f.tx),p.y=Math.min(c.ty,d.ty,f.ty),p.width=Math.max(c.tx,d.tx,f.tx)-p.x,p.height=Math.max(c.ty,d.ty,f.ty)-p.y;var m=t.x+t.width,v=t.y+t.height;return!(p.width<=0||p.height<=0||t.width<=0||t.height<=0)&&!(p.right<t.x||p.bottom<t.y||p.x>m||p.y>v)},translate:function(t,e){void 0===e&&(e=0);var i=this.vertex1,r=this.vertex2,n=this.vertex3;return i.x+=t,i.y+=e,r.x+=t,r.y+=e,n.x+=t,n.y+=e,this},x:{get:function(){return this.getInCenter().x},set:function(t){var e=this.getInCenter();this.translate(t-e.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(t){var e=this.getInCenter();this.translate(0,t-e.y)}},alpha:{get:function(){var t=this.vertex1,e=this.vertex2,i=this.vertex3;return(t.alpha+e.alpha+i.alpha)/3},set:function(t){this.vertex1.alpha=t,this.vertex2.alpha=t,this.vertex3.alpha=t}},depth:{get:function(){var t=this.vertex1,e=this.vertex2,i=this.vertex3;return(t.vz+e.vz+i.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});t.exports=a},function(t,e,i){var r=i(0),n=i(12),s=i(39),o=new r({Extends:s,initialize:function(t,e,i,r,n,o,a,l,u,h){void 0===o&&(o=16777215),void 0===a&&(a=1),void 0===l&&(l=0),void 0===u&&(u=0),void 0===h&&(h=0),s.call(this,t,e,i),this.vx=0,this.vy=0,this.vz=0,this.nx=l,this.ny=u,this.nz=h,this.u=r,this.v=n,this.color=o,this.alpha=a,this.tx=0,this.ty=0,this.ta=0},setUVs:function(t,e){return this.u=t,this.v=e,this},transformCoordinatesLocal:function(t,e,i,r){var n=this.x,s=this.y,o=this.z,a=t.val,l=n*a[0]+s*a[4]+o*a[8]+a[12],u=n*a[1]+s*a[5]+o*a[9]+a[13],h=n*a[2]+s*a[6]+o*a[10]+a[14],c=n*a[3]+s*a[7]+o*a[11]+a[15];this.vx=l/c*e,this.vy=-u/c*i,this.vz=r<=0?h/c:-h/c},update:function(t,e,i,r,n,s,o,a){var l=this.vx*t+this.vy*i+n,u=this.vx*e+this.vy*r+s;return o&&(l=Math.round(l),u=Math.round(u)),this.tx=l,this.ty=u,this.ta=this.alpha*a,this},load:function(t,e,i,r,s){return t[++i]=this.tx,t[++i]=this.ty,t[++i]=this.u,t[++i]=this.v,t[++i]=r,t[++i]=s,e[++i]=n.getTintAppendFloatAlpha(this.color,this.ta),i}});t.exports=o},function(t,e,i){var r={};t.exports=r;var n=i(166),s=i(32),o=i(84),a=i(41);r.create=function(t){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},r.setModified=function(t,e,i,s){if(n.trigger(t,"compositeModified",t),t.isModified=e,i&&t.parent&&r.setModified(t.parent,e,i,s),s)for(var o=0;o<t.composites.length;o++){var a=t.composites[o];r.setModified(a,e,i,s)}},r.add=function(t,e){var i=[].concat(e);n.trigger(t,"beforeAdd",{object:e});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(t,a);break;case"constraint":r.addConstraint(t,a);break;case"composite":r.addComposite(t,a);break;case"mouseConstraint":r.addConstraint(t,a.constraint)}}return n.trigger(t,"afterAdd",{object:e}),t},r.remove=function(t,e,i){var s=[].concat(e);n.trigger(t,"beforeRemove",{object:e});for(var o=0;o<s.length;o++){var a=s[o];switch(a.type){case"body":r.removeBody(t,a,i);break;case"constraint":r.removeConstraint(t,a,i);break;case"composite":r.removeComposite(t,a,i);break;case"mouseConstraint":r.removeConstraint(t,a.constraint)}}return n.trigger(t,"afterRemove",{object:e}),t},r.addComposite=function(t,e){return t.composites.push(e),e.parent=t,r.setModified(t,!0,!0,!1),t},r.removeComposite=function(t,e,i){var n=t.composites.indexOf(e);if(-1!==n&&(r.removeCompositeAt(t,n),r.setModified(t,!0,!0,!1)),i)for(var s=0;s<t.composites.length;s++)r.removeComposite(t.composites[s],e,!0);return t},r.removeCompositeAt=function(t,e){return t.composites.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addBody=function(t,e){return t.bodies.push(e),r.setModified(t,!0,!0,!1),t},r.removeBody=function(t,e,i){var n=t.bodies.indexOf(e);if(-1!==n&&(r.removeBodyAt(t,n),r.setModified(t,!0,!0,!1)),i)for(var s=0;s<t.composites.length;s++)r.removeBody(t.composites[s],e,!0);return t},r.removeBodyAt=function(t,e){return t.bodies.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addConstraint=function(t,e){return t.constraints.push(e),r.setModified(t,!0,!0,!1),t},r.removeConstraint=function(t,e,i){var n=t.constraints.indexOf(e);if(-1!==n&&r.removeConstraintAt(t,n),i)for(var s=0;s<t.composites.length;s++)r.removeConstraint(t.composites[s],e,!0);return t},r.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),r.setModified(t,!0,!0,!1),t},r.clear=function(t,e,i){if(i)for(var n=0;n<t.composites.length;n++)r.clear(t.composites[n],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,r.setModified(t,!0,!0,!1),t},r.allBodies=function(t){for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(r.allBodies(t.composites[i]));return e},r.allConstraints=function(t){for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(r.allConstraints(t.composites[i]));return e},r.allComposites=function(t){for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(r.allComposites(t.composites[i]));return e},r.get=function(t,e,i){var n,s;switch(i){case"body":n=r.allBodies(t);break;case"constraint":n=r.allConstraints(t);break;case"composite":n=r.allComposites(t).concat(t)}return n?0===(s=n.filter((function(t){return t.id.toString()===e.toString()}))).length?null:s[0]:null},r.move=function(t,e,i){return r.remove(t,e),r.add(i,e),t},r.rebase=function(t){for(var e=r.allBodies(t).concat(r.allConstraints(t)).concat(r.allComposites(t)),i=0;i<e.length;i++)e[i].id=s.nextId();return r.setModified(t,!0,!0,!1),t},r.translate=function(t,e,i){for(var n=i?r.allBodies(t):t.bodies,s=0;s<n.length;s++)a.translate(n[s],e);return r.setModified(t,!0,!0,!1),t},r.rotate=function(t,e,i,n){for(var s=Math.cos(e),o=Math.sin(e),l=n?r.allBodies(t):t.bodies,u=0;u<l.length;u++){var h=l[u],c=h.position.x-i.x,d=h.position.y-i.y;a.setPosition(h,{x:i.x+(c*s-d*o),y:i.y+(c*o+d*s)}),a.rotate(h,e)}return r.setModified(t,!0,!0,!1),t},r.scale=function(t,e,i,n,s){for(var o=s?r.allBodies(t):t.bodies,l=0;l<o.length;l++){var u=o[l],h=u.position.x-n.x,c=u.position.y-n.y;a.setPosition(u,{x:n.x+h*e,y:n.y+c*i}),a.scale(u,e,i)}return r.setModified(t,!0,!0,!1),t},r.bounds=function(t){for(var e=r.allBodies(t),i=[],n=0;n<e.length;n+=1){var s=e[n];i.push(s.bounds.min,s.bounds.max)}return o.create(i)}},function(t,e){t.exports=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height}},function(t,e,i){var r=i(0),n=i(29),s=i(2),o=new r({initialize:function(t){void 0===t&&(t={}),this.name=s(t,"name","layer"),this.x=s(t,"x",0),this.y=s(t,"y",0),this.width=s(t,"width",0),this.height=s(t,"height",0),this.tileWidth=s(t,"tileWidth",0),this.tileHeight=s(t,"tileHeight",0),this.baseTileWidth=s(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(t,"baseTileHeight",this.tileHeight),this.orientation=s(t,"orientation",n.ORTHOGONAL),this.widthInPixels=s(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(t,"alpha",1),this.visible=s(t,"visible",!0),this.properties=s(t,"properties",[]),this.indexes=s(t,"indexes",[]),this.collideIndexes=s(t,"collideIndexes",[]),this.callbacks=s(t,"callbacks",[]),this.bodies=s(t,"bodies",[]),this.data=s(t,"data",[]),this.tilemapLayer=s(t,"tilemapLayer",null),this.hexSideLength=s(t,"hexSideLength",0)}});t.exports=o},function(t,e,i){var r=i(0),n=i(29),s=i(2),o=new r({initialize:function(t){void 0===t&&(t={}),this.name=s(t,"name","map"),this.width=s(t,"width",0),this.height=s(t,"height",0),this.infinite=s(t,"infinite",!1),this.tileWidth=s(t,"tileWidth",0),this.tileHeight=s(t,"tileHeight",0),this.widthInPixels=s(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(t,"heightInPixels",this.height*this.tileHeight),this.format=s(t,"format",null),this.orientation=s(t,"orientation",n.ORTHOGONAL),this.renderOrder=s(t,"renderOrder","right-down"),this.version=s(t,"version","1"),this.properties=s(t,"properties",{}),this.layers=s(t,"layers",[]),this.images=s(t,"images",[]),this.objects=s(t,"objects",{}),this.collision=s(t,"collision",{}),this.tilesets=s(t,"tilesets",[]),this.imageCollections=s(t,"imageCollections",[]),this.tiles=s(t,"tiles",[]),this.hexSideLength=s(t,"hexSideLength",0)}});t.exports=o},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r,n,s,o,a){(void 0===i||i<=0)&&(i=32),(void 0===r||r<=0)&&(r=32),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o={}),void 0===a&&(a={}),this.name=t,this.firstgid=e,this.tileWidth=i,this.tileHeight=r,this.tileMargin=n,this.tileSpacing=s,this.tileProperties=o,this.tileData=a,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){return this.image=t,this.glTexture=t.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(t,e){return void 0!==t&&(this.tileWidth=t),void 0!==e&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,e){return void 0!==t&&(this.tileMargin=t),void 0!==e&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,e){var i=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1===0&&r%1===0||console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),r=Math.floor(r),this.rows=i,this.columns=r,this.total=i*r,this.texCoordinates.length=0;for(var n=this.tileMargin,s=this.tileMargin,o=0;o<this.rows;o++){for(var a=0;a<this.columns;a++)this.texCoordinates.push({x:n,y:s}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,s+=this.tileHeight+this.tileSpacing}return this}});t.exports=r},function(t,e){t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(1068),a=new r({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,o],initialize:function(t,e,i,r,n){s.call(this,t,"Image"),this._crop=this.resetCropObject(),this.setTexture(r,n),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});t.exports=a},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,i){var r=i(77);t.exports=function(t,e){var i=r(t);for(var n in e)i.hasOwnProperty(n)||(i[n]=e[n]);return i}},function(t,e,i){var r={};t.exports=r;var n=i(64),s=i(83),o=i(165),a=i(84),l=i(271),u=i(32);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?s.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?s.add(e.bodyB.position,e.pointB):e.pointB,n=s.magnitude(s.sub(i,r));e.length="undefined"!==typeof e.length?e.length:n,e.id=e.id||u.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var o={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(o.type="pin",o.anchors=!1):e.stiffness<.9&&(o.type="spring"),e.render=u.extend(o,e.render),e},r.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],r=i.constraintImpulse;i.isStatic||0===r.x&&0===r.y&&0===r.angle||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},r.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var n=t[i],s=!n.bodyA||n.bodyA&&n.bodyA.isStatic,o=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(s||o)&&r.solve(t[i],e)}for(i=0;i<t.length;i+=1)s=!(n=t[i]).bodyA||n.bodyA&&n.bodyA.isStatic,o=!n.bodyB||n.bodyB&&n.bodyB.isStatic,s||o||r.solve(t[i],e)},r.solve=function(t,e){var i=t.bodyA,n=t.bodyB,o=t.pointA,a=t.pointB;if(i||n){i&&!i.isStatic&&(s.rotate(o,i.angle-t.angleA,o),t.angleA=i.angle),n&&!n.isStatic&&(s.rotate(a,n.angle-t.angleB,a),t.angleB=n.angle);var l=o,u=a;if(i&&(l=s.add(i.position,o)),n&&(u=s.add(n.position,a)),l&&u){var h=s.sub(l,u),c=s.magnitude(h);c<r._minLength&&(c=r._minLength);var d,f,p,m,v,y=(c-t.length)/c,g=t.stiffness<1?t.stiffness*e:t.stiffness,x=s.mult(h,y*g),b=(i?i.inverseMass:0)+(n?n.inverseMass:0),w=b+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(t.damping){var _=s.create();p=s.div(h,c),v=s.sub(n&&s.sub(n.position,n.positionPrev)||_,i&&s.sub(i.position,i.positionPrev)||_),m=s.dot(p,v)}i&&!i.isStatic&&(f=i.inverseMass/b,i.constraintImpulse.x-=x.x*f,i.constraintImpulse.y-=x.y*f,i.position.x-=x.x*f,i.position.y-=x.y*f,t.damping&&(i.positionPrev.x-=t.damping*p.x*m*f,i.positionPrev.y-=t.damping*p.y*m*f),d=s.cross(o,x)/w*r._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),n&&!n.isStatic&&(f=n.inverseMass/b,n.constraintImpulse.x+=x.x*f,n.constraintImpulse.y+=x.y*f,n.position.x+=x.x*f,n.position.y+=x.y*f,t.damping&&(n.positionPrev.x+=t.damping*p.x*m*f,n.positionPrev.y+=t.damping*p.y*m*f),d=s.cross(a,x)/w*r._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle+=d,n.angle+=d)}}},r.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],u=i.constraintImpulse;if(!(i.isStatic||0===u.x&&0===u.y&&0===u.angle)){o.set(i,!1);for(var h=0;h<i.parts.length;h++){var c=i.parts[h];n.translate(c.vertices,u),h>0&&(c.position.x+=u.x,c.position.y+=u.y),0!==u.angle&&(n.rotate(c.vertices,u.angle,i.position),l.rotate(c.axes,u.angle),h>0&&s.rotateAbout(c.position,u.angle,i.position,c.position)),a.update(c.bounds,c.vertices,i.velocity)}u.angle*=r._warming,u.x*=r._warming,u.y*=r._warming}}},r.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+t.pointA.x,y:(t.bodyA?t.bodyA.position.y:0)+t.pointA.y}},r.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+t.pointB.x,y:(t.bodyB?t.bodyB.position.y:0)+t.pointB.y}}},function(t,e,i){var r=i(35),n=i(65),s=i(66),o=i(0),a=i(11),l=i(15),u=i(10),h=i(57),c=new o({Extends:l,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(t,e,i,n,s){void 0===n&&(n=1),void 0===s&&(s=n),l.call(this,t,"Zone"),this.setPosition(e,i),this.width=n,this.height=s,this.blendMode=r.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){void 0===i&&(i=!0),this.width=t,this.height=e,this.updateDisplayOrigin();var r=this.input;return i&&r&&!r.customHitArea&&(r.hitArea.width=t,r.hitArea.height=e),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},setCircleDropZone:function(t){return this.setDropZone(new n(0,0,t),s)},setRectangleDropZone:function(t,e){return this.setDropZone(new u(0,0,t,e),h)},setDropZone:function(t,e){return void 0===t?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(t,e,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(t,e,i){i.addToRenderList(e)},renderWebGL:function(t,e,i){i.addToRenderList(e)}});t.exports=c},function(t,e){t.exports=function(t){return 2*(t.width+t.height)}},function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[i],t[i]=r}return t}},function(t,e,i){t.exports={ADD_ANIMATION:i(724),ANIMATION_COMPLETE:i(725),ANIMATION_COMPLETE_KEY:i(726),ANIMATION_REPEAT:i(727),ANIMATION_RESTART:i(728),ANIMATION_START:i(729),ANIMATION_STOP:i(730),ANIMATION_UPDATE:i(731),PAUSE_ALL:i(732),REMOVE_ANIMATION:i(733),RESUME_ALL:i(734)}},function(t,e,i){var r=i(0),n=i(11),s=i(36),o=i(9),a=i(37),l=i(10),u=i(25),h=i(187),c=i(3),d=new r({Extends:o,Mixins:[n.Alpha,n.Visible],initialize:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new l,this.dirty=!0,this._x=t,this._y=e,this._width=i,this._height=r,this._bounds=new l,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(i/2,r/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(t){this.renderList.push(t)},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this},getScroll:function(t,e,i){void 0===i&&(i=new c);var r=.5*this.width,n=.5*this.height;return i.x=t-r,i.y=e-n,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(t){var e=.5*this.width;return this.midPoint.x=t,this.scrollX=t-e,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(t){var e=.5*this.height;return this.midPoint.y=t,this.scrollY=t-e,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(t,e){return this.centerOnX(t),this.centerOnY(e),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,e=.5*this.width,i=.5*this.height;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-e,this.scrollY=t.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],r=e[1],n=e[2],s=e[3],o=i*s-r*n;if(!o)return t;var a=e[4],l=e[5],u=this.scrollX,h=this.scrollY,c=this.width,d=this.height,f=this.y,p=f+d,m=this.x,v=m+c,y=this.culledObjects,g=t.length;o=1/o,y.length=0;for(var x=0;x<g;++x){var b=t[x];if(b.hasOwnProperty("width")&&!b.parentContainer){var w=b.width,_=b.height,S=b.x-u*b.scrollFactorX-w*b.originX,A=b.y-h*b.scrollFactorY-_*b.originY;(S+w)*i+(A+_)*n+a>m&&S*i+A*n+a<v&&(S+w)*r+(A+_)*s+l>f&&S*r+A*s+l<p&&y.push(b)}else y.push(b)}return y},getWorldPoint:function(t,e,i){void 0===i&&(i=new c);var r=this.matrix.matrix,n=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],h=n*a-s*o;if(!h)return i.x=t,i.y=e,i;var d=a*(h=1/h),f=-s*h,p=-o*h,m=n*h,v=(o*u-a*l)*h,y=(s*l-n*u)*h,g=Math.cos(this.rotation),x=Math.sin(this.rotation),b=this.zoomX,w=this.zoomY,_=this.scrollX,S=this.scrollY,A=t+(_*g-S*x)*b,T=e+(_*x+S*g)*w;return i.x=A*d+T*p+v,i.y=A*f+T*m+y,i},ignore:function(t){var e=this.id;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?this.ignore(r):r.isParent?this.ignore(r.getChildren()):r.cameraFilter|=e}return this},preRender:function(){this.renderList.length=0;var t=this.width,e=this.height,i=.5*t,r=.5*e,n=this.zoomX,s=this.zoomY,o=this.matrix,a=t*this.originX,l=e*this.originY,u=this.scrollX,h=this.scrollY;this.useBounds&&(u=this.clampX(u),h=this.clampY(h)),this.roundPixels&&(a=Math.round(a),l=Math.round(l)),this.scrollX=u,this.scrollY=h;var c=u+i,d=h+r;this.midPoint.set(c,d);var f=t/n,p=e/s;this.worldView.setTo(c-f/2,d-p/2,f,p),o.applyITRS(this.x+a,this.y+l,this.rotation,n,s),o.translate(-a,-l)},clampX:function(t){var e=this._bounds,i=this.displayWidth,r=e.x+(i-this.width)/2,n=Math.max(r,r+e.width-i);return t<r?t=r:t>n&&(t=n),t},clampY:function(t){var e=this._bounds,i=this.displayHeight,r=e.y+(i-this.height)/2,n=Math.max(r,r+e.height-i);return t<r?t=r:t>n&&(t=n),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return void 0===t&&(t=0),this.rotation=s(t),this},setBackgroundColor:function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=h(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,e,i,r,n){return void 0===n&&(n=!1),this._bounds.setTo(t,e,i,r),this.dirty=!0,this.useBounds=!0,n?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(t){void 0===t&&(t=new l);var e=this._bounds;return t.setTo(e.x,e.y,e.width,e.height),t},setName:function(t){return void 0===t&&(t=""),this.name=t,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=t;var e=t.sys;return this.sceneManager=e.game.scene,this.scaleManager=e.scale,this.cameraManager=e.cameras,this.updateSystem(),this},setScroll:function(t,e){return void 0===e&&(e=t),this.scrollX=t,this.scrollY=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},setViewport:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},setZoom:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),0===t&&(t=.001),0===e&&(e=.001),this.zoomX=t,this.zoomY=e,this},setMask:function(t,e){return void 0===e&&(e=!0),this.mask=t,this._maskCamera=e?this.cameraManager.default:this,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},updateSystem:function(){if(this.scaleManager){var t=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,e=this.sceneManager;t&&!this._customViewport?e.customViewports++:!t&&this._customViewport&&e.customViewports--,this.dirty=!0,this._customViewport=t}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(t){this._zoomX=t,this._zoomY=t,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(t){this._zoomX=t,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(t){this._zoomY=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});t.exports=d},function(t,e,i){var r=i(334),n=i(335),s=i(336),o=i(337),a=i(338),l=i(339),u=i(340),h=i(341),c=i(342),d=i(343),f=i(344),p=i(345);t.exports={Power0:u,Power1:h.Out,Power2:o.Out,Power3:c.Out,Power4:d.Out,Linear:u,Quad:h.Out,Cubic:o.Out,Quart:c.Out,Quint:d.Out,Sine:f.Out,Expo:l.Out,Circ:s.Out,Elastic:a.Out,Back:r.Out,Bounce:n.Out,Stepped:p,"Quad.easeIn":h.In,"Cubic.easeIn":o.In,"Quart.easeIn":c.In,"Quint.easeIn":d.In,"Sine.easeIn":f.In,"Expo.easeIn":l.In,"Circ.easeIn":s.In,"Elastic.easeIn":a.In,"Back.easeIn":r.In,"Bounce.easeIn":n.In,"Quad.easeOut":h.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":c.Out,"Quint.easeOut":d.Out,"Sine.easeOut":f.Out,"Expo.easeOut":l.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":a.Out,"Back.easeOut":r.Out,"Bounce.easeOut":n.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":r.InOut,"Bounce.easeInOut":n.InOut}},function(t,e){t.exports=function(t,e,i){return(e-t)*i+t}},function(t,e,i){var r=i(105),n={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};t.exports=function(){var t=navigator.userAgent;return/Edge\/\d+/.test(t)?n.edge=!0:/Chrome\/(\d+)/.test(t)&&!r.windowsPhone?(n.chrome=!0,n.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(t)?(n.firefox=!0,n.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&r.iOS?n.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(n.ie=!0,n.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(t)?n.opera=!0:/Safari/.test(t)&&!r.windowsPhone?n.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(n.ie=!0,n.trident=!0,n.tridentVersion=parseInt(RegExp.$1,10),n.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(n.silk=!0),n}()},function(t,e){t.exports=function(t,e){return Math.random()*(e-t)+t}},function(t,e){t.exports=function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)}},function(t,e){t.exports=function(t,e,i,r){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),r?(i+t)/e:i+t)}},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r){this.x=0,this.y=0,this.z=0,this.w=0,"object"===typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=r||0)},clone:function(){return new r(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,r){return"object"===typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=r||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return Math.sqrt(t*t+e*e+i*i+r*r)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return t*t+e*e+i*i+r*r},normalize:function(){var t=this.x,e=this.y,i=this.z,r=this.w,n=t*t+e*e+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n,this.w=r*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,r=this.y,n=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this.z=n+e*(t.z-n),this.w=s+e*(t.w-s),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0,n=t.w-this.w||0;return Math.sqrt(e*e+i*i+r*r+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0,n=t.w-this.w||0;return e*e+i*i+r*r+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,s=t.val;return this.x=s[0]*e+s[4]*i+s[8]*r+s[12]*n,this.y=s[1]*e+s[5]*i+s[9]*r+s[13]*n,this.z=s[2]*e+s[6]*i+s[10]*r+s[14]*n,this.w=s[3]*e+s[7]*i+s[11]*r+s[15]*n,this},transformQuat:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,o=t.z,a=t.w,l=a*e+s*r-o*i,u=a*i+o*e-n*r,h=a*r+n*i-s*e,c=-n*e-s*i-o*r;return this.x=l*a+c*-n+u*-o-h*-s,this.y=u*a+c*-s+h*-n-l*-o,this.z=h*a+c*-o+l*-s-u*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});r.prototype.sub=r.prototype.subtract,r.prototype.mul=r.prototype.multiply,r.prototype.div=r.prototype.divide,r.prototype.dist=r.prototype.distance,r.prototype.distSq=r.prototype.distanceSq,r.prototype.len=r.prototype.length,r.prototype.lenSq=r.prototype.lengthSq,t.exports=r},function(t,e,i){var r=i(0),n=i(91),s=new r({initialize:function(t,e,i,r,n,s,o){void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=!0),void 0===o&&(o=!1),this.renderer=t,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=r,this.minFilter=n,this.autoClear=s,this.autoResize=!1,this.resize(e,i),o&&this.setAutoResize(!0)},setAutoResize:function(t){return t&&!this.autoResize?(this.renderer.on(n.RESIZE,this.resize,this),this.autoResize=!0):!t&&this.autoResize&&(this.renderer.off(n.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(t,e){var i=t*this.scale,r=e*this.scale;if(i!==this.width||r!==this.height){var n=this.renderer;n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),t*=this.scale,e*=this.scale,(t=Math.round(t))<=0&&(t=1),(e=Math.round(e))<=0&&(e=1),this.texture=n.createTextureFromSource(null,t,e,this.minFilter),this.framebuffer=n.createFramebuffer(t,e,this.texture,!1),this.width=t,this.height=e}return this},bind:function(t,e,i){if(void 0===t&&(t=!1),t&&this.renderer.flush(),e&&i&&this.resize(e,i),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),t&&this.adjustViewport(),this.autoClear){var r=this.renderer.gl;r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}},adjustViewport:function(){var t=this.renderer.gl;t.viewport(0,0,this.width,this.height),t.disable(t.SCISSOR_TEST)},clear:function(){var t=this.renderer,e=t.gl;t.pushFramebuffer(this.framebuffer),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.popFramebuffer(),t.resetScissor()},unbind:function(t){void 0===t&&(t=!1);var e=this.renderer;return t&&e.flush(),e.popFramebuffer()},destroy:function(){var t=this.renderer;t.deleteFramebuffer(this.framebuffer),t.deleteTexture(this.texture),t.off(n.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});t.exports=s},function(t,e){t.exports=function(t,e){var i;if(e)"string"===typeof e?i=document.getElementById(e):"object"===typeof e&&1===e.nodeType&&(i=e);else if(t.parentElement||null===e)return t;return i||(i=document.body),i.appendChild(t),t}},function(t,e){t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(t,e){t.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(t,e,i){var r=i(0),n=i(77),s=i(9),o=i(70),a=i(22),l=i(1),u=i(207),h=i(428),c=new r({Extends:s,initialize:function(t){s.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,t.events.on(a.BLUR,this.onGameBlur,this),t.events.on(a.FOCUS,this.onGameFocus,this),t.events.on(a.PRE_STEP,this.update,this),t.events.once(a.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(t,e){void 0===e&&(e={});var i=this.add(t,e);for(var r in i.spritemap=this.jsonCache.get(t).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(r)){var s=n(e),o=i.spritemap[r];s.loop=!!o.hasOwnProperty("loop")&&o.loop,i.addMarker({name:r,start:o.start,duration:o.end-o.start,config:s})}return i},get:function(t){return h(this.sounds,"key",t)},getAll:function(t){return u(this.sounds,"key",t)},play:function(t,e){var i=this.add(t);return i.once(o.COMPLETE,i.destroy,i),e?e.name?(i.addMarker(e),i.play(e.name)):i.play(e):i.play()},playAudioSprite:function(t,e,i){var r=this.addAudioSprite(t);return r.once(o.COMPLETE,r.destroy,r),r.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeAll:function(){this.sounds.forEach((function(t){t.destroy()})),this.sounds.length=0},removeByKey:function(t){for(var e=0,i=this.sounds.length-1;i>=0;i--){var r=this.sounds[i];r.key===t&&(r.destroy(),this.sounds.splice(i,1),e++)}return e},pauseAll:function(){this.forEachActiveSound((function(t){t.pause()})),this.emit(o.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound((function(t){t.resume()})),this.emit(o.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound((function(t){t.stop()})),this.emit(o.STOP_ALL,this)},stopByKey:function(t){var e=0;return this.getAll(t).forEach((function(t){t.stop()&&e++})),e},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach((function(i){i.update(t,e)}))},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach((function(r,n){r&&!r.pendingRemove&&t.call(e||i,r,n,i.sounds)}))},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound((function(t){t.calculateRate()})),this.emit(o.GLOBAL_RATE,this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound((function(t){t.calculateRate()})),this.emit(o.GLOBAL_DETUNE,this,t)}}});t.exports=c},function(t,e,i){var r=i(0),n=i(9),s=i(70),o=i(17),a=i(1),l=new r({Extends:n,initialize:function(t,e,i){n.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=o(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!==typeof t.name)&&(this.markers[t.name]?(console.error("addMarker "+t.name+" already exists in Sound"),!1):(t=o(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},t),this.markers[t.name]=t,!0))},updateMarker:function(t){return!(!t||!t.name||"string"!==typeof t.name)&&(this.markers[t.name]?(this.markers[t.name]=o(!0,this.markers[t.name],t),!0):(console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key),!1))},removeMarker:function(t){var e=this.markers[t];return e?(this.markers[t]=null,e):null},play:function(t,e){if(void 0===t&&(t=""),"object"===typeof t&&(e=t,t=""),"string"!==typeof t)return!1;if(t){if(!this.markers[t])return console.warn("Marker: "+t+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=o(this.currentConfig,e),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var t=this.currentConfig.detune+this.manager.detune,e=Math.pow(1.0005777895065548,t);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.emit(s.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});t.exports=l},function(t,e,i){var r=i(209),n=i(435);t.exports=function(t,e){if(void 0===e&&(e=90),!r(t))return null;if("string"!==typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)(t=n(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t.reverse(),t=n(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t}},function(t,e,i){var r=i(0),n=i(18),s=i(11),o=i(15),a=i(1043),l=i(1044),u=i(212),h=i(10),c=i(1045),d=new r({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,c],initialize:function(t,e,i,r,n,s,l){void 0===n&&(n=""),void 0===l&&(l=0),o.call(this,t,"BitmapText"),this.font=r;var u=this.scene.sys.cache.bitmapFont.get(r);u||console.warn("Invalid BitmapText key: "+r),this.fontData=u.data,this._text="",this._fontSize=s||this.fontData.size,this._letterSpacing=0,this._align=l,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=u.fromAtlas,this.setTexture(u.texture,u.frame),this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.setText(n)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return void 0===t&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=t.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(t,e,i,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=.5),this.dropShadowX=t,this.dropShadowY=e,this.dropShadowColor=i,this.dropShadowAlpha=r,this},setCharacterTint:function(t,e,i,r,s,o,a){void 0===t&&(t=0),void 0===e&&(e=1),void 0===i&&(i=!1),void 0===r&&(r=-1),void 0===s&&(s=r,o=r,a=r);var l=this.text.length;-1===e&&(e=l),t<0&&(t=l+t),t=n(t,0,l-1);for(var u=n(t+e,t,l),h=this.charColors,c=t;c<u;c++){var d=h[c];if(-1===r)h[c]=null;else{var f=i?1:0;d?(d.tintEffect=f,d.tintTL=r,d.tintTR=s,d.tintBL=o,d.tintBR=a):h[c]={tintEffect:f,tintTL:r,tintTR:s,tintBL:o,tintBR:a}}}return this},setWordTint:function(t,e,i,r,n,s,o){void 0===e&&(e=1);for(var a=this.getTextBounds().words,l="number"===typeof t,u=0,h=0;h<a.length;h++){var c=a[h];if((l&&h===t||!l&&c.word===t)&&(this.setCharacterTint(c.i,c.word.length,i,r,n,s,o),++u===e))return this}return this},getTextBounds:function(t){var e=this._bounds;return(this._dirty||t||this.scaleX!==e.scaleX||this.scaleY!==e.scaleY)&&(a(this,t,!0,e),this._dirty=!1),e},getCharacterAt:function(t,e,i){for(var r=this.getLocalPoint(t,e,null,i),n=this.getTextBounds().characters,s=new h,o=0;o<n.length;o++){var a=n[o];if(s.setTo(a.x,a.t,a.r-a.x,a.b),s.contains(r.x,r.y))return a}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(t,e,i){if(void 0===e&&(e=this._fontSize),void 0===i&&(i=this._align),t!==this.font){var r=this.scene.sys.cache.bitmapFont.get(t);r&&(this.font=t,this.fontData=r.data,this._fontSize=e,this._align=i,this.fromAtlas=!0===r.fromAtlas,this.setTexture(r.texture,r.frame),a(this,!1,!0,this._bounds))}return this},setMaxWidth:function(t,e){return this._maxWidth=t,this._dirty=!0,void 0!==e&&(this.wordWrapCharCode=e),this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(t){this._maxWidth=t,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=s.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=l,d.ParseXMLBitmapFont=u,t.exports=d},function(t,e,i){var r=new(i(0))({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var r=this.entries[i];if(r[t]===e)return r}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var i,r=this.entries.slice(),n=r.length;if(e)for(i=0;i<n&&!1!==t.call(e,r[i],i);i++);else for(i=0;i<n&&!1!==t(r[i],i);i++);return this},iterate:function(t,e){var i,r=this.entries.length;if(e)for(i=0;i<r&&!1!==t.call(e,this.entries[i],i);i++);else for(i=0;i<r&&!1!==t(this.entries[i],i);i++);return this},iterateLocal:function(t){var e,i=[];for(e=1;e<arguments.length;e++)i.push(arguments[e]);var r=this.entries.length;for(e=0;e<r;e++){var n=this.entries[e];n[t].apply(n,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new r;return t.entries.forEach((function(t){e.set(t)})),this.entries.forEach((function(t){e.set(t)})),e},intersect:function(t){var e=new r;return this.entries.forEach((function(i){t.contains(i)&&e.set(i)})),e},difference:function(t){var e=new r;return this.entries.forEach((function(i){t.contains(i)||e.set(i)})),e},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}});t.exports=r},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(189),a=i(92),l=i(1182),u=new r({Extends:s,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.GetBounds,n.Mask,n.Pipeline,n.ScrollFactor,n.Transform,n.Visible,l],initialize:function(t,e,i,r,n,l,u){void 0===r&&(r=16777215),void 0===n&&(n=128),void 0===l&&(l=1),void 0===u&&(u=.1),s.call(this,t,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.setPosition(e,i),this.color=o(r),this.intensity=l,this.attenuation=u,this.width=2*n,this.height=2*n,this._radius=n},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this.width=2*t,this.height=2*t}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});t.exports=u},function(t,e){t.exports=function(t,e){var i=e.width/2,r=e.height/2,n=Math.abs(t.x-e.x-i),s=Math.abs(t.y-e.y-r),o=i+t.radius,a=r+t.radius;if(n>o||s>a)return!1;if(n<=i||s<=r)return!0;var l=n-i,u=s-r;return l*l+u*u<=t.radius*t.radius}},function(t,e){t.exports=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)}},function(t,e,i){var r=i(6),n={},s={register:function(t,e,i,r,s){n[t]={plugin:e,mapping:i,settingsKey:r,configKey:s}},getPlugin:function(t){return n[t]},install:function(t){var e=t.scene.sys,i=e.settings.input,s=e.game.config;for(var o in n){var a=n[o].plugin,l=n[o].mapping,u=n[o].settingsKey,h=n[o].configKey;r(i,u,s[h])&&(t[l]=new a(t))}},remove:function(t){n.hasOwnProperty(t)&&delete n[t]}};t.exports=s},function(t,e,i){t.exports={ANY_KEY_DOWN:i(1323),ANY_KEY_UP:i(1324),COMBO_MATCH:i(1325),DOWN:i(1326),KEY_DOWN:i(1327),KEY_UP:i(1328),UP:i(1329)}},function(t,e){t.exports=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)}},function(t,e){t.exports=function(t,e,i,r,n,s){return void 0===t&&(t=""),void 0===e&&(e=!0),void 0===i&&(i=""),void 0===r&&(r=""),void 0===n&&(n=0),void 0===s&&(s=!1),{responseType:t,async:e,user:i,password:r,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}}},function(t,e,i){var r=i(0),n=i(243),s=i(73),o=new r({Extends:s,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Pushable,n.Size,n.Velocity],initialize:function(t,e,i,r,n){s.call(this,t,e,i,r,n),this.body=null}});t.exports=o},function(t,e,i){var r=i(119);t.exports=function(t,e,i,n){if(void 0===i&&(i=!1),r(t,e,n)){var s=n.data[e][t]||null;return s?-1===s.index?i?s:null:s:null}return null}},function(t,e){t.exports=function(t,e,i,r){var n,s,o,a=t.data,l=t.width,u=t.height,h=t.tilemapLayer,c=Math.max(0,e.left),d=Math.min(l,e.right),f=Math.max(0,e.top),p=Math.min(u,e.bottom);if(0===i)for(s=f;s<p;s++)for(n=c;a[s]&&n<d;n++)(o=a[s][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&r.push(o);else if(1===i)for(s=f;s<p;s++)for(n=d;a[s]&&n>=c;n--)(o=a[s][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&r.push(o);else if(2===i)for(s=p;s>=f;s--)for(n=c;a[s]&&n<d;n++)(o=a[s][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&r.push(o);else if(3===i)for(s=p;s>=f;s--)for(n=d;a[s]&&n>=c;n--)(o=a[s][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&r.push(o);return h.tilesDrawn=r.length,h.tilesTotal=l*u,r}},function(t,e){t.exports=function(t,e,i){var r=i.collideIndexes.indexOf(t);e&&-1===r?i.collideIndexes.push(t):e||-1===r||i.collideIndexes.splice(r,1)}},function(t,e,i){var r=i(2);t.exports=function(t,e,i){if(!e)return{i:0,layers:t.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=e.x+r(e,"startx",0)*t.tilewidth+r(e,"offsetx",0),s=e.y+r(e,"starty",0)*t.tileheight+r(e,"offsety",0);return{i:0,layers:e.layers,name:i.name+e.name+"/",opacity:i.opacity*e.opacity,visible:i.visible&&e.visible,x:i.x+n,y:i.y+s}}},function(t,e){t.exports=function(t,e,i){return t.hasOwnProperty(e)?"function"===typeof t[e]?function(i,r,n,s,o,a){return t[e](i,r,n,s,o,a)}:function(){return t[e]}:"function"===typeof i?i:function(){return i}}},function(t,e,i){var r=i(265),n=i(13),s=i(99),o=i(80),a=i(162),l=i(583),u=i(263),h=i(6),c=i(264),d=i(266),f=i(268);t.exports=function(t,e,i){void 0===i&&(i=r);for(var p=i.targets?i.targets:u(e),m=l(e),v=a(e,"delay",i.delay),y=a(e,"duration",i.duration),g=h(e,"easeParams",i.easeParams),x=o(h(e,"ease",i.ease),g),b=a(e,"hold",i.hold),w=a(e,"repeat",i.repeat),_=a(e,"repeatDelay",i.repeatDelay),S=s(e,"yoyo",i.yoyo),A=s(e,"flipX",i.flipX),T=s(e,"flipY",i.flipY),E=[],M=0;M<m.length;M++)for(var C=m[M].key,P=m[M].value,R=0;R<p.length;R++){var k=c(C,P),L=f(p[R],R,C,k.getEnd,k.getStart,k.getActive,o(h(P,"ease",x),h(P,"easeParams",g)),a(P,"delay",v),a(P,"duration",y),s(P,"yoyo",S),a(P,"hold",b),a(P,"repeat",w),a(P,"repeatDelay",_),s(P,"flipX",A),s(P,"flipY",T));E.push(L)}var O=new d(t,E,p);O.offset=n(e,"offset",null),O.completeDelay=n(e,"completeDelay",0),O.loop=Math.round(n(e,"loop",0)),O.loopDelay=Math.round(n(e,"loopDelay",0)),O.paused=s(e,"paused",!1),O.useFrames=s(e,"useFrames",!1);for(var D=h(e,"callbackScope",O),I=[O,null],F=d.TYPES,j=0;j<F.length;j++){var B=F[j],N=h(e,B,!1);if(N){var U=h(e,B+"Scope",D),z=h(e,B+"Params",[]);O.setCallback(B,N,I.concat(z),U)}}return O}},function(t,e,i){var r=i(0),n=i(102),s=i(2),o=i(132),a=i(185),l=new r({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(t){var e=this.parent;if(void 0===t)return this.nextAnimsQueue.length=0,this.nextAnim=null,e;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];null===this.nextAnim?this.nextAnim=r:this.nextAnimsQueue.push(r)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(t){this.isPlaying&&this.stop();var e=this.animationManager,i="string"===typeof t?t:s(t,"key",null),r=this.exists(i)?this.get(i):e.get(i);if(r){this.currentAnim=r;var n=r.getTotalFrames(),o=s(t,"frameRate",r.frameRate),a=s(t,"duration",r.duration);r.calculateDuration(this,n,a,o),this.delay=s(t,"delay",r.delay),this.repeat=s(t,"repeat",r.repeat),this.repeatDelay=s(t,"repeatDelay",r.repeatDelay),this.yoyo=s(t,"yoyo",r.yoyo),this.showOnStart=s(t,"showOnStart",r.showOnStart),this.hideOnComplete=s(t,"hideOnComplete",r.hideOnComplete),this.skipMissedFrames=s(t,"skipMissedFrames",r.skipMissedFrames),this.timeScale=s(t,"timeScale",this.timeScale);var l=s(t,"startFrame",0);l>r.getTotalFrames()&&(l=0);var u=r.frames[l];0!==l||this.forward||(u=r.getLastFrame()),this.currentFrame=u}else console.warn("Missing animation: "+i);return this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.setCurrentFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.setCurrentFrame(t),this.parent},playAfterDelay:function(t,e){if(this.isPlaying){var i=this.nextAnim,r=this.nextAnimsQueue;i&&r.unshift(i),this.nextAnim=t,this._pendingStop=1,this._pendingStopValue=e}else this.delayCounter=e,this.play(t,!0);return this.parent},playAfterRepeat:function(t,e){if(void 0===e&&(e=1),this.isPlaying){var i=this.nextAnim,r=this.nextAnimsQueue;i&&r.unshift(i),-1!==this.repeatCounter&&e>this.repeatCounter&&(e=this.repeatCounter),this.nextAnim=t,this._pendingStop=2,this._pendingStopValue=e}else this.play(t);return this.parent},play:function(t,e){void 0===e&&(e=!1);var i=this.currentAnim,r=this.parent,n="string"===typeof t?t:t.key;if(e&&this.isPlaying&&i.key===n)return r;if(i&&this.isPlaying){var s=this.animationManager.getMix(i.key,t);if(s>0)return this.playAfterDelay(t,s)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(t)},playReverse:function(t,e){void 0===e&&(e=!1);var i="string"===typeof t?t:t.key;return e&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(t))},startAnimation:function(t){this.load(t);var e=this.currentAnim,i=this.parent;return e?(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,e.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter&&this.handleStart(),i):i},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(t,e){var i=this.currentAnim,r=this.currentFrame,n=this.parent,s=r.textureFrame;n.emit(t,i,r,n,s),e&&n.emit(e+i.key,i,r,n,s)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var t=this.currentFrame;if(!t)return 0;var e=t.progress;return this.inReverse&&(e*=-1),e},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},setRepeat:function(t){return this.repeatCounter=-1===t?Number.MAX_VALUE:t,this.parent},globalRemove:function(t,e){void 0===e&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=this.currentAnim,r=this.parent;return i?(e&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),i.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!t,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(i.frames[0]),this.parent):r},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var t=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(t)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var t=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(t)}return this.parent},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopAfterRepeat:function(t){return void 0===t&&(t=1),-1!==this.repeatCounter&&t>this.repeatCounter&&(t=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=t,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(t,e){var i=this.currentAnim;if(this.isPlaying&&i&&!i.paused){if(this.accumulator+=e*this.timeScale,1===this._pendingStop&&(this._pendingStopValue-=e,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?i.nextFrame(this):i.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var r=0;do{this.forward?i.nextFrame(this):i.previousFrame(this),r++}while(this.isPlaying&&this.accumulator>this.nextTick&&r<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(t){var e=this.parent;return this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,e.isCropped&&e.frame.updateCropUVs(e._crop,e.flipX,e.flipY),t.setAlpha&&(e.alpha=t.alpha),e.setSizeToFrame(),e._originComponent&&(t.frame.customPivot?e.setOrigin(t.frame.pivotX,t.frame.pivotY):e.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===t&&this.stop()),e},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(t){return this.anims?this.anims.get(t):null},exists:function(t){return!!this.anims&&this.anims.has(t)},create:function(t){var e=t.key,i=!1;return e&&((i=this.get(e))||(i=new a(this,e,t),this.anims||(this.anims=new n),this.anims.set(e,i))),i},generateFrameNames:function(t,e){return this.animationManager.generateFrameNames(t,e)},generateFrameNumbers:function(t,e){return this.animationManager.generateFrameNumbers(t,e)},remove:function(t){var e=this.get(t);return e&&(this.currentAnim===e&&this.stop(),this.anims.delete(t)),e},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});t.exports=l},function(t,e,i){var r={};t.exports=r;var n=i(166);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(t,e){for(var i=e*e*e,n=0;n<t.length;n++){var s=t[n],o=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(0===s.force.x&&0===s.force.y){var a=Math.min(s.motion,o),l=Math.max(s.motion,o);s.motion=r._minBias*a+(1-r._minBias)*l,s.sleepThreshold>0&&s.motion<r._motionSleepThreshold*i?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&r.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}else r.set(s,!1)}},r.afterCollisions=function(t,e){for(var i=e*e*e,n=0;n<t.length;n++){var s=t[n];if(s.isActive){var o=s.collision,a=o.bodyA.parent,l=o.bodyB.parent;if(!(a.isSleeping&&l.isSleeping||a.isStatic||l.isStatic)&&(a.isSleeping||l.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:l,h=u===a?l:a;!u.isStatic&&h.motion>r._motionWakeThreshold*i&&r.set(u,!1)}}}},r.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||n.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&n.trigger(t,"sleepEnd"))}},function(t,e,i){var r={};t.exports=r;var n=i(32);r.on=function(t,e,i){for(var r,n=e.split(" "),s=0;s<n.length;s++)r=n[s],t.events=t.events||{},t.events[r]=t.events[r]||[],t.events[r].push(i);return i},r.off=function(t,e,i){if(e){"function"===typeof e&&(i=e,e=n.keys(t.events).join(" "));for(var r=e.split(" "),s=0;s<r.length;s++){var o=t.events[r[s]],a=[];if(i&&o)for(var l=0;l<o.length;l++)o[l]!==i&&a.push(o[l]);t.events[r[s]]=a}}else t.events={}},r.trigger=function(t,e,i){var r,s,o,a,l=t.events;if(l&&n.keys(l).length>0){i||(i={}),r=e.split(" ");for(var u=0;u<r.length;u++)if(o=l[s=r[u]]){(a=n.clone(i,!1)).name=s,a.source=t;for(var h=0;h<o.length;h++)o[h].apply(t,[a])}}}},function(t,e,i){var r=i(175),n=i(92),s=i(74),o={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(t){void 0===t&&(t=n.MULTI_PIPELINE);var e=this.scene.sys.renderer;if(!e)return!1;var i=e.pipelines;if(this.postPipelines=[],this.pipelineData={},i){var r=i.get(t);if(r)return this.defaultPipeline=r,this.pipeline=r,!0}return!1},setPipeline:function(t,e,i){var n=this.scene.sys.renderer;if(!n)return this;var s=n.pipelines;if(s){var o=s.get(t);o&&(this.pipeline=o),e&&(this.pipelineData=i?r(e):e)}return this},setPostPipeline:function(t,e,i){var n=this.scene.sys.renderer;if(!n)return this;var s=n.pipelines;if(s){Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=s.getPostPipeline(t[o],this);a&&this.postPipelines.push(a)}e&&(this.pipelineData=i?r(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(t,e){var i=this.pipelineData;return void 0===e?delete i[t]:i[t]=e,this},getPostPipeline:function(t){for(var e=this.postPipelines,i=[],r=0;r<e.length;r++){var n=e[r];("string"===typeof t&&n.name===t||n instanceof t)&&i.push(n)}return 1===i.length?i[0]:i},resetPipeline:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.pipeline=this.defaultPipeline,t&&(this.postPipelines=[],this.hasPostPipeline=!1),e&&(this.pipelineData={}),null!==this.pipeline},resetPostPipeline:function(t){void 0===t&&(t=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,t&&(this.pipelineData={})},removePostPipeline:function(t){for(var e=this.postPipelines,i=e.length-1;i>=0;i--){var r=e[i];("string"===typeof t&&r.name===t||"string"!==typeof t&&r instanceof t)&&(r.destroy(),s(e,i))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};t.exports=o},function(t,e){t.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){return void 0===i&&(i=new r),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i}},function(t,e,i){var r=i(4);t.exports=function(t,e){void 0===e&&(e=new r);var i=2*Math.PI*Math.random(),n=Math.random()+Math.random(),s=n>1?2-n:n,o=s*Math.cos(i),a=s*Math.sin(i);return e.x=t.x+o*t.radius,e.y=t.y+a*t.radius,e}},function(t,e,i){var r=i(130),n=i(4);t.exports=function(t,e,i){if(void 0===i&&(i=new n),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var s=r(t)*e;return e>.5?(s-=t.width+t.height)<=t.width?(i.x=t.right-s,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(s-t.width)):s<=t.width?(i.x=t.x+s,i.y=t.y):(i.x=t.right,i.y=t.y+(s-t.width)),i}},function(t,e,i){var r=i(67),n=i(4);t.exports=function(t,e,i,s){void 0===s&&(s=[]),!e&&i>0&&(e=r(t)/i);for(var o=t.x1,a=t.y1,l=t.x2,u=t.y2,h=0;h<e;h++){var c=h/e,d=o+(l-o)*c,f=a+(u-a)*c;s.push(new n(d,f))}return s}},function(t,e,i){var r=i(4);t.exports=function(t,e){void 0===e&&(e=new r);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},function(t,e,i){var r=i(4);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},function(t,e){t.exports=function t(e){var i,r,n;if("object"!==typeof e||null===e)return e;for(n in i=Array.isArray(e)?[]:{},e)r=e[n],i[n]=t(r);return i}},function(t,e){t.exports=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s,o,a,l){void 0===l&&(l=new r);var u=Math.sin(s),h=Math.cos(s),c=h*o,d=u*o,f=-u*a,p=h*a,m=1/(c*p+f*-d);return l.x=p*m*t+-f*m*e+(n*f-i*p)*m,l.y=c*m*e+-d*m*t+(-n*c+i*d)*m,l}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,r=0;r<e;r++)i=t.shift(),t.push(i);return i}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,r=0;r<e;r++)i=t.pop(),t.unshift(i);return i}},function(t,e,i){var r=i(4);t.exports=function(t,e){void 0===e&&(e=new r);var i=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return e.x=t.x+n*Math.cos(i)*t.width/2,e.y=t.y+n*Math.sin(i)*t.height/2,e}},function(t,e,i){var r=i(4);t.exports=function(t,e){void 0===e&&(e=new r);var i=t.x2-t.x1,n=t.y2-t.y1,s=t.x3-t.x1,o=t.y3-t.y1,a=Math.random(),l=Math.random();return a+l>=1&&(a=1-a,l=1-l),e.x=t.x1+(i*a+s*l),e.y=t.y1+(n*a+o*l),e}},function(t,e){t.exports=function(t,e,i,r,n){var s=r+Math.atan2(t.y-i,t.x-e);return t.x=e+n*Math.cos(s),t.y=i+n*Math.sin(s),t}},function(t,e){t.exports=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)}},function(t,e){t.exports=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)}},function(t,e,i){var r=i(18),n=i(0),s=i(132),o=i(318),a=i(319),l=i(6),u=i(320),h=new n({initialize:function(t,e,i){this.manager=t,this.key=e,this.type="frame",this.frames=this.getFrames(t.textureManager,l(i,"frames",[]),l(i,"defaultTextureKey",null),l(i,"sortFrames",!0)),this.frameRate=l(i,"frameRate",null),this.duration=l(i,"duration",null),this.msPerFrame,this.skipMissedFrames=l(i,"skipMissedFrames",!0),this.delay=l(i,"delay",0),this.repeat=l(i,"repeat",0),this.repeatDelay=l(i,"repeatDelay",0),this.yoyo=l(i,"yoyo",!1),this.showOnStart=l(i,"showOnStart",!1),this.hideOnComplete=l(i,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(t,e,i,r){null===i&&null===r?(t.frameRate=24,t.duration=24/e*1e3):i&&null===r?(t.duration=i,t.frameRate=e/(i/1e3)):(t.frameRate=r,t.duration=e/r*1e3),t.msPerFrame=1e3/t.frameRate},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i=this.getFrames(this.manager.textureManager,e);if(i.length>0){if(0===t)this.frames=i.concat(this.frames);else if(t===this.frames.length)this.frames=this.frames.concat(i);else{var r=this.frames.slice(0,t),n=this.frames.slice(t);this.frames=r.concat(i,n)}this.updateFrameSequence()}return this},checkFrame:function(t){return t>=0&&t<this.frames.length},getFirstTick:function(t){t.accumulator=0,t.nextTick=t.msPerFrame+t.currentFrame.duration},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i,r){void 0===r&&(r=!0);var n,s,o,h,c=[],d=1;if("string"===typeof e){h=e;var f=t.get(h).getFrameNames();r&&u(f),e=[],f.forEach((function(t){e.push({key:h,frame:t})}))}if(!Array.isArray(e)||0===e.length)return c;for(o=0;o<e.length;o++){var p=e[o],m=l(p,"key",i);if(m){var v=l(p,"frame",0),y=t.getFrame(m,v);(s=new a(m,v,d,y)).duration=l(p,"duration",0),s.isFirst=!n,n&&(n.nextFrame=s,s.prevFrame=n),c.push(s),n=s,d++}}if(c.length>0){s.isLast=!0,s.nextFrame=c[0],c[0].prevFrame=s;var g=1/(c.length-1);for(o=0;o<c.length;o++)c[o].progress=o*g}return c},getNextTick:function(t){t.accumulator-=t.nextTick,t.nextTick=t.msPerFrame+t.currentFrame.duration},getFrameByProgress:function(t){return t=r(t,0,1),o(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;e.isLast?t.yoyo?this.handleYoyoFrame(t,!1):t.repeatCounter>0?t.inReverse&&t.forward?t.forward=!1:this.repeatAnimation(t):t.complete():this.updateAndGetNextTick(t,e.nextFrame)},handleYoyoFrame:function(t,e){if(e||(e=!1),t.inReverse===!e&&t.repeatCounter>0)return(0===t.repeatDelay||t.pendingRepeat)&&(t.forward=e),void this.repeatAnimation(t);if(t.inReverse===e||0!==t.repeatCounter){t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this.updateAndGetNextTick(t,i)}else t.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;e.isFirst?t.yoyo?this.handleYoyoFrame(t,!0):t.repeatCounter>0?(t.inReverse&&!t.forward||(t.forward=!0),this.repeatAnimation(t)):t.complete():this.updateAndGetNextTick(t,e.prevFrame)},updateAndGetNextTick:function(t,e){t.setCurrentFrame(e),this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);return-1!==e&&this.removeFrameAt(e),this},removeFrameAt:function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this},repeatAnimation:function(t){if(2===t._pendingStop){if(0===t._pendingStopValue)return t.stop();t._pendingStopValue--}t.repeatDelay>0&&!t.pendingRepeat?(t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=t.repeatDelay):(t.repeatCounter--,t.forward?t.setCurrentFrame(t.currentFrame.nextFrame):t.setCurrentFrame(t.currentFrame.prevFrame),t.isPlaying&&(this.getNextTick(t),t.handleRepeat()))},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach((function(e){t.frames.push(e.toJSON())})),t},updateFrameSequence:function(){for(var t,e=this.frames.length,i=1/(e-1),r=0;r<e;r++)(t=this.frames[r]).index=r+1,t.isFirst=!1,t.isLast=!1,t.progress=r*i,0===r?(t.isFirst=!0,1===e?(t.isLast=!0,t.nextFrame=t,t.prevFrame=t):(t.isLast=!1,t.prevFrame=this.frames[e-1],t.nextFrame=this.frames[r+1])):r===e-1&&e>1?(t.isLast=!0,t.prevFrame=this.frames[e-2],t.nextFrame=this.frames[0]):e>1&&(t.prevFrame=this.frames[r-1],t.nextFrame=this.frames[r+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++)this.frames[t].destroy();this.frames=[],this.manager=null}});t.exports=h},function(t,e){t.exports=function(t,e,i,r){void 0===e&&(e=0),void 0===i&&(i=" "),void 0===r&&(r=3);var n=0;if(e+1>=(t=t.toString()).length)switch(r){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var s=Math.ceil((n=e-t.length)/2);t=new Array(n-s+1).join(i)+t+new Array(s+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t}},function(t,e,i){var r=i(327),n=i(189),s=i(331),o=i(332);t.exports=function(t){switch(typeof t){case"string":return"rgb"===t.substr(0,3).toLowerCase()?o(t):r(t);case"number":return n(t);case"object":return s(t)}}},function(t,e,i){var r=i(103);function n(t,e,i,r){var n=(t+6*e)%6,s=Math.min(n,4-n,1);return Math.round(255*(r-r*i*Math.max(0,s)))}t.exports=function(t,e,i,s){void 0===e&&(e=1),void 0===i&&(i=1);var o=n(5,t,e,i),a=n(3,t,e,i),l=n(1,t,e,i);return s?s.setTo?s.setTo(o,a,l,s.alpha,!1):(s.r=o,s.g=a,s.b=l,s.color=r(o,a,l),s):{r:o,g:a,b:l,color:r(o,a,l)}}},function(t,e,i){var r=i(38),n=i(330);t.exports=function(t){var e=n(t);return new r(e.r,e.g,e.b,e.a)}},function(t,e){t.exports=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t}},function(t,e,i){var r=i(105),n=i(136),s=i(31),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};t.exports=function(){if("function"===typeof importScripts)return o;o.canvas=!!window.CanvasRenderingContext2D;try{o.localStorage=!!localStorage.getItem}catch(e){o.localStorage=!1}o.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,o.fileSystem=!!window.requestFileSystem;var t=!1;return o.webGL=function(){if(window.WebGLRenderingContext)try{var e=s.createWebGL(this),i=e.getContext("webgl")||e.getContext("experimental-webgl"),r=s.create2D(this),n=r.getContext("2d").createImageData(1,1);return t=n.data instanceof Uint8ClampedArray,s.remove(e),s.remove(r),!!i}catch(o){return!1}return!1}(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,n.firefox&&n.firefoxVersion<21&&(o.getUserMedia=!1),!r.iOS&&(n.ie||n.firefox||n.chrome)&&(o.canvasBitBltShift=!0),(n.safari||n.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint32Array&&(o.littleEndian=function(){var t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}()),o.support32bit="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof Int32Array&&null!==o.littleEndian&&t,o}()},function(t,e){var i="";t.exports=function(){var t=function(t){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var r=e[i]+"mageSmoothingEnabled";if(r in t)return r}return null};return{disable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!1),e},enable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!0),e},getPrefix:t,isEnabled:function(t){return null!==i?t[i]:null}}}()},function(t,e,i){var r=i(14),n=i(17),s={Angle:i(812),Distance:i(821),Easing:i(826),Fuzzy:i(827),Interpolation:i(830),Pow2:i(835),Snap:i(837),RandomDataGenerator:i(839),Average:i(840),Bernstein:i(356),Between:i(195),CatmullRom:i(194),CeilTo:i(841),Clamp:i(18),DegToRad:i(36),Difference:i(842),Euler:i(843),Factorial:i(357),FloatBetween:i(137),FloorTo:i(844),FromPercent:i(98),GetSpeed:i(845),IsEven:i(846),IsEvenStrict:i(847),Linear:i(135),MaxAdd:i(848),Median:i(849),MinSub:i(850),Percent:i(851),RadToDeg:i(196),RandomXY:i(852),RandomXYZ:i(853),RandomXYZW:i(854),Rotate:i(362),RotateAround:i(308),RotateAroundDistance:i(182),RotateTo:i(855),RoundAwayFromZero:i(363),RoundTo:i(856),SinCosTableGenerator:i(857),SmootherStep:i(183),SmoothStep:i(184),ToXY:i(858),TransformXY:i(177),Within:i(859),Wrap:i(68),Vector2:i(3),Vector3:i(39),Vector4:i(140),Matrix3:i(364),Matrix4:i(69),Quaternion:i(365),RotateVec3:i(860)};s=n(!1,s,r),t.exports=s},function(t,e){t.exports=function(t,e,i,r,n){var s=.5*(r-e),o=.5*(n-i),a=t*t;return(2*i-2*r+s+o)*(t*a)+(-3*i+3*r-2*s-o)*a+s*t+i}},function(t,e){t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},function(t,e,i){var r=i(14);t.exports=function(t){return t*r.RAD_TO_DEG}},function(t,e,i){t.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(t,e,i){var r=new(i(0))({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(t){return this._matrix=t,this._dirty=!0,this},reset:function(){var t=this._matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var t=new Float32Array(this._matrix);t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,this._data=t,this._dirty=!1}return this._data},brightness:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=t;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],e)},saturate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=2*t/3+1,r=-.5*(i-1);return this.multiply([i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0],e)},desaturate:function(t){return void 0===t&&(t=!1),this.saturate(-1,t)},hue:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),t=t/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=.213,s=.715,o=.072;return this.multiply([n+.787*i+r*-n,s+i*-s+r*-s,o+i*-o+.928*r,0,0,n+i*-n+.143*r,s+i*(1-s)+.14*r,o+i*-o+-.283*r,0,0,n+i*-n+-.787*r,s+i*-s+r*s,o+.928*i+r*o,0,0,0,0,0,1,0],e)},grayscale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!1),this.saturate(-t,e)},blackWhite:function(t){return void 0===t&&(t=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},contrast:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=t+1,r=-.5*(i-1);return this.multiply([i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0],e)},negative:function(t){return void 0===t&&(t=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},desaturateLuminance:function(t){return void 0===t&&(t=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],t)},sepia:function(t){return void 0===t&&(t=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},night:function(t,e){return void 0===t&&(t=.1),void 0===e&&(e=!1),this.multiply([-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},lsd:function(t){return void 0===t&&(t=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},brown:function(t){return void 0===t&&(t=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},vintagePinhole:function(t){return void 0===t&&(t=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},kodachrome:function(t){return void 0===t&&(t=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},technicolor:function(t){return void 0===t&&(t=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},polaroid:function(t){return void 0===t&&(t=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},shiftToBGR:function(t){return void 0===t&&(t=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},multiply:function(t,e){e||this.reset();for(var i=this._matrix,r=[],n=0;n<20;n++)r[n]=i[n];return i[0]=r[0]*t[0]+r[1]*t[5]+r[2]*t[10]+r[3]*t[15],i[1]=r[0]*t[1]+r[1]*t[6]+r[2]*t[11]+r[3]*t[16],i[2]=r[0]*t[2]+r[1]*t[7]+r[2]*t[12]+r[3]*t[17],i[3]=r[0]*t[3]+r[1]*t[8]+r[2]*t[13]+r[3]*t[18],i[4]=r[0]*t[4]+r[1]*t[9]+r[2]*t[14]+r[3]*t[19]+r[4],i[5]=r[5]*t[0]+r[6]*t[5]+r[7]*t[10]+r[8]*t[15],i[6]=r[5]*t[1]+r[6]*t[6]+r[7]*t[11]+r[8]*t[16],i[7]=r[5]*t[2]+r[6]*t[7]+r[7]*t[12]+r[8]*t[17],i[8]=r[5]*t[3]+r[6]*t[8]+r[7]*t[13]+r[8]*t[18],i[9]=r[5]*t[4]+r[6]*t[9]+r[7]*t[14]+r[8]*t[19]+r[9],i[10]=r[10]*t[0]+r[11]*t[5]+r[12]*t[10]+r[13]*t[15],i[11]=r[10]*t[1]+r[11]*t[6]+r[12]*t[11]+r[13]*t[16],i[12]=r[10]*t[2]+r[11]*t[7]+r[12]*t[12]+r[13]*t[17],i[13]=r[10]*t[3]+r[11]*t[8]+r[12]*t[13]+r[13]*t[18],i[14]=r[10]*t[4]+r[11]*t[9]+r[12]*t[14]+r[13]*t[19]+r[14],i[15]=r[15]*t[0]+r[16]*t[5]+r[17]*t[10]+r[18]*t[15],i[16]=r[15]*t[1]+r[16]*t[6]+r[17]*t[11]+r[18]*t[16],i[17]=r[15]*t[2]+r[16]*t[7]+r[17]*t[12]+r[18]*t[17],i[18]=r[15]*t[3]+r[16]*t[8]+r[17]*t[13]+r[18]*t[18],i[19]=r[15]*t[4]+r[16]*t[9]+r[17]*t[14]+r[18]*t[19]+r[19],this._dirty=!0,this}});t.exports=r},function(t,e,i){var r=i(10),n=i(14);t.exports=function(t,e){if(void 0===e&&(e=new r),0===t.length)return e;for(var i,s,o,a=Number.MAX_VALUE,l=Number.MAX_VALUE,u=n.MIN_SAFE_INTEGER,h=n.MIN_SAFE_INTEGER,c=0;c<t.length;c++)i=t[c],Array.isArray(i)?(s=i[0],o=i[1]):(s=i.x,o=i.y),a=Math.min(a,s),l=Math.min(l,o),u=Math.max(u,s),h=Math.max(h,o);return e.x=a,e.y=l,e.width=u-a,e.height=h-l,e}},function(t,e,i){var r=i(0),n=i(1),s=new r({initialize:function(t,e,i){this._rgb=[0,0,0],this.onChangeCallback=n,this.dirty=!1,this.set(t,e,i)},set:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this._rgb=[t,e,i],this.onChange(),this},equals:function(t,e,i){var r=this._rgb;return r.r===t&&r.g===e&&r.b===i},onChange:function(){this.dirty=!0;var t=this._rgb;this.onChangeCallback.call(this,t[0],t[1],t[2])},r:{get:function(){return this._rgb[0]},set:function(t){this._rgb[0]=t,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(t){this._rgb[1]=t,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(t){this._rgb[2]=t,this.onChange()}},destroy:function(){this.onChangeCallback=null}});t.exports=s},function(t,e,i){var r={CENTER:i(403),ORIENTATION:i(404),SCALE_MODE:i(405),ZOOM:i(406)};t.exports=r},function(t,e){t.exports=function(t){t.parentNode&&t.parentNode.removeChild(t)}},function(t,e){t.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(t,e,i){var r=i(0),n=i(144),s=i(197),o=i(20),a=i(419),l=i(420),u=i(33),h=i(1),c=i(421),d=new r({initialize:function(t,e){this.scene=t,this.game,this.renderer,this.config=e,this.settings=c.create(e),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(t){this.settings.status=n.INIT,this.sceneUpdate=h,this.game=t,this.renderer=t.renderer,this.canvas=t.canvas,this.context=t.context;var e=t.plugins;this.plugins=e,e.addToScene(this,s.Global,[s.CoreScene,l(this),a(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},step:function(t,e){var i=this.events;i.emit(o.PRE_UPDATE,t,e),i.emit(o.UPDATE,t,e),this.sceneUpdate.call(this.scene,t,e),i.emit(o.POST_UPDATE,t,e)},render:function(t){var e=this.displayList;e.depthSort(),this.events.emit(o.PRE_RENDER,t),this.cameras.render(t,e),this.events.emit(o.RENDER,t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){var e=this.events,i=this.settings;return this.settings.active&&(i.status=n.PAUSED,i.active=!1,e.emit(o.PAUSE,this,t)),this},resume:function(t){var e=this.events,i=this.settings;return this.settings.active||(i.status=n.RUNNING,i.active=!0,e.emit(o.RESUME,this,t)),this},sleep:function(t){var e=this.events,i=this.settings;return i.status=n.SLEEPING,i.active=!1,i.visible=!1,e.emit(o.SLEEP,this,t),this},wake:function(t){var e=this.events,i=this.settings;return i.status=n.RUNNING,i.active=!0,i.visible=!0,e.emit(o.WAKE,this,t),i.isTransition&&e.emit(o.TRANSITION_WAKE,i.transitionFrom,i.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===n.SLEEPING},isActive:function(){return this.settings.status===n.RUNNING},isPaused:function(){return this.settings.status===n.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,e){return t?this.resume(e):this.pause(e)},start:function(t){var e=this.events,i=this.settings;t&&(i.data=t),i.status=n.START,i.active=!0,i.visible=!0,e.emit(o.START,this),e.emit(o.READY,this,t)},shutdown:function(t){var e=this.events,i=this.settings;e.off(o.TRANSITION_INIT),e.off(o.TRANSITION_START),e.off(o.TRANSITION_COMPLETE),e.off(o.TRANSITION_OUT),i.status=n.SHUTDOWN,i.active=!1,i.visible=!1,this.renderer===u.WEBGL&&this.renderer.resetTextures(!0),e.emit(o.SHUTDOWN,this,t)},destroy:function(){var t=this.events,e=this.settings;e.status=n.DESTROYED,e.active=!1,e.visible=!1,t.emit(o.DESTROY,this),t.removeAllListeners();for(var i=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],r=0;r<i.length;r++)this[i[r]]=null}});t.exports=d},function(t,e){t.exports=function(t){return t&&t[0].toUpperCase()+t.slice(1)}},function(t,e,i){var r=i(33),n=i(0),s=i(109),o=i(424),a="Texture.frame missing: ",l=new n({initialize:function(t,e,i,r,n){Array.isArray(i)||(i=[i]),this.manager=t,this.key=e,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var s=0;s<i.length;s++)this.source.push(new o(this,i[s],r,n))},add:function(t,e,i,r,n,o){if(this.has(t))return null;var a=new s(this,t,e,i,r,n,o);return this.frames[t]=a,"__BASE"===this.firstFrame&&(this.firstFrame=t),this.frameTotal++,a},remove:function(t){return!!this.has(t)&&(this.get(t).destroy(),delete this.frames[t],!0)},has:function(t){return this.frames[t]},get:function(t){t||(t=this.firstFrame);var e=this.frames[t];return e||(console.warn(a+t),e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++)if(this.source[e]===t)return e;return-1},getFramesFromTextureSource:function(t,e){void 0===e&&(e=!1);var i=[];for(var r in this.frames)if("__BASE"!==r||e){var n=this.frames[r];n.sourceIndex===t&&i.push(n)}return i},getFrameNames:function(t){void 0===t&&(t=!1);var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");-1!==i&&e.splice(i,1)}return e},getSourceImage:function(t){void 0!==t&&null!==t&&1!==this.frameTotal||(t="__BASE");var e=this.frames[t];return e?e.source.image:(console.warn(a+t),this.frames.__BASE.source.image)},getDataSourceImage:function(t){void 0!==t&&null!==t&&1!==this.frameTotal||(t="__BASE");var e,i=this.frames[t];return i?e=i.sourceIndex:(console.warn(a+t),e=this.frames.__BASE.sourceIndex),this.dataSource[e].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=this.source[e];this.dataSource.push(new o(this,t[e],i.width,i.height))}},setFilter:function(t){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(t);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(t)},destroy:function(){var t;for(t=0;t<this.source.length;t++)this.source[t].destroy();for(t=0;t<this.dataSource.length;t++)this.dataSource[t].destroy();for(var e in this.frames)this.frames[e].destroy();this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var i=this.manager.game.renderer;i&&i.type===r.WEBGL&&i.resetTextures(!0),this.manager=null}});t.exports=l},function(t,e,i){var r=i(78);t.exports=function(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=t.length);var o=[];if(r(t,n,s))for(var a=n;a<s;a++){var l=t[a];(!e||e&&void 0===i&&l.hasOwnProperty(e)||e&&void 0!==i&&l[e]===i)&&o.push(l)}return o}},function(t,e,i){t.exports={Matrix:i(1013),Add:i(1021),AddAt:i(1022),BringToTop:i(1023),CountAllMatching:i(1024),Each:i(1025),EachInRange:i(1026),FindClosestInSorted:i(318),GetAll:i(207),GetFirst:i(428),GetRandom:i(210),MoveDown:i(1027),MoveTo:i(1028),MoveUp:i(1029),MoveAbove:i(1030),MoveBelow:i(1031),NumberArray:i(322),NumberArrayStep:i(1032),QuickSelect:i(436),Range:i(437),Remove:i(93),RemoveAt:i(1033),RemoveBetween:i(1034),RemoveRandomElement:i(1035),Replace:i(1036),RotateLeft:i(178),RotateRight:i(179),SafeRange:i(78),SendToBack:i(1037),SetAll:i(1038),Shuffle:i(131),SortByDigits:i(320),SpliceOne:i(74),StableSort:i(79),Swap:i(1039)}},function(t,e){t.exports=function(t){if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(var e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var r=e+Math.floor(Math.random()*i);return void 0===t[r]?null:t[r]}},function(t,e,i){var r=i(0),n=i(9),s=i(438),o=new r({Extends:n,initialize:function(){n.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(t){return this._pending.push(t),this._toProcess++,t},remove:function(t){return this._destroy.push(t),this._toProcess++,t},removeAll:function(){for(var t=this._active,e=this._destroy,i=t.length;i--;)e.push(t[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var t,e,i=this._destroy,r=this._active;for(t=0;t<i.length;t++){e=i[t];var n=r.indexOf(e);-1!==n&&(r.splice(n,1),this.emit(s.PROCESS_QUEUE_REMOVE,e))}for(i.length=0,i=this._pending,t=0;t<i.length;t++)e=i[t],(!this.checkQueue||this.checkQueue&&-1===r.indexOf(e))&&(r.push(e),this.emit(s.PROCESS_QUEUE_ADD,e));return i.length=0,this._toProcess=0,r},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});t.exports=o},function(t,e){function i(t,e){return parseInt(t.getAttribute(e),10)}t.exports=function(t,e,r,n,s){void 0===r&&(r=0),void 0===n&&(n=0);var o=e.cutX,a=e.cutY,l=e.source.width,u=e.source.height,h=e.sourceIndex,c={},d=t.getElementsByTagName("info")[0],f=t.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=i(d,"size"),c.lineHeight=i(f,"lineHeight")+n,c.chars={};var p=t.getElementsByTagName("char"),m=void 0!==e&&e.trimmed;if(m)var v=e.height,y=e.width;for(var g=0;g<p.length;g++){var x=p[g],b=i(x,"id"),w=String.fromCharCode(b),_=i(x,"x"),S=i(x,"y"),A=i(x,"width"),T=i(x,"height");m&&(_<y&&(y=_),S<v&&(v=S)),m&&0!==v&&0!==y&&(_-=e.x,S-=e.y);var E=(o+_)/l,M=(a+S)/u,C=(o+_+A)/l,P=(a+S+T)/u;if(c.chars[b]={x:_,y:S,width:A,height:T,centerX:Math.floor(A/2),centerY:Math.floor(T/2),xOffset:i(x,"xoffset"),yOffset:i(x,"yoffset"),xAdvance:i(x,"xadvance")+r,data:{},kerning:{},u0:E,v0:M,u1:C,v1:P},s&&0!==A&&0!==T){var R=s.add(w,h,_,S,A,T);R&&R.setUVs(A,T,E,M,C,P)}}var k=t.getElementsByTagName("kerning");for(g=0;g<k.length;g++){var L=k[g],O=i(L,"first"),D=i(L,"second"),I=i(L,"amount");c.chars[D].kerning[O]=I}return c}},function(t,e,i){var r=i(1049),n=i(440),s=i(0),o=i(11),a=i(109),l=i(15),u=i(110),h=new s({Extends:l,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,r],initialize:function(t,e,i,r,n){l.call(this,t,"Blitter"),this.setTexture(r,n),this.setPosition(e,i),this.initPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(t,e,i,r,s){void 0===r&&(r=!0),void 0===s&&(s=this.children.length),void 0===i?i=this.frame:i instanceof a||(i=this.texture.get(i));var o=new n(this,t,e,i,r);return this.children.addAt(o,s,!1),this.dirty=!0,o},createFromCallback:function(t,e,i,r){for(var n=this.createMultiple(e,i,r),s=0;s<n.length;s++){var o=n[s];t.call(this,o,s)}return n},createMultiple:function(t,e,i){void 0===e&&(e=this.frame.name),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);var r=[],n=this;return e.forEach((function(e){for(var s=0;s<t;s++)r.push(n.create(0,0,e,i))})),r},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});t.exports=h},function(t,e,i){var r=i(208),n=i(35),s=i(0),o=i(11),a=i(75),l=i(15),u=i(10),h=i(1052),c=i(441),d=i(3),f=new s({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.Pipeline,o.Transform,o.Visible,h],initialize:function(t,e,i,r){l.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this.tempTransformMatrix=new o.TransformMatrix,this._sortKey="",this._sysEvents=t.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(e,i),this.clearAlpha(),this.setBlendMode(n.SKIP_CHECK),r&&this.add(r)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new u),t.setTo(this.x,this.y,0,0),this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);t.setTo(e.x,e.y,0,0)}if(this.list.length>0){var i=this.list,r=new u,n=!1;t.setEmpty();for(var s=0;s<i.length;s++){var o=i[s];o.getBounds&&(o.getBounds(r),n?c(r,t,t):(t.setTo(r.x,r.y,r.width,r.height),n=!0))}}return t},addHandler:function(t){t.once(a.DESTROY,this.remove,this),this.exclusive&&(t.parentContainer&&t.parentContainer.remove(t),t.removeFromDisplayList(),t.parentContainer=this)},removeHandler:function(t){t.off(a.DESTROY,this.remove),this.exclusive&&(t.parentContainer=null,t.addToDisplayList())},pointToContainer:function(t,e){void 0===e&&(e=new d),this.parentContainer?this.parentContainer.pointToContainer(t,e):e=new d(t.x,t.y);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(t){return r.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return r.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),r.StableSort(this.list,e),this):this},getByName:function(t){return r.GetFirst(this.list,"name",t)},getRandom:function(t,e){return r.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return r.GetFirst(this.list,t,e,i,n)},getAll:function(t,e,i,n){return r.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return r.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return r.Swap(this.list,t,e),this},moveTo:function(t,e){return r.MoveTo(this.list,t,e),this},moveAbove:function(t,e){return r.MoveAbove(this.list,t,e),this},moveBelow:function(t,e){return r.MoveBelow(this.list,t,e),this},remove:function(t,e){var i=r.Remove(this.list,t,this.removeHandler,this);if(e&&i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)i[n].destroy()}return this},removeAt:function(t,e){var i=r.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var n=r.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(var s=0;s<n.length;s++)n[s].destroy();return this},removeAll:function(t){var e=r.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(t)for(var i=0;i<e.length;i++)e[i].destroy();return this},bringToTop:function(t){return r.BringToTop(this.list,t),this},sendToBack:function(t){return r.SendToBack(this.list,t),this},moveUp:function(t){return r.MoveUp(this.list,t),this},moveDown:function(t){return r.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return r.Shuffle(this.list),this},replace:function(t,e,i){return r.Replace(this.list,t,e)&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,n){return r.SetAll(this.list,t,e,i,n),this},each:function(t,e){var i,r=[null],n=this.list.slice(),s=n.length;for(i=2;i<arguments.length;i++)r.push(arguments[i]);for(i=0;i<s;i++)r[0]=n[i],t.apply(e,r);return this},iterate:function(t,e){var i,r=[null];for(i=2;i<arguments.length;i++)r.push(arguments[i]);for(i=0;i<this.list.length;i++)r[0]=this.list[i],t.apply(e,r);return this},setScrollFactor:function(t,e,i){return void 0===e&&(e=t),void 0===i&&(i=!1),this.scrollFactorX=t,this.scrollFactorY=e,i&&(r.SetAll(this.list,"scrollFactorX",t),r.SetAll(this.list,"scrollFactorY",e)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});t.exports=f},function(t,e,i){var r=i(148),n=i(0),s=i(1057),o=new n({Extends:r,Mixins:[s],initialize:function(t,e,i,n,s,o,a){r.call(this,t,e,i,n,s,o,a),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});t.exports=o},function(t,e,i){var r=i(133),n=i(0),s=i(217),o=i(303),a=i(304),l=i(305),u=i(309),h=i(167),c=i(312),d=i(313),f=i(314),p=i(111),m=i(15),v=i(2),y=i(6),g=i(14),x=i(1063),b=new n({Extends:m,Mixins:[o,a,l,u,h,d,f,c,x],initialize:function(t,e){var i=y(e,"x",0),r=y(e,"y",0);m.call(this,t,"Graphics"),this.setPosition(i,r),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(e)},setDefaultStyles:function(t){return y(t,"lineStyle",null)&&(this.defaultStrokeWidth=y(t,"lineStyle.width",1),this.defaultStrokeColor=y(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=y(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),y(t,"fillStyle",null)&&(this.defaultFillColor=y(t,"fillStyle.color",16777215),this.defaultFillAlpha=y(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return void 0===i&&(i=1),this.commandBuffer.push(s.LINE_STYLE,t,e,i),this._lineWidth=t,this},fillStyle:function(t,e){return void 0===e&&(e=1),this.commandBuffer.push(s.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,i,r,n,o,a,l){return void 0===n&&(n=1),void 0===o&&(o=n),void 0===a&&(a=n),void 0===l&&(l=n),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,n,o,a,l,t,e,i,r),this},lineGradientStyle:function(t,e,i,r,n,o){return void 0===o&&(o=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,t,o,e,i,r,n),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,g.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,g.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,r){return this.commandBuffer.push(s.FILL_RECT,t,e,i,r),this},strokeRect:function(t,e,i,r){var n=this._lineWidth/2,s=t-n,o=t+n;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+r),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+r),this.strokePath(),this.beginPath(),this.moveTo(s,e),this.lineTo(o+i,e),this.strokePath(),this.beginPath(),this.moveTo(s,e+r),this.lineTo(o+i,e+r),this.strokePath(),this},fillRoundedRect:function(t,e,i,r,n){void 0===n&&(n=20);var s=n,o=n,a=n,l=n;return"number"!==typeof n&&(s=v(n,"tl",20),o=v(n,"tr",20),a=v(n,"bl",20),l=v(n,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,-g.TAU,0),this.lineTo(t+i,e+r-l),this.arc(t+i-l,e+r-l,l,0,g.TAU),this.lineTo(t+a,e+r),this.arc(t+a,e+r-a,a,g.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-g.TAU),this.fillPath(),this},strokeRoundedRect:function(t,e,i,r,n){void 0===n&&(n=20);var s=n,o=n,a=n,l=n;return"number"!==typeof n&&(s=v(n,"tl",20),o=v(n,"tr",20),a=v(n,"bl",20),l=v(n,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-o,e),this.moveTo(t+i-o,e),this.arc(t+i-o,e+o,o,-g.TAU,0),this.lineTo(t+i,e+r-l),this.moveTo(t+i,e+r-l),this.arc(t+i-l,e+r-l,l,0,g.TAU),this.lineTo(t+a,e+r),this.moveTo(t+a,e+r),this.arc(t+a,e+r-a,a,g.TAU,Math.PI),this.lineTo(t,e+s),this.moveTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-g.TAU),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return!i||i<1?i=1:(t-=i/2,e-=i/2),this.commandBuffer.push(s.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,r,n,o){return this.commandBuffer.push(s.FILL_TRIANGLE,t,e,i,r,n,o),this},strokeTriangle:function(t,e,i,r,n,o){return this.commandBuffer.push(s.STROKE_TRIANGLE,t,e,i,r,n,o),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,r){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,r),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(s.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(s.MOVE_TO,t,e),this},strokePoints:function(t,e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<r;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(t,e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<r;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,r,n){void 0===n&&(n=32);var s=new p(t,e,i,r).getPoints(n);return this.strokePoints(s,!0)},fillEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,r,n){void 0===n&&(n=32);var s=new p(t,e,i,r).getPoints(n);return this.fillPoints(s,!0)},arc:function(t,e,i,r,n,o,a){return void 0===o&&(o=!1),void 0===a&&(a=0),this.commandBuffer.push(s.ARC,t,e,i,r,n,o,a),this},slice:function(t,e,i,r,n,o,a){return void 0===o&&(o=!1),void 0===a&&(a=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,t,e),this.commandBuffer.push(s.ARC,t,e,i,r,n,o,a),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(t,e){return this.commandBuffer.push(s.TRANSLATE,t,e),this},scaleCanvas:function(t,e){return this.commandBuffer.push(s.SCALE,t,e),this},rotateCanvas:function(t){return this.commandBuffer.push(s.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var r,n,s=this.scene.sys,o=s.game.renderer;if(void 0===e&&(e=s.scale.width),void 0===i&&(i=s.scale.height),b.TargetCamera.setScene(this.scene),b.TargetCamera.setViewport(0,0,e,i),b.TargetCamera.scrollX=this.x,b.TargetCamera.scrollY=this.y,"string"===typeof t)if(s.textures.exists(t)){var a=(r=s.textures.get(t)).getSourceImage();a instanceof HTMLCanvasElement&&(n=a.getContext("2d"))}else n=(r=s.textures.createCanvas(t,e,i)).getSourceImage().getContext("2d");else t instanceof HTMLCanvasElement&&(n=t.getContext("2d"));return n&&(this.renderCanvas(o,this,b.TargetCamera,null,n,!1),r&&r.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});b.TargetCamera=new r,t.exports=b},function(t,e){t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){void 0===i&&(i=new r);var n=t.width/2,s=t.height/2;return i.x=t.x+n*Math.cos(e),i.y=t.y+s*Math.sin(e),i}},function(t,e,i){var r=i(35),n=i(0),s=i(11),o=i(176),a=i(101),l=i(9),u=i(75),h=i(110),c=i(1071),d=i(20),f=i(79),p=new n({Extends:h,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.Visible,l,c],initialize:function(t,e){h.call(this,t),l.call(this),this.scene=t,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=t.sys,this.events=t.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(r.SKIP_CHECK),e&&this.add(e),t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(t,e){return this.data||(this.data=new a(this)),this.data.set(t,e),this},incData:function(t,e){return this.data||(this.data=new a(this)),this.data.inc(t,e),this},toggleData:function(t){return this.data||(this.data=new a(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new a(this)),this.data.get(t)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return o(this)},willRender:function(t){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return i.unshift(this.displayList.getIndex(t)),i},addChildCallback:function(t){t.displayList&&t.displayList!==this&&t.removeFromDisplayList(),t.displayList||(this.queueDepthSort(),t.displayList=this,t.emit(u.ADDED_TO_SCENE,t,this.scene),this.events.emit(d.ADDED_TO_SCENE,t,this.scene))},removeChildCallback:function(t){this.queueDepthSort(),t.displayList=null,t.emit(u.REMOVED_FROM_SCENE,t,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,t,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.emit(u.DESTROY,this);for(var t=this.list.length;t--;)this.list[t].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});t.exports=p},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(450),a=i(110),l=i(452),u=i(1075),h=new r({Extends:s,Mixins:[n.Depth,n.Mask,n.Pipeline,n.Transform,n.Visible,u],initialize:function(t,e,i,r){if(s.call(this,t,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!==typeof i&&!Array.isArray(i)||(r=i,i=null),this.setTexture(e,i),this.initPipeline(),this.emitters=new a(this),this.wells=new a(this),r){Array.isArray(r)||(r=[r]);for(var n=0;n<r.length;n++)this.createEmitter(r[n])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){this.frame=this.texture.get(t);var e=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),i=[];return e.forEach((function(t){i.push(t.name)})),this.frameNames=i,this.defaultFrame=this.frame,this},setEmitterFrames:function(t,e){Array.isArray(t)||(t=[t]);var i=e.frames;i.length=0;for(var r=0;r<t.length;r++){var n=t[r];-1!==this.frameNames.indexOf(n)&&i.push(this.texture.get(n))}return i.length>0?e.defaultFrame=i[0]:e.defaultFrame=this.defaultFrame,this},addEmitter:function(t){return this.emitters.add(t)},createEmitter:function(t){return this.addEmitter(new l(this,t))},removeEmitter:function(t){return this.emitters.remove(t,!0)},addGravityWell:function(t){return this.wells.add(t)},createGravityWell:function(t){return this.addGravityWell(new o(t))},emitParticle:function(t,e,i){for(var r=this.emitters.list,n=0;n<r.length;n++){var s=r[n];s.active&&s.emitParticle(t,e,i)}return this},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(t,e){e*=this.timeScale;for(var i=this.emitters.list,r=0;r<i.length;r++){var n=i[r];n.active&&n.preUpdate(t,e)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});t.exports=h},function(t,e,i){var r=i(35),n=i(133),s=i(31),o=i(0),a=i(11),l=i(33),u=i(109),h=i(15),c=i(1),d=i(92),f=i(1079),p=i(141),m=i(12),v=i(222),y=new o({Extends:h,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,f],initialize:function(t,e,i,r,o,a,u){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=32),void 0===o&&(o=32),h.call(this,t,"RenderTexture"),this.renderer=t.sys.renderer,this.textureManager=t.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===a?(this.canvas=s.create2D(this,r,o),this.texture=t.sys.textures.addCanvas(v(),this.canvas),this.frame=this.texture.get()):(this.texture=t.sys.textures.get(a),this.frame=this.texture.get(u),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new n(0,0,r,o),this.renderTarget=null;var f=this.renderer;f?f.type===l.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new p(f,r,o,1,0,!1)):f.type===l.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=c,this.camera.setScene(t),this.setPosition(e,i),void 0===a&&this.setSize(r,o),this.setOrigin(0,0),this.initPipeline(d.SINGLE_PIPELINE)},setSize:function(t,e){return this.resize(t,e)},resize:function(t,e){void 0===e&&(e=t);var i=this.frame;if(t!==this.width||e!==this.height){if("__BASE"===i.name){this.canvas.width=t,this.canvas.height=e,this.texture.width=t,this.texture.height=e;var r=this.renderTarget;r&&(r.resize(t,e),i.glTexture=r.texture,i.source.isRenderTexture=!0,i.source.isGLTexture=!0,i.source.glTexture=r.texture),this.camera.setSize(t,e),i.source.width=t,i.source.height=e,i.setSize(t,e),this.width=t,this.height=e}}else{var n=this.texture.getSourceImage();i.cutX+t>n.width&&(t=n.width-i.cutX),i.cutY+e>n.height&&(e=n.height-i.cutY),i.setSize(t,e,i.cutX,i.cutY)}this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=e),this},setGlobalTint:function(t){return this.globalTint=t,this},setGlobalAlpha:function(t){return this.globalAlpha=t,this},saveTexture:function(t){return this.textureManager.renameTexture(this.texture.key,t),this._saved=!0,this.texture},fill:function(t,e,i,r,n,s){var o=this.frame,a=this.camera,l=this.renderer;void 0===e&&(e=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=o.cutWidth),void 0===s&&(s=o.cutHeight);var u=(t>>16&255)/255,h=(t>>8&255)/255,c=(255&t)/255,d=this.renderTarget;if(a.preRender(),d){d.bind(!0);var f=this.pipeline;f.manager.set(f);var p=d.width,v=d.height,y=l.width/p,g=l.height/v;f.drawFillRect(i*y,r*g,n*y,s*g,m.getTintFromFloats(c,h,u,1),e),d.unbind(!0)}else{var x=this.context;l.setContext(x),x.fillStyle="rgba("+u+","+h+","+c+","+e+")",x.fillRect(i+o.cutX,r+o.cutY,n,s),l.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var t=this.renderTarget;if(t)t.clear();else{var e=this.context;e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),e.restore()}this.dirty=!1}return this},erase:function(t,e,i){return this._eraseMode=!0,this.draw(t,e,i,1,16777215),this._eraseMode=!1,this},draw:function(t,e,i,r,n){return this.beginDraw(),this.batchDraw(t,e,i,r,n),this.endDraw(),this},drawFrame:function(t,e,i,r,n,s){return this.beginDraw(),this.batchDrawFrame(t,e,i,r,n,s),this.endDraw(),this},beginDraw:function(){var t=this.camera,e=this.renderer,i=this.renderTarget;return t.preRender(),i?e.beginCapture(i.width,i.height):e.setContext(this.context),this},batchDraw:function(t,e,i,r,n){return void 0===r&&(r=this.globalAlpha),n=void 0===n?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(n>>16)+(65280&n)+((255&n)<<16),Array.isArray(t)||(t=[t]),this.batchList(t,e,i,r,n),this},batchDrawFrame:function(t,e,i,r,n,s){void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=this.globalAlpha),s=void 0===s?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(s>>16)+(65280&s)+((255&s)<<16);var o=this.textureManager.getFrame(t,e);return o&&(this.renderTarget?this.pipeline.batchTextureFrame(o,i,r,s,n,this.camera.matrix,null):this.batchTextureFrame(o,i+this.frame.cutX,r+this.frame.cutY,n,s)),this},endDraw:function(t){void 0===t&&(t=this._eraseMode);var e=this.renderer,i=this.renderTarget;if(i){var r=e.endCapture();e.pipelines.setUtility().blitFrame(r,i,1,!1,!1,t),e.resetScissor(),e.resetViewport()}else e.setContext();return this.dirty=!0,this},batchList:function(t,e,i,r,n){for(var s=0;s<t.length;s++){var o=t[s];o&&o!==this&&(o.renderWebGL||o.renderCanvas?this.drawGameObject(o,e,i):o.isParent||o.list?this.batchGroup(o.getChildren(),e,i):"string"===typeof o?this.batchTextureFrameKey(o,null,e,i,r,n):o instanceof u?this.batchTextureFrame(o,e,i,r,n):Array.isArray(o)&&this.batchList(o,e,i,r,n))}},batchGroup:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),e+=this.frame.cutX,i+=this.frame.cutY;for(var r=0;r<t.length;r++){var n=t[r];if(n.willRender(this.camera)){var s=n.x+e,o=n.y+i;this.drawGameObject(n,s,o)}}},batchGameObjectWebGL:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var r=t.x,n=t.y;t.setPosition(e+this.frame.cutX,i+this.frame.cutY),t.renderDirect?t.renderDirect(this.renderer,t,this.camera):t.renderWebGL(this.renderer,t,this.camera),t.setPosition(r,n)},batchGameObjectCanvas:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var n=t.x,s=t.y;if(this._eraseMode){var o=t.blendMode;t.blendMode=r.ERASE}t.setPosition(e+this.frame.cutX,i+this.frame.cutY),t.renderCanvas(this.renderer,t,this.camera,null),t.setPosition(n,s),this._eraseMode&&(t.blendMode=o)},batchTextureFrameKey:function(t,e,i,r,n,s){var o=this.textureManager.getFrame(t,e);o&&this.batchTextureFrame(o,i,r,n,s)},batchTextureFrame:function(t,e,i,r,n){if(void 0===e&&(e=0),void 0===i&&(i=0),e+=this.frame.cutX,i+=this.frame.cutY,this.renderTarget)this.pipeline.batchTextureFrame(t,e,i,n,r,this.camera.matrix,null);else{var s=this.context,o=t.canvasData,a=t.source.image,l=this.camera.matrix;s.save(),s.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",s.globalAlpha=r,l.setToContext(s),s.drawImage(a,o.x,o.y,o.width,o.height,e,i,o.width,o.height),s.restore()}},snapshotArea:function(t,e,i,r,n,s,o){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,n,!1,t,e,i,r,s,o):this.renderer.snapshotCanvas(this.canvas,n,!1,t,e,i,r,s,o),this},snapshot:function(t,e,i){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,t,!1,0,0,this.width,this.height,e,i):this.renderer.snapshotCanvas(this.canvas,t,!1,0,0,this.width,this.height,e,i),this},snapshotPixel:function(t,e,i){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,i,!0,t,e):this.renderer.snapshotCanvas(this.canvas,i,!0,t,e),this},preDestroy:function(){this._saved||(s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});t.exports=y},function(t,e){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},function(t,e,i){var r=i(164),n=i(0),s=i(11),o=i(15),a=i(92),l=i(1085),u=i(3),h=new n({Extends:o,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,l],initialize:function(t,e,i,n,s,l,h,c,d){void 0===n&&(n="__DEFAULT"),void 0===l&&(l=2),void 0===h&&(h=!0),o.call(this,t,"Rope"),this.anims=new r(this),this.points=l,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===n,this.dirty=!1,this.horizontal=h,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(n,s),this.setPosition(e,i),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),Array.isArray(l)&&this.resizeArrays(l.length),this.setPoints(l,c,d),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(t,e){var i=this.anims.currentFrame;this.anims.update(t,e),this.anims.currentFrame!==i&&(this.updateUVs(),this.updateVertices())},play:function(t,e,i){return this.anims.play(t,e,i),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(t,e,i){return void 0===t&&(t=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(t,e,i))},setVertical:function(t,e,i){return void 0===t&&(t=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(t,e,i)):this},setTintFill:function(t){return void 0===t&&(t=!1),this.tintFill=t,this},setAlphas:function(t,e){var i=this.points.length;if(i<1)return this;var r,n=this.alphas;void 0===t?t=[1]:Array.isArray(t)||void 0!==e||(t=[t]);var s=0;if(void 0!==e)for(r=0;r<i;r++)n[s=2*r]=t,n[s+1]=e;else if(t.length===i)for(r=0;r<i;r++)n[s=2*r]=t[r],n[s+1]=t[r];else{var o=t[0];for(r=0;r<i;r++)s=2*r,t.length>s&&(o=t[s]),n[s]=o,t.length>s+1&&(o=t[s+1]),n[s+1]=o}return this},setColors:function(t){var e=this.points.length;if(e<1)return this;var i,r=this.colors;void 0===t?t=[16777215]:Array.isArray(t)||(t=[t]);var n=0;if(t.length===e)for(i=0;i<e;i++)r[n=2*i]=t[i],r[n+1]=t[i];else{var s=t[0];for(i=0;i<e;i++)n=2*i,t.length>n&&(s=t[n]),r[n]=s,t.length>n+1&&(s=t[n+1]),r[n+1]=s}return this},setPoints:function(t,e,i){if(void 0===t&&(t=2),"number"===typeof t){var r,n,s,o=t;if(o<2&&(o=2),t=[],this.horizontal)for(s=-this.frame.halfWidth,n=this.frame.width/(o-1),r=0;r<o;r++)t.push({x:s+r*n,y:0});else for(s=-this.frame.halfHeight,n=this.frame.height/(o-1),r=0;r<o;r++)t.push({x:0,y:s+r*n})}var a=t.length,l=this.points.length;return a<1?(console.warn("Rope: Not enough points given"),this):(1===a&&(t.unshift({x:0,y:0}),a++),l!==a&&this.resizeArrays(a),this.points=t,this.updateUVs(),void 0!==e&&null!==e&&this.setColors(e),void 0!==i&&null!==i&&this.setAlphas(i),this)},updateUVs:function(){for(var t=this.uv,e=this.points.length,i=this.frame.u0,r=this.frame.v0,n=this.frame.u1,s=this.frame.v1,o=(n-i)/(e-1),a=(s-r)/(e-1),l=0;l<e;l++){var u,h,c,d,f=4*l;this.horizontal?(this._flipX?(u=n-l*o,c=n-l*o):(u=i+l*o,c=i+l*o),this._flipY?(h=s,d=r):(h=r,d=s)):(this._flipX?(u=i,c=n):(u=n,c=i),this._flipY?(h=s-l*a,d=s-l*a):(h=r+l*a,d=r+l*a)),t[f+0]=u,t[f+1]=h,t[f+2]=c,t[f+3]=d}return this},resizeArrays:function(t){var e=this.colors,i=this.alphas;this.vertices=new Float32Array(4*t),this.uv=new Float32Array(4*t),e=new Uint32Array(2*t),i=new Float32Array(2*t);for(var r=0;r<2*t;r++)e[r]=16777215,i[r]=1;return this.colors=e,this.alphas=i,this.dirty=!0,this},updateVertices:function(){var t=this._perp,e=this.points,i=this.vertices,r=e.length;if(this.dirty=!1,!(r<1)){for(var n,s=e[0],o=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,a=0;a<r;a++){var l=e[a],u=4*a;n=a<r-1?e[a+1]:l,t.x=n.y-s.y,t.y=-(n.x-s.x);var h=t.length();t.x/=h,t.y/=h,t.x*=o,t.y*=o,i[u]=l.x+t.x,i[u+1]=l.y+t.y,i[u+2]=l.x-t.x,i[u+3]=l.y-t.y,s=l}return this}},setDebug:function(t,e){return this.debugGraphic=t,this.debugCallback=t||e?e||this.renderDebugVerts:null,this},renderDebugVerts:function(t,e,i){var r=t.debugGraphic,n=i[0],s=i[1],o=i[2],a=i[3];r.lineBetween(n,s,o,a);for(var l=4;l<e;l+=4){var u=i[l+0],h=i[l+1],c=i[l+2],d=i[l+3];r.lineBetween(n,s,u,h),r.lineBetween(o,a,c,d),r.lineBetween(o,a,u,h),r.lineBetween(u,h,c,d),n=u,s=h,o=c,a=d}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(t){return this._flipX=t,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(t){return this._flipY=t,this.updateUVs()}}});t.exports=h},function(t,e,i){var r=i(142),n=i(31),s=i(0),o=i(11),a=i(22),l=i(15),u=i(458),h=i(6),c=i(202),d=i(1088),f=i(459),p=new s({Extends:l,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,d],initialize:function(t,e,i,r,s){void 0===e&&(e=0),void 0===i&&(i=0),l.call(this,t,"Text"),this.renderer=t.sys.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.canvas=n.create(this),this.context=this.canvas.getContext("2d"),this.style=new f(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(r),s&&s.padding&&this.setPadding(s.padding),s&&s.lineSpacing&&this.setLineSpacing(s.lineSpacing),t.sys.game.events.on(a.CONTEXT_RESTORED,(function(){this.dirty=!0}),this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",r(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join("\n")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var r="",n=t.replace(/ +/gi," ").split(this.splitRegExp),s=n.length,o=0;o<s;o++){var a=n[o],l="";if(a=a.replace(/^ *|\s*$/gi,""),e.measureText(a).width<i)r+=a+"\n";else{for(var u=i,h=a.split(" "),c=0;c<h.length;c++){var d=h[c],f=d+" ",p=e.measureText(f).width;if(p>u){if(0===c){for(var m=f;m.length&&(m=m.slice(0,-1),!((p=e.measureText(m).width)<=u)););if(!m.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var v=d.substr(m.length);h[c]=v,l+=m}var y=h[c].length?c:c+1,g=h.slice(y).join(" ").replace(/[ \n]*$/gi,"");n[o+1]=g+" "+(n[o+1]||""),s=n.length;break}l+=f,u-=p}r+=l.replace(/[ \n]*$/gi,"")+"\n"}}return r=r.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){for(var r="",n=t.split(this.splitRegExp),s=n.length-1,o=e.measureText(" ").width,a=0;a<=s;a++){for(var l=i,u=n[a].split(" "),h=u.length-1,c=0;c<=h;c++){var d=u[c],f=e.measureText(d).width,p=f;c<h&&(p+=o),p>l&&c>0&&(r+="\n",l=i),r+=d,c<h?(r+=" ",l-=p):l-=f}a<s&&(r+="\n")}return r},getWrappedText:function(t){return void 0===t&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,r,n,s){return this.style.setShadow(t,e,i,r,n,s)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setPadding:function(t,e,i,r){if("object"===typeof t){var n=t,s=h(n,"x",null);null!==s?(t=s,i=s):(t=h(n,"left",0),i=h(n,"right",t));var o=h(n,"y",null);null!==o?(e=o,r=o):(e=h(n,"top",0),r=h(n,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===r&&(r=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=r,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,r=i.resolution,n=i.metrics;i.syncFont(t,e);var s=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(s=this.runWordWrap(this._text));var o,a=s.split(this.splitRegExp),l=u(this,n,a),h=this.padding;0===i.fixedWidth?(this.width=l.width+h.left+h.right,o=l.width):(this.width=i.fixedWidth,(o=this.width-h.left-h.right)<l.width&&(o=l.width)),0===i.fixedHeight?this.height=l.height+h.top+h.bottom:this.height=i.fixedHeight;var c,d,f=this.width,p=this.height;this.updateDisplayOrigin(),f*=r,p*=r,f=Math.max(f,1),p=Math.max(p,1),t.width!==f||t.height!==p?(t.width=f,t.height=p,this.frame.setSize(f,p),i.syncFont(t,e)):e.clearRect(0,0,f,p),e.save(),e.scale(r,r),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,f,p)),i.syncStyle(t,e),e.textBaseline="alphabetic",e.translate(h.left,h.top);for(var m=0;m<l.lines;m++){if(c=i.strokeThickness/2,d=i.strokeThickness/2+m*l.lineHeight+n.ascent,m>0&&(d+=l.lineSpacing*m),i.rtl)c=f-c;else if("right"===i.align)c+=o-l.lineWidths[m];else if("center"===i.align)c+=(o-l.lineWidths[m])/2;else if("justify"===i.align&&l.lineWidths[m]/l.width>=.85){var v=l.width-l.lineWidths[m],y=e.measureText(" ").width,g=a[m].trim(),x=g.split(" ");v+=(a[m].length-g.length)*y;for(var b=Math.floor(v/y),w=0;b>0;)x[w]+=" ",w=(w+1)%(x.length-1||1),--b;a[m]=x.join(" ")}this.autoRound&&(c=Math.round(c),d=Math.round(d)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(a[m],c,d)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(a[m],c,d))}e.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var _=this.input;return _&&!_.customHitArea&&(_.hitArea.width=this.width,_.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=o.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&c(this.canvas),n.remove(this.canvas),this.texture.destroy()}});t.exports=p},function(t,e,i){var r=i(31),n=i(0),s=i(11),o=i(22),a=i(15),l=i(361),u=i(192),h=i(1091),c=i(3),d=new n({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,h],initialize:function(t,e,i,n,s,u,h){var d=t.sys.renderer;a.call(this,t,"TileSprite");var f=t.sys.textures.get(u),p=f.get(h);n&&s?(n=Math.floor(n),s=Math.floor(s)):(n=p.width,s=p.height),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=d,this.canvas=r.create(this,n,s),this.context=this.canvas.getContext("2d"),this.displayTexture=f,this.displayFrame=p,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=l(p.width),this.potHeight=l(p.height),this.fillCanvas=r.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(e,i),this.setSize(n,s),this.setFrame(h),this.setOriginFromFrame(),this.initPipeline(),t.sys.game.events.on(o.CONTEXT_RESTORED,(function(t){if(t){var e=t.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=t.createTexture2D(0,e.LINEAR,e.LINEAR,e.REPEAT,e.REPEAT,e.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}}),this)},setTexture:function(t,e){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){var e=this.displayTexture.get(t);return this.potWidth=l(e.width),this.potHeight=l(e.height),this.canvas.width=0,e.cutWidth&&e.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=e,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,e){return void 0!==t&&(this.tilePositionX=t),void 0!==e&&(this.tilePositionY=e),this},setTileScale:function(t,e){return void 0===t&&(t=this.tileScaleX),void 0===e&&(e=t),this.tileScaleX=t,this.tileScaleY=e,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var t=this.displayFrame;if(t.source.isRenderTexture||t.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var e=this.fillContext,i=this.fillCanvas,r=this.potWidth,n=this.potHeight;this.renderer&&this.renderer.gl||(r=t.cutWidth,n=t.cutHeight),e.clearRect(0,0,r,n),i.width=r,i.height=n,e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,r,n),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=e.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var t=this.canvas;if(t.width===this.width&&t.height===this.height||(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var e=this.context;this.scene.sys.game.config.antialias||u.disable(e);var i=this._tileScale.x,r=this._tileScale.y,n=this._tilePosition.x,s=this._tilePosition.y;e.clearRect(0,0,this.width,this.height),e.save(),e.scale(i,r),e.translate(-n,-s),e.fillStyle=this.fillPattern,e.fillRect(n,s,this.width/i,this.height/r),e.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),r.remove(this.canvas),r.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});t.exports=d},function(t,e,i){var r=i(0),n=i(18),s=i(11),o=i(75),a=i(22),l=i(51),u=i(15),h=i(70),c=i(222),d=i(1094),f=i(14),p=new r({Extends:u,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,d],initialize:function(t,e,i,r){u.call(this,t,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=c(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=f.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(e,i),this.initPipeline(),r&&this.changeSource(r,!1);var n=t.sys.game.events;n.on(a.PAUSE,this.globalPause,this),n.on(a.RESUME,this.globalResume,this);var s=t.sys.sound;s&&s.on(h.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(t,e,i){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var r=this.video;if(!r)return console.warn("Video not loaded"),this;void 0===t&&(t=r.loop);var n=this.scene.sys.sound;n&&n.mute&&this.setMute(!0),isNaN(e)||(this._markerIn=e),!isNaN(i)&&i>e&&(this._markerOut=i),r.loop=t;var s=this._callbacks,o=r.play();return void 0!==o?o.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(r.addEventListener("playing",s.play,!0),r.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),r.addEventListener("ended",s.end,!0),r.addEventListener("timeupdate",s.time,!0),r.addEventListener("seeking",s.seeking,!0),r.addEventListener("seeked",s.seeked,!0),this},changeSource:function(t,e,i,r,n){void 0===e&&(e=!0),this.video&&this.stop();var s=this.scene.sys.cache.video.get(t);return s?(this.video=s,this._cacheKey=t,this._codePaused=s.paused,this._codeMuted=s.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,s,s.videoWidth,s.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,s.videoWidth,s.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(o.VIDEO_CREATED,this,s.videoWidth,s.videoHeight)):this.updateTexture(),s.currentTime=0,this._lastUpdate=0,e&&this.play(i,r,n)):this.video=null,this},addMarker:function(t,e,i){return!isNaN(e)&&e>=0&&!isNaN(i)&&(this.markers[t]=[e,i]),this},playMarker:function(t,e){var i=this.markers[t];return i&&this.play(e,i[0],i[1]),this},removeMarker:function(t){return delete this.markers[t],this},snapshot:function(t,e){return void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.snapshotArea(0,0,this.width,this.height,t,e)},snapshotArea:function(t,e,i,r,n,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===r&&(r=this.height),void 0===n&&(n=i),void 0===s&&(s=r);var o=this.video,a=this.snapshotTexture;return a?(a.setSize(n,s),o&&a.context.drawImage(o,t,e,i,r,0,0,n,s)):(a=this.scene.sys.textures.createCanvas(c(),n,s),this.snapshotTexture=a,o&&a.context.drawImage(o,t,e,i,r,0,0,n,s)),a.update()},saveSnapshotTexture:function(t){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,t):this.snapshotTexture=this.scene.sys.textures.createCanvas(t,this.width,this.height),this.snapshotTexture},loadURL:function(t,e,i){void 0===e&&(e="loadeddata"),void 0===i&&(i=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var r=document.createElement("video");return r.controls=!1,i&&(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")),r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.addEventListener("error",this._callbacks.error,!0),r.src=t,r.load(),this.video=r,this},loadMediaStream:function(t,e,i){void 0===e&&(e="loadeddata"),void 0===i&&(i=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var r=document.createElement("video");r.controls=!1,i&&(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")),r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.addEventListener("error",this._callbacks.error,!0);try{r.srcObject=t}catch(n){r.src=window.URL.createObjectURL(t)}return r.load(),this.video=r,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(o.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(t){this.scene.sys.input.once(l.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(o.VIDEO_ERROR,this,t)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(o.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(t){this.stop(),this.emit(o.VIDEO_ERROR,this,t)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(o.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(o.VIDEO_PLAY,this)},completeHandler:function(){this.emit(o.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(o.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var t=this.video;if(t){var e=t.currentTime;e!==this._lastUpdate&&(this._lastUpdate=e,this.updateTexture(),e>=this._markerOut&&(t.loop?(t.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=e,this.emit(o.VIDEO_LOOP,this)):(this.emit(o.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(o.VIDEO_TIMEOUT,this))},updateTexture:function(){var t=this.video,e=t.videoWidth,i=t.videoHeight;if(this.videoTexture){var r=this.videoTextureSource;r.source!==t&&(r.source=t,r.width=e,r.height=i),r.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,t,e,i),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,e,i),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(o.VIDEO_CREATED,this,e,i)},getVideoKey:function(){return this._cacheKey},seekTo:function(t){var e=this.video;if(e){var i=e.duration;if(i!==1/0&&!isNaN(i)){var r=i*t;this.setCurrentTime(r)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(t){var e=this.video;if(e){if("string"===typeof t){var i=t[0],r=parseFloat(t.substr(1));"+"===i?t=e.currentTime+r:"-"===i&&(t=e.currentTime-r)}e.currentTime=t,this._lastUpdate=t}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(o.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(o.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var t=this.video;if(t){var e=t.currentTime,i=t.duration;if(i!==1/0&&!isNaN(i))return e/i}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(t){void 0===t&&(t=!0),this._codeMuted=t;var e=this.video;return e&&(e.muted=!!this._systemMuted||t),this},isMuted:function(){return this._codeMuted},globalMute:function(t,e){this._systemMuted=e;var i=this.video;i&&(i.muted=!!this._codeMuted||e)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(t){void 0===t&&(t=!0);var e=this.video;return this._codePaused=t,e&&(t?e.paused||e.pause():t||e.paused&&!this._systemPaused&&e.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(t){return void 0===t&&(t=1),this.video&&(this.video.volume=n(t,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(t){return this.video&&(this.video.playbackRate=t),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(t){return void 0===t&&(t=!0),this.video&&(this.video.loop=t),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(t,e){return void 0===e&&(e=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,t),this._key=t,this.flipY=e,this.videoTextureSource&&this.videoTextureSource.setFlipY(e),this.videoTexture},stop:function(){var t=this.video;if(t){var e=this._callbacks;for(var i in e)t.removeEventListener(i,e[i],!0);t.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(o.VIDEO_STOP,this),this},removeVideoElement:function(){var t=this.video;if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("autoplay"),t.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var t=this.scene.sys.game.events;t.off(a.PAUSE,this.globalPause,this),t.off(a.RESUME,this.globalResume,this);var e=this.scene.sys.sound;e&&e.off(h.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});t.exports=p},function(t,e,i){var r=i(0),n=i(228),s=i(470),o=i(56),a=new r({initialize:function(t){this.type=o.POLYGON,this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,e){return n(this,t,e)},setTo:function(t){if(this.area=0,this.points=[],"string"===typeof t&&(t=t.split(" ")),!Array.isArray(t))return this;for(var e,i=Number.MAX_VALUE,r=0;r<t.length;r++)e={x:0,y:0},"number"===typeof t[r]||"string"===typeof t[r]?(e.x=parseFloat(t[r]),e.y=parseFloat(t[r+1]),r++):Array.isArray(t[r])?(e.x=t[r][0],e.y=t[r][1]):(e.x=t[r].x,e.y=t[r].y),this.points.push(e),e.y<i&&(i=e.y);return this.calculateArea(i),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t,e,i=0,r=0;r<this.points.length-1;r++)t=this.points[r],i+=((e=this.points[r+1]).x-t.x)*(t.y+e.y);return t=this.points[0],e=this.points[this.points.length-1],i+=(t.x-e.x)*(e.y+t.y),this.area=.5*-i,this.area},getPoints:function(t,e,i){return s(this,t,e,i)}});t.exports=a},function(t,e){t.exports=function(t,e,i){for(var r=!1,n=-1,s=t.points.length-1;++n<t.points.length;s=n){var o=t.points[n].x,a=t.points[n].y,l=t.points[s].x,u=t.points[s].y;(a<=i&&i<u||u<=i&&i<a)&&e<(l-o)*(i-a)/(u-a)+o&&(r=!r)}return r}},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(2),a=i(17),l=i(478),u=i(1176),h=i(25),c=new r({Extends:s,Mixins:[n.ComputedSize,n.Depth,n.GetBounds,n.Mask,n.Origin,n.ScrollFactor,n.Transform,n.Visible,u],initialize:function(t,e,i,r,n,o,a,l){void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=128),void 0===o&&(o=128),s.call(this,t,"Shader"),this.blendMode=-1,this.shader;var u=t.sys.renderer;this.renderer=u,this.gl=u.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=u.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=u.width,this._rendererHeight=u.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,r),this.setSize(n,o),this.setOrigin(.5,.5),this.setShader(e,a,l)},willRender:function(t){return!!this.renderToTexture||!(s.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},setRenderToTexture:function(t,e){if(void 0===e&&(e=!1),!this.renderToTexture){var i=this.width,r=this.height,n=this.renderer;this.glTexture=n.createTextureFromSource(null,i,r,0),this.glTexture.flipY=e,this.framebuffer=n.createFramebuffer(i,r,this.glTexture,!1),this._rendererWidth=i,this._rendererHeight=r,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),t&&(this.texture=this.scene.sys.textures.addGLTexture(t,this.glTexture,i,r))}return this.shader&&(n.pipelines.clear(),this.load(),this.flush(),n.pipelines.rebind()),this},setShader:function(t,e,i){if(void 0===e&&(e=[]),"string"===typeof t){var r=this.scene.sys.cache.shader;if(!r.has(t))return console.warn("Shader missing: "+t),this;this.shader=r.get(t)}else this.shader=t;var n=this.gl,s=this.renderer;this.program&&n.deleteProgram(this.program);var o=s.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);n.uniformMatrix4fv(n.getUniformLocation(o,"uViewMatrix"),!1,this.viewMatrix),n.uniformMatrix4fv(n.getUniformLocation(o,"uProjectionMatrix"),!1,this.projectionMatrix),n.uniform2f(n.getUniformLocation(o,"uResolution"),this.width,this.height),this.program=o;var l=new Date,u={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[l.getFullYear(),l.getMonth(),l.getDate(),60*l.getHours()*60+60*l.getMinutes()+l.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,u):this.uniforms=u;for(var h=0;h<4;h++)e[h]&&this.setSampler2D("iChannel"+h,e[h],h,i);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(t){return this.pointer=t,this},projOrtho:function(t,e,i,r){var n=1/(t-e),s=1/(i-r),o=this.projectionMatrix;o[0]=-2*n,o[5]=-2*s,o[10]=-.001,o[12]=(t+e)*n,o[13]=(r+i)*s,o[14]=-0;var a=this.program,l=this.gl;this.renderer.setProgram(a),l.uniformMatrix4fv(l.getUniformLocation(a,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=e,this._rendererHeight=i},initUniforms:function(){var t=this.gl,e=this.renderer.glFuncMap,i=this.program;for(var r in this._textureCount=0,this.uniforms){var n=this.uniforms[r],s=n.type,o=e[s];n.uniformLocation=t.getUniformLocation(i,r),"sampler2D"!==s&&(n.glMatrix=o.matrix,n.glValueLength=o.length,n.glFunc=o.func)}},setSampler2DBuffer:function(t,e,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s={});var o=this.uniforms[t];return o.value=e,s.width=i,s.height=r,o.textureData=s,this._textureCount=n,this.initSampler2D(o),this},setSampler2D:function(t,e,i,r){void 0===i&&(i=0);var n=this.scene.sys.textures;if(n.exists(e)){var s=n.getFrame(e);if(s.glTexture&&s.glTexture.isRenderTexture)return this.setSampler2DBuffer(t,s.glTexture,s.width,s.height,i,r);var o=this.uniforms[t],a=s.source;o.textureKey=e,o.source=a.image,o.value=s.glTexture,a.isGLTexture&&(r||(r={}),r.width=a.width,r.height=a.height),r&&(o.textureData=r),this._textureCount=i,this.initSampler2D(o)}return this},setUniform:function(t,e){return l(this.uniforms,t,e),this},getUniform:function(t){return o(this.uniforms,t,null)},setChannel0:function(t,e){return this.setSampler2D("iChannel0",t,0,e)},setChannel1:function(t,e){return this.setSampler2D("iChannel1",t,1,e)},setChannel2:function(t,e){return this.setSampler2D("iChannel2",t,2,e)},setChannel3:function(t,e){return this.setSampler2D("iChannel3",t,3,e)},initSampler2D:function(t){if(t.value){var e=this.gl;e.activeTexture(e.TEXTURE0+this._textureCount),e.bindTexture(e.TEXTURE_2D,t.value);var i=t.textureData;if(i&&!t.value.isRenderTexture){var r=e[o(i,"magFilter","linear").toUpperCase()],n=e[o(i,"minFilter","linear").toUpperCase()],s=e[o(i,"wrapS","repeat").toUpperCase()],a=e[o(i,"wrapT","repeat").toUpperCase()],l=e[o(i,"format","rgba").toUpperCase()];if(i.repeat&&(s=e.REPEAT,a=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!i.flipY),i.width){var u=o(i,"width",512),h=o(i,"height",2),c=o(i,"border",0);e.texImage2D(e.TEXTURE_2D,0,l,u,h,c,l,e.UNSIGNED_BYTE,null)}else e.texImage2D(e.TEXTURE_2D,0,l,e.RGBA,e.UNSIGNED_BYTE,t.source);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,a)}this.renderer.setProgram(this.program),e.uniform1i(t.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var t,e,i,r,n,s=this.gl,o=this.uniforms,a=0;for(var l in o)i=(t=o[l]).glFunc,e=t.glValueLength,r=t.uniformLocation,null!==(n=t.value)&&(1===e?t.glMatrix?i.call(s,r,t.transpose,n):i.call(s,r,n):2===e?i.call(s,r,n.x,n.y):3===e?i.call(s,r,n.x,n.y,n.z):4===e?i.call(s,r,n.x,n.y,n.z,n.w):"sampler2D"===t.type&&(s.activeTexture(s.TEXTURE0+a),s.bindTexture(s.TEXTURE_2D,n),s.uniform1i(r,a),a++))},load:function(t){var e=this.gl,i=this.width,r=this.height,n=this.renderer,s=this.program,o=this.viewMatrix;if(!this.renderToTexture){var a=-this._displayOriginX,l=-this._displayOriginY;o[0]=t[0],o[1]=t[1],o[4]=t[2],o[5]=t[3],o[8]=t[4],o[9]=t[5],o[12]=o[0]*a+o[4]*l,o[13]=o[1]*a+o[5]*l}e.useProgram(s),e.uniformMatrix4fv(e.getUniformLocation(s,"uViewMatrix"),!1,o),e.uniform2f(e.getUniformLocation(s,"uResolution"),this.width,this.height);var u=this.uniforms,h=u.resolution;h.value.x=i,h.value.y=r,u.time.value=n.game.loop.getDuration();var c=this.pointer;if(c){var d=u.mouse,f=c.x/i,p=1-c.y/r;d.value.x=f.toFixed(2),d.value.y=p.toFixed(2)}this.syncUniforms()},flush:function(){var t=this.width,e=this.height,i=this.program,r=this.gl,n=this.vertexBuffer,s=this.renderer,o=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(s.setFramebuffer(this.framebuffer),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)),r.bindBuffer(r.ARRAY_BUFFER,n);var a=r.getAttribLocation(i,"inPosition");-1!==a&&(r.enableVertexAttribArray(a),r.vertexAttribPointer(a,2,r.FLOAT,!1,o,0));var l=this.vertexViewF32;l[3]=e,l[4]=t,l[5]=e,l[8]=t,l[9]=e,l[10]=t,r.bufferSubData(r.ARRAY_BUFFER,0,this.bytes.subarray(0,6*o)),r.drawArrays(r.TRIANGLES,0,6),this.renderToTexture&&s.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var t=this.gl;t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});t.exports=c},function(t,e,i){var r=i(0),n=i(11),s=i(36),o=i(116),a=i(15),l=i(479),u=i(480),h=i(19),c=i(69),d=i(1179),f=i(79),p=i(39),m=i(117),v=new r({Extends:a,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.Size,n.Texture,n.Transform,n.Visible,n.ScrollFactor,d],initialize:function(t,e,i,r,n,s,o,l,u,h,d,f){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r="__WHITE"),a.call(this,t,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new p,this.modelScale=new p(1,1,1),this.modelRotation=new p,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new c,this.viewPosition=new p,this.viewMatrix=new c,this.projectionMatrix=new c,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var m=t.sys.renderer;this.setPosition(e,i),this.setTexture(r,n),this.setSize(m.width,m.height),this.initPipeline(),this.setPerspective(m.width,m.height),s&&this.addVertices(s,o,l,u,h,d,f)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(t){return this.viewPosition.addScale(p.LEFT,t),this.dirtyCache[10]=1,this},panY:function(t){return this.viewPosition.y+=p.DOWN.y*t,this.dirtyCache[10]=1,this},panZ:function(t){return this.viewPosition.z+=t,this.dirtyCache[10]=1,this},setPerspective:function(t,e,i,r,n){return void 0===i&&(i=45),void 0===r&&(r=.01),void 0===n&&(n=1e3),this.projectionMatrix.perspective(s(i),t/e,r,n),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(t,e,i,r){return void 0===t&&(t=this.scene.sys.renderer.getAspectRatio()),void 0===e&&(e=1),void 0===i&&(i=-1e3),void 0===r&&(r=1e3),this.projectionMatrix.ortho(-t,t,-e,e,i,r),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach((function(t){t.destroy()})),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(t,e,i,r,n,s,o,a,l){var h=this.scene.sys.cache.obj.get(t);return h&&u(h,this,e,i,r,n,s,o,a,l),this},sortByDepth:function(t,e){return t.depth-e.depth},depthSort:function(){return f(this.faces,this.sortByDepth),this},addVertex:function(t,e,i,r,n,s,o){var a=new m(t,e,i,r,n,s,o);return this.vertices.push(a),a},addFace:function(t,e,i){var r=new o(t,e,i);return this.faces.push(r),this.dirtyCache[9]=-1,r},addVertices:function(t,e,i,r,n,s,o){var a=l(t,e,i,r,n,s,o);return a&&(this.faces=this.faces.concat(a.faces),this.vertices=this.vertices.concat(a.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(t){return this.faces[t]},getFaceAt:function(t,e,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var r=h(this,i).calc,n=this.faces,s=[],o=0;o<n.length;o++){var a=n[o];a.contains(t,e,r)&&s.push(a)}return f(s,this.sortByDepth)},setDebug:function(t,e){return this.debugGraphic=t,this.debugCallback=t||e?e||this.renderDebug:null,this},isDirty:function(){var t=this.modelPosition,e=this.modelRotation,i=this.modelScale,r=this.dirtyCache,n=t.x,s=t.y,o=t.z,a=e.x,l=e.y,u=e.z,h=i.x,c=i.y,d=i.z,f=this.getFaceCount(),p=r[0],m=r[1],v=r[2],y=r[3],g=r[4],x=r[5],b=r[6],w=r[7],_=r[8],S=r[9];return r[0]=n,r[1]=s,r[2]=o,r[3]=a,r[4]=l,r[5]=u,r[6]=h,r[7]=c,r[8]=d,r[9]=f,p!==n||m!==s||v!==o||y!==a||g!==l||x!==u||b!==h||w!==c||_!==d||S!==f},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var t=this.dirtyCache;if(this.ignoreDirtyCache||t[10]||this.isDirty()){var e=this.width,i=this.height,r=this.viewMatrix,n=this.viewPosition;t[10]&&(r.identity(),r.translate(n),r.invert(),t[10]=0);var s=this.transformMatrix;s.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var o=n.z,a=this.faces,l=0;l<a.length;l++)a[l].transformCoordinatesLocal(s,e,i,o);this.depthSort()}},renderDebug:function(t,e){for(var i=t.debugGraphic,r=0;r<e.length;r++){var n=e[r],s=n.vertex1.tx,o=n.vertex1.ty,a=n.vertex2.tx,l=n.vertex2.ty,u=n.vertex3.tx,h=n.vertex3.ty;i.strokeTriangle(s,o,a,l,u,h)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});t.exports=v},function(t,e,i){var r=i(50);t.exports=function(t,e){return r(t.x,t.y,e.x,e.y)<=t.radius+e.radius}},function(t,e,i){var r=i(4),n=i(233);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s,o,a=t.x1,l=t.y1,u=t.x2,h=t.y2,c=e.x,d=e.y,f=e.radius,p=u-a,m=h-l,v=a-c,y=l-d,g=p*p+m*m,x=2*(p*v+m*y),b=x*x-4*g*(v*v+y*y-f*f);if(0===b){var w=-x/(2*g);s=a+w*p,o=l+w*m,w>=0&&w<=1&&i.push(new r(s,o))}else if(b>0){var _=(-x-Math.sqrt(b))/(2*g);s=a+_*p,o=l+_*m,_>=0&&_<=1&&i.push(new r(s,o));var S=(-x+Math.sqrt(b))/(2*g);s=a+S*p,o=l+S*m,S>=0&&S<=1&&i.push(new r(s,o))}}return i}},function(t,e,i){var r=i(66),n=new(i(4));t.exports=function(t,e,i){if(void 0===i&&(i=n),r(e,t.x1,t.y1))return i.x=t.x1,i.y=t.y1,!0;if(r(e,t.x2,t.y2))return i.x=t.x2,i.y=t.y2,!0;var s=t.x2-t.x1,o=t.y2-t.y1,a=e.x-t.x1,l=e.y-t.y1,u=s*s+o*o,h=s,c=o;if(u>0){var d=(a*s+l*o)/u;h*=d,c*=d}return i.x=t.x1+h,i.y=t.y1+c,h*h+c*c<=u&&h*s+c*o>=0&&r(e,i.x,i.y)}},function(t,e,i){var r=i(4),n=i(96),s=i(488);t.exports=function(t,e,i){if(void 0===i&&(i=[]),s(t,e))for(var o=e.getLineA(),a=e.getLineB(),l=e.getLineC(),u=e.getLineD(),h=[new r,new r,new r,new r],c=[n(o,t,h[0]),n(a,t,h[1]),n(l,t,h[2]),n(u,t,h[3])],d=0;d<4;d++)c[d]&&i.push(h[d]);return i}},function(t,e){t.exports=function(t,e,i,r){void 0===i&&(i=!1),void 0===r&&(r=[]);for(var n,s,o,a,l,u,h=t.x3-t.x1,c=t.y3-t.y1,d=t.x2-t.x1,f=t.y2-t.y1,p=h*h+c*c,m=h*d+c*f,v=d*d+f*f,y=p*v-m*m,g=0===y?0:1/y,x=t.x1,b=t.y1,w=0;w<e.length&&(s=(p*(u=d*(o=e[w].x-x)+f*(a=e[w].y-b))-m*(l=h*o+c*a))*g,!((n=(v*l-m*u)*g)>=0&&s>=0&&n+s<1&&(r.push({x:e[w].x,y:e[w].y}),i)));w++);return r}},function(t,e){t.exports=function(t,e,i,r){var n=Math.cos(r),s=Math.sin(r),o=t.x1-e,a=t.y1-i;return t.x1=o*n-a*s+e,t.y1=o*s+a*n+i,o=t.x2-e,a=t.y2-i,t.x2=o*n-a*s+e,t.y2=o*s+a*n+i,t}},function(t,e){t.exports=function(t){return 0===t.height?NaN:t.width/t.height}},function(t,e){t.exports=function(t,e,i,r){var n=Math.cos(r),s=Math.sin(r),o=t.x1-e,a=t.y1-i;return t.x1=o*n-a*s+e,t.y1=o*s+a*n+i,o=t.x2-e,a=t.y2-i,t.x2=o*n-a*s+e,t.y2=o*s+a*n+i,o=t.x3-e,a=t.y3-i,t.x3=o*n-a*s+e,t.y3=o*s+a*n+i,t}},function(t,e,i){t.exports={BUTTON_DOWN:i(1310),BUTTON_UP:i(1311),CONNECTED:i(1312),DISCONNECTED:i(1313),GAMEPAD_BUTTON_DOWN:i(1314),GAMEPAD_BUTTON_UP:i(1315)}},function(t,e,i){var r=i(17),n=i(156);t.exports=function(t,e){var i=void 0===t?n():r({},t);if(e)for(var s in e)void 0!==e[s]&&(i[s]=e[s]);return i}},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=i(408),h=new r({Extends:s,initialize:function(t,e,i,r){var n="xml";if(l(e)){var o=e;e=a(o,"key"),i=a(o,"url"),r=a(o,"xhrSettings"),n=a(o,"extension",n)}var u={type:"xml",cache:t.cacheManager.xml,extension:n,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});o.register("xml",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new h(this,t[r]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r){var n="text",o="txt",u=t.cacheManager.text;if(l(e)){var h=e;e=a(h,"key"),i=a(h,"url"),r=a(h,"xhrSettings"),o=a(h,"extension",o),n=a(h,"type",n),u=a(h,"cache",u)}var c={type:n,cache:u,extension:o,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,c)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){t.exports={Acceleration:i(1368),Angular:i(1369),Bounce:i(1370),Debug:i(1371),Drag:i(1372),Enable:i(1373),Friction:i(1374),Gravity:i(1375),Immovable:i(1376),Mass:i(1377),OverlapCirc:i(523),OverlapRect:i(244),Pushable:i(1378),Size:i(1379),Velocity:i(1380)}},function(t,e){t.exports=function(t,e,i,r,n,s,o){void 0===s&&(s=!0),void 0===o&&(o=!1);var a=[],l=[],u=t.treeMinMax;if(u.minX=e,u.minY=i,u.maxX=e+r,u.maxY=i+n,o&&(l=t.staticTree.search(u)),s&&t.useTree)a=t.tree.search(u);else if(s){var h=t.bodies,c={position:{x:e,y:i},left:e,top:i,right:e+r,bottom:i+n,isCircle:!1},d=t.intersects;h.iterate((function(t){d(t,c)&&a.push(t)}))}return l.concat(a)}},function(t,e,i){t.exports={COLLIDE:i(1381),OVERLAP:i(1382),PAUSE:i(1383),RESUME:i(1384),TILE_COLLIDE:i(1385),TILE_OVERLAP:i(1386),WORLD_BOUNDS:i(1387),WORLD_STEP:i(1388)}},function(t,e,i){var r=i(62);t.exports=function(t,e,i,n){var s=0,o=t.deltaAbsX()+e.deltaAbsX()+n;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(s=t.right-e.x)>o&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?s=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType!==r.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0),t.physicsType!==r.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0)):t._dx<e._dx&&(-(s=t.x-e.width-e.x)>o&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?s=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType!==r.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0),t.physicsType!==r.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=s,e.overlapX=s,s}},function(t,e,i){var r=i(62);t.exports=function(t,e,i,n){var s=0,o=t.deltaAbsY()+e.deltaAbsY()+n;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(s=t.bottom-e.y)>o&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?s=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType!==r.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0),t.physicsType!==r.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0)):t._dy<e._dy&&(-(s=t.y-e.bottom)>o&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?s=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType!==r.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0),t.physicsType!==r.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=s,e.overlapY=s,s}},function(t,e){t.exports=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)}},function(t,e,i){t.exports={Bounce:i(1495),Collision:i(1496),Force:i(1497),Friction:i(1498),Gravity:i(1499),Mass:i(1500),Sensor:i(1501),SetBody:i(1502),Sleep:i(1503),Static:i(1520),Transform:i(1521),Velocity:i(1522)}},function(t,e){var i={};t.exports=i,i.create=function(t,e){var r=t.bodyA,n=t.bodyB,s={id:i.id(r,n),bodyA:r,bodyB:n,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||n.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(s,t,e),s},i.update=function(t,e,r){if(t.collision=e,e.collided){var n=e.supports,s=t.activeContacts,o=e.parentA,a=e.parentB;t.inverseMass=o.inverseMass+a.inverseMass,t.friction=Math.min(o.friction,a.friction),t.frictionStatic=Math.max(o.frictionStatic,a.frictionStatic),t.restitution=Math.max(o.restitution,a.restitution),t.slop=Math.max(o.slop,a.slop);for(var l=0;l<n.length;l++)s[l]=n[l].contact;var u=n.length;u<s.length&&(s.length=u),t.separation=e.depth,i.setActive(t,!0,r)}else!0===t.isActive&&i.setActive(t,!1,r)},i.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,i){t.exports={CalculateFacesAt:i(252),CalculateFacesWithin:i(63),CheckIsoBounds:i(541),Copy:i(1420),CreateFromTiles:i(1421),CullBounds:i(543),CullTiles:i(544),Fill:i(1422),FilterTiles:i(1423),FindByIndex:i(1424),FindTile:i(1425),ForEachTile:i(1426),GetCullTilesFunction:i(1427),GetTileAt:i(158),GetTileAtWorldXY:i(1428),GetTilesWithin:i(26),GetTilesWithinShape:i(1429),GetTilesWithinWorldXY:i(529),GetTileToWorldXFunction:i(1430),GetTileToWorldXYFunction:i(1431),GetTileToWorldYFunction:i(1432),GetWorldToTileXFunction:i(1433),GetWorldToTileXYFunction:i(1434),GetWorldToTileYFunction:i(1435),HasTileAt:i(562),HasTileAtWorldXY:i(1436),HexagonalCullBounds:i(546),HexagonalCullTiles:i(545),HexagonalTileToWorldXY:i(550),HexagonalTileToWorldY:i(554),HexagonalWorldToTileXY:i(556),HexagonalWorldToTileY:i(560),IsInLayerBounds:i(119),IsometricCullTiles:i(547),IsometricTileToWorldXY:i(551),IsometricWorldToTileXY:i(557),PutTileAt:i(257),PutTileAtWorldXY:i(1437),PutTilesAt:i(1438),Randomize:i(1439),RemoveTileAt:i(563),RemoveTileAtWorldXY:i(1440),RenderDebug:i(1441),ReplaceByIndex:i(542),RunCull:i(159),SetCollision:i(1442),SetCollisionBetween:i(1443),SetCollisionByExclusion:i(1444),SetCollisionByProperty:i(1445),SetCollisionFromCollisionGroup:i(1446),SetLayerCollisionIndex:i(160),SetTileCollision:i(72),SetTileIndexCallback:i(1447),SetTileLocationCallback:i(1448),Shuffle:i(1449),StaggeredCullBounds:i(549),StaggeredCullTiles:i(548),StaggeredTileToWorldXY:i(552),StaggeredTileToWorldY:i(555),StaggeredWorldToTileXY:i(558),StaggeredWorldToTileY:i(561),SwapByIndex:i(1450),TileToWorldX:i(253),TileToWorldXY:i(553),TileToWorldY:i(254),WeightedRandomize:i(1451),WorldToTileX:i(255),WorldToTileXY:i(559),WorldToTileY:i(256)}},function(t,e,i){var r=i(158);t.exports=function(t,e,i){var n=r(t,e,!0,i),s=r(t,e-1,!0,i),o=r(t,e+1,!0,i),a=r(t-1,e,!0,i),l=r(t+1,e,!0,i),u=n&&n.collides;return u&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),s&&s.collides&&(u&&(n.faceTop=!1),s.faceBottom=!u),o&&o.collides&&(u&&(n.faceBottom=!1),o.faceTop=!u),a&&a.collides&&(u&&(n.faceLeft=!1),a.faceRight=!u),l&&l.collides&&(u&&(n.faceRight=!1),l.faceLeft=!u),n&&!n.collides&&n.resetFaces(),n}},function(t,e){t.exports=function(t,e,i){var r=i.baseTileWidth,n=i.tilemapLayer,s=0;return n&&(e||(e=n.scene.cameras.main),s=n.x+e.scrollX*(1-n.scrollFactorX),r*=n.scaleX),s+t*r}},function(t,e){t.exports=function(t,e,i){var r=i.baseTileHeight,n=i.tilemapLayer,s=0;return n&&(e||(e=n.scene.cameras.main),s=n.y+e.scrollY*(1-n.scrollFactorY),r*=n.scaleY),s+t*r}},function(t,e){t.exports=function(t,e,i,r){void 0===e&&(e=!0);var n=r.baseTileWidth,s=r.tilemapLayer;return s&&(i||(i=s.scene.cameras.main),t-=s.x+i.scrollX*(1-s.scrollFactorX),n*=s.scaleX),e?Math.floor(t/n):t/n}},function(t,e){t.exports=function(t,e,i,r){void 0===e&&(e=!0);var n=r.baseTileHeight,s=r.tilemapLayer;return s&&(i||(i=s.scene.cameras.main),t-=s.y+i.scrollY*(1-s.scrollFactorY),n*=s.scaleY),e?Math.floor(t/n):t/n}},function(t,e,i){var r=i(85),n=i(119),s=i(252),o=i(72);t.exports=function(t,e,i,a,l){if(void 0===a&&(a=!0),!n(e,i,l))return null;var u=l.data[i][e],h=u&&u.collides;if(t instanceof r)null===l.data[i][e]&&(l.data[i][e]=new r(l,t.index,e,i,l.tileWidth,l.tileHeight)),l.data[i][e].copy(t);else{var c=t;null===l.data[i][e]?l.data[i][e]=new r(l,c,e,i,l.tileWidth,l.tileHeight):l.data[i][e].index=c}var d=l.data[i][e],f=-1!==l.collideIndexes.indexOf(d.index);return o(d,f),a&&h!==d.collides&&s(e,i,l),d}},function(t,e,i){var r=i(29);t.exports=function(t){return"isometric"===(t=t.toLowerCase())?r.ISOMETRIC:"staggered"===t?r.STAGGERED:"hexagonal"===t?r.HEXAGONAL:r.ORTHOGONAL}},function(t,e,i){var r=i(40),n=i(120),s=i(121),o=i(85);t.exports=function(t,e,i,a,l){for(var u=new n({tileWidth:i,tileHeight:a}),h=new s({name:t,tileWidth:i,tileHeight:a,format:r.ARRAY_2D,layers:[u]}),c=[],d=e.length,f=0,p=0;p<e.length;p++){c[p]=[];for(var m=e[p],v=0;v<m.length;v++){var y=parseInt(m[v],10);isNaN(y)||-1===y?c[p][v]=l?null:new o(u,-1,v,p,i,a):c[p][v]=new o(u,y,v,p,i,a)}0===f&&(f=m.length)}return h.width=u.width=f,h.height=u.height=d,h.widthInPixels=u.widthInPixels=f*i,h.heightInPixels=u.heightInPixels=d*a,u.data=c,h}},function(t,e,i){var r=i(571),n=i(261),s=function(t){return{x:t.x,y:t.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"];t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var a=r(t,o);if(a.x+=e,a.y+=i,t.gid){var l=n(t.gid);a.gid=l.gid,a.flippedHorizontal=l.flippedHorizontal,a.flippedVertical=l.flippedVertical,a.flippedAntiDiagonal=l.flippedAntiDiagonal}else t.polyline?a.polyline=t.polyline.map(s):t.polygon?a.polygon=t.polygon.map(s):t.ellipse?a.ellipse=t.ellipse:t.text?a.text=t.text:t.point?a.point=!0:a.rectangle=!0;return a}},function(t,e){var i=2147483648,r=1073741824,n=536870912;t.exports=function(t){var e=Boolean(t&i),s=Boolean(t&r),o=Boolean(t&n);t&=536870911;var a=0,l=!1;return e&&s&&o?(a=Math.PI/2,l=!0):e&&s&&!o?(a=Math.PI,l=!1):e&&!s&&o?(a=Math.PI/2,l=!1):!e||s||o?!e&&s&&o?(a=3*Math.PI/2,l=!1):e||!s||o?e||s||!o?e||s||o||(a=0,l=!1):(a=3*Math.PI/2,l=!0):(a=Math.PI,l=!0):(a=0,l=!0),{gid:t,flippedHorizontal:e,flippedVertical:s,flippedAntiDiagonal:o,rotation:a,flipped:l}}},function(t,e,i){var r=i(40),n=i(121),s=i(564),o=i(580);t.exports=function(t,e,i,a,l,u,h,c){void 0===i&&(i=32),void 0===a&&(a=32),void 0===l&&(l=10),void 0===u&&(u=10),void 0===c&&(c=!1);var d=null;if(Array.isArray(h))d=s(void 0!==e?e:"map",r.ARRAY_2D,h,i,a,c);else if(void 0!==e){var f=t.cache.tilemap.get(e);f?d=s(e,f.format,f.data,i,a,c):console.warn("No map data found for key "+e)}return null===d&&(d=new n({tileWidth:i,tileHeight:a,width:l,height:u})),new o(t,d)}},function(t,e,i){var r=i(6);t.exports=function(t){var e=r(t,"targets",null);return null===e||("function"===typeof e&&(e=e.call()),Array.isArray(e)||(e=[e])),e}},function(t,e){function i(t){return!!t.getActive&&"function"===typeof t.getActive}function r(t){return!!t.getStart&&"function"===typeof t.getStart}function n(t){return!!t.getEnd&&"function"===typeof t.getEnd}t.exports=function t(e,s){var o,a,l=function(t,e,i){return i},u=function(t,e,i){return i},h=null,c=typeof s;if("number"===c)l=function(){return s};else if("string"===c){var d=s[0],f=parseFloat(s.substr(2));switch(d){case"+":l=function(t,e,i){return i+f};break;case"-":l=function(t,e,i){return i-f};break;case"*":l=function(t,e,i){return i*f};break;case"/":l=function(t,e,i){return i/f};break;default:l=function(){return parseFloat(s)}}}else if("function"===c)l=s;else if("object"===c)if(r(a=s)||n(a)||i(a))i(s)&&(h=s.getActive),n(s)&&(l=s.getEnd),r(s)&&(u=s.getStart);else if(s.hasOwnProperty("value"))o=t(e,s.value);else{var p=s.hasOwnProperty("to"),m=s.hasOwnProperty("from"),v=s.hasOwnProperty("start");if(p&&(m||v)){if(o=t(e,s.to),v){var y=t(e,s.start);o.getActive=y.getEnd}if(m){var g=t(e,s.from);o.getStart=g.getEnd}}}return o||(o={getActive:h,getEnd:l,getStart:u}),o}},function(t,e){t.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(t,e,i){var r=i(0),n=i(9),s=i(267),o=i(16),a=i(5),l=i(100),u=i(14),h=new r({Extends:n,initialize:function(t,e,i){n.call(this),this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=l.PENDING_ADD,this._pausedState=l.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(t){return void 0===t&&(t=0),this.data[t].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===l.ACTIVE},isPaused:function(){return this.state===l.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){void 0===i&&(i=!1);for(var r=0;r<this.totalData;r++){var n=this.data[r];n.key===t&&(n.end=e,i&&(n.start=n.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===l.ACTIVE?this.seek(0):this.state===l.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===l.PENDING_ADD?this:this.play()},calcDuration:function(){for(var t=0,e=u.MAX_SAFE_INTEGER,i=this.data,r=0;r<this.totalData;r++){var n=i[r];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,-1===n.repeat?n.totalDuration+=999999999999*n.t2:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>t&&(t=n.totalDuration),n.delay<e&&(e=n.delay)}this.duration=Math.max(t,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=e},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=l.PENDING_ADD,this._pausedState=l.INIT,!1;for(var t=this.data,e=this.totalTargets,i=0;i<this.totalData;i++){var r=t[i],n=r.target,s=r.gen,o=r.key,a=r.index;r.delay=s.delay(n,o,0,a,e,this),r.duration=Math.max(s.duration(n,o,0,a,e,this),.001),r.hold=s.hold(n,o,0,a,e,this),r.repeat=s.repeat(n,o,0,a,e,this),r.repeatDelay=s.repeatDelay(n,o,0,a,e,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=l.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(s.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=l.LOOP_DELAY):(this.state=l.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=l.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===l.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=l.PAUSED),this},play:function(t){void 0===t&&(t=!1);var e=this.state;return e!==l.INIT||this.parentIsTimeline?e===l.ACTIVE||e===l.PENDING_ADD&&this._pausedState===l.PENDING_ADD?this:this.parentIsTimeline||e!==l.PENDING_REMOVE&&e!==l.REMOVED?(this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?this.state=l.ACTIVE:(this.countdown=this.calculatedOffset,this.state=l.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(t),this.state=l.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=l.ACTIVE,this)},resetTweenData:function(t){for(var e=this.data,i=this.totalData,r=this.totalTargets,n=0;n<i;n++){var s=e[n],o=s.target,a=s.key,u=s.index;s.progress=0,s.elapsed=0,s.repeatCounter=-1===s.repeat?999999999999:s.repeat,t?(s.start=s.getStartValue(o,a,s.start,u,r,this),s.end=s.getEndValue(o,a,s.end,u,r,this),s.current=s.start,s.state=l.PLAYING_FORWARD):s.state=l.PENDING_RENDER,s.delay>0&&(s.elapsed=s.delay,s.state=l.DELAY),s.getActiveValue&&(o[a]=s.getActiveValue(s.target,s.key,s.start))}},resume:function(){return this.state===l.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t,e){void 0===e&&(e=16.6),this.state===l.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var i=this.data,r=this.totalTargets,n=0;n<this.totalData;n++){var s=i[n],o=s.target,a=s.gen,u=s.key,h=s.index;s.progress=0,s.elapsed=0,s.repeatCounter=-1===s.repeat?999999999999:s.repeat,s.delay=a.delay(o,u,0,h,r,this),s.duration=Math.max(a.duration(o,u,0,h,r,this),.001),s.hold=a.hold(o,u,0,h,r,this),s.repeat=a.repeat(o,u,0,h,r,this),s.repeatDelay=a.repeatDelay(o,u,0,h,r,this),s.current=s.start,s.state=l.PLAYING_FORWARD,this.updateTweenData(this,s,0,h,r),s.delay>0&&(s.elapsed=s.delay,s.state=l.DELAY)}this.calcDuration();var c=!1;this.state===l.PAUSED&&(c=!0,this.state=l.ACTIVE),this.isSeeking=!0;do{this.update(0,e)}while(this.totalProgress<t);return this.isSeeking=!1,c&&(this.state=l.PAUSED),this},setCallback:function(t,e,i,r){return this.callbacks[t]={func:e,scope:r,params:i},this},complete:function(t){return void 0===t&&(t=0),t?(this.state=l.COMPLETE_DELAY,this.countdown=t):(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(t){return this.state===l.ACTIVE&&void 0!==t&&this.seek(t),this.state!==l.REMOVED&&(this.state!==l.PAUSED&&this.state!==l.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(s.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=l.PENDING_REMOVE),this},update:function(t,e){if(this.state===l.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case l.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=e,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(s.TWEEN_START,this.callbacks.onStart)));for(var i=!1,r=0;r<this.totalData;r++){var n=this.data[r];this.updateTweenData(this,n,e)&&(i=!0)}i||this.nextState();break;case l.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop));break;case l.OFFSET_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE);break;case l.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===l.PENDING_REMOVE},dispatchTweenDataEvent:function(t,e,i){this.isSeeking||(this.emit(t,this,i.key,i.target,i.current,i.previous),e&&(e.params[1]=i.target,e.func.apply(e.scope,e.params)))},dispatchTweenEvent:function(t,e){this.isSeeking||(this.emit(t,this,this.targets),e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)))},setStateFromEnd:function(t,e,i){return e.yoyo?(e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),this.dispatchTweenDataEvent(s.TWEEN_YOYO,t.callbacks.onYoyo,e),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),l.PLAYING_BACKWARD):e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,l.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e),l.PLAYING_FORWARD)):l.COMPLETE},setStateFromStart:function(t,e,i){return e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,l.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e),l.PLAYING_FORWARD)):l.COMPLETE},updateTweenData:function(t,e,i){var r=e.target;switch(e.state){case l.PLAYING_FORWARD:case l.PLAYING_BACKWARD:if(!r){e.state=l.COMPLETE;break}var n=e.elapsed,o=e.duration,a=0;(n+=i)>o&&(a=n-o,n=o);var u=e.state===l.PLAYING_FORWARD,h=n/o;if(e.elapsed=n,e.progress=h,e.previous=e.current,1===h)u?(e.current=e.end,r[e.key]=e.end,e.hold>0?(e.elapsed=e.hold-a,e.state=l.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,a)):(e.current=e.start,r[e.key]=e.start,e.state=this.setStateFromStart(t,e,a));else{var c=u?e.ease(h):e.ease(1-h);e.current=e.start+(e.end-e.start)*c,r[e.key]=e.current}this.dispatchTweenDataEvent(s.TWEEN_UPDATE,t.callbacks.onUpdate,e);break;case l.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=l.PENDING_RENDER);break;case l.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=l.PLAYING_FORWARD,this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e));break;case l.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case l.PENDING_RENDER:r?(e.start=e.getStartValue(r,e.key,r[e.key],e.index,t.totalTargets,t),e.end=e.getEndValue(r,e.key,e.start,e.index,t.totalTargets,t),e.current=e.start,r[e.key]=e.start,e.state=l.PLAYING_FORWARD):e.state=l.COMPLETE}return e.state!==l.COMPLETE}});h.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],a.register("tween",(function(t){return this.scene.sys.tweens.add(t)})),o.register("tween",(function(t){return this.scene.sys.tweens.create(t)})),t.exports=h},function(t,e,i){t.exports={TIMELINE_COMPLETE:i(1466),TIMELINE_LOOP:i(1467),TIMELINE_PAUSE:i(1468),TIMELINE_RESUME:i(1469),TIMELINE_START:i(1470),TIMELINE_UPDATE:i(1471),TWEEN_ACTIVE:i(1472),TWEEN_COMPLETE:i(1473),TWEEN_LOOP:i(1474),TWEEN_REPEAT:i(1475),TWEEN_START:i(1476),TWEEN_STOP:i(1477),TWEEN_UPDATE:i(1478),TWEEN_YOYO:i(1479)}},function(t,e){t.exports=function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p){return{target:t,index:e,key:i,getActiveValue:s,getEndValue:r,getStartValue:n,ease:o,duration:0,totalDuration:0,delay:0,yoyo:u,hold:0,repeat:0,repeatDelay:0,flipX:f,flipY:p,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:a,duration:l,hold:h,repeat:c,repeatDelay:d},state:0}}},function(t,e,i){var r=i(68);t.exports=function(t){return r(t,-Math.PI,Math.PI)}},function(t,e,i){var r=i(68);t.exports=function(t){return r(t,-180,180)}},function(t,e,i){var r={};t.exports=r;var n=i(83),s=i(32);r.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var r=(i+1)%t.length,o=n.normalise({x:t[r].y-t[i].y,y:t[i].x-t[r].x}),a=0===o.y?1/0:o.x/o.y;e[a=a.toFixed(3).toString()]=o}return s.values(e)},r.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),r=Math.sin(e),n=0;n<t.length;n++){var s,o=t[n];s=o.x*i-o.y*r,o.y=o.x*r+o.y*i,o.x=s}}},function(t,e,i){t.exports={AFTER_ADD:i(1504),AFTER_REMOVE:i(1505),AFTER_UPDATE:i(1506),BEFORE_ADD:i(1507),BEFORE_REMOVE:i(1508),BEFORE_UPDATE:i(1509),COLLISION_ACTIVE:i(1510),COLLISION_END:i(1511),COLLISION_START:i(1512),DRAG_END:i(1513),DRAG:i(1514),DRAG_START:i(1515),PAUSE:i(1516),RESUME:i(1517),SLEEP_END:i(1518),SLEEP_START:i(1519)}},function(t,e,i){var r={};t.exports=r;var n=i(274),s=i(250),o=i(84);r.collisions=function(t,e){for(var i=[],a=e.pairs.table,l=e.metrics,u=0;u<t.length;u++){var h=t[u][0],c=t[u][1];if((!h.isStatic&&!h.isSleeping||!c.isStatic&&!c.isSleeping)&&r.canCollide(h.collisionFilter,c.collisionFilter)&&(l.midphaseTests+=1,o.overlaps(h.bounds,c.bounds)))for(var d=h.parts.length>1?1:0;d<h.parts.length;d++)for(var f=h.parts[d],p=c.parts.length>1?1:0;p<c.parts.length;p++){var m=c.parts[p];if(f===h&&m===c||o.overlaps(f.bounds,m.bounds)){var v,y=a[s.id(f,m)];v=y&&y.isActive?y.collision:null;var g=n.collides(f,m,v);l.narrowphaseTests+=1,g.reused&&(l.narrowReuseCount+=1),g.collided&&(i.push(g),l.narrowDetections+=1)}}}return i},r.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!==(t.mask&e.category)&&0!==(e.mask&t.category)}},function(t,e,i){var r={};t.exports=r;var n=i(64),s=i(83);r.collides=function(t,e,i){var o,a,l,u,h=!1;if(i){var c=t.parent,d=e.parent,f=c.speed*c.speed+c.angularSpeed*c.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;h=i&&i.collided&&f<.2,u=i}else u={collided:!1,bodyA:t,bodyB:e};if(i&&h){var p=u.axisBody,m=p===t?e:t,v=[p.axes[i.axisNumber]];if(l=r._overlapAxes(p.vertices,m.vertices,v),u.reused=!0,l.overlap<=0)return u.collided=!1,u}else{if((o=r._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return u.collided=!1,u;if((a=r._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return u.collided=!1,u;o.overlap<a.overlap?(l=o,u.axisBody=t):(l=a,u.axisBody=e),u.axisNumber=l.axisNumber}u.bodyA=t.id<e.id?t:e,u.bodyB=t.id<e.id?e:t,u.collided=!0,u.depth=l.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,t=u.bodyA,e=u.bodyB,s.dot(l.axis,s.sub(e.position,t.position))<0?u.normal={x:l.axis.x,y:l.axis.y}:u.normal={x:-l.axis.x,y:-l.axis.y},u.tangent=s.perp(u.normal),u.penetration=u.penetration||{},u.penetration.x=u.normal.x*u.depth,u.penetration.y=u.normal.y*u.depth;var y=r._findSupports(t,e,u.normal),g=[];if(n.contains(t.vertices,y[0])&&g.push(y[0]),n.contains(t.vertices,y[1])&&g.push(y[1]),g.length<2){var x=r._findSupports(e,t,s.neg(u.normal));n.contains(e.vertices,x[0])&&g.push(x[0]),g.length<2&&n.contains(e.vertices,x[1])&&g.push(x[1])}return g.length<1&&(g=[y[0]]),u.supports=g,u},r._overlapAxes=function(t,e,i){for(var n,o,a=s._temp[0],l=s._temp[1],u={overlap:Number.MAX_VALUE},h=0;h<i.length;h++){if(o=i[h],r._projectToAxis(a,t,o),r._projectToAxis(l,e,o),(n=Math.min(a.max-l.min,l.max-a.min))<=0)return u.overlap=n,u;n<u.overlap&&(u.overlap=n,u.axis=o,u.axisNumber=h)}return u},r._projectToAxis=function(t,e,i){for(var r=s.dot(e[0],i),n=r,o=1;o<e.length;o+=1){var a=s.dot(e[o],i);a>n?n=a:a<r&&(r=a)}t.min=r,t.max=n},r._findSupports=function(t,e,i){for(var r,n,o,a,l=Number.MAX_VALUE,u=s._temp[0],h=e.vertices,c=t.position,d=0;d<h.length;d++)n=h[d],u.x=n.x-c.x,u.y=n.y-c.y,(r=-s.dot(i,u))<l&&(l=r,o=n);return n=h[o.index-1>=0?o.index-1:h.length-1],u.x=n.x-c.x,u.y=n.y-c.y,l=-s.dot(i,u),a=n,n=h[(o.index+1)%h.length],u.x=n.x-c.x,u.y=n.y-c.y,(r=-s.dot(i,u))<l&&(a=n),[o,a]}},function(t,e,i){t.exports={AlignTo:i(601),Angle:i(602),Call:i(603),GetFirst:i(604),GetLast:i(605),GridAlign:i(606),IncAlpha:i(678),IncX:i(679),IncXY:i(680),IncY:i(681),PlaceOnCircle:i(682),PlaceOnEllipse:i(683),PlaceOnLine:i(684),PlaceOnRectangle:i(685),PlaceOnTriangle:i(686),PlayAnimation:i(687),PropertyValueInc:i(46),PropertyValueSet:i(27),RandomCircle:i(688),RandomEllipse:i(689),RandomLine:i(690),RandomRectangle:i(691),RandomTriangle:i(692),Rotate:i(693),RotateAround:i(694),RotateAroundDistance:i(695),ScaleX:i(696),ScaleXY:i(697),ScaleY:i(698),SetAlpha:i(699),SetBlendMode:i(700),SetDepth:i(701),SetHitArea:i(702),SetOrigin:i(703),SetRotation:i(704),SetScale:i(705),SetScaleX:i(706),SetScaleY:i(707),SetScrollFactor:i(708),SetScrollFactorX:i(709),SetScrollFactorY:i(710),SetTint:i(711),SetVisible:i(712),SetX:i(713),SetXY:i(714),SetY:i(715),ShiftPosition:i(716),Shuffle:i(717),SmootherStep:i(718),SmoothStep:i(719),Spread:i(720),ToggleVisible:i(721),WrapInRectangle:i(722)}},function(t,e,i){var r=i(123),n=[];n[r.BOTTOM_CENTER]=i(277),n[r.BOTTOM_LEFT]=i(278),n[r.BOTTOM_RIGHT]=i(279),n[r.LEFT_BOTTOM]=i(280),n[r.LEFT_CENTER]=i(281),n[r.LEFT_TOP]=i(282),n[r.RIGHT_BOTTOM]=i(283),n[r.RIGHT_CENTER]=i(284),n[r.RIGHT_TOP]=i(285),n[r.TOP_CENTER]=i(286),n[r.TOP_LEFT]=i(287),n[r.TOP_RIGHT]=i(288),t.exports=function(t,e,i,r,s){return n[i](t,e,r,s)}},function(t,e,i){var r=i(42),n=i(87),s=i(88),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)+a),t}},function(t,e,i){var r=i(42),n=i(43),s=i(53),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)-i),o(t,r(e)+a),t}},function(t,e,i){var r=i(42),n=i(44),s=i(54),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)+a),t}},function(t,e,i){var r=i(42),n=i(43),s=i(55),o=i(54);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),s(t,r(e)+a),t}},function(t,e,i){var r=i(89),n=i(43),s=i(90),o=i(54);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),s(t,r(e)+a),t}},function(t,e,i){var r=i(43),n=i(45),s=i(54),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)-i),o(t,n(e)-a),t}},function(t,e,i){var r=i(42),n=i(44),s=i(55),o=i(53);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)+a),t}},function(t,e,i){var r=i(89),n=i(44),s=i(90),o=i(53);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)+a),t}},function(t,e,i){var r=i(44),n=i(45),s=i(53),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)+i),o(t,n(e)-a),t}},function(t,e,i){var r=i(87),n=i(45),s=i(55),o=i(88);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)-a),t}},function(t,e,i){var r=i(43),n=i(45),s=i(55),o=i(53);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)-a),t}},function(t,e,i){var r=i(44),n=i(45),s=i(55),o=i(54);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)-a),t}},function(t,e,i){var r=i(123),n=[];n[r.BOTTOM_CENTER]=i(290),n[r.BOTTOM_LEFT]=i(291),n[r.BOTTOM_RIGHT]=i(292),n[r.CENTER]=i(293),n[r.LEFT_CENTER]=i(295),n[r.RIGHT_CENTER]=i(296),n[r.TOP_CENTER]=i(297),n[r.TOP_LEFT]=i(298),n[r.TOP_RIGHT]=i(299),n[r.LEFT_BOTTOM]=n[r.BOTTOM_LEFT],n[r.LEFT_TOP]=n[r.TOP_LEFT],n[r.RIGHT_BOTTOM]=n[r.BOTTOM_RIGHT],n[r.RIGHT_TOP]=n[r.TOP_RIGHT],t.exports=function(t,e,i,r,s){return n[i](t,e,r,s)}},function(t,e,i){var r=i(42),n=i(87),s=i(55),o=i(88);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)+a),t}},function(t,e,i){var r=i(42),n=i(43),s=i(55),o=i(53);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),s(t,r(e)+a),t}},function(t,e,i){var r=i(42),n=i(44),s=i(55),o=i(54);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)+a),t}},function(t,e,i){var r=i(294),n=i(87),s=i(89);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)+i,s(e)+o),t}},function(t,e,i){var r=i(88),n=i(90);t.exports=function(t,e,i){return r(t,e),n(t,i)}},function(t,e,i){var r=i(89),n=i(43),s=i(90),o=i(53);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),s(t,r(e)+a),t}},function(t,e,i){var r=i(89),n=i(44),s=i(90),o=i(54);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)+a),t}},function(t,e,i){var r=i(87),n=i(45),s=i(88),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)+i),o(t,n(e)-a),t}},function(t,e,i){var r=i(43),n=i(45),s=i(53),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)-i),o(t,n(e)-a),t}},function(t,e,i){var r=i(44),n=i(45),s=i(54),o=i(52);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)+i),o(t,n(e)-a),t}},function(t,e,i){var r=i(169),n=i(98),s=i(14),o=i(4);t.exports=function(t,e,i){void 0===i&&(i=new o);var a=n(e,0,s.PI2);return r(t,a,i)}},function(t,e,i){var r=i(302),n=i(169),s=i(98),o=i(14);t.exports=function(t,e,i,a){void 0===a&&(a=[]),!e&&i>0&&(e=r(t)/i);for(var l=0;l<e;l++){var u=s(l/e,0,o.PI2);a.push(n(t,u))}return a}},function(t,e){t.exports=function(t){return Math.PI*t.radius*2}},function(t,e,i){var r=i(18),n={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t){return void 0===t&&(t=1),this.alpha=t,this},alpha:{get:function(){return this._alpha},set:function(t){var e=r(t,0,1);this._alpha=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}}};t.exports=n},function(t,e,i){var r=i(35),n={_blendMode:r.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){"string"===typeof t&&(t=r[t]),(t|=0)>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=n},function(t,e){var i={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this}};t.exports=i},function(t,e,i){var r=i(171),n=i(130);t.exports=function(t,e,i,s){void 0===s&&(s=[]),!e&&i>0&&(e=n(t)/i);for(var o=0;o<e;o++){var a=o/e;s.push(r(t,a))}return s}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){return void 0===i&&(i=new r),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},function(t,e){t.exports=function(t,e,i,r){var n=Math.cos(r),s=Math.sin(r),o=t.x-e,a=t.y-i;return t.x=o*n-a*s+e,t.y=o*s+a*n+i,t}},function(t,e,i){var r=i(310),n=i(311),s={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return void 0===t&&(this.texture||this.shader)&&(t=this),new r(this.scene,t)},createGeometryMask:function(t){return void 0===t&&"Graphics"===this.type&&(t=this),new n(this.scene,t)}};t.exports=s},function(t,e,i){var r=i(0),n=i(22),s=i(91),o=new r({initialize:function(t,e){var i=t.sys.renderer;this.renderer=i,this.bitmapMask=e,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),t.sys.game.events.on(n.CONTEXT_RESTORED,this.createMask,this),i&&i.on(s.RESIZE,this.createMask,this)},createMask:function(){var t=this.renderer;if(t&&t.gl){this.mainTexture&&this.clearMask();var e=t.width,i=t.height,r=0===(e&e-1)&&0===(i&i-1),n=t.gl,s=r?n.REPEAT:n.CLAMP_TO_EDGE,o=n.LINEAR;this.mainTexture=t.createTexture2D(0,o,o,s,s,n.RGBA,null,e,i),this.maskTexture=t.createTexture2D(0,o,o,s,s,n.RGBA,null,e,i),this.mainFramebuffer=t.createFramebuffer(e,i,this.mainTexture,!0),this.maskFramebuffer=t.createFramebuffer(e,i,this.maskTexture,!0)}},clearMask:function(){var t=this.renderer;t&&t.gl&&this.mainTexture&&(t.deleteTexture(this.mainTexture),t.deleteTexture(this.maskTexture),t.deleteFramebuffer(this.mainFramebuffer),t.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BITMAPMASK_PIPELINE.beginMask(this,e,i)},postRenderWebGL:function(t,e){t.pipelines.BITMAPMASK_PIPELINE.endMask(this,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(s.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});t.exports=o},function(t,e,i){var r=new(i(0))({initialize:function(t,e){this.geometryMask=e,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(t){return this.geometryMask=t,this},setInvertAlpha:function(t){return void 0===t&&(t=!0),this.invertAlpha=t,this},preRenderWebGL:function(t,e,i){var r=t.gl;t.flush(),0===t.maskStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),t.maskCount=0),t.currentCameraMask.mask!==this&&(t.currentMask.mask=this),t.maskStack.push({mask:this,camera:i}),this.applyStencil(t,i,!0),t.maskCount++},applyStencil:function(t,e,i){var r=t.gl,n=this.geometryMask,s=t.maskCount;r.colorMask(!1,!1,!1,!1),i?(r.stencilFunc(r.EQUAL,s,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,s+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),n.renderWebGL(t,n,e),t.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i?this.invertAlpha?r.stencilFunc(r.NOTEQUAL,s+1,255):r.stencilFunc(r.EQUAL,s+1,255):this.invertAlpha?r.stencilFunc(r.NOTEQUAL,s,255):r.stencilFunc(r.EQUAL,s,255)},postRenderWebGL:function(t){var e=t.gl;t.maskStack.pop(),t.maskCount--,t.flush();var i=t.currentMask;if(0===t.maskStack.length)i.mask=null,e.disable(e.STENCIL_TEST);else{var r=t.maskStack[t.maskStack.length-1];r.mask.applyStencil(t,r.camera,!1),t.currentCameraMask.mask!==r.mask?(i.mask=r.mask,i.camera=r.camera):i.mask=null}},preRenderCanvas:function(t,e,i){var r=this.geometryMask;t.currentContext.save(),r.renderCanvas(t,r,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=r},function(t,e){var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}};t.exports=i},function(t,e,i){var r=i(14),n=i(25),s=i(177),o=i(269),a=i(270),l=i(3),u={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this._scaleX=t,this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return a(this._rotation*r.RAD_TO_DEG)},set:function(t){this.rotation=a(t)*r.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=o(t)}},setPosition:function(t,e,i,r){return void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=i,this.w=r,this},copyPosition:function(t){return void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.z&&(this.z=t.z),void 0!==t.w&&(this.w=t.w),this},setRandomPosition:function(t,e,i,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),this.x=t+Math.random()*i,this.y=e+Math.random()*r,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new n),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){void 0===t&&(t=new n),void 0===e&&(e=new n);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return t},getLocalPoint:function(t,e,i,r){i||(i=new l),r||(r=this.scene.sys.cameras.main);var n=r.scrollX,o=r.scrollY,a=t+n*this.scrollFactorX-n,u=e+o*this.scrollFactorY-o;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(a,u,i):s(a,u,this.x,this.y,this.rotation,this.scaleX,this.scaleY,i),this._originComponent&&(i.x+=this._displayOriginX,i.y+=this._displayOriginY),i},getParentRotation:function(){for(var t=0,e=this.parentContainer;e;)t+=e.rotation,e=e.parentContainer;return t}};t.exports=u},function(t,e){var i={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(t){return this.visible=t,this}};t.exports=i},function(t,e,i){t.exports={CHANGE_DATA:i(638),CHANGE_DATA_KEY:i(639),DESTROY:i(640),REMOVE_DATA:i(641),SET_DATA:i(642)}},function(t,e,i){var r=i(130),n=i(4);t.exports=function(t,e,i,s){if(void 0===s&&(s=[]),!e&&!i)return s;e?i=Math.round(r(t)/e):e=r(t)/i;for(var o=t.x,a=t.y,l=0,u=0;u<i;u++)switch(s.push(new n(o,a)),l){case 0:(o+=e)>=t.right&&(l=1,a+=o-t.right,o=t.right);break;case 1:(a+=e)>=t.bottom&&(l=2,o-=a-t.bottom,a=t.bottom);break;case 2:(o-=e)<=t.left&&(l=3,a-=t.left-o,o=t.left);break;case 3:(a-=e)<=t.top&&(l=0,a=t.top)}return s}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=[]);var r=Math.round(t.x1),n=Math.round(t.y1),s=Math.round(t.x2),o=Math.round(t.y2),a=Math.abs(s-r),l=Math.abs(o-n),u=r<s?1:-1,h=n<o?1:-1,c=a-l;i.push({x:r,y:n});for(var d=1;r!==s||n!==o;){var f=c<<1;f>-l&&(c-=l,r+=u),f<a&&(c+=a,n+=h),d%e===0&&i.push({x:r,y:n}),d++}return i}},function(t,e){t.exports=function(t,e,i){if(!e.length)return NaN;if(1===e.length)return e[0];var r,n,s=1;if(i){if(t<e[0][i])return e[0];for(;e[s][i]<t;)s++}else for(;e[s]<t;)s++;return s>e.length&&(s=e.length),i?(r=e[s-1][i],(n=e[s][i])-t<=t-r?e[s]:e[s-1]):(r=e[s-1],(n=e[s])-t<=t-r?n:r)}},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r,n){void 0===n&&(n=!1),this.textureKey=t,this.textureFrame=e,this.index=i,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=n},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});t.exports=r},function(t,e){t.exports=function(t){var e=/\D/g;return t.sort((function(t,i){return parseInt(t.replace(e,""),10)-parseInt(i.replace(e,""),10)})),t}},function(t,e,i){var r=i(185),n=i(0),s=i(102),o=i(9),a=i(132),l=i(22),u=i(2),h=i(6),c=i(186),d=i(322),f=new n({Extends:o,initialize:function(t){o.call(this),this.game=t,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",t.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(l.DESTROY,this.destroy,this)},addMix:function(t,e,i){var r=this.anims,n=this.mixes,s="string"===typeof t?t:t.key,o="string"===typeof e?e:e.key;if(r.has(s)&&r.has(o)){var a=n.get(s);a||(a={}),a[o]=i,n.set(s,a)}return this},removeMix:function(t,e){var i=this.mixes,r="string"===typeof t?t:t.key,n=i.get(r);if(n)if(e){var s="string"===typeof e?e:e.key;n.hasOwnProperty(s)&&delete n[s]}else e||i.delete(r);return this},getMix:function(t,e){var i=this.mixes,r="string"===typeof t?t:t.key,n="string"===typeof e?e:e.key,s=i.get(r);return s&&s.hasOwnProperty(n)?s[n]:0},add:function(t,e){return this.anims.has(t)?(console.warn("Animation key exists: "+t),this):(e.key=t,this.anims.set(t,e),this.emit(a.ADD_ANIMATION,t,e),this)},exists:function(t){return this.anims.has(t)},createFromAseprite:function(t,e){var i=[],r=this.game.cache.json.get(t);if(!r)return i;var n=this,s=h(r,"meta",null),o=h(r,"frames",null);return s&&o&&h(s,"frameTags",[]).forEach((function(r){var s=[],a=u(r,"name",null),l=u(r,"from",0),h=u(r,"to",0),c=u(r,"direction","forward");if(a&&(!e||e&&e.indexOf(a)>-1)){for(var d=[],f=Number.MAX_SAFE_INTEGER,p=l;p<=h;p++){var m=p.toString(),v=o[m];if(v){var y=u(v,"duration",Number.MAX_SAFE_INTEGER);y<f&&(f=y),d.push({frame:m,duration:y})}}d.forEach((function(e){s.push({key:t,frame:e.frame,duration:f-e.duration})}));var g=f*s.length;"reverse"===c&&(s=s.reverse());var x={key:a,frames:s,duration:g,yoyo:"pingpong"===c},b=n.create(x);b&&i.push(b)}})),i},create:function(t){var e=t.key,i=!1;return e&&((i=this.get(e))||(i=new r(this,e,t),this.anims.set(e,i),this.emit(a.ADD_ANIMATION,e,i))),i},fromJSON:function(t,e){void 0===e&&(e=!1),e&&this.anims.clear(),"string"===typeof t&&(t=JSON.parse(t));var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var r=0;r<t.anims.length;r++)i.push(this.create(t.anims[r]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&"frame"===t.type&&i.push(this.create(t));return i},generateFrameNames:function(t,e){var i,r=h(e,"prefix",""),n=h(e,"start",0),s=h(e,"end",0),o=h(e,"suffix",""),a=h(e,"zeroPad",0),l=h(e,"outputArray",[]),u=h(e,"frames",!1),f=this.textureManager.get(t);if(!f)return l;if(e)for(u||(u=d(n,s)),i=0;i<u.length;i++){var p=r+c(u[i],a,"0",1)+o;f.has(p)?l.push({key:t,frame:p}):console.warn("generateFrameNames: Frame missing: "+p+" from texture: "+t)}else for(u=f.getFrameNames(),i=0;i<u.length;i++)l.push({key:t,frame:u[i]});return l},generateFrameNumbers:function(t,e){var i=h(e,"start",0),r=h(e,"end",-1),n=h(e,"first",!1),s=h(e,"outputArray",[]),o=h(e,"frames",!1),a=this.textureManager.get(t);if(!a)return s;n&&a.has(n)&&s.push({key:t,frame:n}),o||(-1===r&&(r=a.frameTotal-2),o=d(i,r));for(var l=0;l<o.length;l++)a.has(o[l])?s.push({key:t,frame:o[l]}):console.warn("generateFrameNumbers: Frame "+l+" missing from texture: "+t);return s},get:function(t){return this.anims.get(t)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)e[i].anims.play(t);return this},staggerPlay:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=!0),Array.isArray(e)||(e=[e]);var n=e.length;r||n--;for(var s=0;s<e.length;s++){var o=i<0?Math.abs(i)*(n-s):i*s;e[s].anims.playAfterDelay(t,o)}return this},remove:function(t){var e=this.get(t);return e&&(this.emit(a.REMOVE_ANIMATION,t,e),this.anims.delete(t),this.removeMix(t)),e},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(t){var e={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==t&&""!==t?e.anims.push(this.anims.get(t).toJSON()):this.anims.each((function(t,i){e.anims.push(i.toJSON())})),e},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});t.exports=f},function(t,e){t.exports=function(t,e,i,r){var n,s=[],o=!1;if((i||r)&&(o=!0,i||(i=""),r||(r="")),e<t)for(n=t;n>=e;n--)o?s.push(i+n.toString()+r):s.push(n);else for(n=t;n<=e;n++)o?s.push(i+n.toString()+r):s.push(n);return s}},function(t,e,i){var r=i(0),n=i(102),s=i(9),o=i(324),a=new r({initialize:function(){this.entries=new n,this.events=new s},add:function(t,e){return this.entries.set(t,e),this.events.emit(o.ADD,this,t,e),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);return e&&(this.entries.delete(t),this.events.emit(o.REMOVE,this,t,e.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});t.exports=a},function(t,e,i){t.exports={ADD:i(736),REMOVE:i(737)}},function(t,e,i){var r=i(323),n=i(0),s=i(22),o=new n({initialize:function(t){this.game=t,this.binary=new r,this.bitmapFont=new r,this.json=new r,this.physics=new r,this.shader=new r,this.audio=new r,this.video=new r,this.text=new r,this.html=new r,this.obj=new r,this.tilemap=new r,this.xml=new r,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(t){return this.custom.hasOwnProperty(t)||(this.custom[t]=new r),this.custom[t]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<t.length;e++)this[t[e]].destroy(),this[t[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});t.exports=o},function(t,e,i){var r=i(133),n=i(190),s=i(18),o=i(0),a=i(11),l=i(333),u=i(37),h=i(135),c=i(10),d=i(3),f=new o({Extends:r,Mixins:[a.Flip,a.Tint,a.Pipeline],initialize:function(t,e,i,n){r.call(this,t,e,i,n),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new l.Fade(this),this.flashEffect=new l.Flash(this),this.shakeEffect=new l.Shake(this),this.panEffect=new l.Pan(this),this.rotateToEffect=new l.RotateTo(this),this.zoomEffect=new l.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(t,e){if(void 0===t)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new c(0,0,t,e),this._follow){var i=this.width/2,r=this.height/2,s=this._follow.x-this.followOffset.x,o=this._follow.y-this.followOffset.y;this.midPoint.set(s,o),this.scrollX=s-i,this.scrollY=o-r}n(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,r,n,s){return this.fadeEffect.start(!1,t,e,i,r,!0,n,s)},fadeOut:function(t,e,i,r,n,s){return this.fadeEffect.start(!0,t,e,i,r,!0,n,s)},fadeFrom:function(t,e,i,r,n,s,o){return this.fadeEffect.start(!1,t,e,i,r,n,s,o)},fade:function(t,e,i,r,n,s,o){return this.fadeEffect.start(!0,t,e,i,r,n,s,o)},flash:function(t,e,i,r,n,s,o){return this.flashEffect.start(t,e,i,r,n,s,o)},shake:function(t,e,i,r,n){return this.shakeEffect.start(t,e,i,r,n)},pan:function(t,e,i,r,n,s,o){return this.panEffect.start(t,e,i,r,n,s,o)},rotateTo:function(t,e,i,r,n,s,o){return this.rotateToEffect.start(t,e,i,r,n,s,o)},zoomTo:function(t,e,i,r,n,s){return this.zoomEffect.start(t,e,i,r,n,s)},preRender:function(){this.renderList.length=0;var t=this.width,e=this.height,i=.5*t,r=.5*e,s=this.zoom,o=this.matrix,a=t*this.originX,l=e*this.originY,c=this._follow,d=this.deadzone,f=this.scrollX,p=this.scrollY;d&&n(d,this.midPoint.x,this.midPoint.y);var m=!1;if(c&&!this.panEffect.isRunning){var v=c.x-this.followOffset.x,y=c.y-this.followOffset.y;d?(v<d.x?f=h(f,f-(d.x-v),this.lerp.x):v>d.right&&(f=h(f,f+(v-d.right),this.lerp.x)),y<d.y?p=h(p,p-(d.y-y),this.lerp.y):y>d.bottom&&(p=h(p,p+(y-d.bottom),this.lerp.y))):(f=h(f,v-a,this.lerp.x),p=h(p,y-l,this.lerp.y)),m=!0}this.useBounds&&(f=this.clampX(f),p=this.clampY(p)),this.roundPixels&&(a=Math.round(a),l=Math.round(l),f=Math.round(f),p=Math.round(p)),this.scrollX=f,this.scrollY=p;var g=f+i,x=p+r;this.midPoint.set(g,x);var b=t/s,w=e/s,_=g-b/2,S=x-w/2;this.roundPixels&&(_=Math.round(_),S=Math.round(S)),this.worldView.setTo(_,S,b,w),o.applyITRS(this.x+a,this.y+l,this.rotation,s,s),o.translate(-a,-l),this.shakeEffect.preRender(),m&&this.emit(u.FOLLOW_UPDATE,this,c)},setLerp:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,r,n,o){void 0===e&&(e=!1),void 0===i&&(i=1),void 0===r&&(r=i),void 0===n&&(n=0),void 0===o&&(o=n),this._follow=t,this.roundPixels=e,i=s(i,0,1),r=s(r,0,1),this.lerp.set(i,r),this.followOffset.set(n,o);var a=this.width/2,l=this.height/2,u=t.x-n,h=t.y-o;return this.midPoint.set(u,h),this.scrollX=u-a,this.scrollY=h-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.rotateToEffect.update(t,e),this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){this.resetFX(),r.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});t.exports=f},function(t,e,i){var r=i(38);t.exports=function(t){var e=new r;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var n=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);e.setTo(n,s,o)}return e}},function(t,e){t.exports=function(t,e,i,r){return r<<24|t<<16|e<<8|i}},function(t,e){t.exports=function(t,e,i,r){void 0===r&&(r={h:0,s:0,v:0}),t/=255,e/=255,i/=255;var n=Math.min(t,e,i),s=Math.max(t,e,i),o=s-n,a=0,l=0===s?0:o/s,u=s;return s!==n&&(s===t?a=(e-i)/o+(e<i?6:0):s===e?a=(i-t)/o+2:s===i&&(a=(t-e)/o+4),a/=6),r.hasOwnProperty("_h")?(r._h=a,r._s=l,r._v=u):(r.h=a,r.s=l,r.v=u),r}},function(t,e){t.exports=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}}},function(t,e,i){var r=i(38);t.exports=function(t){return new r(t.r,t.g,t.b,t.a)}},function(t,e,i){var r=i(38);t.exports=function(t){var e=new r,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var n=parseInt(i[1],10),s=parseInt(i[2],10),o=parseInt(i[3],10),a=void 0!==i[4]?parseFloat(i[4]):1;e.setTo(n,s,o,255*a)}return e}},function(t,e,i){t.exports={Fade:i(761),Flash:i(762),Pan:i(763),Shake:i(796),RotateTo:i(797),Zoom:i(798)}},function(t,e,i){t.exports={In:i(764),Out:i(765),InOut:i(766)}},function(t,e,i){t.exports={In:i(767),Out:i(768),InOut:i(769)}},function(t,e,i){t.exports={In:i(770),Out:i(771),InOut:i(772)}},function(t,e,i){t.exports={In:i(773),Out:i(774),InOut:i(775)}},function(t,e,i){t.exports={In:i(776),Out:i(777),InOut:i(778)}},function(t,e,i){t.exports={In:i(779),Out:i(780),InOut:i(781)}},function(t,e,i){t.exports=i(782)},function(t,e,i){t.exports={In:i(783),Out:i(784),InOut:i(785)}},function(t,e,i){t.exports={In:i(786),Out:i(787),InOut:i(788)}},function(t,e,i){t.exports={In:i(789),Out:i(790),InOut:i(791)}},function(t,e,i){t.exports={In:i(792),Out:i(793),InOut:i(794)}},function(t,e,i){t.exports=i(795)},function(t,e,i){var r=i(0),n=i(33),s=i(347),o=i(2),a=i(6),l=i(7),u=i(193),h=i(1),c=i(197),d=i(187),f=new r({initialize:function(t){void 0===t&&(t={}),this.width=a(t,"width",1024),this.height=a(t,"height",768),this.zoom=a(t,"zoom",1),this.parent=a(t,"parent",void 0),this.scaleMode=a(t,"scaleMode",0),this.expandParent=a(t,"expandParent",!0),this.autoRound=a(t,"autoRound",!1),this.autoCenter=a(t,"autoCenter",0),this.resizeInterval=a(t,"resizeInterval",500),this.fullscreenTarget=a(t,"fullscreenTarget",null),this.minWidth=a(t,"minWidth",0),this.maxWidth=a(t,"maxWidth",0),this.minHeight=a(t,"minHeight",0),this.maxHeight=a(t,"maxHeight",0);var e=a(t,"scale",null);e&&(this.width=a(e,"width",this.width),this.height=a(e,"height",this.height),this.zoom=a(e,"zoom",this.zoom),this.parent=a(e,"parent",this.parent),this.scaleMode=a(e,"mode",this.scaleMode),this.expandParent=a(e,"expandParent",this.expandParent),this.autoRound=a(e,"autoRound",this.autoRound),this.autoCenter=a(e,"autoCenter",this.autoCenter),this.resizeInterval=a(e,"resizeInterval",this.resizeInterval),this.fullscreenTarget=a(e,"fullscreenTarget",this.fullscreenTarget),this.minWidth=a(e,"min.width",this.minWidth),this.maxWidth=a(e,"max.width",this.maxWidth),this.minHeight=a(e,"min.height",this.minHeight),this.maxHeight=a(e,"max.height",this.maxHeight)),this.renderType=a(t,"type",n.AUTO),this.canvas=a(t,"canvas",null),this.context=a(t,"context",null),this.canvasStyle=a(t,"canvasStyle",null),this.customEnvironment=a(t,"customEnvironment",!1),this.sceneConfig=a(t,"scene",null),this.seed=a(t,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=a(t,"title",""),this.gameURL=a(t,"url","https://phaser.io"),this.gameVersion=a(t,"version",""),this.autoFocus=a(t,"autoFocus",!0),this.domCreateContainer=a(t,"dom.createContainer",!1),this.domBehindCanvas=a(t,"dom.behindCanvas",!1),this.domPointerEvents=a(t,"dom.pointerEvents","none"),this.inputKeyboard=a(t,"input.keyboard",!0),this.inputKeyboardEventTarget=a(t,"input.keyboard.target",window),this.inputKeyboardCapture=a(t,"input.keyboard.capture",[]),this.inputMouse=a(t,"input.mouse",!0),this.inputMouseEventTarget=a(t,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(t,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(t,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(t,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(t,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(t,"input.touch",s.input.touch),this.inputTouchEventTarget=a(t,"input.touch.target",null),this.inputTouchCapture=a(t,"input.touch.capture",!0),this.inputActivePointers=a(t,"input.activePointers",1),this.inputSmoothFactor=a(t,"input.smoothFactor",0),this.inputWindowEvents=a(t,"input.windowEvents",!0),this.inputGamepad=a(t,"input.gamepad",!1),this.inputGamepadEventTarget=a(t,"input.gamepad.target",window),this.disableContextMenu=a(t,"disableContextMenu",!1),this.audio=a(t,"audio",{}),this.hideBanner=!1===a(t,"banner",null),this.hidePhaser=a(t,"banner.hidePhaser",!1),this.bannerTextColor=a(t,"banner.text","#ffffff"),this.bannerBackgroundColor=a(t,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(t,"fps",null);var i=a(t,"render",t);this.pipeline=a(i,"pipeline",null),this.antialias=a(i,"antialias",!0),this.antialiasGL=a(i,"antialiasGL",!0),this.mipmapFilter=a(i,"mipmapFilter","LINEAR"),this.desynchronized=a(i,"desynchronized",!1),this.roundPixels=a(i,"roundPixels",!1),this.pixelArt=a(i,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(i,"transparent",!1),this.clearBeforeRender=a(i,"clearBeforeRender",!0),this.preserveDrawingBuffer=a(i,"preserveDrawingBuffer",!1),this.premultipliedAlpha=a(i,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=a(i,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(i,"powerPreference","default"),this.batchSize=a(i,"batchSize",4096),this.maxTextures=a(i,"maxTextures",-1),this.maxLights=a(i,"maxLights",10);var r=a(t,"backgroundColor",0);this.backgroundColor=d(r),this.transparent&&(this.backgroundColor=d(0),this.backgroundColor.alpha=0),this.preBoot=a(t,"callbacks.preBoot",h),this.postBoot=a(t,"callbacks.postBoot",h),this.physics=a(t,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(t,"loader.baseURL",""),this.loaderPath=a(t,"loader.path","");var f=s.os.android?6:32;this.loaderMaxParallelDownloads=a(t,"loader.maxParallelDownloads",f),this.loaderCrossOrigin=a(t,"loader.crossOrigin",void 0),this.loaderResponseType=a(t,"loader.responseType",""),this.loaderAsync=a(t,"loader.async",!0),this.loaderUser=a(t,"loader.user",""),this.loaderPassword=a(t,"loader.password",""),this.loaderTimeout=a(t,"loader.timeout",0),this.loaderWithCredentials=a(t,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=a(t,"plugins",null),m=c.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:l(p)&&(this.installGlobalPlugins=o(p,"global",[]),this.installScenePlugins=o(p,"scene",[]),Array.isArray(p.default)?m=p.default:Array.isArray(p.defaultMerge)&&(m=m.concat(p.defaultMerge)))),this.defaultPlugins=m;var v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(t,"images.default",v+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(t,"images.missing",v+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(t,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=n.WEBGL:window.FORCE_CANVAS&&(this.renderType=n.CANVAS))}});t.exports=f},function(t,e,i){t.exports={os:i(105),browser:i(136),features:i(191),input:i(808),audio:i(809),video:i(810),fullscreen:i(811),canvasFeatures:i(348)}},function(t,e,i){var r=i(31),n={supportInverseAlpha:!1,supportNewBlendModes:!1};t.exports=("function"!==typeof importScripts&&void 0!==document&&(n.supportNewBlendModes=function(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;return i.onload=function(){var s=new Image;s.onload=function(){var t=r.create(s,6,1).getContext("2d");if(t.globalCompositeOperation="multiply",t.drawImage(i,0,0),t.drawImage(s,2,0),!t.getImageData(2,0,1,1))return!1;var e=t.getImageData(2,0,1,1).data;r.remove(s),n.supportNewBlendModes=255===e[0]&&0===e[1]&&0===e[2]},s.src=t+"/wCKxvRF"+e},i.src=t+"AP804Oa6"+e,!1}(),n.supportInverseAlpha=function(){var t=r.create(this,2,1).getContext("2d");t.fillStyle="rgba(10, 20, 30, 0.5)",t.fillRect(0,0,1,1);var e=t.getImageData(0,0,1,1);if(null===e)return!1;t.putImageData(e,1,0);var i=t.getImageData(1,0,1,1);return i.data[0]===e.data[0]&&i.data[1]===e.data[1]&&i.data[2]===e.data[2]&&i.data[3]===e.data[3]}()),n)},function(t,e){t.exports=function(t,e,i,r){return Math.atan2(r-e,i-t)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}},function(t,e){t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},function(t,e){t.exports=function(t,e){var i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}},function(t,e){t.exports=function(t,e,i,r){var n=t-i,s=e-r;return n*n+s*s}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i}},function(t,e,i){var r=i(357);t.exports=function(t,e){return r(t)/r(e)/r(t-e)}},function(t,e){t.exports=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e}},function(t,e){t.exports=function(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}},function(t,e){t.exports=function(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}},function(t,e,i){var r=i(184);t.exports=function(t,e,i){return e+(i-e)*r(t,0,1)}},function(t,e){t.exports=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)}},function(t,e){t.exports=function(t,e){var i=t.x,r=t.y;return t.x=i*Math.cos(e)-r*Math.sin(e),t.y=i*Math.sin(e)+r*Math.cos(e),t}},function(t,e){t.exports=function(t){return t>0?Math.ceil(t):Math.floor(t)}},function(t,e,i){var r=new(i(0))({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new r(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],r=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=r,this},invert:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=u*s-o*l,c=-u*n+o*a,d=l*n-s*a,f=e*h+i*c+r*d;return f?(f=1/f,t[0]=h*f,t[1]=(-u*i+r*l)*f,t[2]=(o*i-r*s)*f,t[3]=c*f,t[4]=(u*e-r*a)*f,t[5]=(-o*e+r*n)*f,t[6]=d*f,t[7]=(-l*e+i*a)*f,t[8]=(s*e-i*n)*f,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8];return t[0]=s*u-o*l,t[1]=r*l-i*u,t[2]=i*o-r*s,t[3]=o*a-n*u,t[4]=e*u-r*a,t[5]=r*n-e*o,t[6]=n*l-s*a,t[7]=i*a-e*l,t[8]=e*s-i*n,this},determinant:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8];return e*(u*s-o*l)+i*(-u*n+o*a)+r*(l*n-s*a)},multiply:function(t){var e=this.val,i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=t.val,d=c[0],f=c[1],p=c[2],m=c[3],v=c[4],y=c[5],g=c[6],x=c[7],b=c[8];return e[0]=d*i+f*s+p*l,e[1]=d*r+f*o+p*u,e[2]=d*n+f*a+p*h,e[3]=m*i+v*s+y*l,e[4]=m*r+v*o+y*u,e[5]=m*n+v*a+y*h,e[6]=g*i+x*s+b*l,e[7]=g*r+x*o+b*u,e[8]=g*n+x*a+b*h,this},translate:function(t){var e=this.val,i=t.x,r=t.y;return e[6]=i*e[0]+r*e[3]+e[6],e[7]=i*e[1]+r*e[4]+e[7],e[8]=i*e[2]+r*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=Math.sin(t),u=Math.cos(t);return e[0]=u*i+l*s,e[1]=u*r+l*o,e[2]=u*n+l*a,e[3]=u*s-l*i,e[4]=u*o-l*r,e[5]=u*a-l*n,this},scale:function(t){var e=this.val,i=t.x,r=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=r*e[3],e[4]=r*e[4],e[5]=r*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,r=t.z,n=t.w,s=e+e,o=i+i,a=r+r,l=e*s,u=e*o,h=e*a,c=i*o,d=i*a,f=r*a,p=n*s,m=n*o,v=n*a,y=this.val;return y[0]=1-(c+f),y[3]=u+v,y[6]=h-m,y[1]=u-v,y[4]=1-(l+f),y[7]=d+p,y[2]=h+m,y[5]=d-p,y[8]=1-(l+c),this},normalFromMat4:function(t){var e=t.val,i=this.val,r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=e[9],f=e[10],p=e[11],m=e[12],v=e[13],y=e[14],g=e[15],x=r*l-n*a,b=r*u-s*a,w=r*h-o*a,_=n*u-s*l,S=n*h-o*l,A=s*h-o*u,T=c*v-d*m,E=c*y-f*m,M=c*g-p*m,C=d*y-f*v,P=d*g-p*v,R=f*g-p*y,k=x*R-b*P+w*C+_*M-S*E+A*T;return k?(k=1/k,i[0]=(l*R-u*P+h*C)*k,i[1]=(u*M-a*R-h*E)*k,i[2]=(a*P-l*M+h*T)*k,i[3]=(s*P-n*R-o*C)*k,i[4]=(r*R-s*M+o*E)*k,i[5]=(n*M-r*P-o*T)*k,i[6]=(v*A-y*S+g*_)*k,i[7]=(y*w-m*A-g*b)*k,i[8]=(m*S-v*w+g*x)*k,this):null}});t.exports=r},function(t,e,i){var r=i(0),n=i(364),s=i(1),o=i(39),a=1e-6,l=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),h=new o(1,0,0),c=new o(0,1,0),d=new o,f=new n,p=new r({initialize:function(t,e,i,r){this.onChangeCallback=s,this.set(t,e,i,r)},x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback(this)}},copy:function(t){return this.set(t)},set:function(t,e,i,r,n){return void 0===n&&(n=!0),"object"===typeof t?(this._x=t.x||0,this._y=t.y||0,this._z=t.z||0,this._w=t.w||0):(this._x=t||0,this._y=e||0,this._z=i||0,this._w=r||0),n&&this.onChangeCallback(this),this},add:function(t){return this._x+=t.x,this._y+=t.y,this._z+=t.z,this._w+=t.w,this.onChangeCallback(this),this},subtract:function(t){return this._x-=t.x,this._y-=t.y,this._z-=t.z,this._w-=t.w,this.onChangeCallback(this),this},scale:function(t){return this._x*=t,this._y*=t,this._z*=t,this._w*=t,this.onChangeCallback(this),this},length:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return Math.sqrt(t*t+e*e+i*i+r*r)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return t*t+e*e+i*i+r*r},normalize:function(){var t=this.x,e=this.y,i=this.z,r=this.w,n=t*t+e*e+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this._x=t*n,this._y=e*n,this._z=i*n,this._w=r*n),this.onChangeCallback(this),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,r=this.y,n=this.z,s=this.w;return this.set(i+e*(t.x-i),r+e*(t.y-r),n+e*(t.z-n),s+e*(t.w-s))},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(d.copy(h).cross(t).length()<a&&d.copy(c).cross(t),d.normalize(),this.setAxisAngle(d,Math.PI)):i>.999999?this.set(0,0,0,1):(d.copy(t).cross(e),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+i,this.normalize())},setAxes:function(t,e,i){var r=f.val;return r[0]=e.x,r[3]=e.y,r[6]=e.z,r[1]=i.x,r[4]=i.y,r[7]=i.z,r[2]=-t.x,r[5]=-t.y,r[8]=-t.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(t,e){e*=.5;var i=Math.sin(e);return this.set(i*t.x,i*t.y,i*t.z,Math.cos(e))},multiply:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,s=t.x,o=t.y,a=t.z,l=t.w;return this.set(e*l+n*s+i*a-r*o,i*l+n*o+r*s-e*a,r*l+n*a+e*o-i*s,n*l-e*s-i*o-r*a)},slerp:function(t,e){var i=this.x,r=this.y,n=this.z,s=this.w,o=t.x,l=t.y,u=t.z,h=t.w,c=i*o+r*l+n*u+s*h;c<0&&(c=-c,o=-o,l=-l,u=-u,h=-h);var d=1-e,f=e;if(1-c>a){var p=Math.acos(c),m=Math.sin(p);d=Math.sin((1-e)*p)/m,f=Math.sin(e*p)/m}return this.set(d*i+f*o,d*r+f*l,d*n+f*u,d*s+f*h)},invert:function(){var t=this.x,e=this.y,i=this.z,r=this.w,n=t*t+e*e+i*i+r*r,s=n?1/n:0;return this.set(-t*s,-e*s,-i*s,r*s)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(t){t*=.5;var e=this.x,i=this.y,r=this.z,n=this.w,s=Math.sin(t),o=Math.cos(t);return this.set(e*o+n*s,i*o+r*s,r*o-i*s,n*o-e*s)},rotateY:function(t){t*=.5;var e=this.x,i=this.y,r=this.z,n=this.w,s=Math.sin(t),o=Math.cos(t);return this.set(e*o-r*s,i*o+n*s,r*o+e*s,n*o-i*s)},rotateZ:function(t){t*=.5;var e=this.x,i=this.y,r=this.z,n=this.w,s=Math.sin(t),o=Math.cos(t);return this.set(e*o+i*s,i*o-e*s,r*o+n*s,n*o-r*s)},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},setFromEuler:function(t,e){var i=t.x/2,r=t.y/2,n=t.z/2,s=Math.cos(i),o=Math.cos(r),a=Math.cos(n),l=Math.sin(i),u=Math.sin(r),h=Math.sin(n);switch(t.order){case"XYZ":this.set(l*o*a+s*u*h,s*u*a-l*o*h,s*o*h+l*u*a,s*o*a-l*u*h,e);break;case"YXZ":this.set(l*o*a+s*u*h,s*u*a-l*o*h,s*o*h-l*u*a,s*o*a+l*u*h,e);break;case"ZXY":this.set(l*o*a-s*u*h,s*u*a+l*o*h,s*o*h+l*u*a,s*o*a-l*u*h,e);break;case"ZYX":this.set(l*o*a-s*u*h,s*u*a+l*o*h,s*o*h-l*u*a,s*o*a+l*u*h,e);break;case"YZX":this.set(l*o*a+s*u*h,s*u*a+l*o*h,s*o*h-l*u*a,s*o*a-l*u*h,e);break;case"XZY":this.set(l*o*a-s*u*h,s*u*a-l*o*h,s*o*h+l*u*a,s*o*a+l*u*h,e)}return this},setFromRotationMatrix:function(t){var e,i=t.val,r=i[0],n=i[4],s=i[8],o=i[1],a=i[5],l=i[9],u=i[2],h=i[6],c=i[10],d=r+a+c;return d>0?(e=.5/Math.sqrt(d+1),this.set((h-l)*e,(s-u)*e,(o-n)*e,.25/e)):r>a&&r>c?(e=2*Math.sqrt(1+r-a-c),this.set(.25*e,(n+o)/e,(s+u)/e,(h-l)/e)):a>c?(e=2*Math.sqrt(1+a-r-c),this.set((n+o)/e,.25*e,(l+h)/e,(s-u)/e)):(e=2*Math.sqrt(1+c-r-a),this.set((s+u)/e,(l+h)/e,.25*e,(o-n)/e)),this},fromMat3:function(t){var e,i=t.val,r=i[0]+i[4]+i[8];if(r>0)e=Math.sqrt(r+1),this.w=.5*e,e=.5/e,this._x=(i[7]-i[5])*e,this._y=(i[2]-i[6])*e,this._z=(i[3]-i[1])*e;else{var n=0;i[4]>i[0]&&(n=1),i[8]>i[3*n+n]&&(n=2);var s=l[n],o=l[s];e=Math.sqrt(i[3*n+n]-i[3*s+s]-i[3*o+o]+1),u[n]=.5*e,e=.5/e,u[s]=(i[3*s+n]+i[3*n+s])*e,u[o]=(i[3*o+n]+i[3*n+o])*e,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(i[3*o+s]-i[3*s+o])*e}return this.onChangeCallback(this),this}});t.exports=p},function(t,e,i){var r=i(367),n=i(31),s=i(33),o=i(191);t.exports=function(t){var e=t.config;if((e.customEnvironment||e.canvas)&&e.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!e.customEnvironment&&!e.canvas&&e.renderType!==s.HEADLESS)if(e.renderType===s.CANVAS||e.renderType!==s.CANVAS&&!o.webGL){if(!o.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");e.renderType=s.CANVAS}else e.renderType=s.WEBGL;e.antialias||n.disableSmoothing();var a,l,u=t.scale.baseSize,h=u.width,c=u.height;e.canvas?(t.canvas=e.canvas,t.canvas.width=h,t.canvas.height=c):t.canvas=n.create(t,h,c,e.renderType),e.canvasStyle&&(t.canvas.style=e.canvasStyle),e.antialias||r.setCrisp(t.canvas),e.renderType!==s.HEADLESS&&(a=i(368),l=i(371),e.renderType===s.WEBGL?t.renderer=new l(t):(t.renderer=new a(t),t.context=t.renderer.gameContext))}},function(t,e){t.exports={setCrisp:function(t){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach((function(e){t.style["image-rendering"]=e})),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}}},function(t,e,i){var r=i(37),n=i(369),s=i(0),o=i(33),a=i(9),l=i(91),u=i(370),h=i(104),c=i(106),d=i(25),f=new s({Extends:a,initialize:function(t){a.call(this);var e=t.config;this.config={clearBeforeRender:e.clearBeforeRender,backgroundColor:e.backgroundColor,antialias:e.antialias,roundPixels:e.roundPixels},this.game=t,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=t.canvas;var i={alpha:t.config.transparent,desynchronized:t.config.desynchronized};this.gameContext=e.context?e.context:this.gameCanvas.getContext("2d",i),this.currentContext=this.gameContext,this.antialias=t.config.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(c.READY,this.boot,this)},boot:function(){var t=this.game,e=t.scale.baseSize;this.width=e.width,this.height=e.height,this.isBooted=!0,t.scale.on(h.RESIZE,this.onResize,this),this.resize(e.width,e.height)},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},resize:function(t,e){this.width=t,this.height=e,this.emit(l.RESIZE,t,e)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,r=this.height;t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),e.clearBeforeRender&&(t.clearRect(0,0,i,r),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,r))),t.save(),this.drawCount=0,this.emit(l.PRE_RENDER)},render:function(t,e,i){var n=e.length;this.emit(l.RENDER,t,i);var s=i.x,o=i.y,a=i.width,u=i.height,h=i.renderToTexture?i.context:t.sys.context;h.save(),this.game.scene.customViewports&&(h.beginPath(),h.rect(s,o,a,u),h.clip()),this.currentContext=h;var c=i.mask;c&&c.preRenderCanvas(this,null,i._maskCamera),i.transparent||(h.fillStyle=i.backgroundColor.rgba,h.fillRect(s,o,a,u)),h.globalAlpha=i.alpha,h.globalCompositeOperation="source-over",this.drawCount+=n,i.renderToTexture&&i.emit(r.PRE_RENDER,i),i.matrix.copyToContext(h);for(var d=0;d<n;d++){var f=e[d];f.mask&&f.mask.preRenderCanvas(this,f,i),f.renderCanvas(this,f,i),f.mask&&f.mask.postRenderCanvas(this,f,i)}h.setTransform(1,0,0,1,0,0),h.globalCompositeOperation="source-over",h.globalAlpha=1,i.flashEffect.postRenderCanvas(h),i.fadeEffect.postRenderCanvas(h),i.dirty=!1,c&&c.postRenderCanvas(this),h.restore(),i.renderToTexture&&(i.emit(r.POST_RENDER,i),i.renderToGame&&t.sys.context.drawImage(i.canvas,s,o))},postRender:function(){this.gameContext.restore(),this.emit(l.POST_RENDER);var t=this.snapshotState;t.callback&&(n(this.gameCanvas,t),t.callback=null)},snapshotCanvas:function(t,e,i,r,s,o,a,l,u){void 0===i&&(i=!1),this.snapshotArea(r,s,o,a,e,l,u);var h=this.snapshotState;return h.getPixel=i,n(this.canvas,h),h.callback=null,this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,t,e,i)},snapshotArea:function(t,e,i,r,n,s,o){var a=this.snapshotState;return a.callback=n,a.type=s,a.encoder=o,a.getPixel=!1,a.x=t,a.y=e,a.width=Math.min(i,this.gameCanvas.width),a.height=Math.min(r,this.gameCanvas.height),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(t,e,i,r){var n=i.alpha*t.alpha;if(0!==n){var s=this.currentContext,o=this._tempMatrix1,a=this._tempMatrix2,l=e.canvasData,u=l.x,h=l.y,c=e.cutWidth,d=e.cutHeight,f=e.customPivot,p=e.source.resolution,m=t.displayOriginX,v=t.displayOriginY,y=-m+e.x,g=-v+e.y;if(t.isCropped){var x=t._crop;x.flipX===t.flipX&&x.flipY===t.flipY||e.updateCropUVs(x,t.flipX,t.flipY),c=x.cw,d=x.ch,u=x.cx,h=x.cy,y=-m+x.x,g=-v+x.y,t.flipX&&(y>=0?y=-(y+c):y<0&&(y=Math.abs(y)-c)),t.flipY&&(g>=0?g=-(g+d):g<0&&(g=Math.abs(g)-d))}var b=1,w=1;t.flipX&&(f||(y+=-e.realWidth+2*m),b=-1),t.flipY&&(f||(g+=-e.realHeight+2*v),w=-1),a.applyITRS(t.x,t.y,t.rotation,t.scaleX*b,t.scaleY*w),o.copyFrom(i.matrix),r?(o.multiplyWithOffset(r,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),a.e=t.x,a.f=t.y):(a.e-=i.scrollX*t.scrollFactorX,a.f-=i.scrollY*t.scrollFactorY),o.multiply(a),s.save(),o.setToContext(s),s.globalCompositeOperation=this.blendModes[t.blendMode],s.globalAlpha=n,s.imageSmoothingEnabled=!(!this.antialias||e.source.scaleMode),t.mask&&t.mask.preRenderCanvas(this,t,i),s.drawImage(e.source.image,u,h,c,d,y,g,c/p,d/p),t.mask&&t.mask.postRenderCanvas(this,t,i),s.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});t.exports=f},function(t,e,i){var r=i(31),n=i(38),s=i(2);t.exports=function(t,e){var i=s(e,"callback"),o=s(e,"type","image/png"),a=s(e,"encoder",.92),l=Math.abs(Math.round(s(e,"x",0))),u=Math.abs(Math.round(s(e,"y",0))),h=s(e,"width",t.width),c=s(e,"height",t.height);if(s(e,"getPixel",!1)){var d=t.getContext("2d").getImageData(l,u,1,1).data;i.call(null,new n(d[0],d[1],d[2],d[3]/255))}else if(0!==l||0!==u||h!==t.width||c!==t.height){var f=r.createWebGL(this,h,c);f.getContext("2d").drawImage(t,l,u,h,c,0,0,h,c);var p=new Image;p.onerror=function(){i.call(null),r.remove(f)},p.onload=function(){i.call(null,p),r.remove(f)},p.src=f.toDataURL(o,a)}else{var m=new Image;m.onerror=function(){i.call(null)},m.onload=function(){i.call(null,m)},m.src=t.toDataURL(o,a)}}},function(t,e,i){var r=i(35),n=i(348);t.exports=function(){var t=[],e=n.supportNewBlendModes,i="source-over";return t[r.NORMAL]=i,t[r.ADD]="lighter",t[r.MULTIPLY]=e?"multiply":i,t[r.SCREEN]=e?"screen":i,t[r.OVERLAY]=e?"overlay":i,t[r.DARKEN]=e?"darken":i,t[r.LIGHTEN]=e?"lighten":i,t[r.COLOR_DODGE]=e?"color-dodge":i,t[r.COLOR_BURN]=e?"color-burn":i,t[r.HARD_LIGHT]=e?"hard-light":i,t[r.SOFT_LIGHT]=e?"soft-light":i,t[r.DIFFERENCE]=e?"difference":i,t[r.EXCLUSION]=e?"exclusion":i,t[r.HUE]=e?"hue":i,t[r.SATURATION]=e?"saturation":i,t[r.COLOR]=e?"color":i,t[r.LUMINOSITY]=e?"luminosity":i,t[r.ERASE]="destination-out",t[r.SOURCE_IN]="source-in",t[r.SOURCE_OUT]="source-out",t[r.SOURCE_ATOP]="source-atop",t[r.DESTINATION_OVER]="destination-over",t[r.DESTINATION_IN]="destination-in",t[r.DESTINATION_OUT]="destination-out",t[r.DESTINATION_ATOP]="destination-atop",t[r.LIGHTER]="lighter",t[r.COPY]="copy",t[r.XOR]="xor",t}},function(t,e,i){var r=i(93),n=i(37),s=i(0),o=i(33),a=i(9),l=i(91),u=i(22),h=i(138),c=i(69),d=i(1),f=i(372),p=i(141),m=i(104),v=i(106),y=i(12),g=i(383),x=new s({Extends:a,initialize:function(t){a.call(this);var e=t.config,i={alpha:e.transparent,desynchronized:e.desynchronized,depth:!1,antialias:e.antialiasGL,premultipliedAlpha:e.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:e.failIfMajorPerformanceCaveat,powerPreference:e.powerPreference,preserveDrawingBuffer:e.preserveDrawingBuffer};this.config={clearBeforeRender:e.clearBeforeRender,antialias:e.antialias,backgroundColor:e.backgroundColor,contextCreation:i,roundPixels:e.roundPixels,maxTextures:e.maxTextures,maxTextureSize:e.maxTextureSize,batchSize:e.batchSize,maxLights:e.maxLights,mipmapFilter:e.mipmapFilter},this.game=t,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=t.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(t){var e,i=this.game,r=this.canvas,n=t.backgroundColor;if(!(e=i.config.context?i.config.context:r.getContext("webgl",t.contextCreation)||r.getContext("experimental-webgl",t.contextCreation))||e.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=e;var s=this;this.contextLostHandler=function(t){s.contextLost=!0,s.game.events.emit(u.CONTEXT_LOST,s),t.preventDefault()},this.contextRestoredHandler=function(){s.contextLost=!1,s.init(s.config),s.game.events.emit(u.CONTEXT_RESTORED,s)},r.addEventListener("webglcontextlost",this.contextLostHandler,!1),r.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),i.context=e;for(var a=0;a<=27;a++)this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD});this.blendModes[1].func=[e.ONE,e.DST_ALPHA],this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[e.ZERO,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=e.BYTE,this.glFormats[1]=e.SHORT,this.glFormats[2]=e.UNSIGNED_BYTE,this.glFormats[3]=e.UNSIGNED_SHORT,this.glFormats[4]=e.FLOAT,this.glFuncMap={mat2:{func:e.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:e.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:e.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:e.uniform1f,length:1},"1fv":{func:e.uniform1fv,length:1},"1i":{func:e.uniform1i,length:1},"1iv":{func:e.uniform1iv,length:1},"2f":{func:e.uniform2f,length:2},"2fv":{func:e.uniform2fv,length:1},"2i":{func:e.uniform2i,length:2},"2iv":{func:e.uniform2iv,length:1},"3f":{func:e.uniform3f,length:3},"3fv":{func:e.uniform3fv,length:1},"3i":{func:e.uniform3i,length:3},"3iv":{func:e.uniform3iv,length:1},"4f":{func:e.uniform4f,length:4},"4fv":{func:e.uniform4fv,length:1},"4i":{func:e.uniform4i,length:4},"4iv":{func:e.uniform4iv,length:1}};var l=e.getSupportedExtensions();t.maxTextures&&-1!==t.maxTextures||(t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),t.maxTextureSize||(t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE));var h="WEBGL_compressed_texture_",d="WEBKIT_"+h;this.compression.ETC1=e.getExtension(h+"etc1")||e.getExtension(d+"etc1"),this.compression.PVRTC=e.getExtension(h+"pvrtc")||e.getExtension(d+"pvrtc"),this.compression.S3TC=e.getExtension(h+"s3tc")||e.getExtension(d+"s3tc"),this.supportedExtensions=l;var p="ANGLE_instanced_arrays";this.instancedArraysExtension=l.indexOf(p)>-1?e.getExtension(p):null;var m="OES_vertex_array_object";this.vaoExtension=l.indexOf(m)>-1?e.getExtension(m):null,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.clearColor(n.redGL,n.greenGL,n.blueGL,n.alphaGL),this.mipmapFilter=e[t.mipmapFilter],this.maxTextures=y.checkShaderMax(e,t.maxTextures),this.textureIndexes=[];var g=this.tempTextures;if(Array.isArray(g))for(var x=0;a<this.maxTextures;x++)e.deleteTexture(g[x]);else g=new Array(this.maxTextures);for(var b=0;b<this.maxTextures;b++){var w=e.createTexture();e.activeTexture(e.TEXTURE0+b),e.bindTexture(e.TEXTURE_2D,w),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),g[b]=w,this.textureIndexes.push(b)}return this.tempTextures=g,this.currentActiveTexture=1,this.startActiveTexture++,e.activeTexture(e.TEXTURE1),this.pipelines=new f(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=(new c).identity(),i.textures.once(v.READY,this.boot,this),this},boot:function(){var t=this.game,e=this.pipelines,i=t.scale.baseSize;this.width=i.width,this.height=i.height,this.isBooted=!0,this.renderTarget=new p(this,this.width,this.height,1,0,!0,!0),e.boot(t.config.pipeline),this.blankTexture=t.textures.getFrame("__DEFAULT"),this.whiteTexture=t.textures.getFrame("__WHITE");var r=this.gl;r.bindFramebuffer(r.FRAMEBUFFER,null),r.enable(r.SCISSOR_TEST),t.scale.on(m.RESIZE,this.onResize,this),this.resize(i.width,i.height)},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},beginCapture:function(t,e){void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.renderTarget.bind(!0,t,e),this.setProjectionMatrix(t,e),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(t,e){var i=this.gl;return this.width=t,this.height=e,this.setProjectionMatrix(t,e),i.viewport(0,0,t,e),this.drawingBufferHeight=i.drawingBufferHeight,i.scissor(0,i.drawingBufferHeight-e,t,e),this.defaultScissor[2]=t,this.defaultScissor[3]=e,this.emit(l.RESIZE,t,e),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(t,e){return t===this.projectionWidth&&e===this.projectionHeight||(this.projectionWidth=t,this.projectionHeight=e,this.projectionMatrix.ortho(0,t,e,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(t){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(t)},getExtension:function(t){return this.hasExtension(t)?(t in this.extensions||(this.extensions[t]=this.gl.getExtension(t)),this.extensions[t]):null},flush:function(){this.pipelines.flush()},pushScissor:function(t,e,i,r,n){void 0===n&&(n=this.drawingBufferHeight);var s=[t,e,i,r];return this.scissorStack.push(s),this.setScissor(t,e,i,r,n),this.currentScissor=s,s},setScissor:function(t,e,i,r,n){void 0===n&&(n=this.drawingBufferHeight);var s=this.gl,o=this.currentScissor,a=i>0&&r>0;if(o&&a){var l=o[0],u=o[1],h=o[2],c=o[3];a=l!==t||u!==e||h!==i||c!==r}a&&(this.flush(),s.scissor(t,n-e-r,i,r))},resetScissor:function(){var t=this.gl;t.enable(t.SCISSOR_TEST);var e=this.currentScissor;if(e){var i=e[0],r=e[1],n=e[2],s=e[3];n>0&&s>0&&t.scissor(i,this.drawingBufferHeight-r-s,n,s)}},popScissor:function(){var t=this.scissorStack;t.pop();var e=t[t.length-1];e&&this.setScissor(e[0],e[1],e[2],e[3]),this.currentScissor=e},hasActiveStencilMask:function(){var t=this.currentMask.mask,e=this.currentCameraMask.mask;return t&&t.isStencil||e&&e.isStencil},resetViewport:function(){var t=this.gl;t.viewport(0,0,this.width,this.height),this.drawingBufferHeight=t.drawingBufferHeight},setBlendMode:function(t,e){void 0===e&&(e=!1);var i=this.gl,r=this.blendModes[t];return!!(e||t!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(r.equation),r.func.length>2?i.blendFuncSeparate(r.func[0],r.func[1],r.func[2],r.func[3]):i.blendFunc(r.func[0],r.func[1]),this.currentBlendMode=t,!0)},addBlendMode:function(t,e){return this.blendModes.push({func:t,equation:e})-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>17&&this.blendModes[t]&&this.blendModes.splice(t,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(t){if(this.pipelines.forceZero())return this.setTextureZero(t.glTexture,!0),0;var e=this.gl,i=this.currentActiveTexture;return t.glIndexCounter<this.startActiveTexture&&(t.glIndexCounter=this.startActiveTexture,i<this.maxTextures?(t.glIndex=i,e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,t.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,t.glIndexCounter=this.startActiveTexture,t.glIndex=1,e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,t.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,t.glIndex},isNewNormalMap:function(t,e){return this.textureZero!==t||this.normalTexture!==e},setTextureZero:function(t,e){if(this.textureZero!==t){e&&this.flush();var i=this.gl;i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t),this.textureZero=t}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(t){if(this.normalTexture!==t){var e=this.gl;e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,t),this.normalTexture=t,1===this.currentActiveTexture&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var t=this.gl,e=this.tempTextures,i=0;i<e.length;i++)t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(t){if(void 0===t&&(t=!1),!this.isTextureClean){this.flush();var e=this.gl,i=this.tempTextures;if(t){for(var r=0;r<i.length;r++)e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,i[r]);e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i[1]),this.isTextureClean=!0}else e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,i[0]),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(t){if(this.pipelines.forceZero())return this.setTextureZero(t,!0),0;var e=this.gl,i=this.currentActiveTexture;return t.glIndexCounter<this.startActiveTexture&&(t.glIndexCounter=this.startActiveTexture,i<this.maxTextures?(t.glIndex=i,e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,t),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,t.glIndexCounter=this.startActiveTexture,t.glIndex=1,e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,t),this.currentActiveTexture=2)),this.isTextureClean=!1,t.glIndex},pushFramebuffer:function(t,e,i,r){return t===this.currentFramebuffer?this:(this.fboStack.push(t),this.setFramebuffer(t,e,i,r))},setFramebuffer:function(t,e,i,r){if(void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r=!0),t===this.currentFramebuffer)return this;var n=this.gl,s=this.width,o=this.height;return t&&t.renderTexture&&r?(s=t.renderTexture.width,o=t.renderTexture.height):this.flush(),n.bindFramebuffer(n.FRAMEBUFFER,t),r&&n.viewport(0,0,s,o),e&&(t?(this.drawingBufferHeight=o,this.pushScissor(0,0,s,o)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=t,i&&this.resetTextures(),this},popFramebuffer:function(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!0);var r=this.fboStack;r.pop();var n=r[r.length-1];return n||(n=null),this.setFramebuffer(n,t,e,i),n},setProgram:function(t){return t!==this.currentProgram&&(this.flush(),this.gl.useProgram(t),this.currentProgram=t,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(t,e,i,r){var n=this.gl,s=n.NEAREST,a=n.NEAREST,l=n.CLAMP_TO_EDGE;e=t?t.width:e,i=t?t.height:i;var u=h(e,i);return u&&(l=n.REPEAT),r===o.ScaleModes.LINEAR&&this.config.antialias&&(s=u?this.mipmapFilter:n.LINEAR,a=n.LINEAR),t||"number"!==typeof e||"number"!==typeof i?this.createTexture2D(0,s,a,l,l,n.RGBA,t):this.createTexture2D(0,s,a,l,l,n.RGBA,null,e,i)},createTexture2D:function(t,e,i,r,n,s,o,a,l,u,c,d){u=void 0===u||null===u||u,void 0===c&&(c=!1),void 0===d&&(d=!1);var f=this.gl,p=f.createTexture();f.activeTexture(f.TEXTURE0);var m=f.getParameter(f.TEXTURE_BINDING_2D);return f.bindTexture(f.TEXTURE_2D,p),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,e),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,i),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,n),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,r),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,d),null===o||void 0===o?f.texImage2D(f.TEXTURE_2D,t,s,a,l,0,s,f.UNSIGNED_BYTE,null):(c||(a=o.width,l=o.height),f.texImage2D(f.TEXTURE_2D,t,s,s,f.UNSIGNED_BYTE,o)),h(a,l)&&f.generateMipmap(f.TEXTURE_2D),m&&f.bindTexture(f.TEXTURE_2D,m),p.isAlphaPremultiplied=u,p.isRenderTexture=!1,p.width=a,p.height=l,p.glIndex=0,p.glIndexCounter=-1,p},createFramebuffer:function(t,e,i,r){var n,s=this.gl,o=s.createFramebuffer();if(this.setFramebuffer(o),r){var a=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,t,e),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,a)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),(n=s.checkFramebufferStatus(s.FRAMEBUFFER))!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[n]);return o.renderTexture=i,this.setFramebuffer(null),this.resetTextures(),o},createProgram:function(t,e){var i=this.gl,r=i.createProgram(),n=i.createShader(i.VERTEX_SHADER),s=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(n,t),i.shaderSource(s,e),i.compileShader(n),i.compileShader(s),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error("Vertex Shader failed:\n"+i.getShaderInfoLog(n));if(!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error("Fragment Shader failed:\n"+i.getShaderInfoLog(s));if(i.attachShader(r,n),i.attachShader(r,s),i.linkProgram(r),!i.getProgramParameter(r,i.LINK_STATUS))throw new Error("Link Program failed:\n"+i.getProgramInfoLog(r));return i.useProgram(r),r},createVertexBuffer:function(t,e){var i=this.gl,r=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,r),i.bufferData(i.ARRAY_BUFFER,t,e),i.bindBuffer(i.ARRAY_BUFFER,null),r},createIndexBuffer:function(t,e){var i=this.gl,r=i.createBuffer();return i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,e),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null),r},deleteTexture:function(t,e){return e&&this.resetTextures(!0),t&&this.gl.deleteTexture(t),this},deleteFramebuffer:function(t){return t&&(this.gl.deleteFramebuffer(t),r(this.fboStack,t),this.currentFramebuffer===t&&(this.currentFramebuffer=null)),this},deleteProgram:function(t){return t&&this.gl.deleteProgram(t),this},deleteBuffer:function(t){return this.gl.deleteBuffer(t),this},preRenderCamera:function(t){var e=t.x,i=t.y,r=t.width,s=t.height,o=t.backgroundColor;t.emit(n.PRE_RENDER,t),this.pipelines.preBatchCamera(t),this.pushScissor(e,i,r,s),t.mask&&(this.currentCameraMask.mask=t.mask,this.currentCameraMask.camera=t._maskCamera,t.mask.preRenderWebGL(this,t,t._maskCamera)),o.alphaGL>0&&this.pipelines.setMulti().drawFillRect(e,i,r,s,y.getTintFromFloats(o.blueGL,o.greenGL,o.redGL,1),o.alphaGL)},getCurrentStencilMask:function(){var t=null,e=this.maskStack,i=this.currentCameraMask;return e.length>0?t=e[e.length-1]:i.mask&&i.mask.isStencil&&(t=i),t},postRenderCamera:function(t){var e=t.flashEffect,i=t.fadeEffect;if(e.isRunning||i.isRunning||i.isComplete){var r=this.pipelines.setMulti();e.postRenderWebGL(r,y.getTintFromFloats),i.postRenderWebGL(r,y.getTintFromFloats)}t.dirty=!1,this.popScissor(),t.mask&&(this.currentCameraMask.mask=null,t.mask.postRenderWebGL(this,t._maskCamera)),this.pipelines.postBatchCamera(t),t.emit(n.POST_RENDER,t)},preRender:function(){if(!this.contextLost){var t=this.gl;if(t.bindFramebuffer(t.FRAMEBUFFER,null),this.config.clearBeforeRender){var e=this.config.backgroundColor;t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}t.enable(t.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(l.PRE_RENDER)}},render:function(t,e,i){if(!this.contextLost){var r=e.length;if(this.emit(l.RENDER,t,i),this.preRenderCamera(i),0===r)return this.setBlendMode(o.BlendModes.NORMAL),void this.postRenderCamera(i);this.currentType="";for(var n=this.currentMask,s=0;s<r;s++){this.finalType=s===r-1;var a=e[s],u=a.mask;(n=this.currentMask).mask&&n.mask!==u&&n.mask.postRenderWebGL(this,n.camera),u&&n.mask!==u&&u.preRenderWebGL(this,a,i),a.blendMode!==this.currentBlendMode&&this.setBlendMode(a.blendMode);var h=a.type;h!==this.currentType&&(this.newType=!0,this.currentType=h),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=e[s+1].type===this.currentType,a.renderWebGL(this,a,i),this.newType=!1}(n=this.currentMask).mask&&n.mask.postRenderWebGL(this,n.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(i)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(l.POST_RENDER);var t=this.snapshotState;t.callback&&(g(this.canvas,t),t.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,t,e,i)},snapshotArea:function(t,e,i,r,n,s,o){var a=this.snapshotState;return a.callback=n,a.type=s,a.encoder=o,a.getPixel=!1,a.x=t,a.y=e,a.width=Math.min(i,this.gl.drawingBufferWidth),a.height=Math.min(r,this.gl.drawingBufferHeight),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(t,e,i,r,n,s,o,a,l,u,h){void 0===n&&(n=!1),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=e),void 0===l&&(l=i);var c=this.currentFramebuffer;this.snapshotArea(s,o,a,l,r,u,h);var d=this.snapshotState;return d.getPixel=n,d.isFramebuffer=!0,d.bufferWidth=e,d.bufferHeight=i,this.setFramebuffer(t),g(this.canvas,d),this.setFramebuffer(c),d.callback=null,d.isFramebuffer=!1,this},canvasToTexture:function(t,e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),e?this.updateCanvasTexture(t,e,r):this.createCanvasTexture(t,i,r)},createCanvasTexture:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=this.gl,n=r.NEAREST,s=r.NEAREST,o=t.width,a=t.height,l=r.CLAMP_TO_EDGE,u=h(o,a);return!e&&u&&(l=r.REPEAT),this.config.antialias&&(n=u?this.mipmapFilter:r.LINEAR,s=r.LINEAR),this.createTexture2D(0,n,s,l,l,r.RGBA,t,o,a,!0,!1,i)},updateCanvasTexture:function(t,e,i){void 0===i&&(i=!1);var r=this.gl,n=t.width,s=t.height;if(n>0&&s>0){r.activeTexture(r.TEXTURE0);var o=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,e),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),e.width=n,e.height=s,o&&r.bindTexture(r.TEXTURE_2D,o)}return e},createVideoTexture:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=this.gl,n=r.NEAREST,s=r.NEAREST,o=t.videoWidth,a=t.videoHeight,l=r.CLAMP_TO_EDGE,u=h(o,a);return!e&&u&&(l=r.REPEAT),this.config.antialias&&(n=u?this.mipmapFilter:r.LINEAR,s=r.LINEAR),this.createTexture2D(0,n,s,l,l,r.RGBA,t,o,a,!0,!0,i)},updateVideoTexture:function(t,e,i){void 0===i&&(i=!1);var r=this.gl,n=t.videoWidth,s=t.videoHeight;if(n>0&&s>0){r.activeTexture(r.TEXTURE0);var o=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,e),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),e.width=n,e.height=s,o&&r.bindTexture(r.TEXTURE_2D,o)}return e},setTextureFilter:function(t,e){var i=this.gl,r=[i.LINEAR,i.NEAREST][e];i.activeTexture(i.TEXTURE0);var n=i.getParameter(i.TEXTURE_BINDING_2D);return i.bindTexture(i.TEXTURE_2D,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,r),n&&i.bindTexture(i.TEXTURE_2D,n),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var t=this.gl,e=this.tempTextures,i=0;i<e.length;i++)t.deleteTexture(e[i]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});t.exports=x},function(t,e,i){var r=i(0),n=i(92),s=i(102),o=i(373),a=i(376),l=i(377),u=i(108),h=i(378),c=i(379),d=i(380),f=i(381),p=new r({initialize:function(t){this.game=t.game,this.renderer=t,this.classes=new s([[n.UTILITY_PIPELINE,f],[n.MULTI_PIPELINE,u],[n.BITMAPMASK_PIPELINE,o],[n.SINGLE_PIPELINE,d],[n.ROPE_PIPELINE,c],[n.LIGHT_PIPELINE,l],[n.POINTLIGHT_PIPELINE,h],[n.GRAPHICS_PIPELINE,a]]),this.postPipelineClasses=new s,this.pipelines=new s,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(t){var e,i,r=this,s=this.game;if(this.classes.each((function(t,i){e=r.add(t,new i({game:s})),t===n.UTILITY_PIPELINE&&(r.UTILITY_PIPELINE=e,r.fullFrame1=e.fullFrame1,r.fullFrame2=e.fullFrame2,r.halfFrame1=e.halfFrame1,r.halfFrame2=e.halfFrame2)})),this.MULTI_PIPELINE=this.get(n.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(n.BITMAPMASK_PIPELINE),t)for(i in t){var o=t[i];(e=new o(s)).isPostFX?this.postPipelineClasses.set(i,o):this.has(i)||(this.classes.set(i,o),this.add(i,e))}},add:function(t,e){if(!e.isPostFX){var i=this.pipelines,r=this.renderer;return i.has(t)?console.warn("Pipeline exists: "+t):(e.name=t,e.manager=this,i.set(t,e)),e.hasBooted||e.boot(),0!==r.width&&0!==r.height&&e.resize(r.width,r.height),e}console.warn(t+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(t,e){this.postPipelineClasses.has(t)||this.postPipelineClasses.set(t,e)},flush:function(){this.current&&this.current.flush()},has:function(t){var e=this.pipelines;return"string"===typeof t?e.has(t):!!e.contains(t)},get:function(t){var e=this.pipelines;return"string"===typeof t?e.get(t):e.contains(t)?t:void 0},getPostPipeline:function(t,e){var i,r=this.postPipelineClasses;if("string"===typeof t?i=r.get(t):"function"===typeof t?r.contains(t)&&(i=t):"object"===typeof t&&(i=r.get(t.name)),i){var n=new i(this.game);return e&&(n.gameObject=e),n}},remove:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this.pipelines.delete(t),e&&this.classes.delete(t),i&&this.postPipelineClasses.delete(t)},set:function(t,e,i){if(!t.isPostFX)return this.isCurrent(t,i)||(this.flush(),this.current&&this.current.unbind(),this.current=t,t.bind(i)),t.updateProjectionMatrix(),t.onBind(e),t},preBatch:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=e.length-1;i>=0;i--){var r=e[i];r.active&&r.preBatch(t)}}},postBatch:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=0;i<e.length;i++){var r=e[i];r.active&&r.postBatch(t)}}},preBatchCamera:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=e.length-1;i>=0;i--){var r=e[i];r.active&&r.preBatch(t)}}},postBatchCamera:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=0;i<e.length;i++){var r=e[i];r.active&&r.postBatch(t)}}},isCurrent:function(t,e){var i=this.renderer,r=this.current;return r&&!e&&(e=r.currentShader),!(r!==t||e.program!==i.currentProgram)},copyFrame:function(t,e,i,r,n){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(t,e,i,r,n),this},copyToGame:function(t){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(t),this},drawFrame:function(t,e,i,r){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(t,e,i,r),this},blendFrames:function(t,e,i,r,n){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(t,e,i,r,n),this},blendFramesAdditive:function(t,e,i,r,n){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(t,e,i,r,n),this},clearFrame:function(t,e){return this.UTILITY_PIPELINE.clearFrame(t,e),this},blitFrame:function(t,e,i,r,n,s){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(t,e,i,r,n,s),this},copyFrameRect:function(t,e,i,r,n,s,o,a){return this.UTILITY_PIPELINE.copyFrameRect(t,e,i,r,n,s,o,a),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(t){return this.UTILITY_PIPELINE.bind(t)},rebind:function(t){void 0===t&&this.previous&&(t=this.previous);var e=this.renderer,i=e.gl;i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),e.hasActiveStencilMask()?i.clear(i.DEPTH_BUFFER_BIT):(i.disable(i.STENCIL_TEST),i.clear(i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT)),i.viewport(0,0,e.width,e.height),e.currentProgram=null,e.setBlendMode(0,!0);var r=this.pipelines.entries;for(var n in r)r[n].glReset=!0;t&&(this.current=t,t.rebind()),e.resetTextures()},clear:function(){var t=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,t.currentProgram=null,t.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});t.exports=p},function(t,e,i){var r=i(0),n=i(2),s=i(866),o=i(867),a=i(107),l=i(58),u=new r({Extends:l,initialize:function(t){t.fragShader=n(t,"fragShader",s),t.vertShader=n(t,"vertShader",o),t.batchSize=n(t,"batchSize",1),t.vertices=n(t,"vertices",[-1,1,-1,-7,7,1]),t.attributes=n(t,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),l.call(this,t)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(t,e){l.prototype.resize.call(this,t,e),this.set2f("uResolution",t,e)},beginMask:function(t,e,i){var r=this.gl;if(t.bitmapMask&&r){var n=this.renderer;n.flush(),n.pushFramebuffer(t.mainFramebuffer),r.disable(r.STENCIL_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.currentCameraMask.mask!==t&&(n.currentMask.mask=t,n.currentMask.camera=i)}},endMask:function(t,e){var i=this.gl,r=this.renderer,n=t.bitmapMask;if(n&&i){r.flush(),r.pushFramebuffer(t.maskFramebuffer),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),r.setBlendMode(0,!0),n.renderWebGL(r,n,e),r.flush(),r.popFramebuffer(),r.popFramebuffer();var s=r.getCurrentStencilMask();s?(i.enable(i.STENCIL_TEST),s.mask.applyStencil(r,s.camera,!0)):r.currentMask.mask=null,r.pipelines.set(this),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,t.maskTexture),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.mainTexture),this.set1i("uInvertMaskAlpha",t.invertAlpha),i.drawArrays(this.topology,0,3),r.resetTextures()}}});t.exports=u},function(t,e,i){t.exports={AFTER_FLUSH:i(868),BEFORE_FLUSH:i(869),BIND:i(870),BOOT:i(871),DESTROY:i(872),REBIND:i(873),RESIZE:i(874)}},function(t,e,i){var r=i(0),n=i(2),s=i(107),o=new r({initialize:function(t,e,i,r,n){this.pipeline=t,this.name=e,this.renderer=t.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(i,r),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(n),this.createUniforms()},createAttributes:function(t){var e=0,i=0,r=[];this.vertexComponentCount=0;for(var o=0;o<t.length;o++){var a=t[o],l=a.name,u=n(a,"size",1),h=n(a,"type",s.FLOAT),c=h.enum,d=h.size,f=!!a.normalized;r.push({name:l,size:u,type:c,normalized:f,offset:i,enabled:!1,location:-1}),4===d?e+=u:e++,i+=u*d}this.vertexSize=i,this.vertexComponentCount=e,this.attributes=r},bind:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),t&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(t){void 0===t&&(t=!1);for(var e=this.gl,i=this.vertexSize,r=this.attributes,n=this.program,s=0;s<r.length;s++){var o=r[s],a=o.size,l=o.type,u=o.offset,h=o.enabled,c=o.location,d=!!o.normalized;if(t){var f=e.getAttribLocation(n,o.name);f>=0?(e.enableVertexAttribArray(f),e.vertexAttribPointer(f,a,l,d,i,u),o.enabled=!0,o.location=f):-1!==f&&e.disableVertexAttribArray(f)}else h?e.vertexAttribPointer(c,a,l,d,i,u):!h&&c>-1&&(e.disableVertexAttribArray(c),o.location=-1)}return this},createUniforms:function(){var t,e,i,r=this.gl,n=this.program,s=this.uniforms,o=r.getProgramParameter(n,r.ACTIVE_UNIFORMS);for(t=0;t<o;t++){var a=r.getActiveUniform(n,t);if(a){e=a.name,null!==(i=r.getUniformLocation(n,e))&&(s[e]={name:e,location:i,value1:null,value2:null,value3:null,value4:null});var l=e.indexOf("[");l>0&&(e=e.substr(0,l),s.hasOwnProperty(e)||null!==(i=r.getUniformLocation(n,e))&&(s[e]={name:e,location:i,value1:null,value2:null,value3:null,value4:null}))}}return this},hasUniform:function(t){return this.uniforms.hasOwnProperty(t)},resetUniform:function(t){var e=this.uniforms[t];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(t,e,i,r){var n=this.uniforms[e];return n?((r||n.value1!==i)&&(n.value1=i,this.renderer.setProgram(this.program),t.call(this.gl,n.location,i),this.pipeline.currentShader=this),this):this},setUniform2:function(t,e,i,r,n){var s=this.uniforms[e];return s?((n||s.value1!==i||s.value2!==r)&&(s.value1=i,s.value2=r,this.renderer.setProgram(this.program),t.call(this.gl,s.location,i,r),this.pipeline.currentShader=this),this):this},setUniform3:function(t,e,i,r,n,s){var o=this.uniforms[e];return o?((s||o.value1!==i||o.value2!==r||o.value3!==n)&&(o.value1=i,o.value2=r,o.value3=n,this.renderer.setProgram(this.program),t.call(this.gl,o.location,i,r,n),this.pipeline.currentShader=this),this):this},setUniform4:function(t,e,i,r,n,s,o){var a=this.uniforms[e];return a?((o||a.value1!==i||a.value2!==r||a.value3!==n||a.value4!==s)&&(a.value1=i,a.value2=r,a.value3=n,a.value4=s,this.renderer.setProgram(this.program),t.call(this.gl,a.location,i,r,n,s),this.pipeline.currentShader=this),this):this},set1f:function(t,e){return this.setUniform1(this.gl.uniform1f,t,e)},set2f:function(t,e,i){return this.setUniform2(this.gl.uniform2f,t,e,i)},set3f:function(t,e,i,r){return this.setUniform3(this.gl.uniform3f,t,e,i,r)},set4f:function(t,e,i,r,n){return this.setUniform4(this.gl.uniform4f,t,e,i,r,n)},set1fv:function(t,e){return this.setUniform1(this.gl.uniform1fv,t,e,!0)},set2fv:function(t,e){return this.setUniform1(this.gl.uniform2fv,t,e,!0)},set3fv:function(t,e){return this.setUniform1(this.gl.uniform3fv,t,e,!0)},set4fv:function(t,e){return this.setUniform1(this.gl.uniform4fv,t,e,!0)},set1iv:function(t,e){return this.setUniform1(this.gl.uniform1iv,t,e,!0)},set2iv:function(t,e){return this.setUniform1(this.gl.uniform2iv,t,e,!0)},set3iv:function(t,e){return this.setUniform1(this.gl.uniform3iv,t,e,!0)},set4iv:function(t,e){return this.setUniform1(this.gl.uniform4iv,t,e,!0)},set1i:function(t,e){return this.setUniform1(this.gl.uniform1i,t,e)},set2i:function(t,e,i){return this.setUniform2(this.gl.uniform2i,t,e,i)},set3i:function(t,e,i,r){return this.setUniform3(this.gl.uniform3i,t,e,i,r)},set4i:function(t,e,i,r,n){return this.setUniform4(this.gl.uniform4i,t,e,i,r,n)},setMatrix2fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,t,e,i,!0)},setMatrix3fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,t,e,i,!0)},setMatrix4fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,t,e,i,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});t.exports=o},function(t,e,i){var r=i(0),n=i(59),s=i(2),o=i(875),a=i(876),l=i(25),u=i(107),h=i(58),c=new r({Extends:h,initialize:function(t){t.fragShader=s(t,"fragShader",o),t.vertShader=s(t,"vertShader",a),t.attributes=s(t,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),h.call(this,t),this.calcMatrix=new l,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(t,e,i,r,n,s){this.renderer.pipelines.set(this);var o=this.calcMatrix;s&&s.multiply(n,o);var a=t+i,l=e+r,u=o.getX(t,e),h=o.getY(t,e),c=o.getX(t,l),d=o.getY(t,l),f=o.getX(a,l),p=o.getY(a,l),m=o.getX(a,e),v=o.getY(a,e),y=this.fillTint;this.batchQuad(u,h,c,d,f,p,m,v,y.TL,y.TR,y.BL,y.BR)},batchFillTriangle:function(t,e,i,r,n,s,o,a){this.renderer.pipelines.set(this);var l=this.calcMatrix;a&&a.multiply(o,l);var u=l.getX(t,e),h=l.getY(t,e),c=l.getX(i,r),d=l.getY(i,r),f=l.getX(n,s),p=l.getY(n,s),m=this.fillTint;this.batchTri(u,h,c,d,f,p,m.TL,m.TR,m.BL)},batchStrokeTriangle:function(t,e,i,r,n,s,o,a,l){var u=this.tempTriangle;u[0].x=t,u[0].y=e,u[0].width=o,u[1].x=i,u[1].y=r,u[1].width=o,u[2].x=n,u[2].y=s,u[2].width=o,u[3].x=t,u[3].y=e,u[3].width=o,this.batchStrokePath(u,o,!1,a,l)},batchFillPath:function(t,e,i){this.renderer.pipelines.set(this);var r=this.calcMatrix;i&&i.multiply(e,r);for(var s,o,a=t.length,l=this.polygonCache,u=this.fillTint.TL,h=this.fillTint.TR,c=this.fillTint.BL,d=0;d<a;++d)o=t[d],l.push(o.x,o.y);a=(s=n(l)).length;for(var f=0;f<a;f+=3){var p=2*s[f+0],m=2*s[f+1],v=2*s[f+2],y=l[p+0],g=l[p+1],x=l[m+0],b=l[m+1],w=l[v+0],_=l[v+1],S=r.getX(y,g),A=r.getY(y,g),T=r.getX(x,b),E=r.getY(x,b),M=r.getX(w,_),C=r.getY(w,_);this.batchTri(S,A,T,E,M,C,u,h,c)}l.length=0},batchStrokePath:function(t,e,i,r,n){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=t.length-1,o=0;o<s;o++){var a=t[o],l=t[o+1];this.batchLine(a.x,a.y,l.x,l.y,a.width/2,l.width/2,e,o,!i&&o===s-1,r,n)}},batchLine:function(t,e,i,r,n,s,o,a,l,u,h){this.renderer.pipelines.set(this);var c=this.calcMatrix;h&&h.multiply(u,c);var d=i-t,f=r-e,p=Math.sqrt(d*d+f*f),m=n*(r-e)/p,v=n*(t-i)/p,y=s*(r-e)/p,g=s*(t-i)/p,x=i-y,b=r-g,w=t-m,_=e-v,S=i+y,A=r+g,T=t+m,E=e+v,M=c.getX(x,b),C=c.getY(x,b),P=c.getX(w,_),R=c.getY(w,_),k=c.getX(S,A),L=c.getY(S,A),O=c.getX(T,E),D=c.getY(T,E),I=this.strokeTint,F=I.TL,j=I.TR,B=I.BL,N=I.BR;if(this.batchQuad(O,D,P,R,M,C,k,L,F,j,B,N),!(o<=2)){var U=this.prevQuad,z=this.firstQuad;a>0&&U[4]?this.batchQuad(O,D,P,R,U[0],U[1],U[2],U[3],F,j,B,N):(z[0]=O,z[1]=D,z[2]=P,z[3]=R,z[4]=1),l&&z[4]?this.batchQuad(M,C,k,L,z[0],z[1],z[2],z[3],F,j,B,N):(U[0]=M,U[1]=C,U[2]=k,U[3]=L,U[4]=1)}},batchVert:function(t,e,i){var r=this.vertexViewF32,n=this.vertexViewU32,s=this.vertexCount*this.currentShader.vertexComponentCount-1;r[++s]=t,r[++s]=e,n[++s]=i,this.vertexCount++},batchQuad:function(t,e,i,r,n,s,o,a,l,u,h,c){var d=!1;return this.shouldFlush(6)&&(this.flush(),d=!0),this.batchVert(t,e,l),this.batchVert(i,r,h),this.batchVert(n,s,c),this.batchVert(t,e,l),this.batchVert(n,s,c),this.batchVert(o,a,u),d},batchTri:function(t,e,i,r,n,s,o,a,l){var u=!1;return this.shouldFlush(3)&&(this.flush(),u=!0),this.batchVert(t,e,o),this.batchVert(i,r,a),this.batchVert(n,s,l),u},destroy:function(){return h.prototype.destroy.call(this),this.polygonCache=null,this}});t.exports=c},function(t,e,i){var r=i(0),n=i(2),s=i(877),o=i(108),a=i(3),l=i(58),u=10,h=new a,c=new r({Extends:o,initialize:function(t){u=t.game.renderer.config.maxLights;for(var e=n(t,"fragShader",s),i=[],r=1;r<=u;r++)i.push({name:"lights"+r,fragShader:e.replace("%LIGHT_COUNT%",r.toString())});t.shaders=i,o.call(this,t),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){l.prototype.boot.call(this);var t=this.gl,e=t.createTexture();t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:e};for(var i=0;i<this.shaders.length;i++)this["lightShader"+(i+1)]=this.shaders[i]},onRender:function(t,e){var i=t.sys.lights;if(this.lightsActive=!1,i&&i.active){var r=i.getLights(e),n=r.length;if(0!==n){var s;this.lightsActive=!0,this.setShader(this["lightShader"+n],!0);var o=this.renderer.height,a=e.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",e.x,e.y,e.rotation,e.zoom),this.set3f("uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),s=0;s<n;s++){var l=r[s].light,u=l.color,c="uLights["+s+"].";a.transformPoint(l.x,l.y,h),this.set2f(c+"position",h.x-e.scrollX*l.scrollFactorX*e.zoom,o-(h.y-e.scrollY*l.scrollFactorY*e.zoom)),this.set3f(c+"color",u.r,u.g,u.b),this.set1f(c+"intensity",l.intensity),this.set1f(c+"radius",l.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(t){if(t!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var e=this.inverseRotationMatrix;if(t){var i=-t,r=Math.cos(i),n=Math.sin(i);e[1]=n,e[3]=-n,e[0]=e[4]=r}else e[0]=e[4]=1,e[1]=e[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,e),this.currentNormalMapRotation=t}},setTexture2D:function(t,e){var i=this.renderer;void 0===t&&(t=i.tempTextures[0]);var r=this.getNormalMap(e);i.isNewNormalMap(t,r)&&(this.flush(),i.setTextureZero(t),i.setNormalMap(r));var n=e?e.rotation:0;return this.setNormalMapRotation(n),this.currentUnit=0,0},setGameObject:function(t,e){void 0===e&&(e=t.frame);var i=this.renderer,r=e.glTexture,n=this.getNormalMap(t);return i.isNewNormalMap()&&(this.flush(),i.setTextureZero(r),i.setNormalMap(n)),this.setNormalMapRotation(t.rotation),this.currentUnit=0,0},getNormalMap:function(t){var e;return t?t.displayTexture?e=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?e=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(e=Array.isArray(t.tileset)?t.tileset[0].image.dataSource[0]:t.tileset.image.dataSource[0]):e=this.defaultNormalMap,e||(e=this.defaultNormalMap),e.glTexture},batchSprite:function(t,e,i){this.lightsActive&&o.prototype.batchSprite.call(this,t,e,i)},batchTexture:function(t,e,i,r,n,s,a,l,u,h,c,d,f,p,m,v,y,g,x,b,w,_,S,A,T,E,M,C,P,R,k,L){this.lightsActive&&o.prototype.batchTexture.call(this,t,e,i,r,n,s,a,l,u,h,c,d,f,p,m,v,y,g,x,b,w,_,S,A,T,E,M,C,P,R,k,L)},batchTextureFrame:function(t,e,i,r,n,s,a){this.lightsActive&&o.prototype.batchTextureFrame.call(this,t,e,i,r,n,s,a)}});c.LIGHT_COUNT=u,t.exports=c},function(t,e,i){var r=i(0),n=i(2),s=i(880),o=i(881),a=i(58),l=new r({Extends:a,initialize:function(t){t.vertShader=n(t,"vertShader",o),t.fragShader=n(t,"fragShader",s),t.attributes=n(t,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,t)},onRender:function(t,e){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",e.zoom)},batchPointLight:function(t,e,i,r,n,s,o,a,l,u,h,c){var d=t.color,f=t.intensity,p=t.radius,m=t.attenuation,v=d.r*f,y=d.g*f,g=d.b*f,x=e.alpha*t.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(i,r,h,c,p,m,v,y,g,x),this.batchLightVert(n,s,h,c,p,m,v,y,g,x),this.batchLightVert(o,a,h,c,p,m,v,y,g,x),this.batchLightVert(i,r,h,c,p,m,v,y,g,x),this.batchLightVert(o,a,h,c,p,m,v,y,g,x),this.batchLightVert(l,u,h,c,p,m,v,y,g,x)},batchLightVert:function(t,e,i,r,n,s,o,a,l,u){var h=this.vertexViewF32,c=this.vertexCount*this.currentShader.vertexComponentCount-1;h[++c]=t,h[++c]=e,h[++c]=i,h[++c]=r,h[++c]=n,h[++c]=s,h[++c]=o,h[++c]=a,h[++c]=l,h[++c]=u,this.vertexCount++}});t.exports=l},function(t,e,i){var r=i(0),n=i(2),s=i(108),o=new r({Extends:s,initialize:function(t){t.topology=5,t.batchSize=n(t,"batchSize",256),s.call(this,t)}});t.exports=o},function(t,e,i){var r=i(0),n=i(2),s=i(108),o=i(882),a=i(883),l=i(58),u=new r({Extends:s,initialize:function(t){t.fragShader=n(t,"fragShader",o),t.vertShader=n(t,"vertShader",a),t.forceZero=!0,s.call(this,t)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0)}});t.exports=u},function(t,e,i){var r=i(884),n=i(35),s=i(0),o=i(198),a=i(885),l=i(886),u=i(2),h=i(887),c=i(382),d=i(58),f=new s({Extends:d,initialize:function(t){t.renderTarget=u(t,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),t.vertShader=u(t,"vertShader",c),t.shaders=u(t,"shaders",[{name:"Copy",fragShader:l},{name:"AddBlend",fragShader:r},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:a}]),t.attributes=u(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),t.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],t.batchSize=1,d.call(this,t),this.colorMatrix=new o,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var t=this.shaders,e=this.renderTargets;this.copyShader=t[0],this.addShader=t[1],this.linearShader=t[2],this.colorMatrixShader=t[3],this.fullFrame1=e[0],this.fullFrame2=e[1],this.halfFrame1=e[2],this.halfFrame2=e[3]},copyFrame:function(t,e,i,r,n){void 0===i&&(i=1),void 0===r&&(r=!0),void 0===n&&(n=!0);var s=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t.texture),e?(s.viewport(0,0,e.width,e.height),s.bindFramebuffer(s.FRAMEBUFFER,e.framebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e.texture,0)):s.viewport(0,0,t.width,t.height),r&&(n?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT)),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindTexture(s.TEXTURE_2D,null)},blitFrame:function(t,e,i,r,s,o){void 0===i&&(i=1),void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!1);var a=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,t.texture),t.height>e.height)a.viewport(0,0,t.width,t.height),this.setTargetUVs(t,e);else{var l=e.height-t.height;a.viewport(0,l,t.width,t.height)}if(a.bindFramebuffer(a.FRAMEBUFFER,e.framebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e.texture,0),r&&(s?a.clearColor(0,0,0,0):a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT)),o){var u=this.renderer.currentBlendMode;this.renderer.setBlendMode(n.ERASE)}a.bufferData(a.ARRAY_BUFFER,this.vertexData,a.STATIC_DRAW),a.drawArrays(a.TRIANGLES,0,6),o&&this.renderer.setBlendMode(u),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindTexture(a.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(t,e,i,r,n,s,o,a){void 0===o&&(o=!0),void 0===a&&(a=!0);var l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,t.framebuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,t.texture,0),o&&(a?l.clearColor(0,0,0,0):l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT)),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e.texture),l.copyTexSubImage2D(l.TEXTURE_2D,0,0,0,i,r,n,s),l.bindFramebuffer(l.FRAMEBUFFER,null),l.bindTexture(l.TEXTURE_2D,null)},copyToGame:function(t){var e=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t.texture),e.bufferData(e.ARRAY_BUFFER,this.vertexData,e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(t,e,i,r){void 0===i&&(i=!0),void 0===r&&(r=this.colorMatrix);var n=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",r.getData()),this.set1f("uAlpha",r.alpha),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.texture),e?(n.viewport(0,0,e.width,e.height),n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.texture,0)):n.viewport(0,0,t.width,t.height),i?n.clearColor(0,0,0,0):n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW),n.drawArrays(n.TRIANGLES,0,6),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindTexture(n.TEXTURE_2D,null)},blendFrames:function(t,e,i,r,n,s){void 0===r&&(r=1),void 0===n&&(n=!0),void 0===s&&(s=this.linearShader);var o=this.gl;this.setShader(s),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",r),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,e.texture),i?(o.bindFramebuffer(o.FRAMEBUFFER,i.framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,i.texture,0),o.viewport(0,0,i.width,i.height)):o.viewport(0,0,t.width,t.height),n?o.clearColor(0,0,0,0):o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT),o.bufferData(o.ARRAY_BUFFER,this.vertexData,o.STATIC_DRAW),o.drawArrays(o.TRIANGLES,0,6),o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindTexture(o.TEXTURE_2D,null)},blendFramesAdditive:function(t,e,i,r,n){this.blendFrames(t,e,i,r,n,this.addShader)},clearFrame:function(t,e){void 0===e&&(e=!0);var i=this.gl;i.viewport(0,0,t.width,t.height),i.bindFramebuffer(i.FRAMEBUFFER,t.framebuffer),e?i.clearColor(0,0,0,0):i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT);var r=this.renderer.currentFramebuffer;i.bindFramebuffer(i.FRAMEBUFFER,r)},setUVs:function(t,e,i,r,n,s,o,a){var l=this.vertexViewF32;l[2]=t,l[3]=e,l[6]=i,l[7]=r,l[10]=n,l[11]=s,l[14]=t,l[15]=e,l[18]=n,l[19]=s,l[22]=o,l[23]=a},setTargetUVs:function(t,e){var i=e.height/t.height;i=i>.5?.5-(i-.5):.5-i+.5,this.setUVs(0,i,0,1+i,1,1+i,1,i)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});t.exports=f},function(t,e){t.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join("\n")},function(t,e,i){var r=i(31),n=i(38),s=i(2);t.exports=function(t,e){var i=t.getContext("experimental-webgl"),o=s(e,"callback"),a=s(e,"type","image/png"),l=s(e,"encoder",.92),u=s(e,"x",0),h=s(e,"y",0),c=s(e,"getPixel",!1),d=s(e,"isFramebuffer",!1),f=d?s(e,"bufferWidth",1):i.drawingBufferWidth,p=d?s(e,"bufferHeight",1):i.drawingBufferHeight;if(c){var m=new Uint8Array(4),v=d?h:p-h;i.readPixels(u,v,1,1,i.RGBA,i.UNSIGNED_BYTE,m),o.call(null,new n(m[0],m[1],m[2],m[3]/255))}else{var y=s(e,"width",f),g=s(e,"height",p),x=new Uint8Array(y*g*4);i.readPixels(u,p-h-g,y,g,i.RGBA,i.UNSIGNED_BYTE,x);for(var b=r.createWebGL(this,y,g),w=b.getContext("2d"),_=w.getImageData(0,0,y,g),S=_.data,A=0;A<g;A++)for(var T=0;T<y;T++){var E=4*((g-A-1)*y+T),M=4*(A*y+T);S[M+0]=x[E+0],S[M+1]=x[E+1],S[M+2]=x[E+2],S[M+3]=x[E+3]}w.putImageData(_,0,0);var C=new Image;C.onerror=function(){o.call(null),r.remove(b)},C.onload=function(){o.call(null,C),r.remove(b)},C.src=b.toDataURL(a,l)}}},function(t,e,i){var r=i(33);t.exports=function(t){var e=t.config;if(!e.hideBanner){var i="WebGL";e.renderType===r.CANVAS?i="Canvas":e.renderType===r.HEADLESS&&(i="Headless");var n,s=e.audio,o=t.device.audio;if(n=o.webAudio&&!s.disableWebAudio?"Web Audio":s.noAudio||!o.webAudio&&!o.audioData?"No Audio":"HTML5 Audio",t.device.browser.ie)window.console&&console.log("Phaser v"+r.VERSION+" / https://phaser.io");else{var a,l="",u=[l];Array.isArray(e.bannerBackgroundColor)?(e.bannerBackgroundColor.forEach((function(t){l=l.concat("%c "),u.push("background: "+t),a=t})),u[u.length-1]="color: "+e.bannerTextColor+"; background: "+a):(l=l.concat("%c "),u.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor)),u.push("background: transparent"),e.gameTitle&&(l=l.concat(e.gameTitle),e.gameVersion&&(l=l.concat(" v"+e.gameVersion)),e.hidePhaser||(l=l.concat(" / "))),e.hidePhaser||(l=l.concat("Phaser v"+r.VERSION+" ("+i+" | "+n+")")),l=l.concat(" %c "+e.gameURL),u[0]=l,console.log.apply(console,u)}}}},function(t,e,i){var r=i(0),n=i(6),s=i(1),o=i(386),a=new r({initialize:function(t,e){this.game=t,this.raf=new o,this.started=!1,this.running=!1,this.minFps=n(e,"min",5),this.targetFps=n(e,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=n(e,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=n(e,"deltaHistory",10),this.panicMax=n(e,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=n(e,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var t=window.performance.now();this.now=t;var e=t-this.lastTime;e<0&&(e=0),this.rawDelta=e;var i=this.deltaIndex,r=this.deltaHistory,n=this.deltaSmoothingMax,s=e,o=e;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=r[i],s=Math.min(s,this._min)),r[i]=s,this.deltaIndex++,this.deltaIndex>n&&(this.deltaIndex=0),o=0;for(var a=0;a<n;a++)o+=r[a];o/=n}this.delta=o,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var l=o/this._target;this.callback(t,o,l),this.lastTime=t,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running||(t&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});t.exports=a},function(t,e,i){var r=i(0),n=i(1),s=new r({initialize:function(){this.isRunning=!1,this.callback=n,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var t=this;this.step=function e(){var i=window.performance.now();t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.requestAnimationFrame(e)},this.stepTimeout=function e(){var i=Date.now(),r=Math.min(Math.max(2*t.target+t.tick-i,0),t.target);t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.setTimeout(e,r)}},start:function(t,e,i){this.isRunning||(this.callback=t,this.isSetTimeOut=e,this.target=i,this.isRunning=!0,this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=n}});t.exports=s},function(t,e,i){var r=i(22);t.exports=function(t){var e,i=t.events;void 0!==document.hidden?e="visibilitychange":["webkit","moz","ms"].forEach((function(t){void 0!==document[t+"Hidden"]&&(document.hidden=function(){return document[t+"Hidden"]},e=t+"visibilitychange")})),e&&document.addEventListener(e,(function(t){document.hidden||"pause"===t.type?i.emit(r.HIDDEN):i.emit(r.VISIBLE)}),!1),window.onblur=function(){i.emit(r.BLUR)},window.onfocus=function(){i.emit(r.FOCUS)},window.focus&&t.config.autoFocus&&window.focus()}},function(t,e,i){var r=i(389),n=i(31),s=i(6);t.exports=function(t){var e=s(t,"data",[]),i=s(t,"canvas",null),o=s(t,"palette",r),a=s(t,"pixelWidth",1),l=s(t,"pixelHeight",a),u=s(t,"resizeCanvas",!0),h=s(t,"clearCanvas",!0),c=s(t,"preRender",null),d=s(t,"postRender",null),f=Math.floor(Math.abs(e[0].length*a)),p=Math.floor(Math.abs(e.length*l));i||(i=n.create2D(this,f,p),u=!1,h=!1),u&&(i.width=f,i.height=p);var m=i.getContext("2d");h&&m.clearRect(0,0,f,p),c&&c(i,m);for(var v=0;v<e.length;v++)for(var y=e[v],g=0;g<y.length;g++){var x=y[g];"."!==x&&" "!==x&&(m.fillStyle=o[x],m.fillRect(g*a,v*l,a,l))}return d&&d(i,m),i}},function(t,e){t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(t,e,i){var r=i(0),n=i(358),s=i(94),o=i(3),a=new r({Extends:s,initialize:function(t,e,i,r){s.call(this,"CubicBezierCurve"),Array.isArray(t)&&(r=new o(t[6],t[7]),i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i,this.p3=r},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.p0,r=this.p1,s=this.p2,a=this.p3;return e.set(n(t,i.x,r.x,s.x,a.x),n(t,i.y,r.y,s.y,a.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++)t.lineTo(i[r].x,i[r].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),r=new o(e[2],e[3]),n=new o(e[4],e[5]),s=new o(e[6],e[7]);return new a(i,r,n,s)},t.exports=a},function(t,e,i){var r=i(0),n=i(94),s=i(36),o=i(6),a=i(196),l=i(3),u=new r({Extends:n,initialize:function(t,e,i,r,a,u,h,c){if("object"===typeof t){var d=t;t=o(d,"x",0),e=o(d,"y",0),i=o(d,"xRadius",0),r=o(d,"yRadius",i),a=o(d,"startAngle",0),u=o(d,"endAngle",360),h=o(d,"clockwise",!1),c=o(d,"rotation",0)}else void 0===r&&(r=i),void 0===a&&(a=0),void 0===u&&(u=360),void 0===h&&(h=!1),void 0===c&&(c=0);n.call(this,"EllipseCurve"),this.p0=new l(t,e),this._xRadius=i,this._yRadius=r,this._startAngle=s(a),this._endAngle=s(u),this._clockwise=h,this._rotation=s(c)},getStartPoint:function(t){return void 0===t&&(t=new l),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,e){void 0===e&&(e=new l);for(var i=2*Math.PI,r=this._endAngle-this._startAngle,n=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=n?0:i),this._clockwise&&!n&&(r===i?r=-i:r-=i);var s=this._startAngle+t*r,o=this.p0.x+this._xRadius*Math.cos(s),a=this.p0.y+this._yRadius*Math.sin(s);if(0!==this._rotation){var u=Math.cos(this._rotation),h=Math.sin(this._rotation),c=o-this.p0.x,d=a-this.p0.y;o=c*u-d*h+this.p0.x,a=c*h+d*u+this.p0.y}return e.set(o,a)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=t/2,this},setHeight:function(t){return this.yRadius=t/2,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return a(this._startAngle)},set:function(t){this._startAngle=s(t)}},endAngle:{get:function(){return a(this._endAngle)},set:function(t){this._endAngle=s(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return a(this._rotation)},set:function(t){this._rotation=s(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});u.fromJSON=function(t){return new u(t)},t.exports=u},function(t,e,i){var r=i(0),n=i(94),s=i(199),o=i(10),a=i(3),l=new r({Extends:n,initialize:function(t,e){n.call(this,"LineCurve"),Array.isArray(t)&&(e=new a(t[2],t[3]),t=new a(t[0],t[1])),this.p0=t,this.p1=e,this.arcLengthDivisions=1},getBounds:function(t){return void 0===t&&(t=new o),s([this.p0,this.p1],t)},getStartPoint:function(t){return void 0===t&&(t=new a),t.copy(this.p0)},getResolution:function(t){return void 0===t&&(t=1),t},getPoint:function(t,e){return void 0===e&&(e=new a),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(t,e){return void 0===e&&(e=new a),e.copy(this.p1).subtract(this.p0).normalize(),e},getUtoTmapping:function(t,e,i){var r;if(e){var n=this.getLengths(i),s=n[n.length-1];r=Math.min(e,s)/s}else r=t;return r},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});l.fromJSON=function(t){var e=t.points,i=new a(e[0],e[1]),r=new a(e[2],e[3]);return new l(i,r)},t.exports=l},function(t,e,i){var r=i(0),n=i(3),s=new r({initialize:function(t,e){this.active=!1,this.p0=new n(t,e)},getPoint:function(t,e){return void 0===e&&(e=new n),e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});t.exports=s},function(t,e,i){var r=i(0),n=i(94),s=i(359),o=i(3),a=new r({Extends:n,initialize:function(t,e,i){n.call(this,"QuadraticBezier"),Array.isArray(t)&&(i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.p0,r=this.p1,n=this.p2;return e.set(s(t,i.x,r.x,n.x),s(t,i.y,r.y,n.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++)t.lineTo(i[r].x,i[r].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),r=new o(e[2],e[3]),n=new o(e[4],e[5]);return new a(i,r,n)},t.exports=a},function(t,e,i){var r=i(194),n=i(0),s=i(94),o=i(3),a=new n({Extends:s,initialize:function(t){void 0===t&&(t=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){for(var e=0;e<t.length;e++){var i=new o;"number"===typeof t[e]?(i.x=t[e],i.y=t[e+1],e++):Array.isArray(t[e])?(i.x=t[e][0],i.y=t[e][1]):(i.x=t[e].x,i.y=t[e].y),this.points.push(i)}return this},addPoint:function(t,e){var i=new o(t,e);return this.points.push(i),i},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.points,n=(i.length-1)*t,s=Math.floor(n),a=n-s,l=i[0===s?s:s-1],u=i[s],h=i[s>i.length-2?i.length-1:s+1],c=i[s>i.length-3?i.length-1:s+2];return e.set(r(a,l.x,u.x,h.x,c.x),r(a,l.y,u.y,h.y,c.y))},toJSON:function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].x),t.push(this.points[e].y);return{type:this.type,points:t}}});a.fromJSON=function(t){return new a(t.points)},t.exports=a},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r){e&&""!==e||(e=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),i&&""!==i||(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===r&&(r=null),this.key=t,this.fragmentSrc=e,this.vertexSrc=i,this.uniforms=r}});t.exports=r},function(t,e,i){var r=i(38);r.ColorSpectrum=i(909),r.ColorToRGBA=i(910),r.ComponentToHex=i(398),r.GetColor=i(103),r.GetColor32=i(328),r.HexStringToColor=i(327),r.HSLToColor=i(911),r.HSVColorWheel=i(912),r.HSVToRGB=i(188),r.HueToComponent=i(399),r.IntegerToColor=i(189),r.IntegerToRGB=i(330),r.Interpolate=i(913),r.ObjectToColor=i(331),r.RandomRGB=i(914),r.RGBStringToColor=i(332),r.RGBToHSV=i(329),r.RGBToString=i(915),r.ValueToColor=i(187),t.exports=r},function(t,e){t.exports=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e}},function(t,e){t.exports=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}},function(t,e,i){var r=i(105);t.exports=function(t){if("complete"!==document.readyState&&"interactive"!==document.readyState){var e=function e(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?r.cordova?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)}else t()}},function(t,e){t.exports=function(t){if(!t)return window.innerHeight;var e=Math.abs(window.orientation),i={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),i.w=90===e?r.offsetHeight:window.innerWidth,i.h=90===e?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,90!==Math.abs(window.orientation)?i.h:i.w}},function(t,e,i){var r=i(201);t.exports=function(t,e){var i=window.screen,n=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);return n&&"string"===typeof n.type?n.type:"string"===typeof n?n:"number"===typeof window.orientation?0===window.orientation||180===window.orientation?r.ORIENTATION.PORTRAIT:r.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?r.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?r.ORIENTATION.LANDSCAPE:void 0:e>t?r.ORIENTATION.PORTRAIT:r.ORIENTATION.LANDSCAPE}},function(t,e){t.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(t,e){t.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(t,e){t.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(t,e){t.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(t,e){t.exports=function(t){var e;return""!==t&&("string"===typeof t?e=document.getElementById(t):t&&1===t.nodeType&&(e=t)),e||(e=document.body),e}},function(t,e){t.exports=function(t){var e="";try{window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):(e=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(i){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null}},function(t,e,i){var r=i(0),n=i(203),s=i(9),o=i(51),a=i(22),l=i(410),u=i(411),h=i(412),c=i(413),d=i(25),f=i(177),p=new r({initialize:function(t,e){this.game=t,this.scaleManager,this.canvas,this.config=e,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=e.inputKeyboard?new l(this):null,this.mouse=e.inputMouse?new u(this):null,this.touch=e.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers,e.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var i=0;i<=this.pointersTotal;i++){var r=new h(this,i);r.smoothFactor=e.inputSmoothFactor,this.pointers.push(r)}this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],t.events.once(a.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(o.MANAGER_BOOT),this.game.events.on(a.PRE_RENDER,this.preRender,this),this.game.events.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=!0,this.events.emit(o.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=!1,this.events.emit(o.GAME_OUT,t)},preRender:function(){var t=this.game.loop.now,e=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=t,this.events.emit(o.MANAGER_UPDATE);for(var r=0;r<i.length;r++){var n=i[r];if(n.sys.input&&n.sys.input.updatePoll(t,e)&&this.globalTopOnly)return}},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this.canvas.style.cursor=t.cursor)},resetCursor:function(t){t.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(t){void 0===t&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var i=0;i<t;i++){var r=this.pointers.length,n=new h(this,r);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,e.push(n)}return e},updateInputPlugins:function(t,e){var i=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var r=0;r<i.length;r++){var n=i[r];if(n.sys.input&&(n.sys.input.update(t,e)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(t){for(var e=this.pointers,i=[],r=0;r<t.changedTouches.length;r++)for(var s=t.changedTouches[r],o=1;o<this.pointersTotal;o++){var a=e[o];if(!a.active){a.touchstart(s,t),this.activePointer=a,i.push(a);break}}this.updateInputPlugins(n.TOUCH_START,i)},onTouchMove:function(t){for(var e=this.pointers,i=[],r=0;r<t.changedTouches.length;r++)for(var s=t.changedTouches[r],o=1;o<this.pointersTotal;o++){var a=e[o];if(a.active&&a.identifier===s.identifier){a.touchmove(s,t),this.activePointer=a,i.push(a);break}}this.updateInputPlugins(n.TOUCH_MOVE,i)},onTouchEnd:function(t){for(var e=this.pointers,i=[],r=0;r<t.changedTouches.length;r++)for(var s=t.changedTouches[r],o=1;o<this.pointersTotal;o++){var a=e[o];if(a.active&&a.identifier===s.identifier){a.touchend(s,t),i.push(a);break}}this.updateInputPlugins(n.TOUCH_END,i)},onTouchCancel:function(t){for(var e=this.pointers,i=[],r=0;r<t.changedTouches.length;r++)for(var s=t.changedTouches[r],o=1;o<this.pointersTotal;o++){var a=e[o];if(a.active&&a.identifier===s.identifier){a.touchcancel(s,t),i.push(a);break}}this.updateInputPlugins(n.TOUCH_CANCEL,i)},onMouseDown:function(t){var e=this.mousePointer;e.down(t),e.updateMotion(),this.activePointer=e,this.updateInputPlugins(n.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(t){var e=this.mousePointer;e.move(t),e.updateMotion(),this.activePointer=e,this.updateInputPlugins(n.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(t){var e=this.mousePointer;e.up(t),e.updateMotion(),this.activePointer=e,this.updateInputPlugins(n.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(t){var e=this.mousePointer;e.wheel(t),this.activePointer=e,this.updateInputPlugins(n.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(t){var e=this.mouse.locked;this.mousePointer.locked=e,this.events.emit(o.POINTERLOCK_CHANGE,t,e)},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!i.alwaysEnabled&&!t.willRender(e))return!1;var r=!0,n=t.parentContainer;if(n)do{if(!n.willRender(e)){r=!1;break}n=n.parentContainer}while(n);return r},hitTest:function(t,e,i,r){void 0===r&&(r=this._tempHitTest);var n=this._tempPoint,s=i.scrollX,o=i.scrollY;r.length=0;var a=t.x,l=t.y;i.getWorldPoint(a,l,n),t.worldX=n.x,t.worldY=n.y;for(var u={x:0,y:0},h=this._tempMatrix,c=this._tempMatrix2,d=0;d<e.length;d++){var p=e[d];if(this.inputCandidate(p,i)){var m=n.x+s*p.scrollFactorX-s,v=n.y+o*p.scrollFactorY-o;p.parentContainer?(p.getWorldTransformMatrix(h,c),h.applyInverse(m,v,u)):f(m,v,p.x,p.y,p.rotation,p.scaleX,p.scaleY,u),this.pointWithinHitArea(p,u.x,u.y)&&r.push(p)}}return r},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var r=t.input;return!(!r||!r.hitAreaCallback(r.hitArea,e,i,t))&&(r.localX=e,r.localY=i,!0)},pointWithinInteractiveObject:function(t,e,i){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t))},transformPointer:function(t,e,i,r){var n=t.position,s=t.prevPosition;s.x=n.x,s.y=n.y;var o=this.scaleManager.transformX(e),a=this.scaleManager.transformY(i),l=t.smoothFactor;r&&0!==l?(n.x=o*l+s.x*(1-l),n.y=a*l+s.y*(1-l)):(n.x=o,n.y=a)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});t.exports=p},function(t,e,i){var r=i(93),n=i(0),s=i(22),o=i(51),a=i(143),l=i(1),u=new n({initialize:function(t){this.manager=t,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=l,this.onKeyUp=l,t.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputKeyboard,this.target=t.inputKeyboardEventTarget,this.addCapture(t.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var t=this;this.onKeyDown=function(e){if(!e.defaultPrevented&&t.enabled&&t.manager){t.queue.push(e),t.manager.events.emit(o.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1&&e.preventDefault()}},this.onKeyUp=function(e){if(!e.defaultPrevented&&t.enabled&&t.manager){t.queue.push(e),t.manager.events.emit(o.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1&&e.preventDefault()}};var e=this.target;e&&(e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var t=this.target;t.removeEventListener("keydown",this.onKeyDown,!1),t.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(t){"string"===typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var e=this.captures,i=0;i<t.length;i++){var r=t[i];"string"===typeof r&&(r=a[r.trim().toUpperCase()]),-1===e.indexOf(r)&&e.push(r)}this.preventDefault=e.length>0},removeCapture:function(t){"string"===typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var e=this.captures,i=0;i<t.length;i++){var n=t[i];"string"===typeof n&&(n=a[n.toUpperCase()]),r(e,n)}this.preventDefault=e.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});t.exports=u},function(t,e,i){var r=i(0),n=i(191),s=i(51),o=i(1),a=new r({initialize:function(t){this.manager=t,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,this.isTop=!0,t.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.passive=t.inputMousePassive,this.preventDefaultDown=t.inputMousePreventDefaultDown,this.preventDefaultUp=t.inputMousePreventDefaultUp,this.preventDefaultMove=t.inputMousePreventDefaultMove,this.preventDefaultWheel=t.inputMousePreventDefaultWheel,this.target?"string"===typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),this},requestPointerLock:function(){if(n.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){n.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t=this.target;if(t){var e=this,i=this.manager,r=i.canvas,s=window&&window.focus&&i.game.config.autoFocus;this.onMouseMove=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onMouseMove(t),e.preventDefaultMove&&t.preventDefault())},this.onMouseDown=function(t){s&&window.focus(),!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onMouseDown(t),e.preventDefaultDown&&t.target===r&&t.preventDefault())},this.onMouseDownWindow=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==r&&i.onMouseDown(t)},this.onMouseUp=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onMouseUp(t),e.preventDefaultUp&&t.target===r&&t.preventDefault())},this.onMouseUpWindow=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==r&&i.onMouseUp(t)},this.onMouseOver=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.setCanvasOver(t)},this.onMouseOut=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.setCanvasOut(t)},this.onMouseWheel=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onMouseWheel(t),e.preventDefaultWheel&&t.target===r&&t.preventDefault()};var o={passive:!0};if(t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseup",this.onMouseUp),t.addEventListener("mouseover",this.onMouseOver,o),t.addEventListener("mouseout",this.onMouseOut,o),this.preventDefaultWheel?t.addEventListener("wheel",this.onMouseWheel,{passive:!1}):t.addEventListener("wheel",this.onMouseWheel,o),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,o),window.top.addEventListener("mouseup",this.onMouseUpWindow,o)}catch(a){window.addEventListener("mousedown",this.onMouseDownWindow,o),window.addEventListener("mouseup",this.onMouseUpWindow,o),this.isTop=!1}n.pointerLock&&(this.pointerLockChange=function(t){var r=e.target;e.locked=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r,i.onPointerLockChange(t)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mouseover",this.onMouseOver),t.removeEventListener("mouseout",this.onMouseOut),window&&((t=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),t.removeEventListener("mouseup",this.onMouseUpWindow)),n.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=a},function(t,e,i){var r=i(349),n=i(0),s=i(50),o=i(124),a=i(360),l=i(3),u=i(105),h=new n({initialize:function(t,e){this.manager=t,this.id=e,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new l,this.prevPosition=new l,this.midPoint=new l(-1,-1),this.velocity=new l,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===e,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(t){var e=t.getWorldPoint(this.x,this.y);return this.worldX=e.x,this.worldY=e.y,this},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},updateMotion:function(){var t=this.position.x,e=this.position.y,i=this.midPoint.x,n=this.midPoint.y;if(t!==i||e!==n){var s=a(this.motionFactor,i,t),l=a(this.motionFactor,n,e);o(s,t,.1)&&(s=t),o(l,e,.1)&&(l=e),this.midPoint.set(s,l);var u=t-s,h=e-l;this.velocity.set(u,h),this.angle=r(s,l,t,e),this.distance=Math.sqrt(u*u+h*h)}},up:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=t.timeStamp,this.wasTouch=!1)},down:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&t.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=t.timeStamp),this.wasTouch=!1},move:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.locked&&(this.movementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.moveTime=t.timeStamp,this.wasTouch=!1},wheel:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaZ=t.deltaZ,this.wasTouch=!1},touchstart:function(t,e){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=e,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(t,e){this.event=e,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.moveTime=e.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(t,e){this.buttons=0,this.event=e,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(t,e){this.buttons=0,this.event=e,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?r(this.downX,this.downY,this.x,this.y):r(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(t,e){void 0===t&&(t=10),void 0===e&&(e=[]);for(var i=this.prevPosition.x,r=this.prevPosition.y,n=this.position.x,s=this.position.y,o=0;o<t;o++){var l=1/t*o;e[o]={x:a(l,i,n),y:a(l,r,s)}}return e},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},time:{get:function(){return this.event?this.event.timeStamp:0}}});t.exports=h},function(t,e,i){var r=i(0),n=i(51),s=i(1),o=new r({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.onTouchOver=s,this.onTouchOut=s,t.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),this},startListeners:function(){var t=this,e=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(r){i&&window.focus(),!r.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchStart(r),t.capture&&r.cancelable&&r.target===e&&r.preventDefault())},this.onTouchStartWindow=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&i.target!==e&&t.manager.onTouchStart(i)},this.onTouchMove=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchMove(e),t.capture&&e.cancelable&&e.preventDefault())},this.onTouchEnd=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchEnd(i),t.capture&&i.cancelable&&i.target===e&&i.preventDefault())},this.onTouchEndWindow=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&i.target!==e&&t.manager.onTouchEnd(i)},this.onTouchCancel=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchCancel(e),t.capture&&e.preventDefault())},this.onTouchCancelWindow=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.onTouchCancel(e)},this.onTouchOver=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.setCanvasOver(e)},this.onTouchOut=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.setCanvasOut(e)};var r=this.target;if(r){var n={passive:!0},s={passive:!1};r.addEventListener("touchstart",this.onTouchStart,this.capture?s:n),r.addEventListener("touchmove",this.onTouchMove,this.capture?s:n),r.addEventListener("touchend",this.onTouchEnd,this.capture?s:n),r.addEventListener("touchcancel",this.onTouchCancel,this.capture?s:n),r.addEventListener("touchover",this.onTouchOver,this.capture?s:n),r.addEventListener("touchout",this.onTouchOut,this.capture?s:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,s),window.addEventListener("touchend",this.onTouchEndWindow,s),window.addEventListener("touchcancel",this.onTouchCancelWindow,s)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("touchcancel",this.onTouchCancel),t.removeEventListener("touchover",this.onTouchOver),t.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=o},function(t,e,i){var r=i(0),n=i(22),s=i(9),o=i(8),a=i(16),l=i(5),u=i(2),h=i(24),c=i(93),d=new r({Extends:s,initialize:function(t){s.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted?this.boot():t.events.once(n.BOOT,this.boot,this)},boot:function(){var t,e,i,r,s,o,a,l=this.game.config,h=l.installGlobalPlugins;for(h=h.concat(this._pendingGlobal),t=0;t<h.length;t++)e=h[t],i=u(e,"key",null),r=u(e,"plugin",null),s=u(e,"start",!1),o=u(e,"mapping",null),a=u(e,"data",null),i&&(r?this.install(i,r,s,o,a):console.warn("Missing `plugin` for key: "+i));for(h=(h=l.installScenePlugins).concat(this._pendingScene),t=0;t<h.length;t++)e=h[t],i=u(e,"key",null),r=u(e,"plugin",null),o=u(e,"mapping",null),i&&(r?this.installScenePlugin(i,r,o):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(n.DESTROY,this.destroy,this)},addToScene:function(t,e,i){var r,n,s,o=this.game,a=t.scene,l=t.settings.map,u=t.settings.isBooted;for(r=0;r<e.length;r++)o[n=e[r]]?(t[n]=o[n],l.hasOwnProperty(n)&&(a[l[n]]=t[n])):"game"===n&&l.hasOwnProperty(n)&&(a[l[n]]=o);for(var c=0;c<i.length;c++)for(s=i[c],r=0;r<s.length;r++)if(n=s[r],h.hasCore(n)){var d=h.getCore(n),f=d.mapping,p=new d.plugin(a,this,f);t[f]=p,d.custom?a[f]=p:l.hasOwnProperty(f)&&(a[l[f]]=p),u&&p.boot()}for(s=this.plugins,r=0;r<s.length;r++){var m=s[r];m.mapping&&(a[m.mapping]=m.plugin)}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t=t.concat(this.scenePlugins)},installScenePlugin:function(t,e,i,r,n){if(void 0===n&&(n=!1),"function"===typeof e){if(h.hasCore(t)){if(!n&&h.hasCore(t))return void console.warn("Scene Plugin key in use: "+t)}else h.register(t,e,i,!0),this.scenePlugins.push(t);if(r){var s=new e(r,this,t);r.sys[t]=s,i&&""!==i&&(r[i]=s),s.boot()}}else console.warn("Invalid Scene Plugin: "+t)},install:function(t,e,i,r,n){if(void 0===i&&(i=!1),void 0===r&&(r=null),void 0===n&&(n=null),"function"!==typeof e)return console.warn("Invalid Plugin: "+t),null;if(h.hasCustom(t))return console.warn("Plugin key in use: "+t),null;if(null!==r&&(i=!0),this.game.isBooted){if(h.registerCustom(t,e,r,n),i)return this.start(t)}else this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:r,data:n});return null},getIndex:function(t){for(var e=this.plugins,i=0;i<e.length;i++)if(e[i].key===t)return i;return-1},getEntry:function(t){var e=this.getIndex(t);if(-1!==e)return this.plugins[e]},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){void 0===e&&(e=t);var i=this.getEntry(e);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(t,e)),i?i.plugin:null},createEntry:function(t,e){var i=h.getCustom(t);if(i){var r=new i.plugin(this);i={key:e,plugin:r,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),r.init(i.data),r.start()}return i},stop:function(t){var e=this.getEntry(t);return e&&e.active&&(e.active=!1,e.plugin.stop()),this},get:function(t,e){void 0===e&&(e=!0);var i=this.getEntry(t);if(i)return i.plugin;var r=this.getClass(t);return r&&e?(i=this.createEntry(t,t))?i.plugin:null:r||null},getClass:function(t){return h.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);e&&c(this.plugins,e),h.removeCustom(t)},removeScenePlugin:function(t){c(this.scenePlugins,t),h.remove(t)},registerGameObject:function(t,e,i){return e&&l.register(t,e),i&&a.register(t,i),this},removeGameObject:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),e&&l.remove(t),i&&a.remove(t),this},registerFileType:function(t,e,i){o.register(t,e),i&&i.sys.load&&(i.sys.load[t]=e)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});t.exports=d},function(t,e,i){var r=i(201),n=i(0),s=i(9),o=i(104),a=i(22),l=i(401),u=i(407),h=i(402),c=i(1),d=i(10),f=i(416),p=i(76),m=i(3),v=new n({Extends:s,initialize:function(t){s.call(this),this.game=t,this.canvas,this.canvasBounds=new d,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=r.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=r.CENTER.NO_CENTER,this.orientation=r.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var t=this.game;this.canvas=t.canvas,this.fullscreen=t.device.fullscreen,this.scaleMode!==r.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===r.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),t.events.on(a.PRE_STEP,this.step,this),t.events.once(a.READY,this.refresh,this),t.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(t){this.getParent(t),this.getParentBounds();var e=t.width,i=t.height,n=t.scaleMode,s=t.zoom,o=t.autoRound;if("string"===typeof e){var a=this.parentSize.width;0===a&&(a=window.innerWidth);var l=parseInt(e,10)/100;e=Math.floor(a*l)}if("string"===typeof i){var u=this.parentSize.height;0===u&&(u=window.innerHeight);var c=parseInt(i,10)/100;i=Math.floor(u*c)}this.scaleMode=n,this.autoRound=o,this.autoCenter=t.autoCenter,this.resizeInterval=t.resizeInterval,o&&(e=Math.floor(e),i=Math.floor(i)),this.gameSize.setSize(e,i),s===r.ZOOM.MAX_ZOOM&&(s=this.getMaxZoom()),this.zoom=s,1!==s&&(this._resetZoom=!0),this.baseSize.setSize(e,i),o&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),t.minWidth>0&&this.displaySize.setMin(t.minWidth*s,t.minHeight*s),t.maxWidth>0&&this.displaySize.setMax(t.maxWidth*s,t.maxHeight*s),this.displaySize.setSize(e,i),this.orientation=h(e,i)},getParent:function(t){var e=t.parent;if(null!==e){if(this.parent=u(e),this.parentIsWindow=this.parent===document.body,t.expandParent&&t.scaleMode!==r.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||0===i.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==i.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}t.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(t.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var t=this.parentSize,e=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(e.height=l(!0));var i=e.width,r=e.height;return(t.width!==i||t.height!==r)&&(t.setSize(i,r),!0)},lockOrientation:function(t){var e=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!e&&e.call(screen,t)},setParentSize:function(t,e){return this.parentSize.setSize(t,e),this.refresh()},setGameSize:function(t,e){var i=this.autoRound;i&&(t=Math.floor(t),e=Math.floor(e));var r=this.width,n=this.height;return this.gameSize.resize(t,e),this.baseSize.resize(t,e),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(t/e),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(r,n)},resize:function(t,e){var i=this.zoom,r=this.autoRound;r&&(t=Math.floor(t),e=Math.floor(e));var n=this.width,s=this.height;this.gameSize.resize(t,e),this.baseSize.resize(t,e),r&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(t*i,e*i),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var o=this.canvas.style,a=t*i,l=e*i;return r&&(a=Math.floor(a),l=Math.floor(l)),a===t&&l===e||(o.width=a+"px",o.height=l+"px"),this.refresh(n,s)},setZoom:function(t){return this.zoom=t,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(t,e){void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var r=this.canvas.style,n=i.style;n.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",n.marginLeft=r.marginLeft,n.marginTop=r.marginTop}return this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,t,e),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var t=h(this.width,this.height);t!==this.orientation&&(this.orientation=t,this.emit(o.ORIENTATION_CHANGE,t))}},updateScale:function(){var t,e,i=this.canvas.style,n=this.gameSize.width,s=this.gameSize.height,o=this.zoom,a=this.autoRound;this.scaleMode===r.SCALE_MODE.NONE?(this.displaySize.setSize(n*o,s*o),t=this.displaySize.width,e=this.displaySize.height,a&&(t=Math.floor(t),e=Math.floor(e)),this._resetZoom&&(i.width=t+"px",i.height=e+"px",this._resetZoom=!1)):this.scaleMode===r.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),t=this.displaySize.width,e=this.displaySize.height,a&&(t=Math.floor(t),e=Math.floor(e)),this.canvas.width=t,this.canvas.height=e):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),t=this.displaySize.width,e=this.displaySize.height,a&&(t=Math.floor(t),e=Math.floor(e)),i.width=t+"px",i.height=e+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var t=p(this.parentSize.width,this.gameSize.width,0,!0),e=p(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(t,e),1)},updateCenter:function(){var t=this.autoCenter;if(t!==r.CENTER.NO_CENTER){var e=this.canvas,i=e.style,n=e.getBoundingClientRect(),s=n.width,o=n.height,a=Math.floor((this.parentSize.width-s)/2),l=Math.floor((this.parentSize.height-o)/2);t===r.CENTER.CENTER_HORIZONTALLY?l=0:t===r.CENTER.CENTER_VERTICALLY&&(a=0),i.marginLeft=a+"px",i.marginTop=l+"px"}},updateBounds:function(){var t=this.canvasBounds,e=this.canvas.getBoundingClientRect();t.x=e.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),t.y=e.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),t.width=e.width,t.height=e.height},transformX:function(t){return(t-this.canvasBounds.left)*this.displayScale.x},transformY:function(t){return(t-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(t){void 0===t&&(t={navigationUI:"hide"});var e=this.fullscreen;if(e.available){if(!e.active){var i=this.getFullscreenTarget();e.keyboard?i[e.request](Element.ALLOW_KEYBOARD_INPUT):i[e.request](t)}}else this.emit(o.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(t){this.removeFullscreenTarget(),this.emit(o.FULLSCREEN_FAILED,t)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var t=document.createElement("div");t.style.margin="0",t.style.padding="0",t.style.width="100%",t.style.height="100%",this.fullscreenTarget=t,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var t=this.fullscreenTarget;if(t&&t.parentNode){var e=t.parentNode;e.insertBefore(this.canvas,t),e.removeChild(t)}}},stopFullscreen:function(){var t=this.fullscreen;if(!t.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;t.active&&document[t.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(t){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(t)},startListeners:function(){var t=this,e=this.listeners;e.orientationChange=function(){t.updateBounds(),t._checkOrientation=!0,t.dirty=!0},e.windowResize=function(){t.updateBounds(),t.dirty=!0},window.addEventListener("orientationchange",e.orientationChange,!1),window.addEventListener("resize",e.windowResize,!1),this.fullscreen.available&&(e.fullScreenChange=function(e){return t.onFullScreenChange(e)},e.fullScreenError=function(e){return t.onFullScreenError(e)},["webkit","moz",""].forEach((function(t){document.addEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.addEventListener(t+"fullscreenerror",e.fullScreenError,!1)})),document.addEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.addEventListener("MSFullscreenError",e.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(t,e){this.parent&&(this._lastCheck+=e,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var t=this.listeners;window.removeEventListener("orientationchange",t.orientationChange,!1),window.removeEventListener("resize",t.windowResize,!1),["webkit","moz",""].forEach((function(e){document.removeEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.removeEventListener(e+"fullscreenerror",t.fullScreenError,!1)})),document.removeEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",t.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===r.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===r.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});t.exports=v},function(t,e,i){var r=i(18),n=i(0),s=i(76),o=i(3),a=new n({initialize:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===r&&(r=null),this._width=t,this._height=e,this._parent=r,this.aspectMode=i,this.aspectRatio=0===e?1:t/e,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},setAspectMode:function(t){return void 0===t&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.snapTo.set(t,e),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.minWidth=r(t,0,this.maxWidth),this.minHeight=r(e,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(t,e){return void 0===t&&(t=Number.MAX_VALUE),void 0===e&&(e=t),this.maxWidth=r(t,this.minWidth,Number.MAX_VALUE),this.maxHeight=r(e,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,e){switch(void 0===t&&(t=0),void 0===e&&(e=t),this.aspectMode){case a.NONE:this._width=this.getNewWidth(s(t,this.snapTo.x)),this._height=this.getNewHeight(s(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(e,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(t,e,!0);break;case a.ENVELOP:this.constrain(t,e,!1)}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,e){return this._width=this.getNewWidth(s(t,this.snapTo.x)),this._height=this.getNewHeight(s(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(t,e){return void 0===e&&(e=!0),t=r(t,this.minWidth,this.maxWidth),e&&this._parent&&t>this._parent.width&&(t=Math.max(this.minWidth,this._parent.width)),t},getNewHeight:function(t,e){return void 0===e&&(e=!0),t=r(t,this.minHeight,this.maxHeight),e&&this._parent&&t>this._parent.height&&(t=Math.max(this.minHeight,this._parent.height)),t},constrain:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=!0),t=this.getNewWidth(t),e=this.getNewHeight(e);var r=this.snapTo,n=0===e?1:t/e;return i&&this.aspectRatio>n||!i&&this.aspectRatio<n?(e=(t=s(t,r.x))/this.aspectRatio,r.y>0&&(t=(e=s(e,r.y))*this.aspectRatio)):(i&&this.aspectRatio<n||!i&&this.aspectRatio>n)&&(t=(e=s(e,r.y))*this.aspectRatio,r.x>0&&(e=(t=s(t,r.x))*(1/this.aspectRatio))),this._width=t,this._height=e,this},fitTo:function(t,e){return this.constrain(t,e,!0)},envelop:function(t,e){return this.constrain(t,e,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){t&&t.style&&(t.style.width=this._width+"px",t.style.height=this._height+"px")},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,t.exports=a},function(t,e,i){var r=i(0),n=i(144),s=i(20),o=i(22),a=i(6),l=i(95),u=i(1),h=i(418),c=i(204),d=new r({initialize:function(t,e){if(this.game=t,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)this._pending.push({key:"default",scene:e[i],autoStart:0===i,data:{}})}t.events.once(o.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var t,e,i,r;for(t=0;t<this._pending.length;t++){var n;i=(e=this._pending[t]).key,(r=e.scene)instanceof h?n=this.createSceneFromInstance(i,r):"object"===typeof r?n=this.createSceneFromObject(i,r):"function"===typeof r&&(n=this.createSceneFromFunction(i,r)),i=n.sys.settings.key,this.keys[i]=n,this.scenes.push(n),this._data[i]&&(n.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(e.autoStart=!0)),(e.autoStart||n.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start.length=0}},processQueue:function(){var t=this._pending.length,e=this._queue.length;if(0!==t||0!==e){var i,r;if(t){for(i=0;i<t;i++)r=this._pending[i],this.add(r.key,r.scene,r.autoStart,r.data);for(i=0;i<this._start.length;i++)r=this._start[i],this.start(r);return this._start.length=0,void(this._pending.length=0)}for(i=0;i<this._queue.length;i++)this[(r=this._queue[i]).op](r.keyA,r.keyB);this._queue.length=0}},add:function(t,e,i,r){return void 0===i&&(i=!1),void 0===r&&(r={}),this.isProcessing||!this.isBooted?(this._pending.push({key:t,scene:e,autoStart:i,data:r}),this.isBooted||(this._data[t]={data:r}),null):(t=this.getKey(t,e),e instanceof h?n=this.createSceneFromInstance(t,e):"object"===typeof e?(e.key=t,n=this.createSceneFromObject(t,e)):"function"===typeof e&&(n=this.createSceneFromFunction(t,e)),n.sys.settings.data=r,t=n.sys.settings.key,this.keys[t]=n,this.scenes.push(n),(i||n.sys.settings.active)&&(this._pending.length?this._start.push(t):this.start(t)),n);var n},remove:function(t){if(this.isProcessing)this._queue.push({op:"remove",keyA:t,keyB:null});else{var e=this.getScene(t);if(!e||e.sys.isTransitioning())return this;var i=this.scenes.indexOf(e),r=e.sys.settings.key;i>-1&&(delete this.keys[r],this.scenes.splice(i,1),this._start.indexOf(r)>-1&&(i=this._start.indexOf(r),this._start.splice(i,1)),e.sys.destroy())}return this},bootScene:function(t){var e,i=t.sys,r=i.settings;i.sceneUpdate=u,t.init&&(t.init.call(t,r.data),r.status=n.INIT,r.isTransition&&i.events.emit(s.TRANSITION_INIT,r.transitionFrom,r.transitionDuration)),i.load&&(e=i.load).reset(),e&&t.preload?(t.preload.call(t),0===e.list.size?this.create(t):(r.status=n.LOADING,e.once(l.COMPLETE,this.loadComplete,this),e.start())):this.create(t)},loadComplete:function(t){this.create(t.scene)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var r=this.scenes[i].sys;r.settings.status>n.START&&r.settings.status<=n.RUNNING&&r.step(t,e)}},render:function(t){for(var e=0;e<this.scenes.length;e++){var i=this.scenes[e].sys;i.settings.visible&&i.settings.status>=n.LOADING&&i.settings.status<n.SLEEPING&&i.render(t)}this.isProcessing=!1},create:function(t){var e=t.sys,i=e.settings;t.create&&(i.status=n.CREATING,t.create.call(t,i.data),i.status===n.DESTROYED)||(i.isTransition&&e.events.emit(s.TRANSITION_START,i.transitionFrom,i.transitionDuration),t.update&&(e.sceneUpdate=t.update),i.status=n.RUNNING,e.events.emit(s.CREATE,t))},createSceneFromFunction:function(t,e){var i=new e;if(i instanceof h){var r=i.sys.settings.key;if(""!==r&&(t=r),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return this.createSceneFromInstance(t,i)}return i.sys=new c(i),i.sys.settings.key=t,i.sys.init(this.game),i},createSceneFromInstance:function(t,e){return""===e.sys.settings.key&&(e.sys.settings.key=t),e.sys.init(this.game),e},createSceneFromObject:function(t,e){var i=new h(e),r=i.sys.settings.key;""!==r?t=r:i.sys.settings.key=t,i.sys.init(this.game);for(var n=["init","preload","create","update","render"],s=0;s<n.length;s++){var o=a(e,n[s],null);o&&(i[n[s]]=o)}if(e.hasOwnProperty("extend"))for(var l in e.extend)if(e.extend.hasOwnProperty(l)){var u=e.extend[l];"data"===l&&i.hasOwnProperty("data")&&"object"===typeof u?i.data.merge(u):"sys"!==l&&(i[l]=u)}return i},getKey:function(t,e){if(t||(t="default"),"function"===typeof e)return t;if(e instanceof h?t=e.sys.settings.key:"object"===typeof e&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return t},getScenes:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);for(var i=[],r=this.scenes,n=0;n<r.length;n++){var s=r[n];s&&(!t||t&&s.sys.isActive())&&i.push(s)}return e?i.reverse():i},getScene:function(t){if("string"===typeof t){if(this.keys[t])return this.keys[t]}else for(var e=0;e<this.scenes.length;e++)if(t===this.scenes[e])return t;return null},isActive:function(t){var e=this.getScene(t);return e?e.sys.isActive():null},isPaused:function(t){var e=this.getScene(t);return e?e.sys.isPaused():null},isVisible:function(t){var e=this.getScene(t);return e?e.sys.isVisible():null},isSleeping:function(t){var e=this.getScene(t);return e?e.sys.isSleeping():null},pause:function(t,e){var i=this.getScene(t);return i&&i.sys.pause(e),this},resume:function(t,e){var i=this.getScene(t);return i&&i.sys.resume(e),this},sleep:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.sleep(e),this},wake:function(t,e){var i=this.getScene(t);return i&&i.sys.wake(e),this},run:function(t,e){var i=this.getScene(t);if(!i){for(var r=0;r<this._pending.length;r++)if(this._pending[r].key===t){this.queueOp("start",t,e);break}return this}i.sys.isSleeping()?i.sys.wake(e):i.sys.isPaused()?i.sys.resume(e):this.start(t,e)},start:function(t,e){if(!this.isBooted)return this._data[t]={autoStart:!0,data:e},this;var i=this.getScene(t);if(i){var r,s=i.sys;if(s.isActive()||s.isPaused())s.shutdown(),s.sceneUpdate=u,s.start(e);else if(s.sceneUpdate=u,s.start(e),s.load&&(r=s.load),r&&s.settings.hasOwnProperty("pack")&&(r.reset(),r.addPack({payload:s.settings.pack})))return s.settings.status=n.LOADING,r.once(l.COMPLETE,this.payloadComplete,this),r.start(),this;this.bootScene(i)}return this},stop:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.shutdown(e),this},switch:function(t,e){var i=this.getScene(t),r=this.getScene(e);return i&&r&&i!==r&&(this.sleep(t),this.isSleeping(e)?this.wake(e):this.start(e)),this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:t,keyB:null});else{var e=this.getIndex(t);if(-1!==e&&e<this.scenes.length){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.push(i)}}return this},sendToBack:function(t){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:t,keyB:null});else{var e=this.getIndex(t);if(-1!==e&&e>0){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.unshift(i)}}return this},moveDown:function(t){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e>0){var i=e-1,r=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=r}}return this},moveUp:function(t){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e<this.scenes.length-1){var i=e+1,r=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=r}}return this},moveAbove:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:t,keyB:e});else{var i=this.getIndex(t),r=this.getIndex(e);if(-1!==i&&-1!==r){var n=this.getAt(r);this.scenes.splice(r,1),this.scenes.splice(i+1,0,n)}}return this},moveBelow:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:t,keyB:e});else{var i=this.getIndex(t),r=this.getIndex(e);if(-1!==i&&-1!==r){var n=this.getAt(r);this.scenes.splice(r,1),0===i?this.scenes.unshift(n):this.scenes.splice(i,0,n)}}return this},queueOp:function(t,e,i){return this._queue.push({op:t,keyA:e,keyB:i}),this},swapPosition:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:t,keyB:e});else{var i=this.getIndex(t),r=this.getIndex(e);if(i!==r&&-1!==i&&-1!==r){var n=this.getAt(i);this.scenes[i]=this.scenes[r],this.scenes[r]=n}}return this},dump:function(){for(var t=[],e=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var r=this.scenes[i].sys,s=!r.settings.visible||r.settings.status!==n.RUNNING&&r.settings.status!==n.PAUSED?"[-] ":"[*] ";s+=r.settings.key+" ("+e[r.settings.status]+")",t.push(s)}console.log(t.join("\n"))},destroy:function(){for(var t=0;t<this.scenes.length;t++)this.scenes[t].sys.destroy();this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});t.exports=d},function(t,e,i){var r=i(0),n=i(204),s=new r({initialize:function(t){this.sys=new n(this,t),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});t.exports=s},function(t,e,i){var r=i(2),n=i(205);t.exports=function(t){var e=t.game.config.defaultPhysicsSystem,i=r(t.settings,"physics",!1);if(e||i){var s=[];if(e&&s.push(n(e+"Physics")),i)for(var o in i)o=n(o.concat("Physics")),-1===s.indexOf(o)&&s.push(o);return s}}},function(t,e,i){var r=i(2);t.exports=function(t){var e=t.plugins.getDefaultScenePlugins(),i=r(t.settings,"plugins",!1);return Array.isArray(i)?i:e||[]}},function(t,e,i){var r=i(144),n=i(6),s=i(127),o=i(978),a={create:function(t){return"string"===typeof t?t={key:t}:void 0===t&&(t={}),{status:r.PENDING,key:n(t,"key",""),active:n(t,"active",!1),visible:n(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:n(t,"pack",!1),cameras:n(t,"cameras",null),map:n(t,"map",s(o,n(t,"mapAdd",{}))),physics:n(t,"physics",{}),loader:n(t,"loader",{}),plugins:n(t,"plugins",!1),input:n(t,"input",{})}}};t.exports=a},function(t,e,i){var r=i(31),n=i(423),s=i(0),o=i(38),a=i(33),l=i(9),u=i(106),h=i(22),c=i(388),d=i(6),f=i(425),p=i(206),m=new s({Extends:l,initialize:function(t){l.call(this),this.game=t,this.name="TextureManager",this.list={},this._tempCanvas=r.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,t.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var t=this.game.config;this.addBase64("__DEFAULT",t.defaultImage),this.addBase64("__MISSING",t.missingImage),this.addBase64("__WHITE",t.whiteImage),this.game.events.once(h.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(t){return!this.exists(t)||(console.error("Texture key already in use: "+t),!1)},remove:function(t){if("string"===typeof t){if(!this.exists(t))return console.warn("No texture found matching key: "+t),this;t=this.get(t)}return this.list.hasOwnProperty(t.key)&&(t.destroy(),this.emit(u.REMOVE,t.key)),this},removeKey:function(t){return this.list.hasOwnProperty(t)&&delete this.list[t],this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,r=new Image;r.onerror=function(){i.emit(u.ERROR,t)},r.onload=function(){var e=i.create(t,r);f.Image(e,0),i.emit(u.ADD,t,e),i.emit(u.LOAD,t,e)},r.src=e}return this},getBase64:function(t,e,i,n){void 0===i&&(i="image/png"),void 0===n&&(n=.92);var s="",o=this.getFrame(t,e);if(o&&(o.source.isRenderTexture||o.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(o){var a=o.canvasData,l=r.create2D(this,a.width,a.height);l.getContext("2d").drawImage(o.source.image,a.x,a.y,a.width,a.height,0,0,a.width,a.height),s=l.toDataURL(i,n),r.remove(l)}return s},addImage:function(t,e,i){var r=null;return this.checkKey(t)&&(r=this.create(t,e),f.Image(r,0),i&&r.setDataSource(i),this.emit(u.ADD,t,r)),r},addGLTexture:function(t,e,i,r){var n=null;return this.checkKey(t)&&(void 0===i&&(i=e.width),void 0===r&&(r=e.height),(n=this.create(t,e,i,r)).add("__BASE",0,0,0,i,r),this.emit(u.ADD,t,n)),n},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&((i=this.create(t,e)).add("__BASE",0,0,0,e.width,e.height),this.emit(u.ADD,t,i)),i},generate:function(t,e){if(this.checkKey(t)){var i=r.create(this,1,1);return e.canvas=i,c(e),this.addCanvas(t,i)}return null},createCanvas:function(t,e,i){if(void 0===e&&(e=256),void 0===i&&(i=256),this.checkKey(t)){var n=r.create(this,e,i,a.CANVAS,!0);return this.addCanvas(t,n)}return null},addCanvas:function(t,e,i){void 0===i&&(i=!1);var r=null;return i?r=new n(this,t,e,e.width,e.height):this.checkKey(t)&&(r=new n(this,t,e,e.width,e.height),this.list[t]=r,this.emit(u.ADD,t,r)),r},addAtlas:function(t,e,i,r){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,r):this.addAtlasJSONHash(t,e,i,r)},addAtlasJSONArray:function(t,e,i,r){var n=null;if(this.checkKey(t)){if(n=this.create(t,e),Array.isArray(i))for(var s=1===i.length,o=0;o<n.source.length;o++){var a=s?i[0]:i[o];f.JSONArray(n,o,a)}else f.JSONArray(n,0,i);r&&n.setDataSource(r),this.emit(u.ADD,t,n)}return n},addAtlasJSONHash:function(t,e,i,r){var n=null;if(this.checkKey(t)){if(n=this.create(t,e),Array.isArray(i))for(var s=0;s<i.length;s++)f.JSONHash(n,s,i[s]);else f.JSONHash(n,0,i);r&&n.setDataSource(r),this.emit(u.ADD,t,n)}return n},addAtlasXML:function(t,e,i,r){var n=null;return this.checkKey(t)&&(n=this.create(t,e),f.AtlasXML(n,0,i),r&&n.setDataSource(r),this.emit(u.ADD,t,n)),n},addUnityAtlas:function(t,e,i,r){var n=null;return this.checkKey(t)&&(n=this.create(t,e),f.UnityYAML(n,0,i),r&&n.setDataSource(r),this.emit(u.ADD,t,n)),n},addSpriteSheet:function(t,e,i){var r=null;if(this.checkKey(t)){var n=(r=this.create(t,e)).source[0].width,s=r.source[0].height;f.SpriteSheet(r,0,0,0,n,s,i),this.emit(u.ADD,t,r)}return r},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=d(e,"atlas",null),r=d(e,"frame",null);if(i&&r){var n=this.get(i).get(r);if(n){var s=this.create(t,n.source.image);return n.trimmed?f.SpriteSheetFromAtlas(s,n,e):f.SpriteSheet(s,0,n.cutX,n.cutY,n.cutWidth,n.cutHeight,e),this.emit(u.ADD,t,s),s}}},create:function(t,e,i,r){var n=null;return this.checkKey(t)&&(n=new p(this,t,e,i,r),this.list[t]=n),n},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:t instanceof p?t:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t=[];for(var e in this.list)"__DEFAULT"!==e&&"__MISSING"!==e&&t.push(e);return t},getPixel:function(t,e,i,r){var n=this.getFrame(i,r);if(n){t-=n.x,e-=n.y;var s=n.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var a=this._tempContext;a.clearRect(0,0,1,1),a.drawImage(n.source.image,t,e,1,1,0,0,1,1);var l=a.getImageData(0,0,1,1);return new o(l.data[0],l.data[1],l.data[2],l.data[3])}}return null},getPixelAlpha:function(t,e,i,r){var n=this.getFrame(i,r);if(n){t-=n.x,e-=n.y;var s=n.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var o=this._tempContext;return o.clearRect(0,0,1,1),o.drawImage(n.source.image,t,e,1,1,0,0,1,1),o.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return!(!i||t===e)&&(i.key=e,this.list[e]=i,delete this.list[t],!0)},each:function(t,e){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},destroy:function(){for(var t in this.list)this.list[t].destroy();this.list={},this.game=null,r.remove(this._tempCanvas)}});t.exports=m},function(t,e,i){var r=i(0),n=i(18),s=i(38),o=i(33),a=i(138),l=i(206),u=new r({Extends:l,initialize:function(t,e,i,r,n){l.call(this,t,e,i,r,n),this.add("__BASE",0,0,0,r,n),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=r,this.height=n,this.imageData=this.context.getImageData(0,0,r,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===o.WEBGL&&this.refresh(),this},draw:function(t,e,i){return this.context.drawImage(i,t,e),this.update()},drawFrame:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=this.manager.getFrame(t,e);if(n){var s=n.canvasData,o=n.cutWidth,a=n.cutHeight,l=n.source.resolution;return this.context.drawImage(n.source.image,s.x,s.y,o,a,i,r,o/l,a/l),this.update()}return this},setPixel:function(t,e,i,r,n,s){if(void 0===s&&(s=255),t=Math.abs(Math.floor(t)),e=Math.abs(Math.floor(e)),this.getIndex(t,e)>-1){var o=this.context.getImageData(t,e,1,1);o.data[0]=i,o.data[1]=r,o.data[2]=n,o.data[3]=s,this.context.putImageData(o,t,e)}return this},putData:function(t,e,i,r,n,s,o){return void 0===r&&(r=0),void 0===n&&(n=0),void 0===s&&(s=t.width),void 0===o&&(o=t.height),this.context.putImageData(t,e,i,r,n,s,o),this},getData:function(t,e,i,r){return t=n(Math.floor(t),0,this.width-1),e=n(Math.floor(e),0,this.height-1),i=n(i,1,this.width-t),r=n(r,1,this.height-e),this.context.getImageData(t,e,i,r)},getPixel:function(t,e,i){i||(i=new s);var r=this.getIndex(t,e);if(r>-1){var n=this.data,o=n[r+0],a=n[r+1],l=n[r+2],u=n[r+3];i.setTo(o,a,l,u)}return i},getPixels:function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===r&&(r=i),t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e));for(var o=n(t,0,this.width),a=n(t+i,0,this.width),l=n(e,0,this.height),u=n(e+r,0,this.height),h=new s,c=[],d=l;d<u;d++){for(var f=[],p=o;p<a;p++)h=this.getPixel(p,d,h),f.push({x:p,y:d,color:h.color,alpha:h.alphaGL});c.push(f)}return c},getIndex:function(t,e){return t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e)),t<this.width&&e<this.height?4*(t+e*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(t,e,i,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===r&&(r=this.height),this.context.clearRect(t,e,i,r),this.update()},setSize:function(t,e){return void 0===e&&(e=t),t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=a(t,e),this.frames.__BASE.setSize(t,e,0,0),this.width=t,this.height=e,this.refresh()),this},destroy:function(){l.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});t.exports=u},function(t,e,i){var r=i(31),n=i(0),s=i(138),o=i(168),a=new n({initialize:function(t,e,i,r,n){void 0===n&&(n=!1);var a=t.manager.game;this.renderer=a.renderer,this.texture=t,this.source=e,this.image=e,this.compressionAlgorithm=null,this.resolution=1,this.width=i||e.naturalWidth||e.videoWidth||e.width||0,this.height=r||e.naturalHeight||e.videoHeight||e.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=e instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&e instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===e.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&e instanceof WebGLTexture,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=n,this.init(a)},init:function(t){var e=this.renderer;e&&(e.gl?this.isCanvas?this.glTexture=e.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=e.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=e.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=e.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),t.config.antialias||this.setFilter(1)},setFilter:function(t){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,t),this.scaleMode=t},setFlipY:function(t){return void 0===t&&(t=!0),this.flipY=t,this},update:function(){var t=this.renderer.gl;t&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):t&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&r.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});t.exports=a},function(t,e,i){t.exports={AtlasXML:i(979),Canvas:i(980),Image:i(981),JSONArray:i(982),JSONHash:i(983),SpriteSheet:i(984),SpriteSheetFromAtlas:i(985),UnityYAML:i(986)}},function(t,e,i){var r=i(427),n=i(430),s=i(432),o={create:function(t){var e=t.config.audio,i=t.device.audio;return e.noAudio||!i.webAudio&&!i.audioData?new n(t):i.webAudio&&!e.disableWebAudio?new s(t):new r(t)}};t.exports=o},function(t,e,i){var r=i(145),n=i(0),s=i(70),o=i(429),a=new n({Extends:r,initialize:function(t){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,r.call(this,t)},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each((function(e,i){for(var r=0;r<i.length;r++)if("true"===i[r].dataset.locked)return t.locked=!0,!1;return!0})),this.locked){var e=!1,i=function(){e=!0},r=function r(){if(e)e=!1;else{document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",r);var n=[];if(t.game.cache.audio.entries.each((function(t,e){for(var i=0;i<e.length;i++){var r=e[i];"true"===r.dataset.locked&&n.push(r)}return!0})),0!==n.length){var s=n[n.length-1];s.oncanplaythrough=function(){s.oncanplaythrough=null,n.forEach((function(t){t.dataset.locked="false"})),t.unlocked=!0},n.forEach((function(t){t.load()}))}}};this.once(s.UNLOCKED,(function(){for(this.forEachActiveSound((function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration}));this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}}),this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",r,!1)}},onBlur:function(){this.forEachActiveSound((function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())}))},onFocus:function(){this.onBlurPausedSounds.forEach((function(t){t.onFocus()})),this.onBlurPausedSounds.length=0},destroy:function(){r.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,i){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:i}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound((function(t){t.updateMute()})),this.emit(s.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound((function(t){t.updateVolume()})),this.emit(s.GLOBAL_VOLUME,this,t)}}});t.exports=a},function(t,e,i){var r=i(78);t.exports=function(t,e,i,n,s){if(void 0===n&&(n=0),void 0===s&&(s=t.length),r(t,n,s))for(var o=n;o<s;o++){var a=t[o];if(!e||e&&void 0===i&&a.hasOwnProperty(e)||e&&void 0!==i&&a[e]===i)return a}return null}},function(t,e,i){var r=i(146),n=i(0),s=i(70),o=i(18),a=new n({Extends:r,initialize:function(t,e,i){if(void 0===i&&(i={}),this.tags=t.game.cache.audio.get(e),!this.tags)throw new Error('There is no audio asset with key "'+e+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,r.call(this,t,e,i)},play:function(t,e){return!this.manager.isLocked(this,"play",[t,e])&&!!r.prototype.play.call(this,t,e)&&!!this.pickAndPlayAudioTag()&&(this.emit(s.PLAY,this),!0)},pause:function(){return!this.manager.isLocked(this,"pause")&&!(this.startTime>0)&&!!r.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return!this.manager.isLocked(this,"resume")&&!(this.startTime>0)&&!!r.prototype.resume.call(this)&&!!this.pickAndPlayAudioTag()&&(this.emit(s.RESUME,this),!0)},stop:function(){return!this.manager.isLocked(this,"stop")&&!!r.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,e=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===e?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*e,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var e=this.tags[t];if("false"===e.dataset.used)return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound((function(t){t.key===this.key&&t.audio&&i.push(t)}),this),i.sort((function(t,e){return t.loop===e.loop?e.seek/e.duration-t.seek/t.duration:t.loop?1:-1}));var r=i[0];return this.audio=r.audio,r.reset(),r.audio=null,r.startTime=0,r.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch((function(t){console.warn(t)}))},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){r.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var e=this.currentMarker?this.currentMarker.start:0,i=e+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=i-this.manager.loopEndOffset?(this.audio.currentTime=e+Math.max(0,r-i),r=this.audio.currentTime):r<e&&(this.audio.currentTime+=e,r=this.audio.currentTime),r<this.previousTime&&this.emit(s.LOOPED,this);else if(r>=i)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(s.COMPLETE,this);this.previousTime=r}},destroy:function(){r.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=o(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){r.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||(this.updateMute(),this.emit(s.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||(this.updateVolume(),this.emit(s.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,s.RATE,t)||(this.calculateRate(),this.emit(s.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,s.DETUNE,t)||(this.calculateRate(),this.emit(s.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(s.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit(s.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.currentConfig.pan},set:function(t){this.currentConfig.pan=t,this.emit(s.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});t.exports=a},function(t,e,i){var r=i(145),n=i(0),s=i(9),o=i(431),a=i(1),l=new n({Extends:s,initialize:function(t){s.call(this),this.game=t,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},addAudioSprite:function(t,e){var i=this.add(t,e);return i.spritemap={},i},play:function(t,e){return!1},playAudioSprite:function(t,e,i){return!1},remove:function(t){return r.prototype.remove.call(this,t)},removeByKey:function(t){return r.prototype.removeByKey.call(this,t)},pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,forEachActiveSound:function(t,e){r.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){r.prototype.destroy.call(this)}});t.exports=l},function(t,e,i){var r=i(146),n=i(0),s=i(9),o=i(17),a=function(){return!1},l=function(){return this},u=new n({Extends:s,initialize:function(t,e,i){void 0===i&&(i={}),s.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:function(){return null},play:a,pause:a,resume:a,stop:a,destroy:function(){r.prototype.destroy.call(this)},setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l});t.exports=u},function(t,e,i){var r=i(433),n=i(145),s=i(0),o=i(70),a=i(22),l=i(434),u=new s({Extends:n,initialize:function(t){this.context=this.createAudioContext(t),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),n.call(this,t),this.locked&&t.isBooted?this.unlock():t.events.once(a.BOOT,this.unlock,this)},createAudioContext:function(t){var e=t.config.audio;return e.context?(e.context.resume(),e.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(t){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=t,this.masterMuteNode=t.createGain(),this.masterVolumeNode=t.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(t.destination),this.destination=this.masterMuteNode,this},add:function(t,e){var i=new l(this,t,e);return this.sounds.push(i),i},decodeAudio:function(t,e){var i;i=Array.isArray(t)?t:[{key:t,data:e}];for(var n=this.game.cache.audio,s=i.length,a=0;a<i.length;a++){var l=i[a],u=l.key,h=l.data;"string"===typeof h&&(h=r(h));var c=function(t,e){n.add(t,e),this.emit(o.DECODED,t),0===--s&&this.emit(o.DECODED_ALL)}.bind(this,u),d=function(t,e){console.error("Error decoding audio: "+t+" - ",e?e.message:""),0===--s&&this.emit(o.DECODED_ALL)}.bind(this,u);this.context.decodeAudioData(h,c,d)}},unlock:function(){var t=this,e=document.body,i=function i(){if(t.context&&e){var r=e.removeEventListener;t.context.resume().then((function(){r("touchstart",i),r("touchend",i),r("click",i),r("keydown",i),t.unlocked=!0}),(function(){r("touchstart",i),r("touchend",i),r("click",i),r("keydown",i)}))}};e&&(e.addEventListener("touchstart",i,!1),e.addEventListener("touchend",i,!1),e.addEventListener("click",i,!1),e.addEventListener("keydown",i,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var t=this.context;"suspended"!==t.state&&"interrupted"!==t.state||this.locked||t.resume()},update:function(t,e){n.prototype.update.call(this,t,e);var i=this.context;i&&"interrupted"===i.state&&i.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then((function(){t.context=null}))}n.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit(o.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit(o.GLOBAL_VOLUME,this,t)}}});t.exports=u},function(t,e){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<i.length;n++)r[i.charCodeAt(n)]=n;t.exports=function(t){var e,i,n,s,o=(t=t.substr(t.indexOf(",")+1)).length,a=.75*o,l=0;"="===t[o-1]&&(a--,"="===t[o-2]&&a--);for(var u=new ArrayBuffer(a),h=new Uint8Array(u),c=0;c<o;c+=4)e=r[t.charCodeAt(c)],i=r[t.charCodeAt(c+1)],n=r[t.charCodeAt(c+2)],s=r[t.charCodeAt(c+3)],h[l++]=e<<2|i>>4,h[l++]=(15&i)<<4|n>>2,h[l++]=(3&n)<<6|63&s;return u}},function(t,e,i){var r=i(146),n=i(0),s=i(70),o=new n({Extends:r,initialize:function(t,e,i){if(void 0===i&&(i={}),this.audioBuffer=t.game.cache.audio.get(e),!this.audioBuffer)throw new Error('Audio key "'+e+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=t.context.createGain(),this.volumeNode=t.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),t.context.createStereoPanner?(this.pannerNode=t.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(t.destination)):this.volumeNode.connect(t.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,r.call(this,t,e,i)},play:function(t,e){return!!r.prototype.play.call(this,t,e)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&!!r.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&!!r.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return!!r.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,r=(this.currentMarker?this.currentMarker.start:0)+t,n=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,r),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){e.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),r.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,r.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){r.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){r.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&"number"===typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++)t+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate;return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(s.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(s.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(s.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(s.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(t){this.currentConfig.pan=t,this.pannerNode&&this.pannerNode.pan.setValueAtTime(t,this.manager.context.currentTime),this.emit(s.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});t.exports=o},function(t,e){t.exports=function(t){for(var e=t.length,i=t[0].length,r=new Array(i),n=0;n<i;n++){r[n]=new Array(e);for(var s=e-1;s>-1;s--)r[n][s]=t[s][n]}return r}},function(t,e){function i(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function r(t,e){return t<e?-1:t>e?1:0}t.exports=function t(e,n,s,o,a){for(void 0===s&&(s=0),void 0===o&&(o=e.length-1),void 0===a&&(a=r);o>s;){if(o-s>600){var l=o-s+1,u=n-s+1,h=Math.log(l),c=.5*Math.exp(2*h/3),d=.5*Math.sqrt(h*c*(l-c)/l)*(u-l/2<0?-1:1);t(e,n,Math.max(s,Math.floor(n-u*c/l+d)),Math.min(o,Math.floor(n+(l-u)*c/l+d)),a)}var f=e[n],p=s,m=o;for(i(e,s,n),a(e[o],f)>0&&i(e,s,o);p<m;){for(i(e,p,m),p++,m--;a(e[p],f)<0;)p++;for(;a(e[m],f)>0;)m--}0===a(e[s],f)?i(e,s,m):i(e,++m,o),m<=n&&(s=m+1),n<=m&&(o=m-1)}}},function(t,e,i){var r=i(6),n=i(131),s=function(t,e,i){for(var r=[],n=0;n<t.length;n++)for(var s=0;s<e.length;s++)for(var o=0;o<i;o++)r.push({a:t[n],b:e[s]});return r};t.exports=function(t,e,i){var o=r(i,"max",0),a=r(i,"qty",1),l=r(i,"random",!1),u=r(i,"randomB",!1),h=r(i,"repeat",0),c=r(i,"yoyo",!1),d=[];if(u&&n(e),-1===h)if(0===o)h=0;else{var f=t.length*e.length*a;c&&(f*=2),h=Math.ceil(o/f)}for(var p=0;p<=h;p++){var m=s(t,e,a);l&&n(m),d=d.concat(m),c&&(m.reverse(),d=d.concat(m))}return o&&d.splice(o),d}},function(t,e,i){t.exports={PROCESS_QUEUE_ADD:i(1041),PROCESS_QUEUE_REMOVE:i(1042)}},function(t,e,i){var r=i(13);t.exports=function(t,e){var i=r(e,"anims",null);if(null===i)return t;if("string"===typeof i)t.anims.play(i);else if("object"===typeof i){var n=t.anims,s=r(i,"key",void 0);if(s){var o=r(i,"startFrame",void 0),a=r(i,"delay",0),l=r(i,"repeat",0),u=r(i,"repeatDelay",0),h=r(i,"yoyo",!1),c=r(i,"play",!1),d=r(i,"delayedPlay",0),f={key:s,delay:a,repeat:l,repeatDelay:u,yoyo:h,startFrame:o};c?n.play(f):d>0?n.playAfterDelay(f,d):n.load(f)}}return t}},function(t,e,i){var r=i(0),n=i(109),s=new r({initialize:function(t,e,i,r,n){this.parent=t,this.x=e,this.y=i,this.frame=r,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return void 0===t?this.frame=this.parent.frame:t instanceof n&&t.texture===this.parent.texture?this.frame=t:this.frame=this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,e,i){return this.x=t,this.y=e,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(t,e){return this.x=t,this.y=e,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},setTint:function(t){return this.tint=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this.parent.dirty|=this._visible!==t,this._visible=t}},alpha:{get:function(){return this._alpha},set:function(t){this.parent.dirty|=this._alpha>0!==t>0,this._alpha=t}}});t.exports=s},function(t,e,i){var r=i(10);t.exports=function(t,e,i){void 0===i&&(i=new r);var n=Math.min(t.x,e.x),s=Math.min(t.y,e.y),o=Math.max(t.right,e.right)-n,a=Math.max(t.bottom,e.bottom)-s;return i.setTo(n,s,o,a)}},function(t,e,i){var r=i(0),n=i(11),s=i(1055),o=i(15),a=i(7),l=i(202),u=i(20),h=i(140),c=new r({Extends:o,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Origin,n.ScrollFactor,n.Transform,n.Visible,s],initialize:function(t,e,i,r,n,s){o.call(this,t,"DOMElement"),this.parent=t.sys.game.domContainer,this.cache=t.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(e,i),"string"===typeof r?"#"===r[0]?this.setElement(r.substr(1),n,s):this.createElement(r,n,s):r&&this.setElement(r,n,s),t.sys.events.on(u.SLEEP,this.handleSceneEvent,this),t.sys.events.on(u.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(t){var e=this.node,i=e.style;e&&(i.display=t.settings.visible?"block":"none")},setSkew:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.skewX=t,this.skewY=e,this},setPerspective:function(t){return this.parent.style.perspective=t+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(t){this.parent.style.perspective=t+"px"}},addListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.addEventListener(t[e],this.handler,!1)}return this},removeListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.removeEventListener(t[e],this.handler)}return this},dispatchNativeEvent:function(t){this.emit(t.type,t)},createElement:function(t,e,i){return this.setElement(document.createElement(t),e,i)},setElement:function(t,e,i){var r;if(this.removeElement(),"string"===typeof t?("#"===t[0]&&(t=t.substr(1)),r=document.getElementById(t)):"object"===typeof t&&1===t.nodeType&&(r=t),!r)return this;if(this.node=r,e&&a(e))for(var n in e)r.style[n]=e[n];else"string"===typeof e&&(r.style=e);return r.style.zIndex="0",r.style.display="inline",r.style.position="absolute",r.phaser=this,this.parent&&this.parent.appendChild(r),i&&(r.innerText=i),this.updateSize()},createFromCache:function(t,e){var i=this.cache.get(t);return i&&this.createFromHTML(i,e),this},createFromHTML:function(t,e){void 0===e&&(e="div"),this.removeElement();var i=document.createElement(e);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=t,this.updateSize()},removeElement:function(){return this.node&&(l(this.node),this.node=null),this},updateSize:function(){var t=this.node,e=t.getBoundingClientRect();return this.width=t.clientWidth,this.height=t.clientHeight,this.displayWidth=e.width||0,this.displayHeight=e.height||0,this},getChildByProperty:function(t,e){if(this.node)for(var i=this.node.querySelectorAll("*"),r=0;r<i.length;r++)if(i[r][t]===e)return i[r];return null},getChildByID:function(t){return this.getChildByProperty("id",t)},getChildByName:function(t){return this.getChildByProperty("name",t)},setClassName:function(t){return this.node&&(this.node.className=t,this.updateSize()),this},setText:function(t){return this.node&&(this.node.innerText=t,this.updateSize()),this},setHTML:function(t){return this.node&&(this.node.innerHTML=t,this.updateSize()),this},preUpdate:function(){var t=this.parentContainer,e=this.node;e&&t&&!t.willRender()&&(e.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this)}});t.exports=c},function(t,e,i){var r=i(1056),n=i(15),s=i(25),o=new s,a=new s,l=new s;t.exports=function(t,e,i,s){if(e.node){var u=e.node.style,h=e.scene.sys.settings;if(!u||!h.visible||n.RENDER_MASK!==e.renderFlags||0!==e.cameraFilter&&e.cameraFilter&i.id||e.parentContainer&&!e.parentContainer.willRender())u.display="none";else{var c=e.parentContainer,d=i.alpha*e.alpha;c&&(d*=c.alpha);var f=o,p=a,m=l,v=0,y=0,g="0%",x="0%";s?(v=e.width*e.scaleX*e.originX,y=e.height*e.scaleY*e.originY,p.applyITRS(e.x-v,e.y-y,e.rotation,e.scaleX,e.scaleY),f.copyFrom(i.matrix),f.multiplyWithOffset(s,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),p.e=e.x-v,p.f=e.y-y,f.multiply(p,m)):(v=e.width*e.originX,y=e.height*e.originY,p.applyITRS(e.x-v,e.y-y,e.rotation,e.scaleX,e.scaleY),f.copyFrom(i.matrix),g=100*e.originX+"%",x=100*e.originY+"%",p.e-=i.scrollX*e.scrollFactorX,p.f-=i.scrollY*e.scrollFactorY,f.multiply(p,m)),e.transformOnly||(u.display="block",u.opacity=d,u.zIndex=e._depth,u.pointerEvents=e.pointerEvents,u.mixBlendMode=r[e._blendMode]),u.transform=m.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")",u.transformOrigin=g+" "+x}}}},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(1060),a=new r({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.Origin,n.ScrollFactor,n.Size,n.Texture,n.Tint,n.Transform,n.Visible,o],initialize:function(t){s.call(this,t,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});t.exports=a},function(t,e,i){var r=i(218),n=i(98),s=i(14),o=i(4);t.exports=function(t,e,i){void 0===i&&(i=new o);var a=n(e,0,s.PI2);return r(t,a,i)}},function(t,e,i){var r=i(447),n=i(218),s=i(98),o=i(14);t.exports=function(t,e,i,a){void 0===a&&(a=[]),!e&&i>0&&(e=r(t)/i);for(var l=0;l<e;l++){var u=s(l/e,0,o.PI2);a.push(n(t,u))}return a}},function(t,e){t.exports=function(t){var e=t.width/2,i=t.height/2,r=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*r/(10+Math.sqrt(4-3*r)))}},function(t,e,i){var r=i(217),n=i(30);t.exports=function(t,e,i,s,o,a){var l=e.commandBuffer,u=l.length,h=o||t.currentContext;if(0!==u&&n(t,h,e,i,s)){i.addToRenderList(e);var c=1,d=1,f=0,p=0,m=1,v=0,y=0,g=0;h.beginPath();for(var x=0;x<u;++x)switch(l[x]){case r.ARC:h.arc(l[x+1],l[x+2],l[x+3],l[x+4],l[x+5],l[x+6]),x+=7;break;case r.LINE_STYLE:m=l[x+1],f=l[x+2],c=l[x+3],v=(16711680&f)>>>16,y=(65280&f)>>>8,g=255&f,h.strokeStyle="rgba("+v+","+y+","+g+","+c+")",h.lineWidth=m,x+=3;break;case r.FILL_STYLE:p=l[x+1],d=l[x+2],v=(16711680&p)>>>16,y=(65280&p)>>>8,g=255&p,h.fillStyle="rgba("+v+","+y+","+g+","+d+")",x+=2;break;case r.BEGIN_PATH:h.beginPath();break;case r.CLOSE_PATH:h.closePath();break;case r.FILL_PATH:a||h.fill();break;case r.STROKE_PATH:a||h.stroke();break;case r.FILL_RECT:a?h.rect(l[x+1],l[x+2],l[x+3],l[x+4]):h.fillRect(l[x+1],l[x+2],l[x+3],l[x+4]),x+=4;break;case r.FILL_TRIANGLE:h.beginPath(),h.moveTo(l[x+1],l[x+2]),h.lineTo(l[x+3],l[x+4]),h.lineTo(l[x+5],l[x+6]),h.closePath(),a||h.fill(),x+=6;break;case r.STROKE_TRIANGLE:h.beginPath(),h.moveTo(l[x+1],l[x+2]),h.lineTo(l[x+3],l[x+4]),h.lineTo(l[x+5],l[x+6]),h.closePath(),a||h.stroke(),x+=6;break;case r.LINE_TO:h.lineTo(l[x+1],l[x+2]),x+=2;break;case r.MOVE_TO:h.moveTo(l[x+1],l[x+2]),x+=2;break;case r.LINE_FX_TO:h.lineTo(l[x+1],l[x+2]),x+=5;break;case r.MOVE_FX_TO:h.moveTo(l[x+1],l[x+2]),x+=5;break;case r.SAVE:h.save();break;case r.RESTORE:h.restore();break;case r.TRANSLATE:h.translate(l[x+1],l[x+2]),x+=2;break;case r.SCALE:h.scale(l[x+1],l[x+2]),x+=2;break;case r.ROTATE:h.rotate(l[x+1]),x+=1;break;case r.GRADIENT_FILL_STYLE:x+=5;break;case r.GRADIENT_LINE_STYLE:x+=6}h.restore()}}},function(t,e,i){var r=i(0),n=i(137),s=i(80),o=i(2),a=i(68),l=new r({initialize:function(t,e,i,r){void 0===r&&(r=!1),this.propertyKey=e,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=r,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(t,e){void 0===t&&(t={}),e&&(this.propertyKey=e),this.propertyValue=o(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t=this.propertyValue,e=typeof t;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,"number"===e)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(t))this.onEmit=this.randomStaticValueEmit;else if("function"===e)this.emitOnly?this.onEmit=t:this.onUpdate=t;else if("object"===e&&this.hasBoth(t,"start","end")){this.start=t.start,this.end=t.end;var i=this.has(t,"random");if(i&&(this.onEmit=this.randomRangedValueEmit),this.has(t,"steps"))this.steps=t.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var r=this.has(t,"ease")?t.ease:"Linear";this.ease=s(r,t.easeParams),i||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if("object"===e&&this.hasBoth(t,"min","max"))this.start=t.min,this.end=t.max,this.onEmit=this.randomRangedValueEmit;else if("object"===e&&this.has(t,"random")){var n=t.random;Array.isArray(n)&&(this.start=n[0],this.end=n[1]),this.onEmit=this.randomRangedValueEmit}else"object"===e&&this.hasEither(t,"onEmit","onUpdate")&&(this.has(t,"onEmit")&&(this.onEmit=t.onEmit),this.has(t,"onUpdate")&&(this.onUpdate=t.onUpdate));return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,r){return r},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,e){var i=n(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i),i},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=a(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var r=t.data[e];return(r.max-r.min)*this.ease(i)+r.min}});t.exports=l},function(t,e,i){var r=i(0),n=i(2),s=new r({initialize:function(t,e,i,r,s){if("object"===typeof t){var o=t;t=n(o,"x",0),e=n(o,"y",0),i=n(o,"power",0),r=n(o,"epsilon",100),s=n(o,"gravity",50)}else void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=100),void 0===s&&(s=50);this.x=t,this.y=e,this.active=!0,this._gravity=s,this._power=0,this._epsilon=0,this.power=i,this.epsilon=r},update:function(t,e){var i=this.x-t.x,r=this.y-t.y,n=i*i+r*r;if(0!==n){var s=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var o=this._power*e/(n*s)*100;t.velocityX+=i*o,t.velocityY+=r*o}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t,this.power=e}}});t.exports=s},function(t,e,i){var r=i(0),n=i(36),s=i(50),o=new r({initialize:function(t){this.emitter=t,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(t,e){var i=this.emitter;this.frame=i.getFrame(),i.emitZone&&i.emitZone.getPoint(this),this.x+=void 0===t?i.x.onEmit(this,"x"):t,this.y+=void 0===e?i.y.onEmit(this,"y"):e,this.life=i.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var r=i.speedX.onEmit(this,"speedX"),o=i.speedY?i.speedY.onEmit(this,"speedY"):r;if(i.radial){var a=n(i.angle.onEmit(this,"angle"));this.velocityX=Math.cos(a)*Math.abs(r),this.velocityY=Math.sin(a)*Math.abs(o)}else if(i.moveTo){var l=i.moveToX.onEmit(this,"moveToX"),u=i.moveToY?i.moveToY.onEmit(this,"moveToY"):l,h=Math.atan2(u-this.y,l-this.x),c=s(this.x,this.y,l,u)/(this.life/1e3);this.velocityX=Math.cos(h)*c,this.velocityY=Math.sin(h)*c}else this.velocityX=r,this.velocityY=o;i.acceleration&&(this.accelerationX=i.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=i.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=i.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=i.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=i.delay.onEmit(this,"delay"),this.scaleX=i.scaleX.onEmit(this,"scaleX"),this.scaleY=i.scaleY?i.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=i.rotate.onEmit(this,"rotate"),this.rotation=n(this.angle),this.bounce=i.bounce.onEmit(this,"bounce"),this.alpha=i.alpha.onEmit(this,"alpha"),this.tint=i.tint.onEmit(this,"tint")},computeVelocity:function(t,e,i,r){var n=this.velocityX,s=this.velocityY,o=this.accelerationX,a=this.accelerationY,l=this.maxVelocityX,u=this.maxVelocityY;n+=t.gravityX*i,s+=t.gravityY*i,o&&(n+=o*i),a&&(s+=a*i),n>l?n=l:n<-l&&(n=-l),s>u?s=u:s<-u&&(s=-u),this.velocityX=n,this.velocityY=s;for(var h=0;h<r.length;h++)r[h].update(this,e,i)},checkBounds:function(t){var e=t.bounds,i=-this.bounce;this.x<e.x&&t.collideLeft?(this.x=e.x,this.velocityX*=i):this.x>e.right&&t.collideRight&&(this.x=e.right,this.velocityX*=i),this.y<e.y&&t.collideTop?(this.y=e.y,this.velocityY*=i):this.y>e.bottom&&t.collideBottom&&(this.y=e.bottom,this.velocityY*=i)},update:function(t,e,i){if(this.delayCurrent>0)return this.delayCurrent-=t,!1;var r=this.emitter,s=1-this.lifeCurrent/this.life;return this.lifeT=s,this.computeVelocity(r,t,e,i),this.x+=this.velocityX*e,this.y+=this.velocityY*e,r.bounds&&this.checkBounds(r),r.deathZone&&r.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=r.scaleX.onUpdate(this,"scaleX",s,this.scaleX),r.scaleY?this.scaleY=r.scaleY.onUpdate(this,"scaleY",s,this.scaleY):this.scaleY=this.scaleX,this.angle=r.rotate.onUpdate(this,"rotate",s,this.angle),this.rotation=n(this.angle),this.alpha=r.alpha.onUpdate(this,"alpha",s,this.alpha),this.tint=r.tint.onUpdate(this,"tint",s,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0)}});t.exports=o},function(t,e,i){var r=i(35),n=i(0),s=i(11),o=i(453),a=i(454),l=i(449),u=i(2),h=i(210),c=i(455),d=i(126),f=i(451),p=i(456),m=i(10),v=i(79),y=i(3),g=i(68),x=new n({Mixins:[s.BlendMode,s.Mask,s.ScrollFactor,s.Visible],initialize:function(t,e){this.manager=t,this.texture=t.texture,this.frames=[t.defaultFrame],this.defaultFrame=t.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=f,this.x=new l(e,"x",0,!0),this.y=new l(e,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new l(e,"accelerationX",0,!0),this.accelerationY=new l(e,"accelerationY",0,!0),this.maxVelocityX=new l(e,"maxVelocityX",1e4,!0),this.maxVelocityY=new l(e,"maxVelocityY",1e4,!0),this.speedX=new l(e,"speedX",0,!0),this.speedY=new l(e,"speedY",0,!0),this.moveTo=!1,this.moveToX=new l(e,"moveToX",0,!0),this.moveToY=new l(e,"moveToY",0,!0),this.bounce=new l(e,"bounce",0,!0),this.scaleX=new l(e,"scaleX",1),this.scaleY=new l(e,"scaleY",1),this.tint=new l(e,"tint",16777215),this.alpha=new l(e,"alpha",1),this.lifespan=new l(e,"lifespan",1e3,!0),this.angle=new l(e,"angle",{min:0,max:360},!0),this.rotate=new l(e,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new l(e,"quantity",1,!0),this.delay=new l(e,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=r.NORMAL,this.follow=null,this.followOffset=new y,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,e&&this.fromJSON(e)},fromJSON:function(t){if(!t)return this;var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],d(t,i)&&(this[i]=u(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],d(t,i)&&this[i].loadConfig(t);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,d(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(c(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),d(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),d(t,"callbackScope")){var r=u(t,"callbackScope",null);this.emitCallbackScope=r,this.deathCallbackScope=r}return d(t,"emitZone")&&this.setEmitZone(t.emitZone),d(t,"deathZone")&&this.setDeathZone(t.deathZone),d(t,"bounds")&&this.setBounds(t.bounds),d(t,"followOffset")&&this.followOffset.setFromObject(u(t,"followOffset",0)),d(t,"frame")&&this.setFrame(t.frame),d(t,"reserve")&&this.reserve(t.reserve),this},toJSON:function(t){void 0===t&&(t={});var e=0,i="";for(e=0;e<this.configFastMap.length;e++)t[i=this.configFastMap[e]]=this[i];for(e=0;e<this.configOpMap.length;e++)this[i=this.configOpMap[e]]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,r){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=r,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return h(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=g(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var r=typeof t;if(Array.isArray(t)||"string"===r||"number"===r)this.manager.setEmitterFrames(t,this);else if("object"===r){var n=t;(t=u(n,"frames",null))&&this.manager.setEmitterFrames(t,this);var s=u(n,"cycle",!1);this.randomFrame=!s,this.frameQuantity=u(n,"quantity",i)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return void 0===t&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,r){if("object"===typeof t){var n=t;t=n.x,e=n.y,i=d(n,"w")?n.w:n.width,r=d(n,"h")?n.h:n.height}return this.bounds?this.bounds.setTo(t,e,i,r):this.bounds=new m(t,e,i,r),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setTint:function(t){return this.tint.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){if(void 0===t)this.emitZone=null;else{var e=u(t,"type","random"),i=u(t,"source",null);switch(e){case"random":this.emitZone=new p(i);break;case"edge":var r=u(t,"quantity",1),n=u(t,"stepRate",0),s=u(t,"yoyo",!1),o=u(t,"seamless",!0);this.emitZone=new a(i,r,n,s,o)}}return this},setDeathZone:function(t){if(void 0===t)this.deathZone=null;else{var e=u(t,"type","onEnter"),i=u(t,"source",null);if(i&&"function"===typeof i.contains){var r="onEnter"===e;this.deathZone=new o(i,r)}}return this},reserve:function(t){for(var e=this.dead,i=0;i<t;i++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return void 0===t?(this.emitCallback=null,this.emitCallbackScope=null):"function"===typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return void 0===t?(this.deathCallback=null,this.deathCallbackScope=null):"function"===typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,r=i.length,n=0;n<r;++n)t.call(e,i[n],this);return this},forEachDead:function(t,e){for(var i=this.dead,r=i.length,n=0;n<r;++n)t.call(e,i[n],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return v(this.alive,this.depthSortCallback),this},flow:function(t,e){return void 0===e&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){void 0===t&&(t=this.quantity.onEmit());for(var r=this.dead,n=this.follow?this.follow.x+this.followOffset.x:e,s=this.follow?this.follow.y+this.followOffset.y:i,o=0;o<t;o++){var a=r.pop();if(a||(a=new this.particleClass(this)),a.fire(n,s),this.particleBringToTop?this.alive.push(a):this.alive.unshift(a),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,a,this),this.atLimit())break}return a}},preUpdate:function(t,e){var i=(e*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var r=this.manager.getProcessors(),n=this.alive,s=this.dead,o=0,a=[],l=n.length;for(o=0;o<l;o++){var u=n[o];u.update(e,i,r)&&a.push({index:o,particle:u})}if((l=a.length)>0){var h=this.deathCallback,c=this.deathCallbackScope;for(o=l-1;o>=0;o--){var d=a[o];n.splice(d.index,1),s.push(d.particle),h&&h.call(c,d.particle),d.particle.resetPosition()}}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y}});t.exports=x},function(t,e,i){var r=new(i(0))({initialize:function(t,e){this.source=t,this.killOnEnter=e},willKill:function(t){var e=this.source.contains(t.x,t.y);return e&&this.killOnEnter||!e&&!this.killOnEnter}});t.exports=r},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r,n){void 0===r&&(r=!1),void 0===n&&(n=!0),this.source=t,this.points=[],this.quantity=e,this.stepRate=i,this.yoyo=r,this.counter=-1,this.seamless=n,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],e=this.points[this.points.length-1];t.x===e.x&&t.y===e.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var e=this.points[this.counter];e&&(t.x=e.x,t.y=e.y)}});t.exports=r},function(t,e){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}},function(t,e,i){var r=i(0),n=i(3),s=new r({initialize:function(t){this.source=t,this._tempVec=new n},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e),t.x=e.x,t.y=e.y}});t.exports=s},function(t,e,i){var r=i(0),n=i(11),s=i(73),o=new r({Extends:s,Mixins:[n.PathFollower],initialize:function(t,e,i,r,n,o){s.call(this,t,i,r,n,o),this.path=e},preUpdate:function(t,e){this.anims.update(t,e),this.pathUpdate(t)}});t.exports=o},function(t,e){t.exports=function(t,e,i){var r=t.canvas,n=t.context,s=t.style,o=[],a=0,l=i.length;s.maxLines>0&&s.maxLines<i.length&&(l=s.maxLines),s.syncFont(r,n);for(var u=0;u<l;u++){var h=s.strokeThickness;h+=n.measureText(i[u]).width,s.wordWrap&&(h-=n.measureText(" ").width),o[u]=Math.ceil(h),a=Math.max(a,o[u])}var c=e.fontSize+s.strokeThickness,d=c*l,f=t.lineSpacing;return l>1&&(d+=f*(l-1)),{width:a,height:d,lines:l,lineWidths:o,lineSpacing:f,lineHeight:c}}},function(t,e,i){var r=i(0),n=i(13),s=i(6),o=i(460),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},l=new r({initialize:function(t,e){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(e,!1,!0);var i=s(e,"metrics",!1);this.metrics=i?{ascent:s(i,"ascent",0),descent:s(i,"descent",0),fontSize:s(i,"fontSize",0)}:o(this)},setStyle:function(t,e,i){for(var r in void 0===e&&(e=!0),void 0===i&&(i=!1),t&&t.hasOwnProperty("fontSize")&&"number"===typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),a){var o=i?a[r][1]:this[r];this[r]="wordWrapCallback"===r||"wordWrapCallbackScope"===r?s(t,a[r][0],o):n(t,a[r][0],o)}var l=s(t,"font",null);null!==l&&this.setFont(l,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var u=s(t,"fill",null);return null!==u&&(this.color=u),e?this.update(!0):this.parent},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},setFont:function(t,e){void 0===e&&(e=!0);var i=t,r="",n="";if("string"!==typeof t)i=s(t,"fontFamily","Courier"),r=s(t,"fontSize","16px"),n=s(t,"fontStyle","");else{var o=t.split(" "),a=0;n=o.length>2?o[a++]:"",r=o[a++]||"16px",i=o[a++]||"Courier"}return i===this.fontFamily&&r===this.fontSize&&n===this.fontStyle||(this.fontFamily=i,this.fontSize=r,this.fontStyle=n,e&&this.update(!0)),this.parent},setFontFamily:function(t){return this.fontFamily!==t&&(this.fontFamily=t,this.update(!0)),this.parent},setFontStyle:function(t){return this.fontStyle!==t&&(this.fontStyle=t,this.update(!0)),this.parent},setFontSize:function(t){return"number"===typeof t&&(t=t.toString()+"px"),this.fontSize!==t&&(this.fontSize=t,this.update(!0)),this.parent},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,e){return void 0===e&&(e=this.strokeThickness),void 0===t&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===t&&this.strokeThickness===e||(this.stroke=t,this.strokeThickness=e,this.update(!0)),this.parent},setShadow:function(t,e,i,r,n,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===r&&(r=0),void 0===n&&(n=!1),void 0===s&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=r,this.shadowStroke=n,this.shadowFill=s,this.update(!1)},setShadowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,e){return void 0===e&&(e=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=e,this.update(!1)},setWordWrapCallback:function(t,e){return void 0===e&&(e=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=e,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in a)t[e]=this[e];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});t.exports=l},function(t,e,i){var r=i(31);t.exports=function(t){var e=r.create(this),i=e.getContext("2d");t.syncFont(e,i);var n=i.measureText(t.testString);if("actualBoundingBoxAscent"in n){var s=n.actualBoundingBoxAscent,o=n.actualBoundingBoxDescent;return r.remove(e),{ascent:s,descent:o,fontSize:s+o}}var a=Math.ceil(n.width*t.baselineX),l=a,u=2*l;l=l*t.baselineY|0,e.width=a,e.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,l);var h={ascent:0,descent:0,fontSize:0},c=i.getImageData(0,0,a,u);if(!c)return h.ascent=l,h.descent=l+6,h.fontSize=h.ascent+h.descent,r.remove(e),h;var d,f,p=c.data,m=p.length,v=4*a,y=0,g=!1;for(d=0;d<l;d++){for(f=0;f<v;f+=4)if(255!==p[y+f]){g=!0;break}if(g)break;y+=v}for(h.ascent=l-d,y=m-v,g=!1,d=u;d>l;d--){for(f=0;f<v;f+=4)if(255!==p[y+f]){g=!0;break}if(g)break;y-=v}return h.descent=d-l,h.fontSize=h.ascent+h.descent,r.remove(e),h}},function(t,e,i){var r=i(1097),n=i(0),s=i(36),o=i(59),a=i(65),l=i(14),u=i(34),h=new n({Extends:u,Mixins:[r],initialize:function(t,e,i,r,n,s,o,l,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=128),void 0===n&&(n=0),void 0===s&&(s=360),void 0===o&&(o=!1),u.call(this,t,"Arc",new a(0,0,r)),this._startAngle=n,this._endAngle=s,this._anticlockwise=o,this._iterations=.01,this.setPosition(e,i);var c=2*this.geom.radius;this.setSize(c,c),void 0!==l&&this.setFillStyle(l,h),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t;var e=2*t;this.setSize(e,e),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.updateData()}},setRadius:function(t){return this.radius=t,this},setIterations:function(t){return void 0===t&&(t=.01),this.iterations=t,this},setStartAngle:function(t,e){return this._startAngle=t,void 0!==e&&(this._anticlockwise=e),this.updateData()},setEndAngle:function(t,e){return this._endAngle=t,void 0!==e&&(this._anticlockwise=e),this.updateData()},updateData:function(){var t=this._iterations,e=t,i=this.geom.radius,r=s(this._startAngle),n=s(this._endAngle),a=i,u=i;n-=r,this._anticlockwise?n<-l.PI2?n=-l.PI2:n>0&&(n=-l.PI2+n%l.PI2):n>l.PI2?n=l.PI2:n<0&&(n=l.PI2+n%l.PI2);for(var h,c=[a+Math.cos(r)*i,u+Math.sin(r)*i];e<1;)h=n*e+r,c.push(a+Math.cos(h)*i,u+Math.sin(h)*i),e+=t;return h=n+r,c.push(a+Math.cos(h)*i,u+Math.sin(h)*i),c.push(a+Math.cos(r)*i,u+Math.sin(r)*i),this.pathIndexes=o(c),this.pathData=c,this}});t.exports=h},function(t,e,i){var r=i(0),n=i(1100),s=i(59),o=i(10),a=i(34),l=new r({Extends:a,Mixins:[n],initialize:function(t,e,i,r,n,s){void 0===e&&(e=0),void 0===i&&(i=0),a.call(this,t,"Curve",r),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(e,i),void 0!==n&&this.setFillStyle(n,s),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t=this._curveBounds,e=this._smoothness;this.geom.getBounds(t,e),this.setSize(t.width,t.height),this.updateDisplayOrigin();for(var i=[],r=this.geom.getPoints(e),n=0;n<r.length;n++)i.push(r[n].x,r[n].y);return i.push(r[0].x,r[0].y),this.pathIndexes=s(i),this.pathData=i,this}});t.exports=l},function(t,e,i){var r=i(0),n=i(59),s=i(1103),o=i(111),a=i(34),l=new r({Extends:a,Mixins:[s],initialize:function(t,e,i,r,n,s,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=128),void 0===n&&(n=128),a.call(this,t,"Ellipse",new o(r/2,n/2,r,n)),this._smoothness=64,this.setPosition(e,i),this.width=r,this.height=n,void 0!==s&&this.setFillStyle(s,l),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSize:function(t,e){return this.width=t,this.height=e,this.geom.setPosition(t/2,e/2),this.geom.setSize(t,e),this.updateData()},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){for(var t=[],e=this.geom.getPoints(this._smoothness),i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=n(t),this.pathData=t,this}});t.exports=l},function(t,e,i){var r=i(0),n=i(34),s=i(1106),o=new r({Extends:n,Mixins:[s],initialize:function(t,e,i,r,s,o,a,l,u,h,c){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=128),void 0===s&&(s=128),void 0===o&&(o=32),void 0===a&&(a=32),n.call(this,t,"Grid",null),this.cellWidth=o,this.cellHeight=a,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(e,i),this.setSize(r,s),this.setFillStyle(l,u),void 0!==h&&this.setOutlineStyle(h,c),this.updateDisplayOrigin()},setFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showCells=!1:(this.fillColor=t,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showAltCells=!1:(this.altFillColor=t,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showOutline=!1:(this.outlineFillColor=t,this.outlineFillAlpha=e,this.showOutline=!0),this}});t.exports=o},function(t,e,i){var r=i(1109),n=i(0),s=i(34),o=new n({Extends:s,Mixins:[r],initialize:function(t,e,i,r,n,o,a,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=48),void 0===n&&(n=32),void 0===o&&(o=15658734),void 0===a&&(a=10066329),void 0===l&&(l=13421772),s.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=o,this.fillLeft=a,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(e,i),this.setSize(r,n),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setFaces:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=o},function(t,e,i){var r=i(0),n=i(1112),s=i(34),o=new r({Extends:s,Mixins:[n],initialize:function(t,e,i,r,n,o,a,l,u){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=48),void 0===n&&(n=32),void 0===o&&(o=!1),void 0===a&&(a=15658734),void 0===l&&(l=10066329),void 0===u&&(u=13421772),s.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=a,this.fillLeft=l,this.fillRight=u,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=o,this.isFilled=!0,this.setPosition(e,i),this.setSize(r,n),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setReversed:function(t){return this.isReversed=t,this},setFaces:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=o},function(t,e,i){var r=i(0),n=i(34),s=i(47),o=i(1115),a=new r({Extends:n,Mixins:[o],initialize:function(t,e,i,r,o,a,l,u,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=128),void 0===l&&(l=0),n.call(this,t,"Line",new s(r,o,a,l));var c=Math.max(1,this.geom.right-this.geom.left),d=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(e,i),this.setSize(c,d),void 0!==u&&this.setStrokeStyle(1,u,h),this.updateDisplayOrigin()},setLineWidth:function(t,e){return void 0===e&&(e=t),this._startWidth=t,this._endWidth=e,this.lineWidth=t,this},setTo:function(t,e,i,r){return this.geom.setTo(t,e,i,r),this}});t.exports=a},function(t,e,i){var r=i(1118),n=i(0),s=i(59),o=i(469),a=i(227),l=i(34),u=i(472),h=new n({Extends:l,Mixins:[r],initialize:function(t,e,i,r,n,s){void 0===e&&(e=0),void 0===i&&(i=0),l.call(this,t,"Polygon",new a(r));var u=o(this.geom);this.setPosition(e,i),this.setSize(u.width,u.height),void 0!==n&&this.setFillStyle(n,s),this.updateDisplayOrigin(),this.updateData()},smooth:function(t){void 0===t&&(t=1);for(var e=0;e<t;e++)u(this.geom);return this.updateData()},updateData:function(){for(var t=[],e=this.geom.points,i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=s(t),this.pathData=t,this}});t.exports=h},function(t,e,i){var r=i(10);t.exports=function(t,e){void 0===e&&(e=new r);for(var i,n=1/0,s=1/0,o=-n,a=-s,l=0;l<t.points.length;l++)i=t.points[l],n=Math.min(n,i.x),s=Math.min(s,i.y),o=Math.max(o,i.x),a=Math.max(a,i.y);return e.x=n,e.y=s,e.width=o-n,e.height=a-s,e}},function(t,e,i){var r=i(67),n=i(47),s=i(471);t.exports=function(t,e,i,o){void 0===o&&(o=[]);var a=t.points,l=s(t);!e&&i>0&&(e=l/i);for(var u=0;u<e;u++)for(var h=l*(u/e),c=0,d=0;d<a.length;d++){var f=a[d],p=a[(d+1)%a.length],m=new n(f.x,f.y,p.x,p.y),v=r(m);if(!(h<c||h>c+v)){var y=m.getPoint((h-c)/v);o.push(y);break}c+=v}return o}},function(t,e,i){var r=i(67),n=i(47);t.exports=function(t){for(var e=t.points,i=0,s=0;s<e.length;s++){var o=e[s],a=e[(s+1)%e.length],l=new n(o.x,o.y,a.x,a.y);i+=r(l)}return i}},function(t,e){var i=function(t,e){return t[0]=e[0],t[1]=e[1],t};t.exports=function(t){var e,r=[],n=t.points;for(e=0;e<n.length;e++)r.push([n[e].x,n[e].y]);var s=[];for(r.length>0&&s.push(i([0,0],r[0])),e=0;e<r.length-1;e++){var o=r[e],a=r[e+1],l=o[0],u=o[1],h=a[0],c=a[1];s.push([.85*l+.15*h,.85*u+.15*c]),s.push([.15*l+.85*h,.15*u+.85*c])}return r.length>1&&s.push(i([0,0],r[r.length-1])),t.setTo(s)}},function(t,e,i){var r=i(0),n=i(10),s=i(34),o=i(1121),a=new r({Extends:s,Mixins:[o],initialize:function(t,e,i,r,o,a,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=128),void 0===o&&(o=128),s.call(this,t,"Rectangle",new n(0,0,r,o)),this.setPosition(e,i),this.setSize(r,o),void 0!==a&&this.setFillStyle(a,l),this.updateDisplayOrigin(),this.updateData()},setSize:function(t,e){return this.width=t,this.height=e,this.geom.setSize(t,e),this.updateData(),this},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),e.getLineD(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=a},function(t,e,i){var r=i(1124),n=i(0),s=i(59),o=i(34),a=new n({Extends:o,Mixins:[r],initialize:function(t,e,i,r,n,s,a,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=5),void 0===n&&(n=32),void 0===s&&(s=64),o.call(this,t,"Star",null),this._points=r,this._innerRadius=n,this._outerRadius=s,this.setPosition(e,i),this.setSize(2*s,2*s),void 0!==a&&this.setFillStyle(a,l),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],e=this._points,i=this._innerRadius,r=this._outerRadius,n=Math.PI/2*3,o=Math.PI/e,a=r,l=r;t.push(a,l+-r);for(var u=0;u<e;u++)t.push(a+Math.cos(n)*r,l+Math.sin(n)*r),n+=o,t.push(a+Math.cos(n)*i,l+Math.sin(n)*i),n+=o;return t.push(a,l+-r),this.pathIndexes=s(t),this.pathData=t,this}});t.exports=a},function(t,e,i){var r=i(0),n=i(34),s=i(82),o=i(1127),a=new r({Extends:n,Mixins:[o],initialize:function(t,e,i,r,o,a,l,u,h,c,d){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=128),void 0===a&&(a=64),void 0===l&&(l=0),void 0===u&&(u=128),void 0===h&&(h=128),n.call(this,t,"Triangle",new s(r,o,a,l,u,h));var f=this.geom.right-this.geom.left,p=this.geom.bottom-this.geom.top;this.setPosition(e,i),this.setSize(f,p),void 0!==c&&this.setFillStyle(c,d),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,e,i,r,n,s){return this.geom.setTo(t,e,i,r,n,s),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=a},function(t,e,i){var r=i(4),n=i(67);t.exports=function(t,e,i){void 0===i&&(i=new r);var s=t.getLineA(),o=t.getLineB(),a=t.getLineC();if(e<=0||e>=1)return i.x=s.x1,i.y=s.y1,i;var l=n(s),u=n(o),h=n(a),c=(l+u+h)*e,d=0;return c<l?(d=c/l,i.x=s.x1+(s.x2-s.x1)*d,i.y=s.y1+(s.y2-s.y1)*d):c>l+u?(d=(c-=l+u)/h,i.x=a.x1+(a.x2-a.x1)*d,i.y=a.y1+(a.y2-a.y1)*d):(d=(c-=l)/u,i.x=o.x1+(o.x2-o.x1)*d,i.y=o.y1+(o.y2-o.y1)*d),i}},function(t,e,i){var r=i(67),n=i(4);t.exports=function(t,e,i,s){void 0===s&&(s=[]);var o=t.getLineA(),a=t.getLineB(),l=t.getLineC(),u=r(o),h=r(a),c=r(l),d=u+h+c;!e&&i>0&&(e=d/i);for(var f=0;f<e;f++){var p=d*(f/e),m=0,v=new n;p<u?(m=p/u,v.x=o.x1+(o.x2-o.x1)*m,v.y=o.y1+(o.y2-o.y1)*m):p>u+h?(m=(p-=u+h)/c,v.x=l.x1+(l.x2-l.x1)*m,v.y=l.y1+(l.y2-l.y1)*m):(m=(p-=u)/h,v.x=a.x1+(a.x2-a.x1)*m,v.y=a.y1+(a.y2-a.y1)*m),s.push(v)}return s}},function(t,e){t.exports=function(t,e,i){if(!t||"number"===typeof t)return!1;if(t.hasOwnProperty(e))return t[e]=i,!0;if(-1!==e.indexOf(".")){for(var r=e.split("."),n=t,s=t,o=0;o<r.length;o++){if(!n.hasOwnProperty(r[o]))return!1;s=n,n=n[r[o]]}return s[r[r.length-1]]=i,!0}return!1}},function(t,e,i){var r=i(116),n=i(117);t.exports=function(t,e,i,s,o,a,l){if(void 0===s&&(s=!1),void 0===a&&(a=16777215),void 0===l&&(l=1),t.length===e.length){var u,h,c,d,f,p,m,v,y,g,x,b={faces:[],vertices:[]},w=s?3:2,_=Array.isArray(a),S=Array.isArray(l);if(Array.isArray(i)&&i.length>0)for(u=0;u<i.length;u++){var A=i[u],T=2*i[u],E=i[u]*w;h=t[E],c=t[E+1],d=s?t[E+2]:0,f=e[T],p=e[T+1],m=_?a[A]:a,v=S?l[A]:l,y=0,g=0,x=0,o&&(y=o[E],g=o[E+1],x=s?o[E+2]:0),b.vertices.push(new n(h,c,d,f,p,m,v,y,g,x))}else{var M=0,C=0;for(u=0;u<t.length;u+=w)h=t[u],c=t[u+1],d=s?t[u+2]:0,f=e[M],p=e[M+1],m=_?a[C]:a,v=S?l[C]:l,y=0,g=0,x=0,o&&(y=o[u],g=o[u+1],x=s?o[u+2]:0),b.vertices.push(new n(h,c,d,f,p,m,v,y,g,x)),M+=2,C++}for(u=0;u<b.vertices.length;u+=3){var P=b.vertices[u],R=b.vertices[u+1],k=b.vertices[u+2];b.faces.push(new r(P,R,k))}return b}console.warn("GenerateVerts: vertices and uvs count not equal")}},function(t,e,i){var r=i(116),n=i(69),s=i(39),o=i(117),a=new s,l=new s,u=new n;t.exports=function(t,e,i,n,s,h,c,d,f,p){void 0===i&&(i=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===f&&(f=0),void 0===p&&(p=!0);var m={faces:[],verts:[]},v=t.materials;a.set(n,s,h),l.set(c,d,f),u.fromRotationXYTranslation(l,a,p);for(var y=0;y<t.models.length;y++)for(var g=t.models[y],x=g.vertices,b=g.textureCoords,w=g.faces,_=0;_<w.length;_++){var S=w[_],A=S.vertices[0],T=S.vertices[1],E=S.vertices[2],M=x[A.vertexIndex],C=x[T.vertexIndex],P=x[E.vertexIndex],R=A.textureCoordsIndex,k=T.textureCoordsIndex,L=E.textureCoordsIndex,O=-1===R?{u:0,v:1}:b[R],D=-1===k?{u:0,v:0}:b[k],I=-1===L?{u:1,v:1}:b[L],F=16777215;""!==S.material&&v[S.material]&&(F=v[S.material]);var j=new o(M.x*i,M.y*i,M.z*i,O.u,O.v,F).transformMat4(u),B=new o(C.x*i,C.y*i,C.z*i,D.u,D.v,F).transformMat4(u),N=new o(P.x*i,P.y*i,P.z*i,I.u,I.v,F).transformMat4(u);m.verts.push(j,B,N),m.faces.push(new r(j,B,N))}return e&&(e.faces=e.faces.concat(m.faces),e.vertices=e.vertices.concat(m.verts)),m}},function(t,e,i){var r=i(65),n=i(0),s=i(11),o=i(200),a=i(12),l=new n({Extends:r,Mixins:[s.ScrollFactor,s.Visible],initialize:function(t,e,i,n,s,a,l){r.call(this,t,e,i),this.color=new o(n,s,a),this.intensity=l,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(t){return!(l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},setColor:function(t){var e=a.getFloatsFromUintRGB(t);return this.color.set(e[0],e[1],e[2]),this},setIntensity:function(t){return this.intensity=t,this},setRadius:function(t){return this.radius=t,this}});l.RENDER_MASK=15,t.exports=l},function(t,e,i){var r=i(151),n=i(0),s=i(50),o=i(481),a=i(150),l=i(200),u=i(74),h=i(79),c=i(12),d=new n({initialize:function(){this.lights=[],this.ambientColor=new l(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(t,e,i,r,n,s){return this.systems.displayList.add(new a(this.scene,t,e,i,r,n,s))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(t){for(var e=this.lights,i=t.worldView,n=[],o=0;o<e.length;o++){var a=e[o];a.willRender(t)&&r(a,i)&&n.push({light:a,distance:s(a.x,a.y,i.centerX,i.centerY)})}return n.length>this.maxLights&&(h(n,this.sortByDistance),n=n.slice(0,this.maxLights)),this.visibleLights=n.length,n},sortByDistance:function(t,e){return t.distance>=e.distance},setAmbientColor:function(t){var e=c.getFloatsFromUintRGB(t);return this.ambientColor.set(e[0],e[1],e[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=128),void 0===r&&(r=16777215),void 0===n&&(n=1);var s=c.getFloatsFromUintRGB(r),a=new o(t,e,i,s[0],s[1],s[2],n);return this.lights.push(a),a},removeLight:function(t){var e=this.lights.indexOf(t);return e>=0&&u(this.lights,e),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});t.exports=d},function(t,e,i){var r=i(56),n=i(17),s={Circle:i(1191),Ellipse:i(1201),Intersects:i(484),Line:i(1221),Mesh:i(1243),Point:i(1246),Polygon:i(1260),Rectangle:i(502),Triangle:i(1293)};s=n(!1,s,r),t.exports=s},function(t,e,i){t.exports={CircleToCircle:i(231),CircleToRectangle:i(151),GetCircleToCircle:i(1211),GetCircleToRectangle:i(1212),GetLineToCircle:i(232),GetLineToLine:i(485),GetLineToPoints:i(486),GetLineToPolygon:i(487),GetLineToRectangle:i(234),GetRaysFromPointToPolygon:i(1213),GetRectangleIntersection:i(1214),GetRectangleToRectangle:i(1215),GetRectangleToTriangle:i(1216),GetTriangleToCircle:i(1217),GetTriangleToLine:i(492),GetTriangleToTriangle:i(1218),LineToCircle:i(233),LineToLine:i(96),LineToRectangle:i(488),PointToLine:i(496),PointToLineSegment:i(1219),RectangleToRectangle:i(152),RectangleToTriangle:i(489),RectangleToValues:i(1220),TriangleToCircle:i(491),TriangleToLine:i(493),TriangleToTriangle:i(494)}},function(t,e,i){var r=i(39);t.exports=function(t,e,i){var n=t.x1,s=t.y1,o=t.x2,a=t.y2,l=e.x1,u=e.y1,h=o-n,c=a-s,d=e.x2-l,f=e.y2-u;if(0===h||0===f*h-d*c)return!1;var p=(h*(u-s)+c*(n-l))/(d*c-f*h),m=(l+d*p-n)/h;return m<0||p<0||p>1?null:(void 0===i&&(i=new r),i.set(n+h*m,s+c*m,m))}},function(t,e,i){var r=i(39),n=i(485),s=new(i(47)),o=new r;t.exports=function(t,e,i){void 0===i&&(i=new r);var a=!1;i.set(),o.set();for(var l=e[0],u=1;u<e.length;u++){var h=e[u];s.setTo(l.x,l.y,h.x,h.y),l=h,n(t,s,o)&&(!a||o.z<i.z)&&(i.copy(o),a=!0)}return a?i:null}},function(t,e,i){var r=i(39),n=i(140),s=i(486),o=new r;t.exports=function(t,e,i){void 0===i&&(i=new n),Array.isArray(e)||(e=[e]);var r=!1;i.set(),o.set();for(var a=0;a<e.length;a++)s(t,e[a].points,o)&&(!r||o.z<i.z)&&(i.set(o.x,o.y,o.z,a),r=!0);return r?i:null}},function(t,e){t.exports=function(t,e){var i=t.x1,r=t.y1,n=t.x2,s=t.y2,o=e.x,a=e.y,l=e.right,u=e.bottom,h=0;if(i>=o&&i<=l&&r>=a&&r<=u||n>=o&&n<=l&&s>=a&&s<=u)return!0;if(i<o&&n>=o){if((h=r+(s-r)*(o-i)/(n-i))>a&&h<=u)return!0}else if(i>l&&n<=l&&(h=r+(s-r)*(l-i)/(n-i))>=a&&h<=u)return!0;if(r<a&&s>=a){if((h=i+(n-i)*(a-r)/(s-r))>=o&&h<=l)return!0}else if(r>u&&s<=u&&(h=i+(n-i)*(u-r)/(s-r))>=o&&h<=l)return!0;return!1}},function(t,e,i){var r=i(96),n=i(57),s=i(235),o=i(490);t.exports=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),a=e.getLineB(),l=e.getLineC();if(n(t,i.x1,i.y1)||n(t,i.x2,i.y2))return!0;if(n(t,a.x1,a.y1)||n(t,a.x2,a.y2))return!0;if(n(t,l.x1,l.y1)||n(t,l.x2,l.y2))return!0;var u=t.getLineA(),h=t.getLineB(),c=t.getLineC(),d=t.getLineD();if(r(i,u)||r(i,h)||r(i,c)||r(i,d))return!0;if(r(a,u)||r(a,h)||r(a,c)||r(a,d))return!0;if(r(l,u)||r(l,h)||r(l,c)||r(l,d))return!0;var f=o(t);return s(e,f,!0).length>0}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e}},function(t,e,i){var r=i(233),n=i(115);t.exports=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)&&(!!n(t,e.x,e.y)||!!r(t.getLineA(),e)||!!r(t.getLineB(),e)||!!r(t.getLineC(),e))}},function(t,e,i){var r=i(4),n=i(493),s=i(96);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e))for(var o=t.getLineA(),a=t.getLineB(),l=t.getLineC(),u=[new r,new r,new r],h=[s(o,e,u[0]),s(a,e,u[1]),s(l,e,u[2])],c=0;c<3;c++)h[c]&&i.push(u[c]);return i}},function(t,e,i){var r=i(96);t.exports=function(t,e){return!(!t.contains(e.x1,e.y1)&&!t.contains(e.x2,e.y2))||!!r(t.getLineA(),e)||!!r(t.getLineB(),e)||!!r(t.getLineC(),e)}},function(t,e,i){var r=i(235),n=i(495),s=i(96);t.exports=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),o=t.getLineB(),a=t.getLineC(),l=e.getLineA(),u=e.getLineB(),h=e.getLineC();if(s(i,l)||s(i,u)||s(i,h))return!0;if(s(o,l)||s(o,u)||s(o,h))return!0;if(s(a,l)||s(a,u)||s(a,h))return!0;var c=n(t),d=r(e,c,!0);return d.length>0||(c=n(e),(d=r(t,c,!0)).length>0)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=1);var r=e.x1,n=e.y1,s=e.x2,o=e.y2,a=t.x,l=t.y,u=(s-r)*(s-r)+(o-n)*(o-n);if(0===u)return!1;var h=((a-r)*(s-r)+(l-n)*(o-n))/u;if(h<0)return Math.sqrt((r-a)*(r-a)+(n-l)*(n-l))<=i;if(h>=0&&h<=1){var c=((n-l)*(s-r)-(r-a)*(o-n))/u;return Math.abs(c)*Math.sqrt(u)<=i}return Math.sqrt((s-a)*(s-a)+(o-l)*(o-l))<=i}},function(t,e,i){var r=i(14),n=i(68),s=i(97);t.exports=function(t){var e=s(t)-r.TAU;return n(e,-Math.PI,Math.PI)}},function(t,e){var i=!0,r="untitled",n="",s="";function o(t){var e=t.indexOf("#");return e>-1?t.substring(0,e):t}function a(t){return 0===t.models.length&&t.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),n="",t.models[t.models.length-1]}function l(t,e){var i=t.length>=2?t[1]:r;e.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),n=""}function u(t){2===t.length&&(n=t[1])}function h(t,e){var i=t.length,r=i>=2?parseFloat(t[1]):0,n=i>=3?parseFloat(t[2]):0,s=i>=4?parseFloat(t[3]):0;a(e).vertices.push({x:r,y:n,z:s})}function c(t,e){var r=t.length,n=r>=2?parseFloat(t[1]):0,s=r>=3?parseFloat(t[2]):0,o=r>=4?parseFloat(t[3]):0;isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(o)&&(o=0),i&&(s=1-s),a(e).textureCoords.push({u:n,v:s,w:o})}function d(t,e){var i=t.length,r=i>=2?parseFloat(t[1]):0,n=i>=3?parseFloat(t[2]):0,s=i>=4?parseFloat(t[3]):0;a(e).vertexNormals.push({x:r,y:n,z:s})}function f(t,e){var i=t.length-1;if(!(i<3)){for(var r={group:n,material:s,vertices:[]},o=0;o<i;o++){var l=t[o+1].split("/"),u=l.length;if(!(u<1||u>3)){var h=0,c=0,d=0;h=parseInt(l[0],10),u>1&&""!==l[1]&&(c=parseInt(l[1],10)),u>2&&(d=parseInt(l[2],10)),0!==h&&(h<0&&(h=a(e).vertices.length+1+h),c-=1,h-=1,d-=1,r.vertices.push({textureCoordsIndex:c,vertexIndex:h,vertexNormalIndex:d}))}}a(e).faces.push(r)}}function p(t,e){t.length>=2&&e.materialLibraries.push(t[1])}function m(t){t.length>=2&&(s=t[1])}t.exports=function(t,e){void 0===e&&(e=!0),i=e;var r={materials:{},materialLibraries:[],models:[]};n="",s="";for(var a=t.split("\n"),v=0;v<a.length;v++){var y=o(a[v]).replace(/\s\s+/g," ").trim().split(" ");switch(y[0].toLowerCase()){case"o":l(y,r);break;case"g":u(y);break;case"v":h(y,r);break;case"vt":c(y,r);break;case"vn":d(y,r);break;case"f":f(y,r);break;case"mtllib":p(y,r);break;case"usemtl":m(y)}}return r}},function(t,e,i){var r=i(103);t.exports=function(t){for(var e={},i=t.split("\n"),n="",s=0;s<i.length;s++){var o=i[s].trim();if(0!==o.indexOf("#")&&""!==o){var a=o.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":n=a[1];break;case"kd":var l=Math.floor(255*a[1]),u=a.length>=2?Math.floor(255*a[2]):l,h=a.length>=3?Math.floor(255*a[3]):l;e[n]=r(l,u,h)}}}return e}},function(t,e){t.exports=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}},function(t,e){t.exports=function(t){return t.x*t.x+t.y*t.y}},function(t,e,i){var r=i(10);r.Area=i(1267),r.Ceil=i(1268),r.CeilAll=i(1269),r.CenterOn=i(190),r.Clone=i(1270),r.Contains=i(57),r.ContainsPoint=i(1271),r.ContainsRect=i(503),r.CopyFrom=i(1272),r.Decompose=i(490),r.Equals=i(1273),r.FitInside=i(1274),r.FitOutside=i(1275),r.Floor=i(1276),r.FloorAll=i(1277),r.FromPoints=i(199),r.FromXY=i(1278),r.GetAspectRatio=i(237),r.GetCenter=i(1279),r.GetPoint=i(171),r.GetPoints=i(306),r.GetSize=i(1280),r.Inflate=i(1281),r.Intersection=i(1282),r.MarchingAnts=i(316),r.MergePoints=i(1283),r.MergeRect=i(1284),r.MergeXY=i(1285),r.Offset=i(1286),r.OffsetPoint=i(1287),r.Overlaps=i(1288),r.Perimeter=i(130),r.PerimeterPoint=i(1289),r.Random=i(174),r.RandomOutside=i(1290),r.SameDimensions=i(1291),r.Scale=i(1292),r.Union=i(441),t.exports=r},function(t,e){t.exports=function(t,e){return!(e.width*e.height>t.width*t.height)&&e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom}},function(t,e,i){var r=i(4);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e}},function(t,e){t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t}},function(t,e,i){var r=i(4);function n(t,e,i,r){var n=t-i,s=e-r,o=n*n+s*s;return Math.sqrt(o)}t.exports=function(t,e){void 0===e&&(e=new r);var i=t.x1,s=t.y1,o=t.x2,a=t.y2,l=t.x3,u=t.y3,h=n(l,u,o,a),c=n(i,s,l,u),d=n(o,a,i,s),f=h+c+d;return e.x=(i*h+o*c+l*d)/f,e.y=(s*h+a*c+u*d)/f,e}},function(t,e){t.exports=function(t,e){return function(i,r,n,s){var o=t.getPixelAlpha(r,n,s.texture.key,s.frame.name);return o&&o>=e}}},function(t,e){t.exports=function(t,e,i){return{gameObject:t,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(t,e,i){var r=new(i(0))({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});t.exports=r},function(t,e,i){var r=i(0),n=i(239),s=new r({initialize:function(t,e){this.pad=t,this.events=t.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(t){this.value=t;var e=this.pad,i=this.index;t>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(n.BUTTON_DOWN,e,this,t),this.pad.emit(n.GAMEPAD_BUTTON_DOWN,i,t,this)):this.pressed&&(this.pressed=!1,this.events.emit(n.BUTTON_UP,e,this,t),this.pad.emit(n.GAMEPAD_BUTTON_UP,i,t,this))},destroy:function(){this.pad=null,this.events=null}});t.exports=s},function(t,e,i){var r=i(509),n=i(510),s=i(0),o=i(9),a=i(3),l=new s({Extends:o,initialize:function(t,e){o.call(this),this.manager=t,this.pad=e,this.id=e.id,this.index=e.index;for(var i=[],s=0;s<e.buttons.length;s++)i.push(new n(this,s));this.buttons=i;var l=[];for(s=0;s<e.axes.length;s++)l.push(new r(this,s));this.axes=l,this.vibration=e.vibrationActuator;var u={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:u,this._LCRight=i[15]?i[15]:u,this._LCTop=i[12]?i[12]:u,this._LCBottom=i[13]?i[13]:u,this._RCLeft=i[2]?i[2]:u,this._RCRight=i[1]?i[1]:u,this._RCTop=i[3]?i[3]:u,this._RCBottom=i[0]?i[0]:u,this._FBLeftTop=i[4]?i[4]:u,this._FBLeftBottom=i[6]?i[6]:u,this._FBRightTop=i[5]?i[5]:u,this._FBRightBottom=i[7]?i[7]:u;var h={value:0};this._HAxisLeft=l[0]?l[0]:h,this._VAxisLeft=l[1]?l[1]:h,this._HAxisRight=l[2]?l[2]:h,this._VAxisRight=l[3]?l[3]:h,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){if(!(t.timestamp<this._created)){var e,i=this.buttons,r=t.buttons,n=i.length;for(e=0;e<n;e++)i[e].update(r[e].value);var s=this.axes,o=t.axes;for(n=s.length,e=0;e<n;e++)s[e].update(o[e]);n>=2&&(this.leftStick.set(s[0].getValue(),s[1].getValue()),n>=4&&this.rightStick.set(s[2].getValue(),s[3].getValue()))}},destroy:function(){var t;for(this.removeAllListeners(),this.manager=null,this.pad=null,t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});t.exports=l},function(t,e,i){var r=i(0),n=i(9),s=i(154),o=new r({Extends:n,initialize:function(t,e){n.call(this),this.plugin=t,this.keyCode=e,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(t){return this.emitOnRepeat=t,this},onDown:function(t){this.originalEvent=t,this.enabled&&(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.location=t.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,t):(this.isDown=!0,this.isUp=!1,this.timeDown=t.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,t)))},onUp:function(t){this.originalEvent=t,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=t.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,t))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});t.exports=o},function(t,e,i){var r=i(0),n=i(154),s=i(2),o=i(514),a=i(516),l=new r({initialize:function(t,e,i){if(void 0===i&&(i={}),e.length<2)return!1;this.manager=t,this.enabled=!0,this.keyCodes=[];for(var r=0;r<e.length;r++){var l=e[r];"string"===typeof l?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):"number"===typeof l?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(i,"resetOnWrongKey",!0),this.maxKeyDelay=s(i,"maxKeyDelay",0),this.resetOnMatch=s(i,"resetOnMatch",!1),this.deleteOnMatch=s(i,"deleteOnMatch",!1);var u=this;this.onKeyDown=function(t){!u.matched&&u.enabled&&o(t,u)&&(u.manager.emit(n.COMBO_MATCH,u,t),u.resetOnMatch?a(u):u.deleteOnMatch&&u.destroy())},this.manager.on(n.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(n.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});t.exports=l},function(t,e,i){var r=i(515);t.exports=function(t,e){if(e.matched)return!0;var i=!1,n=!1;if(t.keyCode===e.current)if(e.index>0&&e.maxKeyDelay>0){var s=e.timeLastMatched+e.maxKeyDelay;t.timeStamp<=s&&(n=!0,i=r(t,e))}else n=!0,i=r(t,e);return!n&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i}},function(t,e){t.exports=function(t,e){return e.timeLastMatched=t.timeStamp,e.index++,e.index===e.size||(e.current=e.keyCodes[e.index],!1)}},function(t,e){t.exports=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t}},function(t,e,i){var r=i(240);t.exports=function(t,e){var i=r(e,t.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",t.src,i.async,i.user,i.password),n.responseType=t.xhrSettings.responseType,n.timeout=i.timeout,i.headers)for(var s in i.headers)n.setRequestHeader(s,i.headers[s]);return i.header&&i.headerValue&&n.setRequestHeader(i.header,i.headerValue),i.requestedWith&&n.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&n.overrideMimeType(i.overrideMimeType),i.withCredentials&&(n.withCredentials=!0),n.onload=t.onLoad.bind(t,n),n.onerror=t.onError.bind(t,n),n.onprogress=t.onProgress.bind(t),n.send(),n}},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(519),u=i(7),h=new r({Extends:s,initialize:function(t,e,i,r,n){if(u(e)){var o=e;e=a(o,"key"),r=a(o,"xhrSettings"),n=a(o,"context",n)}var l={type:"audio",cache:t.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:e,url:i.url,xhrSettings:r,config:{context:n}};s.call(this,t,l)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,(function(e){t.data=e,t.onProcessComplete()}),(function(e){console.error("Error decoding audio: "+t.key+" - ",e?e.message:null),t.onProcessError()})),this.config.context=null}});h.create=function(t,e,i,r,n){var s=t.systems.game,o=s.config.audio,c=s.device.audio;u(e)&&(i=a(e,"url",[]),r=a(e,"config",{}));var d=h.getAudioURL(s,i);return d?c.webAudio&&!o.disableWebAudio?new h(t,e,d,n,s.sound.context):new l(t,e,d,r):null},h.getAudioURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=a(e[i],"url",e[i]);if(0===r.indexOf("blob:")||0===r.indexOf("data:"))return{url:r,type:""};var n=r.match(/\.([a-zA-Z0-9]+)($|\?)/);if(n=a(e[i],"type",n?n[1]:"").toLowerCase(),t.device.audio[n])return{url:r,type:n}}return null},o.register("audio",(function(t,e,i,r){var n,s=this.systems.game,o=s.config.audio,a=s.device.audio;if(o.noAudio||!a.webAudio&&!a.audioData)return this;if(Array.isArray(t))for(var l=0;l<t.length;l++)(n=h.create(this,t[l]))&&this.addFile(n);else(n=h.create(this,t,e,i,r))&&this.addFile(n);return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(95),s=i(23),o=i(2),a=i(155),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r){if(l(e)){var n=e;e=o(n,"key"),r=o(n,"config",r)}var a={type:"audio",cache:t.cacheManager.audio,extension:i.type,key:e,url:i.url,config:r};s.call(this,t,a),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(n.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)(i=this.data[e]).src=a(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});t.exports=u},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r){var n="js";if(l(e)){var o=e;e=a(o,"key"),i=a(o,"url"),r=a(o,"xhrSettings"),n=a(o,"extension",n)}var u={type:"script",cache:!1,extension:n,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){var r=i(522),n=i(157),s=i(0),o=i(62),a=i(524),l=i(525),u=new s({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(t,e,i,r,n){return this.world.addCollider(t,e,i,r,n)},overlap:function(t,e,i,r,n){return this.world.addOverlap(t,e,i,r,n)},existing:function(t,e){var i=e?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,n){var s=new r(this.scene,t,e,i,n);return this.sys.displayList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},image:function(t,e,i,n){var s=new r(this.scene,t,e,i,n);return this.sys.displayList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticSprite:function(t,e,i,r){var s=new n(this.scene,t,e,i,r);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},sprite:function(t,e,i,r){var s=new n(this.scene,t,e,i,r);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticGroup:function(t,e){return this.sys.updateList.add(new l(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new a(this.world,this.world.scene,t,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=u},function(t,e,i){var r=i(0),n=i(243),s=i(125),o=new r({Extends:s,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Pushable,n.Size,n.Velocity],initialize:function(t,e,i,r,n){s.call(this,t,e,i,r,n),this.body=null}});t.exports=o},function(t,e,i){var r=i(244),n=i(65),s=i(231),o=i(151);t.exports=function(t,e,i,a,l,u){var h=r(t,e-a,i-a,2*a,2*a,l,u);if(0===h.length)return h;for(var c=new n(e,i,a),d=new n,f=[],p=0;p<h.length;p++){var m=h[p];m.isCircle?(d.setTo(m.center.x,m.center.y,m.halfWidth),s(c,d)&&f.push(m)):o(c,m)&&f.push(m)}return f}},function(t,e,i){var r=i(157),n=i(0),s=i(62),o=i(2),a=i(113),l=i(7),u=new n({Extends:a,initialize:function(t,e,i,n){if(i||n)if(l(i))n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&l(i[0])){n=i[0];var u=this;i.forEach((function(t){t.internalCreateCallback=u.createCallbackHandler,t.internalRemoveCallback=u.removeCallbackHandler})),i=null}else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=t,n.classType=o(n,"classType",r),this.physicsType=s.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:o(n,"collideWorldBounds",!1),setBoundsRectangle:o(n,"customBoundsRectangle",null),setAccelerationX:o(n,"accelerationX",0),setAccelerationY:o(n,"accelerationY",0),setAllowDrag:o(n,"allowDrag",!0),setAllowGravity:o(n,"allowGravity",!0),setAllowRotation:o(n,"allowRotation",!0),setBounceX:o(n,"bounceX",0),setBounceY:o(n,"bounceY",0),setDragX:o(n,"dragX",0),setDragY:o(n,"dragY",0),setEnable:o(n,"enable",!0),setGravityX:o(n,"gravityX",0),setGravityY:o(n,"gravityY",0),setFrictionX:o(n,"frictionX",0),setFrictionY:o(n,"frictionY",0),setMaxVelocityX:o(n,"maxVelocityX",1e4),setMaxVelocityY:o(n,"maxVelocityY",1e4),setVelocityX:o(n,"velocityX",0),setVelocityY:o(n,"velocityY",0),setAngularVelocity:o(n,"angularVelocity",0),setAngularAcceleration:o(n,"angularAcceleration",0),setAngularDrag:o(n,"angularDrag",0),setMass:o(n,"mass",1),setImmovable:o(n,"immovable",!1)},a.call(this,e,i,n),this.type="PhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,s.DYNAMIC_BODY);var e=t.body;for(var i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){void 0===i&&(i=0);for(var r=this.getChildren(),n=0;n<r.length;n++)r[n].body.velocity.set(t+n*i,e+n*i);return this},setVelocityX:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.x=t+r*e;return this},setVelocityY:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.y=t+r*e;return this}});t.exports=u},function(t,e,i){var r=i(157),n=i(0),s=i(62),o=i(2),a=i(113),l=i(7),u=new n({Extends:a,initialize:function(t,e,i,n){i||n?l(i)?(n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=o(n,"classType",r)):Array.isArray(i)&&l(i[0])?(n=i,i=null,n.forEach((function(t){t.internalCreateCallback=this.createCallbackHandler,t.internalRemoveCallback=this.removeCallbackHandler,t.createMultipleCallback=this.createMultipleCallbackHandler,t.classType=o(t,"classType",r)}))):n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:r},this.world=t,this.physicsType=s.STATIC_BODY,a.call(this,e,i,n),this.type="StaticPhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,s.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].body.reset();return this}});t.exports=u},function(t,e,i){var r=i(350),n=i(527),s=i(18),o=i(0),a=i(528),l=i(62),u=i(50),h=i(9),c=i(245),d=i(124),f=i(354),p=i(355),m=i(246),v=i(247),y=i(529),g=i(6),x=i(14),b=i(211),w=i(530),_=i(10),S=i(531),A=i(532),T=i(537),E=i(538),M=i(149),C=i(539),P=i(248),R=i(25),k=i(3),L=i(68),O=new o({Extends:h,initialize:function(t,e){h.call(this),this.scene=t,this.bodies=new M,this.staticBodies=new M,this.pendingDestroy=new M,this.colliders=new b,this.gravity=new k(g(e,"gravity.x",0),g(e,"gravity.y",0)),this.bounds=new _(g(e,"x",0),g(e,"y",0),g(e,"width",t.sys.scale.width),g(e,"height",t.sys.scale.height)),this.checkCollision={up:g(e,"checkCollision.up",!0),down:g(e,"checkCollision.down",!0),left:g(e,"checkCollision.left",!0),right:g(e,"checkCollision.right",!0)},this.fps=g(e,"fps",60),this.fixedStep=g(e,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(e,"timeScale",1),this.OVERLAP_BIAS=g(e,"overlapBias",4),this.TILE_BIAS=g(e,"tileBias",16),this.forceX=g(e,"forceX",!1),this.isPaused=g(e,"isPaused",!1),this._total=0,this.drawDebug=g(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(e,"debugShowBody",!0),debugShowStaticBody:g(e,"debugShowStaticBody",!0),debugShowVelocity:g(e,"debugShowVelocity",!0),bodyDebugColor:g(e,"debugBodyColor",16711935),staticBodyDebugColor:g(e,"debugStaticBodyColor",255),velocityDebugColor:g(e,"debugVelocityColor",65280)},this.maxEntries=g(e,"maxEntries",16),this.useTree=g(e,"useTree",!0),this.tree=new S(this.maxEntries),this.staticTree=new S(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new R,this._tempMatrix2=new R,this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){void 0===e&&(e=l.DYNAMIC_BODY),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(r.isParent)for(var n=r.getChildren(),s=0;s<n.length;s++){var o=n[s];o.isParent?this.enable(o,e):this.enableBody(o,e)}else this.enableBody(r,e)}},enableBody:function(t,e){return void 0===e&&(e=l.DYNAMIC_BODY),t.body||(e===l.DYNAMIC_BODY?t.body=new n(this,t):e===l.STATIC_BODY&&(t.body=new C(this,t))),this.add(t.body),t},add:function(t){return t.physicsType===l.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===l.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent)for(var r=i.getChildren(),n=0;n<r.length;n++){var s=r[n];s.isParent?this.disable(s):this.disableBody(s.body)}else this.disableBody(i.body)}},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===l.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===l.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,r,n,s,o,a){return this.bounds.setTo(t,e,i,r),void 0!==n&&this.setBoundsCollision(n,s,o,a),this},setBoundsCollision:function(t,e,i,r){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(t,e,i,r,n){void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i);var s=new a(this,!1,t,e,i,r,n);return this.colliders.add(s),s},addOverlap:function(t,e,i,r,n){void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i);var s=new a(this,!0,t,e,i,r,n);return this.colliders.add(s),s},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){if(!this.isPaused&&0!==this.bodies.size){var i,r,n=this._frameTime,s=this._frameTimeMS*this.timeScale;this._elapsed+=e;var o=this.bodies.entries,a=this._elapsed>=s;for(this.fixedStep||(n=.001*e,a=!0,this._elapsed=0),i=0;i<o.length;i++)(r=o[i]).enable&&r.preUpdate(a,n);if(a){this._elapsed-=s,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(o));var l=this.colliders.update();for(i=0;i<l.length;i++){var u=l[i];u.active&&u.update()}this.emit(c.WORLD_STEP,n)}for(;this._elapsed>=s;)this._elapsed-=s,this.step(n)}},step:function(t){var e,i,r=this.bodies.entries,n=r.length;for(e=0;e<n;e++)(i=r[e]).enable&&i.update(t);this.useTree&&(this.tree.clear(),this.tree.load(r));var s=this.colliders.update();for(e=0;e<s.length;e++){var o=s[e];o.active&&o.update()}this.emit(c.WORLD_STEP,t),this.stepsLastFrame++},postUpdate:function(){var t,e,i=this.bodies.entries,r=i.length,n=this.bodies,s=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,t=0;t<r;t++)(e=i[t]).enable&&e.postUpdate();if(this.drawDebug){var o=this.debugGraphic;for(o.clear(),t=0;t<r;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(o);for(r=(i=s.entries).length,t=0;t<r;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(o)}var a=this.pendingDestroy;if(a.size>0){var u=this.tree,h=this.staticTree;for(r=(i=a.entries).length,t=0;t<r;t++)(e=i[t]).physicsType===l.DYNAMIC_BODY?(u.remove(e),n.delete(e)):e.physicsType===l.STATIC_BODY&&(h.remove(e),s.delete(e)),e.world=void 0,e.gameObject=void 0;a.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity,r=t.angularAcceleration,n=t.angularDrag,o=t.maxAngular;r?i+=r*e:t.allowDrag&&n&&(f(i-(n*=e),0,.1)?i-=n:p(i+n,0,.1)?i+=n:i=0);var a=(i=s(i,-o,o))-t.angularVelocity;t.angularVelocity+=a,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,r=t.acceleration.x,n=t.drag.x,o=t.maxVelocity.x,a=t.velocity.y,l=t.acceleration.y,u=t.drag.y,h=t.maxVelocity.y,c=t.speed,m=t.maxSpeed,v=t.allowDrag,y=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,a+=(this.gravity.y+t.gravity.y)*e),r?i+=r*e:v&&n&&(y?(i*=n=Math.pow(n,e),c=Math.sqrt(i*i+a*a),d(c,0,.001)&&(i=0)):f(i-(n*=e),0,.01)?i-=n:p(i+n,0,.01)?i+=n:i=0),l?a+=l*e:v&&u&&(y?(a*=u=Math.pow(u,e),c=Math.sqrt(i*i+a*a),d(c,0,.001)&&(a=0)):f(a-(u*=e),0,.01)?a-=u:p(a+u,0,.01)?a+=u:a=0),i=s(i,-o,o),a=s(a,-h,h),t.velocity.set(i,a),m>-1&&c>m&&(t.velocity.normalize().scale(m),c=m),t.speed=c},separate:function(t,e,i,r,n,s){if(!s&&!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(r,t.gameObject,e.gameObject))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){var o=t.isCircle?e:t,a=t.isCircle?t:e,l={x:o.x,y:o.y,right:o.right,bottom:o.bottom},u=a.center;if((u.y<l.y||u.y>l.bottom)&&(u.x<l.x||u.x>l.right))return this.separateCircle(t,e,n)}var h=!1,d=!1;n?(h=T(t,e,n,this.OVERLAP_BIAS),d=E(t,e,n,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(h=T(t,e,n,this.OVERLAP_BIAS),this.intersects(t,e)&&(d=E(t,e,n,this.OVERLAP_BIAS))):(d=E(t,e,n,this.OVERLAP_BIAS),this.intersects(t,e)&&(h=T(t,e,n,this.OVERLAP_BIAS)));var f=h||d;return f&&(n?(t.onOverlap||e.onOverlap)&&this.emit(c.OVERLAP,t.gameObject,e.gameObject,t,e):(t.onCollide||e.onCollide)&&this.emit(c.COLLIDE,t.gameObject,e.gameObject,t,e)),f},separateCircle:function(t,e,i,n){m(t,e,!1,n),v(t,e,!1,n);var s=0;if(t.isCircle!==e.isCircle){var o={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},a={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};a.y<o.y?a.x<o.x?s=u(a.x,a.y,o.x,o.y)-a.radius:a.x>o.right&&(s=u(a.x,a.y,o.right,o.y)-a.radius):a.y>o.bottom&&(a.x<o.x?s=u(a.x,a.y,o.x,o.bottom)-a.radius:a.x>o.right&&(s=u(a.x,a.y,o.right,o.bottom)-a.radius)),s*=-1}else s=t.halfWidth+e.halfWidth-u(t.center.x,t.center.y,e.center.x,e.center.y);if(t.overlapR=s,e.overlapR=s,i||0===s||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==s&&(t.onOverlap||e.onOverlap)&&this.emit(c.OVERLAP,t.gameObject,e.gameObject,t,e),0!==s;var l=t.center.x-e.center.x,h=t.center.y-e.center.y,d=Math.sqrt(Math.pow(l,2)+Math.pow(h,2)),f=(e.center.x-t.center.x)/d||0,p=(e.center.y-t.center.y)/d||0,y=2*(t.velocity.x*f+t.velocity.y*p-e.velocity.x*f-e.velocity.y*p)/(t.mass+e.mass);(t.immovable||e.immovable)&&(y*=2),t.immovable||(t.velocity.x=t.velocity.x-y/t.mass*f,t.velocity.y=t.velocity.y-y/t.mass*p),e.immovable||(e.velocity.x=e.velocity.x+y/e.mass*f,e.velocity.y=e.velocity.y+y/e.mass*p),t.immovable||e.immovable||(s/=2);var g=r(t.center,e.center),b=(s+x.EPSILON)*Math.cos(g),w=(s+x.EPSILON)*Math.sin(g);return t.immovable||(t.x-=b,t.y-=w,t.updateCenter()),e.immovable||(e.x+=b,e.y+=w,e.updateCenter()),t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,(t.onCollide||e.onCollide)&&this.emit(c.COLLIDE,t.gameObject,e.gameObject,t,e),!0},intersects:function(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?u(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=s(t.center.x,e.left,e.right),r=s(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-r)*(t.center.y-r)<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,r,n){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i),this.collideObjects(t,e,i,r,n,!0)},collide:function(t,e,i,r,n){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i),this.collideObjects(t,e,i,r,n,!1)},collideObjects:function(t,e,i,r,n,s){var o,a;t.isParent&&void 0===t.physicsType&&(t=t.children.entries),e&&e.isParent&&void 0===e.physicsType&&(e=e.children.entries);var l=Array.isArray(t),u=Array.isArray(e);if(this._total=0,l||u)if(!l&&u)for(o=0;o<e.length;o++)this.collideHandler(t,e[o],i,r,n,s);else if(l&&!u)if(e)for(o=0;o<t.length;o++)this.collideHandler(t[o],e,i,r,n,s);else for(o=0;o<t.length;o++){var h=t[o];for(a=o+1;a<t.length;a++)o!==a&&this.collideHandler(h,t[a],i,r,n,s)}else for(o=0;o<t.length;o++)for(a=0;a<e.length;a++)this.collideHandler(t[o],e[a],i,r,n,s);else this.collideHandler(t,e,i,r,n,s);return this._total>0},collideHandler:function(t,e,i,r,n,s){if(void 0===e&&t.isParent)return this.collideGroupVsGroup(t,t,i,r,n,s);if(!t||!e)return!1;if(t.body){if(e.body)return this.collideSpriteVsSprite(t,e,i,r,n,s);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,r,n,s);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,r,n,s)}else if(t.isParent){if(e.body)return this.collideSpriteVsGroup(e,t,i,r,n,s);if(e.isParent)return this.collideGroupVsGroup(t,e,i,r,n,s);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,r,n,s)}else if(t.isTilemap){if(e.body)return this.collideSpriteVsTilemapLayer(e,t,i,r,n,s);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,r,n,s)}},collideSpriteVsSprite:function(t,e,i,r,n,s){return!(!t.body||!e.body)&&(this.separate(t.body,e.body,r,n,s)&&(i&&i.call(n,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,i,r,n,s){var o,a,u,h=t.body;if(0!==e.length&&h&&h.enable&&!h.checkCollision.none)if(this.useTree||e.physicsType===l.STATIC_BODY){var c=this.treeMinMax;c.minX=h.left,c.minY=h.top,c.maxX=h.right,c.maxY=h.bottom;var d=e.physicsType===l.DYNAMIC_BODY?this.tree.search(c):this.staticTree.search(c);for(a=d.length,o=0;o<a;o++)h!==(u=d[o])&&u.enable&&!u.checkCollision.none&&e.contains(u.gameObject)&&this.separate(h,u,r,n,s,!0)&&(i&&i.call(n,h.gameObject,u.gameObject),this._total++)}else{var f=e.getChildren(),p=e.children.entries.indexOf(t);for(a=f.length,o=0;o<a;o++)(u=f[o].body)&&o!==p&&u.enable&&this.separate(h,u,r,n,s)&&(i&&i.call(n,h.gameObject,u.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(t,e,i,r,n,s){var o=t.getChildren();if(0===o.length)return!1;for(var a=!1,l=0;l<o.length;l++)o[l].body&&this.collideSpriteVsTilemapLayer(o[l],e,i,r,n,s)&&(a=!0);return a},collideTiles:function(t,e,i,r,n){return!(!t.body.enable||0===e.length)&&this.collideSpriteVsTilesHandler(t,e,i,r,n,!1,!1)},overlapTiles:function(t,e,i,r,n){return!(!t.body.enable||0===e.length)&&this.collideSpriteVsTilesHandler(t,e,i,r,n,!0,!1)},collideSpriteVsTilemapLayer:function(t,e,i,r,n,s){var o=t.body;if(!o.enable||o.checkCollision.none)return!1;var a=o.position.x,l=o.position.y,u=o.width,h=o.height,c=e.layer;if(c.tileWidth>c.baseTileWidth){var d=(c.tileWidth-c.baseTileWidth)*e.scaleX;a-=d,u+=d}c.tileHeight>c.baseTileHeight&&(h+=(c.tileHeight-c.baseTileHeight)*e.scaleY);var f=y(a,l,u,h,null,e.scene.cameras.main,e.layer);return 0!==f.length&&this.collideSpriteVsTilesHandler(t,f,i,r,n,s,!0)},collideSpriteVsTilesHandler:function(t,e,i,r,n,s,o){for(var a,l,u=t.body,h={left:0,right:0,top:0,bottom:0},d=!1,f=0;f<e.length;f++){var p=(l=(a=e[f]).tilemapLayer).tileToWorldXY(a.x,a.y);h.left=p.x,h.top=p.y,a.baseHeight!==a.height&&(h.top-=(a.height-a.baseHeight)*l.scaleY),h.right=h.left+a.width*l.scaleX,h.bottom=h.top+a.height*l.scaleY,P(h,u)&&(!r||r.call(n,t,a))&&w(a,t)&&(s||A(f,u,a,h,l,this.TILE_BIAS,o))&&(this._total++,d=!0,i&&i.call(n,t,a),s&&u.onOverlap?this.emit(c.TILE_OVERLAP,t,a,u):u.onCollide&&this.emit(c.TILE_COLLIDE,t,a,u))}return d},collideGroupVsGroup:function(t,e,i,r,n,s){if(0!==t.length&&0!==e.length)for(var o=t.getChildren(),a=0;a<o.length;a++)this.collideSpriteVsGroup(o[a],e,i,r,n,s)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){void 0===e&&(e=0),t.x=L(t.x,this.bounds.left-e,this.bounds.right+e),t.y=L(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});t.exports=O},function(t,e,i){var r=i(0),n=i(62),s=i(245),o=i(196),a=i(10),l=i(57),u=i(3),h=new r({initialize:function(t,e){var i=e.displayWidth?e.displayWidth:64,r=e.displayHeight?e.displayHeight:64;this.world=t,this.gameObject=e,this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(e.x-e.scaleX*e.displayOriginX,e.y-e.scaleY*e.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=i,this.height=r,this.sourceWidth=i,this.sourceHeight=r,e.frame&&(this.sourceWidth=e.frame.realWidth,this.sourceHeight=e.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(r/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=t.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=n.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=n.DYNAMIC_BODY,this._sx=e.scaleX,this._sy=e.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a},updateBounds:function(){var t=this.gameObject,e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx,e.y=i.ty,e.rotation=o(i.rotation),e.scaleX=i.scaleX,e.scaleY=i.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY}else e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY;var r=!1;if(this.syncBounds){var n=t.getBounds(this._bounds);this.width=n.width,this.height=n.height,r=!0}else{var s=Math.abs(e.scaleX),a=Math.abs(e.scaleY);this._sx===s&&this._sy===a||(this.width=this.sourceWidth*s,this.height=this.sourceHeight*a,this._sx=s,this._sy=a,r=!0)}r&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var t=this.transform;this.position.x=t.x+t.scaleX*(this.offset.x-t.displayOriginX),this.position.y=t.y+t.scaleY*(this.offset.y-t.displayOriginY),this.updateCenter()},resetFlags:function(t){void 0===t&&(t=!1);var e=this.wasTouching,i=this.touching,r=this.blocked;t?(e.none=!0,e.up=!1,e.down=!1,e.left=!1,e.right=!1):(e.none=i.none,e.up=i.up,e.down=i.down,e.left=i.left,e.right=i.right),i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,r.none=!0,r.up=!1,r.down=!1,r.left=!1,r.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(t,e){t&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),t&&this.update(e)},update:function(t){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,t);var e=this.velocity.x,i=this.velocity.y;this.newVelocity.set(e*t,i*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,e),this.speed=Math.sqrt(e*e+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(s.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var t=this.position.x-this.prevFrame.x,e=this.position.y-this.prevFrame.y;if(this.moves){var i=this.deltaMax.x,r=this.deltaMax.y;0!==i&&0!==t&&(t<0&&t<-i?t=-i:t>0&&t>i&&(t=i)),0!==r&&0!==e&&(e<0&&e<-r?e=-r:e>0&&e>r&&(e=r)),this.gameObject.x+=t,this.gameObject.y+=e}t<0?this.facing=n.FACING_LEFT:t>0&&(this.facing=n.FACING_RIGHT),e<0?this.facing=n.FACING_UP:e>0&&(this.facing=n.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=t,this._ty=e},setBoundsRectangle:function(t){return this.customBoundsRectangle=t||this.world.bounds,this},checkWorldBounds:function(){var t=this.position,e=this.customBoundsRectangle,i=this.world.checkCollision,r=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y,s=!1;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=r,this.blocked.left=!0,s=!0):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=r,this.blocked.right=!0,s=!0),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=n,this.blocked.up=!0,s=!0):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,s=!0),s&&(this.blocked.none=!1,this.updateCenter()),s},setOffset:function(t,e){return void 0===e&&(e=t),this.offset.set(t,e),this},setSize:function(t,e,i){void 0===i&&(i=!0);var r=this.gameObject;if(!t&&r.frame&&(t=r.frame.realWidth),!e&&r.frame&&(e=r.frame.realHeight),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&r.getCenter){var n=(r.width-t)/2,s=(r.height-e)/2;this.offset.set(n,s)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i.setPosition(t,e),i.getTopLeft?i.getTopLeft(this.position):this.position.set(t,e),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-e)*(this.center.y-e)<=this.radius*this.radius:l(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,r=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor),this.isCircle?t.strokeCircle(i,r,this.width/2):(this.checkCollision.up&&t.lineBetween(e.x,e.y,e.x+this.width,e.y),this.checkCollision.right&&t.lineBetween(e.x+this.width,e.y,e.x+this.width,e.y+this.height),this.checkCollision.down&&t.lineBetween(e.x,e.y+this.height,e.x+this.width,e.y+this.height),this.checkCollision.left&&t.lineBetween(e.x,e.y,e.x,e.y+this.height))),this.debugShowVelocity&&(t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,r,i+this.velocity.x/2,r+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t,e,i,r){void 0===t&&(t=!0),this.collideWorldBounds=t;var n=void 0!==e,s=void 0!==i;return(n||s)&&(this.worldBounce||(this.worldBounce=new u),n&&(this.worldBounce.x=e),s&&(this.worldBounce.y=i)),void 0!==r&&(this.onWorldBounds=r),this},setVelocity:function(t,e){return this.velocity.set(t,e),t=this.velocity.x,e=this.velocity.y,this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){this.velocity.x=t;var e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this},setVelocityY:function(t){this.velocity.y=t;var e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setMaxVelocityX:function(t){return this.maxVelocity.x=t,this},setMaxVelocityY:function(t){return this.maxVelocity.y=t,this},setMaxSpeed:function(t){return this.maxSpeed=t,this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDamping:function(t){return this.useDamping=t,this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},setEnable:function(t){return void 0===t&&(t=!0),this.enable=t,this},processX:function(t,e,i,r){this.x+=t,this.updateCenter(),null!==e&&(this.velocity.x=e);var n=this.blocked;i&&(n.left=!0),r&&(n.right=!0)},processY:function(t,e,i,r){this.y+=t,this.updateCenter(),null!==e&&(this.velocity.y=e);var n=this.blocked;i&&(n.up=!0),r&&(n.down=!0)},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=h},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r,n,s,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=e,this.object1=i,this.object2=r,this.collideCallback=n,this.processCallback=s,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});t.exports=r},function(t,e,i){var r=i(26),n=i(3),s=new n,o=new n;t.exports=function(t,e,i,n,a,l,u){var h=u.tilemapLayer.tilemap._convert.WorldToTileXY;h(t,e,!0,s,l,u);var c=s.x,d=s.y;h(t+i,e+n,!1,o,l,u);var f=Math.ceil(o.x),p=Math.ceil(o.y);return r(c,d,f-c,p-d,a,u)}},function(t,e){t.exports=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)}},function(t,e,i){var r,s=i(436);function o(t){if(!(this instanceof o))return new o(t,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function a(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function l(t,e){u(t,0,t.children.length,e,t)}function u(t,e,i,r,n){n||(n=g(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,o=e;o<i;o++)s=t.children[o],h(n,t.leaf?r(s):s);return n}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function d(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(t,e,i,r,n){for(var o,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((i-e)/r/2)*r,s(t,o,e,i,n),a.push(e,o,o,i))}o.prototype=(n(r={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!y(t,e))return i;for(var n,s,o,a,l=[];e;){for(n=0,s=e.children.length;n<s;n++)o=e.children[n],y(t,a=e.leaf?r(o):o)&&(e.leaf?i.push(o):v(t,a)?this._all(o,i):l.push(o));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!y(t,e))return!1;for(var r,n,s,o,a=[];e;){for(r=0,n=e.children.length;r<n;r++)if(s=e.children[r],y(t,o=e.leaf?i(s):s)){if(e.leaf||v(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var i,r,n,s,o=this.data,l=this.toBBox(t),u=[],h=[];o||u.length;){if(o||(o=u.pop(),r=u[u.length-1],i=h.pop(),s=!0),o.leaf&&-1!==(n=a(t,o.children,e)))return o.children.splice(n,1),u.push(o),this._condense(u),this;s||o.leaf||!v(o,l)?r?(i++,o=r.children[i],s=!1):o=null:(u.push(o),h.push(i),i=0,r=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:d,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var n,s=i-e+1,o=this._maxEntries;if(s<=o)return l(n=g(t.slice(e,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),(n=g([])).leaf=!1,n.height=r;var a,u,h,c,d=Math.ceil(s/o),f=d*Math.ceil(Math.sqrt(o));for(x(t,e,i,f,this.compareMinX),a=e;a<=i;a+=f)for(x(t,a,h=Math.min(a+f-1,i),d,this.compareMinY),u=a;u<=h;u+=d)c=Math.min(u+d-1,h),n.children.push(this._build(t,u,c,r-1));return l(n,this.toBBox),n},_chooseSubtree:function(t,e,i,r){for(var n,s,o,a,l,u,h,c,d,p;r.push(e),!e.leaf&&r.length-1!==i;){for(h=c=1/0,n=0,s=e.children.length;n<s;n++)l=f(o=e.children[n]),d=t,p=o,(u=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-l)<c?(c=u,h=l<h?l:h,a=o):u===c&&l<h&&(h=l,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,n=i?t:r(t),s=[],o=this._chooseSubtree(n,this.data,e,s);for(o.children.push(t),h(o,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},_split:function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),o=g(i.children.splice(s,i.children.length-s));o.height=i.height,o.leaf=i.leaf,l(i,this.toBBox),l(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,n,s,o,a,l,h,c;for(l=h=1/0,r=e;r<=i-e;r++)o=m(n=u(t,0,r,this.toBBox),s=u(t,r,i,this.toBBox)),a=f(n)+f(s),o<l?(l=o,c=r,h=a<h?a:h):o===l&&a<h&&(h=a,c=r);return c},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:c,n=t.leaf?this.compareMinY:d;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,n)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var n,s,o=this.toBBox,a=u(t,0,e,o),l=u(t,i-e,i,o),c=p(a)+p(l);for(n=e;n<i-e;n++)s=t.children[n],h(a,t.leaf?o(s):s),c+=p(a);for(n=i-e-1;n>=e;n--)s=t.children[n],h(l,t.leaf?o(s):s),c+=p(l);return c},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)h(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():l(t[i],this.toBBox)}},"compareMinX",(function(t,e){return t.left-e.left})),n(r,"compareMinY",(function(t,e){return t.top-e.top})),n(r,"toBBox",(function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}})),r),t.exports=o},function(t,e,i){var r=i(533),n=i(535),s=i(248);t.exports=function(t,e,i,o,a,l,u){var h=o.left,c=o.top,d=o.right,f=o.bottom,p=i.faceLeft||i.faceRight,m=i.faceTop||i.faceBottom;if(u||(p=!0,m=!0),!p&&!m)return!1;var v=0,y=0,g=0,x=1;if(e.deltaAbsX()>e.deltaAbsY()?g=-1:e.deltaAbsX()<e.deltaAbsY()&&(x=-1),0!==e.deltaX()&&0!==e.deltaY()&&p&&m&&(g=Math.min(Math.abs(e.position.x-d),Math.abs(e.right-h)),x=Math.min(Math.abs(e.position.y-f),Math.abs(e.bottom-c))),g<x){if(p&&0!==(v=r(e,i,h,d,l,u))&&!s(o,e))return!0;m&&(y=n(e,i,c,f,l,u))}else{if(m&&0!==(y=n(e,i,c,f,l,u))&&!s(o,e))return!0;p&&(v=r(e,i,h,d,l,u))}return 0!==v||0!==y}},function(t,e,i){var r=i(534);t.exports=function(t,e,i,n,s,o){var a=0,l=e.faceLeft,u=e.faceRight,h=e.collideLeft,c=e.collideRight;return o||(l=!0,u=!0,h=!0,c=!0),t.deltaX()<0&&c&&t.checkCollision.left?u&&t.x<n&&(a=t.x-n)<-s&&(a=0):t.deltaX()>0&&h&&t.checkCollision.right&&l&&t.right>i&&(a=t.right-i)>s&&(a=0),0!==a&&(t.customSeparateX?t.overlapX=a:r(t,a)),a}},function(t,e){t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x}},function(t,e,i){var r=i(536);t.exports=function(t,e,i,n,s,o){var a=0,l=e.faceTop,u=e.faceBottom,h=e.collideUp,c=e.collideDown;return o||(l=!0,u=!0,h=!0,c=!0),t.deltaY()<0&&c&&t.checkCollision.up?u&&t.y<n&&(a=t.y-n)<-s&&(a=0):t.deltaY()>0&&h&&t.checkCollision.down&&l&&t.bottom>i&&(a=t.bottom-i)>s&&(a=0),0!==a&&(t.customSeparateY?t.overlapY=a:r(t,a)),a}},function(t,e){t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},function(t,e,i){var r=i(246),n=i(1389);t.exports=function(t,e,i,s){var o=r(t,e,i,s),a=t.immovable,l=e.immovable;if(i||0===o||a&&l||t.customSeparateX||e.customSeparateX)return 0!==o||t.embedded&&e.embedded;var u=n.Set(t,e,o);return a||l?(a?n.RunImmovableBody1(u):l&&n.RunImmovableBody2(u),!0):u>0||n.Check()}},function(t,e,i){var r=i(247),n=i(1390);t.exports=function(t,e,i,s){var o=r(t,e,i,s),a=t.immovable,l=e.immovable;if(i||0===o||a&&l||t.customSeparateY||e.customSeparateY)return 0!==o||t.embedded&&e.embedded;var u=n.Set(t,e,o);return a||l?(a?n.RunImmovableBody1(u):l&&n.RunImmovableBody2(u),!0):u>0||n.Check()}},function(t,e,i){var r=i(66),n=i(0),s=i(62),o=i(57),a=i(3),l=new n({initialize:function(t,e){var i=e.displayWidth?e.displayWidth:64,r=e.displayHeight?e.displayHeight:64;this.world=t,this.gameObject=e,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(e.x-i*e.originX,e.y-r*e.originY),this.width=i,this.height=r,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return void 0===e&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i){void 0===i&&(i=!0);var r=this.gameObject;if(!t&&r.frame&&(t=r.frame.realWidth),!e&&r.frame&&(e=r.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),i&&r.getCenter){var n=r.displayWidth/2,s=r.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n-this.halfWidth,s-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?r(this,t,e):o(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,r=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?t.strokeCircle(i,r,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=l},function(t,e,i){var r=new(i(0))({initialize:function(t){this.pluginManager=t,this.game=t.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=r},function(t,e,i){var r=new(i(3));t.exports=function(t,e,i,n){var s=i.tilemapLayer,o=s.cullPaddingX,a=s.cullPaddingY,l=s.tilemap.tileToWorldXY(t,e,r,n,s);return l.x>n.worldView.x+s.scaleX*i.tileWidth*(-o-.5)&&l.x<n.worldView.right+s.scaleX*i.tileWidth*(o-.5)&&l.y>n.worldView.y+s.scaleY*i.tileHeight*(-a-1)&&l.y<n.worldView.bottom+s.scaleY*i.tileHeight*(a-.5)}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o,a){for(var l=r(i,n,s,o,null,a),u=0;u<l.length;u++)l[u]&&l[u].index===t&&(l[u].index=e)}},function(t,e,i){var r=i(10),n=i(139),s=i(76),o=new r;t.exports=function(t,e){var i=t.tilemapLayer.tilemap,r=t.tilemapLayer,a=Math.floor(i.tileWidth*r.scaleX),l=Math.floor(i.tileHeight*r.scaleY),u=s(e.worldView.x-r.x,a,0,!0)-r.cullPaddingX,h=n(e.worldView.right-r.x,a,0,!0)+r.cullPaddingX,c=s(e.worldView.y-r.y,l,0,!0)-r.cullPaddingY,d=n(e.worldView.bottom-r.y,l,0,!0)+r.cullPaddingY;return o.setTo(u,c,h-u,d-c)}},function(t,e,i){var r=i(543),n=i(159);t.exports=function(t,e,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var o=t.tilemapLayer,a=r(t,e);return(o.skipCull||1!==o.scrollFactorX||1!==o.scrollFactorY)&&(a.left=0,a.right=t.width,a.top=0,a.bottom=t.height),n(t,a,s,i),i}},function(t,e,i){var r=i(546),n=i(159);t.exports=function(t,e,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var o=t.tilemapLayer;if(!o.skipCull&&1===o.scrollFactorX&&1===o.scrollFactorY){var a=r(t,e);n(t,a,s,i)}return i}},function(t,e,i){var r=i(139),n=i(76);t.exports=function(t,e){var i=t.tilemapLayer.tilemap,s=t.tilemapLayer,o=Math.floor(i.tileWidth*s.scaleX),a=Math.floor(i.tileHeight*s.scaleY),l=t.hexSideLength,u=(a-l)/2+l;return{left:n(e.worldView.x-s.x,o,0,!0)-s.cullPaddingX,right:r(e.worldView.right-s.x,o,0,!0)+s.cullPaddingX,top:n(e.worldView.y-s.y,u,0,!0)-s.cullPaddingY,bottom:r(e.worldView.bottom-s.y,u,0,!0)+s.cullPaddingY}}},function(t,e,i){var r=i(541);t.exports=function(t,e,i,n){void 0===i&&(i=[]),void 0===n&&(n=0),i.length=0;var s,o,a,l=t.tilemapLayer,u=t.data,h=t.width,c=t.height,d=h,f=c;if(!l.skipCull)if(0===n){for(o=0;o<f;o++)for(s=0;u[o]&&s<d;s++)if(r(s,o,t,e)){if(!(a=u[o][s])||-1===a.index||!a.visible||0===a.alpha)continue;i.push(a)}}else if(1===n){for(o=0;o<f;o++)for(s=d;u[o]&&s>=0;s--)if(r(s,o,t,e)){if(!(a=u[o][s])||-1===a.index||!a.visible||0===a.alpha)continue;i.push(a)}}else if(2===n){for(o=f;o>=0;o--)for(s=0;u[o]&&s<d;s++)if(r(s,o,t,e)){if(!(a=u[o][s])||-1===a.index||!a.visible||0===a.alpha)continue;i.push(a)}}else if(3===n)for(o=f;o>=0;o--)for(s=d;u[o]&&s>=0;s--)if(r(s,o,t,e)){if(!(a=u[o][s])||-1===a.index||!a.visible||0===a.alpha)continue;i.push(a)}return l.tilesDrawn=i.length,l.tilesTotal=h*c,i}},function(t,e,i){var r=i(549),n=i(159);t.exports=function(t,e,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var o=t.tilemapLayer;if(!o.skipCull&&1===o.scrollFactorX&&1===o.scrollFactorY){var a=r(t,e);n(t,a,s,i)}return i}},function(t,e,i){var r=i(139),n=i(76);t.exports=function(t,e){var i=t.tilemapLayer.tilemap,s=t.tilemapLayer,o=Math.floor(i.tileWidth*s.scaleX),a=Math.floor(i.tileHeight*s.scaleY);return{left:n(e.worldView.x-s.x,o,0,!0)-s.cullPaddingX,right:r(e.worldView.right-s.x,o,0,!0)+s.cullPaddingX,top:n(e.worldView.y-s.y,a/2,0,!0)-s.cullPaddingY,bottom:r(e.worldView.bottom-s.y,a/2,0,!0)+s.cullPaddingY}}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s){i||(i=new r);var o=s.baseTileWidth,a=s.baseTileHeight,l=s.tilemapLayer,u=0,h=0;l&&(n||(n=l.scene.cameras.main),u=l.x+n.scrollX*(1-l.scrollFactorX),o*=l.scaleX,h=l.y+n.scrollY*(1-l.scrollFactorY),a*=l.scaleY);var c=s.hexSideLength,d=u+t*o+e%2*(o/2),f=h+e*((a-c)/2+c);return i.set(d,f)}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s){i||(i=new r);var o=s.baseTileWidth,a=s.baseTileHeight,l=s.tilemapLayer,u=0,h=0;l&&(n||(n=l.scene.cameras.main),u=l.x+n.scrollX*(1-l.scrollFactorX),o*=l.scaleX,h=l.y+n.scrollY*(1-l.scrollFactorY),a*=l.scaleY);var c=u+o/2*(t-e),d=h+(t+e)*(a/2);return i.set(c,d)}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s){i||(i=new r);var o=s.baseTileWidth,a=s.baseTileHeight,l=s.tilemapLayer,u=0,h=0;l&&(n||(n=l.scene.cameras.main),u=l.x+n.scrollX*(1-l.scrollFactorX),o*=l.scaleX,h=l.y+n.scrollY*(1-l.scrollFactorY),a*=l.scaleY);var c=u+t*o+e%2*(o/2),d=h+e*(a/2);return i.set(c,d)}},function(t,e,i){var r=i(253),n=i(254),s=i(3);t.exports=function(t,e,i,o,a){return i||(i=new s(0,0)),i.x=r(t,o,a),i.y=n(e,o,a),i}},function(t,e){t.exports=function(t,e,i){var r=i.baseTileHeight,n=i.tilemapLayer,s=0;n&&(void 0===e&&(e=n.scene.cameras.main),s=n.y+e.scrollY*(1-n.scrollFactorY),r*=n.scaleY);var o=n.tilemap.hexSideLength;return s+t*((r-o)/2+o)}},function(t,e){t.exports=function(t,e,i){var r=i.baseTileHeight,n=i.tilemapLayer,s=0;return n&&(void 0===e&&(e=n.scene.cameras.main),s=n.y+e.scrollY*(1-n.scrollFactorY),r*=n.scaleY),s+t*(r/2)}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s,o){n||(n=new r);var a=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),e-=u.y+s.scrollY*(1-u.scrollFactorY),l*=u.scaleY,t-=u.x+s.scrollX*(1-u.scrollFactorX),a*=u.scaleX);var h=o.hexSideLength,c=(l-h)/2+h,d=i?Math.floor(e/c):e/c,f=i?Math.floor((t-d%2*.5*a)/a):(t-d%2*.5*a)/a;return n.set(f,d)}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s,o){n||(n=new r);var a=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),e-=u.y+s.scrollY*(1-u.scrollFactorY),l*=u.scaleY,t-=u.x+s.scrollX*(1-u.scrollFactorX),a*=u.scaleX);var h=i?Math.floor((t/(a/2)+e/(l/2))/2):(t/(a/2)+e/(l/2))/2,c=i?Math.floor((e/(l/2)-t/(a/2))/2):(e/(l/2)-t/(a/2))/2;return n.set(h,c)}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s,o){n||(n=new r);var a=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),e-=u.y+s.scrollY*(1-u.scrollFactorY),l*=u.scaleY,t-=u.x+s.scrollX*(1-u.scrollFactorX),a*=u.scaleX);var h=i?Math.floor(e/(l/2)):e/(l/2),c=i?Math.floor((t+h%2*.5*a)/a):(t+h%2*.5*a)/a;return n.set(c,h)}},function(t,e,i){var r=i(255),n=i(256),s=i(3);t.exports=function(t,e,i,o,a,l){return void 0===i&&(i=!0),o||(o=new s(0,0)),o.x=r(t,i,a,l),o.y=n(e,i,a,l),o}},function(t,e){t.exports=function(t,e,i,r){var n=r.baseTileHeight,s=r.tilemapLayer;s&&(i||(i=s.scene.cameras.main),t-=s.y+i.scrollY*(1-s.scrollFactorY),n*=s.scaleY);var o=r.hexSideLength,a=(n-o)/2+o;return e?Math.floor(t/a):t/a}},function(t,e){t.exports=function(t,e,i,r){var n=r.baseTileHeight,s=r.tilemapLayer;return s&&(i||(i=s.scene.cameras.main),t-=s.y+i.scrollY*(1-s.scrollFactorY),n*=s.scaleY),e?Math.floor(t/(n/2)):t/(n/2)}},function(t,e,i){var r=i(119);t.exports=function(t,e,i){if(r(t,e,i)){var n=i.data[e][t];return null!==n&&n.index>-1}return!1}},function(t,e,i){var r=i(85),n=i(119),s=i(252);t.exports=function(t,e,i,o,a){if(void 0===i&&(i=!0),void 0===o&&(o=!0),!n(t,e,a))return null;var l=a.data[e][t];return l?(a.data[e][t]=i?null:new r(a,-1,t,e,a.tileWidth,a.tileHeight),o&&l&&l.collides&&s(t,e,a),l):null}},function(t,e,i){var r=i(40),n=i(259),s=i(565),o=i(566),a=i(577);t.exports=function(t,e,i,l,u,h){var c;switch(e){case r.ARRAY_2D:c=n(t,i,l,u,h);break;case r.CSV:c=s(t,i,l,u,h);break;case r.TILED_JSON:c=o(t,i,h);break;case r.WELTMEISTER:c=a(t,i,h);break;default:console.warn("Unrecognized tilemap data format: "+e),c=null}return c}},function(t,e,i){var r=i(40),n=i(259);t.exports=function(t,e,i,s,o){var a=e.trim().split("\n").map((function(t){return t.split(",")})),l=n(t,a,i,s,o);return l.format=r.CSV,l}},function(t,e,i){var r=i(567),n=i(568),s=i(29),o=i(40),a=i(258),l=i(121),u=i(569),h=i(570),c=i(573),d=i(575);t.exports=function(t,e,i){var f=new l({width:e.width,height:e.height,name:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,orientation:a(e.orientation),format:o.TILED_JSON,version:e.version,properties:e.properties,renderOrder:e.renderorder,infinite:e.infinite});f.orientation===s.HEXAGONAL&&(f.hexSideLength=e.hexsidelength),f.layers=c(e,i),f.images=u(e);var p=d(e);return f.tilesets=p.tilesets,f.imageCollections=p.imageCollections,f.objects=h(e),f.tiles=n(f),r(f),f}},function(t,e,i){var r=i(17);t.exports=function(t){for(var e,i,n,s,o,a=0;a<t.layers.length;a++){e=t.layers[a],s=null;for(var l=0;l<e.data.length;l++){o=e.data[l];for(var u=0;u<o.length;u++)null===(i=o[u])||i.index<0||(n=t.tiles[i.index][2],s=t.tilesets[n],i.width=s.tileWidth,i.height=s.tileHeight,s.tileProperties&&s.tileProperties[i.index-s.firstgid]&&(i.properties=r(i.properties,s.tileProperties[i.index-s.firstgid])))}}}},function(t,e,i){var r=i(122);t.exports=function(t){var e,i,n=[];for(e=0;e<t.imageCollections.length;e++)for(var s=t.imageCollections[e],o=s.images,a=0;a<o.length;a++){var l=o[a];(i=new r(l.image,l.gid,s.imageWidth,s.imageHeight,0,0)).updateTileData(s.imageWidth,s.imageHeight),t.tilesets.push(i)}for(e=0;e<t.tilesets.length;e++)for(var u=(i=t.tilesets[e]).tileMargin,h=i.tileMargin,c=0,d=0,f=0,p=i.firstgid;p<i.firstgid+i.total&&(n[p]=[u,h,e],u+=i.tileWidth+i.tileSpacing,++c!==i.total)&&(++d!==i.columns||(u=i.tileMargin,h+=i.tileHeight+i.tileSpacing,d=0,++f!==i.rows));p++);return n}},function(t,e,i){var r=i(2),n=i(161);t.exports=function(t){for(var e=[],i=[],s=n(t);s.i<s.layers.length||i.length>0;)if(s.i>=s.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=i.pop()}else{var o=s.layers[s.i];if(s.i++,"imagelayer"===o.type){var a=r(o,"offsetx",0)+r(o,"startx",0),l=r(o,"offsety",0)+r(o,"starty",0);e.push({name:s.name+o.name,image:o.image,x:s.x+a+o.x,y:s.y+l+o.y,alpha:s.opacity*o.opacity,visible:s.visible&&o.visible,properties:r(o,"properties",{})})}else if("group"===o.type){var u=n(t,o,s);i.push(s),s=u}}return e}},function(t,e,i){var r=i(2),n=i(260),s=i(572),o=i(161);t.exports=function(t){for(var e=[],i=[],a=o(t);a.i<a.layers.length||i.length>0;)if(a.i>=a.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=i.pop()}else{var l=a.layers[a.i];if(a.i++,l.opacity*=a.opacity,l.visible=a.visible&&l.visible,"objectgroup"===l.type){l.name=a.name+l.name;for(var u=a.x+r(l,"startx",0)+r(l,"offsetx",0),h=a.y+r(l,"starty",0)+r(l,"offsety",0),c=[],d=0;d<l.objects.length;d++){var f=n(l.objects[d],u,h);c.push(f)}var p=new s(l);p.objects=c,e.push(p)}else if("group"===l.type){var m=o(t,l,a);i.push(a),a=m}}return e}},function(t,e,i){var r=i(126);t.exports=function(t,e){for(var i={},n=0;n<e.length;n++){var s=e[n];r(t,s)&&(i[s]=t[s])}return i}},function(t,e,i){var r=i(0),n=i(2),s=new r({initialize:function(t){void 0===t&&(t={}),this.name=n(t,"name","object layer"),this.opacity=n(t,"opacity",1),this.properties=n(t,"properties",{}),this.propertyTypes=n(t,"propertytypes",{}),this.type=n(t,"type","objectgroup"),this.visible=n(t,"visible",!0),this.objects=n(t,"objects",[])}});t.exports=s},function(t,e,i){var r=i(574),n=i(29),s=i(161),o=i(258),a=i(2),l=i(120),u=i(261),h=i(85);t.exports=function(t,e){for(var i=a(t,"infinite",!1),c=[],d=[],f=s(t);f.i<f.layers.length||d.length>0;)if(f.i>=f.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=d.pop()}else{var p=f.layers[f.i];if(f.i++,"tilelayer"===p.type)if(p.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+p.name+"'");else{if(p.encoding&&"base64"===p.encoding){if(p.chunks)for(var m=0;m<p.chunks.length;m++)p.chunks[m].data=r(p.chunks[m].data);p.data&&(p.data=r(p.data)),delete p.encoding}var v,y,g,x,b=[],w=0;if(i){var _=a(p,"startx",0)+p.x,S=a(p,"starty",0)+p.y;(v=new l({name:f.name+p.name,x:f.x+a(p,"offsetx",0)+_*t.tilewidth,y:f.y+a(p,"offsety",0)+S*t.tileheight,width:p.width,height:p.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:f.opacity*p.opacity,visible:f.visible&&p.visible,properties:a(p,"properties",[]),orientation:o(t.orientation)})).orientation===n.HEXAGONAL&&(v.hexSideLength=t.hexsidelength);for(var A=0;A<p.height;A++){b.push([null]);for(var T=0;T<p.width;T++)b[A][T]=null}for(A=0,F=p.chunks.length;A<F;A++)for(var E=p.chunks[A],M=E.x-_,C=E.y-S,P=0,R=0,k=E.data.length;R<k;R++){var L=w+M,O=P+C;(y=u(E.data[R])).gid>0?((g=new h(v,y.gid,L,O,t.tilewidth,t.tileheight)).rotation=y.rotation,g.flipX=y.flipped,b[O][L]=g):(x=e?null:new h(v,-1,L,O,t.tilewidth,t.tileheight),b[O][L]=x),++w===E.width&&(P++,w=0)}}else{(v=new l({name:f.name+p.name,x:f.x+a(p,"offsetx",0)+p.x,y:f.y+a(p,"offsety",0)+p.y,width:p.width,height:p.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:f.opacity*p.opacity,visible:f.visible&&p.visible,properties:a(p,"properties",[]),orientation:o(t.orientation)})).orientation===n.HEXAGONAL&&(v.hexSideLength=t.hexsidelength);for(var D=[],I=0,F=p.data.length;I<F;I++)(y=u(p.data[I])).gid>0?((g=new h(v,y.gid,w,b.length,t.tilewidth,t.tileheight)).rotation=y.rotation,g.flipX=y.flipped,D.push(g)):(x=e?null:new h(v,-1,w,b.length,t.tilewidth,t.tileheight),D.push(x)),++w===p.width&&(b.push(D),w=0,D=[])}v.data=b,c.push(v)}else if("group"===p.type){var j=s(t,p,f);d.push(f),f=j}}return c}},function(t,e){t.exports=function(t){for(var e=window.atob(t),i=e.length,r=new Array(i/4),n=0;n<i;n+=4)r[n/4]=(e.charCodeAt(n)|e.charCodeAt(n+1)<<8|e.charCodeAt(n+2)<<16|e.charCodeAt(n+3)<<24)>>>0;return r}},function(t,e,i){var r=i(122),n=i(576),s=i(260),o=i(1453);t.exports=function(t){for(var e,i=[],a=[],l=null,u=0;u<t.tilesets.length;u++){var h=t.tilesets[u];if(h.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(h.image){var c=new r(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing);if(t.version>1){var d=void 0,f=void 0;if(Array.isArray(h.tiles)){d=d||{},f=f||{};for(var p=0;p<h.tiles.length;p++){var m=h.tiles[p];if(m.properties){var v={};m.properties.forEach((function(t){v[t.name]=t.value})),f[m.id]=v}if(m.objectgroup&&((d[m.id]||(d[m.id]={})).objectgroup=m.objectgroup,m.objectgroup.objects)){var y=m.objectgroup.objects.map((function(t){return s(t)}));d[m.id].objectgroup.objects=y}m.animation&&((d[m.id]||(d[m.id]={})).animation=m.animation),m.type&&((d[m.id]||(d[m.id]={})).type=m.type)}}Array.isArray(h.wangsets)&&(d=d||{},f=f||{},o(h.wangsets,d)),d&&(c.tileData=d,c.tileProperties=f)}else if(h.tileproperties&&(c.tileProperties=h.tileproperties),h.tiles)for(e in c.tileData=h.tiles,c.tileData){var g=c.tileData[e].objectgroup;if(g&&g.objects){var x=g.objects.map((function(t){return s(t)}));c.tileData[e].objectgroup.objects=x}}c.updateTileData(h.imagewidth,h.imageheight),i.push(c)}else{var b=new n(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,h.properties),w=0;for(p=0;p<h.tiles.length;p++){var _=(m=h.tiles[p]).image,S=parseInt(m.id,10),A=h.firstgid+S;b.addImage(A,_),w=Math.max(S,w)}b.maxId=w,a.push(b)}l&&(l.lastgid=h.firstgid-1),l=h}return{tilesets:i,imageCollections:a}}},function(t,e,i){var r=new(i(0))({initialize:function(t,e,i,r,n,s,o){(void 0===i||i<=0)&&(i=32),(void 0===r||r<=0)&&(r=32),void 0===n&&(n=0),void 0===s&&(s=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|r,this.imageMargin=0|n,this.imageSpacing=0|s,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){return this.images.push({gid:t,image:e}),this.total++,this}});t.exports=r},function(t,e,i){var r=i(40),n=i(121),s=i(578),o=i(579);t.exports=function(t,e,i){if(0===e.layer.length)return console.warn("No layers found in the Weltmeister map: "+t),null;for(var a=0,l=0,u=0;u<e.layer.length;u++)e.layer[u].width>a&&(a=e.layer[u].width),e.layer[u].height>l&&(l=e.layer[u].height);var h=new n({width:a,height:l,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:r.WELTMEISTER});return h.layers=s(e,i),h.tilesets=o(e),h}},function(t,e,i){var r=i(120),n=i(85);t.exports=function(t,e){for(var i=[],s=0;s<t.layer.length;s++){for(var o=t.layer[s],a=new r({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:1===o.visible}),l=[],u=[],h=0;h<o.data.length;h++){for(var c=0;c<o.data[h].length;c++){var d,f=o.data[h][c]-1;d=f>-1?new n(a,f,c,h,o.tilesize,o.tilesize):e?null:new n(a,-1,c,h,o.tilesize,o.tilesize),l.push(d)}u.push(l),l=[]}a.data=u,i.push(a)}return i}},function(t,e,i){var r=i(122);t.exports=function(t){for(var e=[],i=[],n=0;n<t.layer.length;n++){var s=t.layer[n],o=s.tilesetName;""!==o&&-1===i.indexOf(o)&&(i.push(o),e.push(new r(o,0,s.tilesize,s.tilesize,0,0)))}return e}},function(t,e,i){var r=i(0),n=i(36),s=i(40),o=i(2),a=i(120),l=i(29),u=i(362),h=i(74),c=i(73),d=i(85),f=i(251),p=i(581),m=i(122),v=new r({initialize:function(t,e){this.scene=t,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.width=e.width,this.height=e.height,this.orientation=e.orientation,this.renderOrder=e.renderOrder,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.imageCollections=e.imageCollections,this.images=e.images,this.layers=e.layers,this.tilesets=e.tilesets,this.objects=e.objects,this.currentLayerIndex=0,this.hexSideLength=e.hexSideLength;var i=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(i),WorldToTileX:f.GetWorldToTileXFunction(i),WorldToTileY:f.GetWorldToTileYFunction(i),TileToWorldXY:f.GetTileToWorldXYFunction(i),TileToWorldX:f.GetTileToWorldXFunction(i),TileToWorldY:f.GetTileToWorldYFunction(i)}},createBlankDynamicLayer:function(t,e,i,r,n,s,o,a){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(t,e,i,r,n,s,o,a)},createDynamicLayer:function(t,e,i,r){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(t,e,i,r)},createStaticLayer:function(t,e,i,r){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(t,e,i,r)},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return"number"===typeof t&&(t=e[t]),e.indexOf(t)>-1&&(this.renderOrder=t),this},addTilesetImage:function(t,e,i,r,n,o,a){if(void 0===t)return null;if(void 0!==e&&null!==e||(e=t),!this.scene.sys.textures.exists(e))return console.warn("Invalid Tileset Image: "+e),null;var l=this.scene.sys.textures.get(e),u=this.getTilesetIndex(t);if(null===u&&this.format===s.TILED_JSON)return console.warn("No data found for Tileset: "+t),null;var h=this.tilesets[u];return h?(h.setTileSize(i,r),h.setSpacing(n,o),h.setImage(l),h):(void 0===i&&(i=this.tileWidth),void 0===r&&(r=this.tileHeight),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),(h=new m(t,a,i,r,n,o)).setImage(l),this.tilesets.push(h),h)},copy:function(t,e,i,r,n,s,o,a){return null!==(a=this.getLayer(a))?(f.Copy(t,e,i,r,n,s,o,a),this):null},createBlankLayer:function(t,e,i,r,n,s,o,l){if(void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=this.width),void 0===s&&(s=this.height),void 0===o&&(o=this.tileWidth),void 0===l&&(l=this.tileHeight),null!==this.getLayerIndex(t))return console.warn("Invalid Tilemap Layer ID: "+t),null;for(var u,h=new a({name:t,tileWidth:o,tileHeight:l,width:n,height:s,orientation:this.orientation}),c=0;c<s;c++){u=[];for(var f=0;f<n;f++)u.push(new d(h,-1,f,c,o,l,this.tileWidth,this.tileHeight));h.data.push(u)}this.layers.push(h),this.currentLayerIndex=this.layers.length-1;var m=new p(this.scene,this,this.currentLayerIndex,e,i,r);return m.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(m),m},createLayer:function(t,e,i,r){var n=this.getLayerIndex(t);if(null===n)return console.warn("Invalid Tilemap Layer ID: "+t),"string"===typeof t&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var s=this.layers[n];if(s.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+t),null;this.currentLayerIndex=n,void 0===i&&(i=s.x),void 0===r&&(r=s.y);var o=new p(this.scene,this,n,e,i,r);return o.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(o),o},createFromObjects:function(t,e){var i=[],r=this.getObjectLayer(t);if(!r)return console.warn("createFromObjects: Invalid objectLayerName given: "+t),i;Array.isArray(e)||(e=[e]);for(var s=r.objects,a=0;a<e.length;a++){for(var l,h=e[a],d=o(h,"id",null),f=o(h,"gid",null),p=o(h,"name",null),m=[],v=0;v<s.length;v++)l=s[v],(null===d&&null===f&&null===p||null!==d&&l.id===d||null!==f&&l.gid===f||null!==p&&l.name===p)&&m.push(l);for(var y=o(h,"classType",c),g=o(h,"scene",this.scene),x=o(h,"container",null),b=o(h,"key",null),w=o(h,"frame",null),_=0;_<m.length;_++){l=m[_];var S=new y(g);S.setName(l.name),S.setPosition(l.x,l.y),S.setTexture(b,w),l.width&&(S.displayWidth=l.width),l.height&&(S.displayHeight=l.height);var A={x:S.originX*l.width,y:(S.originY-1)*l.height};if(l.rotation){var T=n(l.rotation);u(A,T),S.rotation=T}if(S.x+=A.x,S.y+=A.y,void 0===l.flippedHorizontal&&void 0===l.flippedVertical||S.setFlip(l.flippedHorizontal,l.flippedVertical),l.visible||(S.visible=!1),Array.isArray(l.properties))l.properties.forEach((function(t){var e=t.name;void 0!==S[e]?S[e]=t.value:S.setData(e,t.value)}));else for(var E in l.properties)void 0!==S[E]?S[E]=l.properties[E]:S.setData(E,l.properties[E]);x?x.add(S):g.add.existing(S),i.push(S)}}return i},createFromTiles:function(t,e,i,r,n,s){return null===(s=this.getLayer(s))?null:f.CreateFromTiles(t,e,i,r,n,s)},fill:function(t,e,i,r,n,s,o){return void 0===s&&(s=!0),null===(o=this.getLayer(o))?null:(f.Fill(t,e,i,r,n,s,o),this)},filterObjects:function(t,e,i){if("string"===typeof t){var r=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+r),null}return t.objects.filter(e,i)},filterTiles:function(t,e,i,r,n,s,o,a){return null===(a=this.getLayer(a))?null:f.FilterTiles(t,e,i,r,n,s,o,a)},findByIndex:function(t,e,i,r){return null===(r=this.getLayer(r))?null:f.FindByIndex(t,e,i,r)},findObject:function(t,e,i){if("string"===typeof t){var r=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+r),null}return t.objects.find(e,i)||null},findTile:function(t,e,i,r,n,s,o,a){return null===(a=this.getLayer(a))?null:f.FindTile(t,e,i,r,n,s,o,a)},forEachTile:function(t,e,i,r,n,s,o,a){return null===(a=this.getLayer(a))?null:(f.ForEachTile(t,e,i,r,n,s,o,a),this)},getImageIndex:function(t){return this.getIndex(this.images,t)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map((function(t){return t.name})):[]},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return null!==e?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return null!==e?this.objects[e]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map((function(t){return t.name})):[]},getLayerIndex:function(t){return void 0===t?this.currentLayerIndex:"string"===typeof t?this.getLayerIndexByName(t):"number"===typeof t&&t<this.layers.length?t:t instanceof p?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,r){return null===(r=this.getLayer(r))?null:f.GetTileAt(t,e,i,r)},getTileAtWorldXY:function(t,e,i,r,n){return null===(n=this.getLayer(n))?null:f.GetTileAtWorldXY(t,e,i,r,n)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map((function(t){return t.name})):[]},getTilesWithin:function(t,e,i,r,n,s){return null===(s=this.getLayer(s))?null:f.GetTilesWithin(t,e,i,r,n,s)},getTilesWithinShape:function(t,e,i,r){return null===(r=this.getLayer(r))?null:f.GetTilesWithinShape(t,e,i,r)},getTilesWithinWorldXY:function(t,e,i,r,n,s,o){return null===(o=this.getLayer(o))?null:f.GetTilesWithinWorldXY(t,e,i,r,n,s,o)},getTileset:function(t){var e=this.getIndex(this.tilesets,t);return null!==e?this.tilesets[e]:null},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return null===(i=this.getLayer(i))?null:f.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,r){return null===(r=this.getLayer(r))?null:f.HasTileAtWorldXY(t,e,i,r)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,r,n){return void 0===r&&(r=!0),null===(n=this.getLayer(n))?null:f.PutTileAt(t,e,i,r,n)},putTileAtWorldXY:function(t,e,i,r,n,s){return void 0===r&&(r=!0),null===(s=this.getLayer(s))?null:f.PutTileAtWorldXY(t,e,i,r,n,s)},putTilesAt:function(t,e,i,r,n){return void 0===r&&(r=!0),null===(n=this.getLayer(n))?null:(f.PutTilesAt(t,e,i,r,n),this)},randomize:function(t,e,i,r,n,s){return null===(s=this.getLayer(s))?null:(f.Randomize(t,e,i,r,n,s),this)},calculateFacesAt:function(t,e,i){return null===(i=this.getLayer(i))?null:(f.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,r,n){return null===(n=this.getLayer(n))?null:(f.CalculateFacesWithin(t,e,i,r,n),this)},removeLayer:function(t){var e=this.getLayerIndex(t);if(null!==e){h(this.layers,e);for(var i=e;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===e&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(t){var e=this.getLayerIndex(t);return null!==e?((t=this.layers[e]).destroy(),h(this.layers,e),this.currentLayerIndex===e&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var t=this.layers,e=0;e<t.length;e++)t[e].tilemapLayer&&t[e].tilemapLayer.destroy(!1);return t.length=0,this.currentLayerIndex=0,this},removeTile:function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!0);var r=[];Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];r.push(this.removeTileAt(s.x,s.y,!0,i,s.tilemapLayer)),e>-1&&this.putTileAt(e,s.x,s.y,i,s.tilemapLayer)}return r},removeTileAt:function(t,e,i,r,n){return void 0===i&&(i=!0),void 0===r&&(r=!0),null===(n=this.getLayer(n))?null:f.RemoveTileAt(t,e,i,r,n)},removeTileAtWorldXY:function(t,e,i,r,n,s){return void 0===i&&(i=!0),void 0===r&&(r=!0),null===(s=this.getLayer(s))?null:f.RemoveTileAtWorldXY(t,e,i,r,n,s)},renderDebug:function(t,e,i){return null===(i=this.getLayer(i))?null:(this.orientation===l.ORTHOGONAL&&f.RenderDebug(t,e,i),this)},renderDebugFull:function(t,e){for(var i=this.layers,r=0;r<i.length;r++)f.RenderDebug(t,e,i[r]);return this},replaceByIndex:function(t,e,i,r,n,s,o){return null===(o=this.getLayer(o))?null:(f.ReplaceByIndex(t,e,i,r,n,s,o),this)},setCollision:function(t,e,i,r,n){return void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r))?null:(f.SetCollision(t,e,i,r,n),this)},setCollisionBetween:function(t,e,i,r,n){return void 0===i&&(i=!0),void 0===r&&(r=!0),null===(n=this.getLayer(n))?null:(f.SetCollisionBetween(t,e,i,r,n),this)},setCollisionByProperty:function(t,e,i,r){return void 0===e&&(e=!0),void 0===i&&(i=!0),null===(r=this.getLayer(r))?null:(f.SetCollisionByProperty(t,e,i,r),this)},setCollisionByExclusion:function(t,e,i,r){return void 0===e&&(e=!0),void 0===i&&(i=!0),null===(r=this.getLayer(r))?null:(f.SetCollisionByExclusion(t,e,i,r),this)},setCollisionFromCollisionGroup:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),null===(i=this.getLayer(i))?null:(f.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,r){return null===(r=this.getLayer(r))?null:(f.SetTileIndexCallback(t,e,i,r),this)},setTileLocationCallback:function(t,e,i,r,n,s,o){return null===(o=this.getLayer(o))?null:(f.SetTileLocationCallback(t,e,i,r,n,s,o),this)},setLayer:function(t){var e=this.getLayerIndex(t);return null!==e&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=t,this.layers[i].baseTileHeight=e;for(var r=this.layers[i].data,n=this.layers[i].width,s=this.layers[i].height,o=0;o<s;o++)for(var a=0;a<n;a++){var l=r[o][a];null!==l&&l.setSize(void 0,void 0,t,e)}}return this},setLayerTileSize:function(t,e,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=t,i.tileHeight=e;for(var r=i.data,n=i.width,s=i.height,o=0;o<s;o++)for(var a=0;a<n;a++){var l=r[o][a];null!==l&&l.setSize(t,e)}return this},shuffle:function(t,e,i,r,n){return null===(n=this.getLayer(n))?null:(f.Shuffle(t,e,i,r,n),this)},swapByIndex:function(t,e,i,r,n,s,o){return null===(o=this.getLayer(o))?null:(f.SwapByIndex(t,e,i,r,n,s,o),this)},tileToWorldX:function(t,e,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,r,n){return null===(n=this.getLayer(n))?null:this._convert.TileToWorldXY(t,e,i,r,n)},weightedRandomize:function(t,e,i,r,n,s){return null===(s=this.getLayer(s))?null:(f.WeightedRandomize(e,i,r,n,t,s),this)},worldToTileX:function(t,e,i,r){return null===(r=this.getLayer(r))?null:this._convert.WorldToTileX(t,e,i,r)},worldToTileY:function(t,e,i,r){return null===(r=this.getLayer(r))?null:this._convert.WorldToTileY(t,e,i,r)},worldToTileXY:function(t,e,i,r,n,s){return null===(s=this.getLayer(s))?null:this._convert.WorldToTileXY(t,e,i,r,n,s)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});t.exports=v},function(t,e,i){var r=i(0),n=i(11),s=i(15),o=i(251),a=i(1456),l=new r({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Origin,n.Pipeline,n.Transform,n.Visible,n.ScrollFactor,a],initialize:function(t,e,i,r,n,a){s.call(this,t,"TilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(r),this.setAlpha(this.layer.alpha),this.setPosition(n,a),this.setOrigin(),this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(t){var e=[],i=[],r=this.tilemap;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];if("string"===typeof s&&(s=r.getTileset(s)),s){i.push(s);for(var o=s.firstgid,a=0;a<s.total;a++)e[o+a]=s}}this.gidMap=e,this.tileset=i},setRenderOrder:function(t){return"string"===typeof t&&(t=["right-down","left-down","right-up","left-up"].indexOf(t)),t>=0&&t<4&&(this._renderOrder=t),this},calculateFacesAt:function(t,e){return o.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,r){return o.CalculateFacesWithin(t,e,i,r,this.layer),this},createFromTiles:function(t,e,i,r,n){return o.CreateFromTiles(t,e,i,r,n,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,r,n,s,a){return o.Copy(t,e,i,r,n,s,a,this.layer),this},fill:function(t,e,i,r,n,s){return o.Fill(t,e,i,r,n,s,this.layer),this},filterTiles:function(t,e,i,r,n,s,a){return o.FilterTiles(t,e,i,r,n,s,a,this.layer)},findByIndex:function(t,e,i){return o.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,r,n,s,a){return o.FindTile(t,e,i,r,n,s,a,this.layer)},forEachTile:function(t,e,i,r,n,s,a){return o.ForEachTile(t,e,i,r,n,s,a,this.layer),this},getTileAt:function(t,e,i){return o.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,r){return o.GetTileAtWorldXY(t,e,i,r,this.layer)},getTilesWithin:function(t,e,i,r,n){return o.GetTilesWithin(t,e,i,r,n,this.layer)},getTilesWithinShape:function(t,e,i){return o.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,r,n,s){return o.GetTilesWithinWorldXY(t,e,i,r,n,s,this.layer)},hasTileAt:function(t,e){return o.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return o.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,r){return o.PutTileAt(t,e,i,r,this.layer)},putTileAtWorldXY:function(t,e,i,r,n){return o.PutTileAtWorldXY(t,e,i,r,n,this.layer)},putTilesAt:function(t,e,i,r){return o.PutTilesAt(t,e,i,r,this.layer),this},randomize:function(t,e,i,r,n){return o.Randomize(t,e,i,r,n,this.layer),this},removeTileAt:function(t,e,i,r){return o.RemoveTileAt(t,e,i,r,this.layer)},removeTileAtWorldXY:function(t,e,i,r,n){return o.RemoveTileAtWorldXY(t,e,i,r,n,this.layer)},renderDebug:function(t,e){return o.RenderDebug(t,e,this.layer),this},replaceByIndex:function(t,e,i,r,n,s){return o.ReplaceByIndex(t,e,i,r,n,s,this.layer),this},setSkipCull:function(t){return void 0===t&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},setCollision:function(t,e,i,r){return o.SetCollision(t,e,i,this.layer,r),this},setCollisionBetween:function(t,e,i,r){return o.SetCollisionBetween(t,e,i,r,this.layer),this},setCollisionByProperty:function(t,e,i){return o.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return o.SetCollisionByExclusion(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return o.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileIndexCallback:function(t,e,i){return o.SetTileIndexCallback(t,e,i,this.layer),this},setTileLocationCallback:function(t,e,i,r,n,s){return o.SetTileLocationCallback(t,e,i,r,n,s,this.layer),this},shuffle:function(t,e,i,r){return o.Shuffle(t,e,i,r,this.layer),this},swapByIndex:function(t,e,i,r,n,s){return o.SwapByIndex(t,e,i,r,n,s,this.layer),this},tileToWorldX:function(t,e){return this.tilemap.tileToWorldX(t,e,this)},tileToWorldY:function(t,e){return this.tilemap.tileToWorldY(t,e,this)},tileToWorldXY:function(t,e,i,r){return this.tilemap.tileToWorldXY(t,e,i,r,this)},weightedRandomize:function(t,e,i,r,n){return o.WeightedRandomize(e,i,r,n,t,this.layer),this},worldToTileX:function(t,e,i){return this.tilemap.worldToTileX(t,e,i,this)},worldToTileY:function(t,e,i){return this.tilemap.worldToTileY(t,e,i,this)},worldToTileXY:function(t,e,i,r,n){return this.tilemap.worldToTileXY(t,e,i,r,n,this)},destroy:function(t){void 0===t&&(t=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),t&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});t.exports=l},function(t,e,i){var r=i(0),n=i(2),s=new r({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=n(t,"delay",0),this.repeat=n(t,"repeat",0),this.loop=n(t,"loop",!1),this.callback=n(t,"callback",void 0),this.callbackScope=n(t,"callbackScope",this.callback),this.args=n(t,"args",[]),this.timeScale=n(t,"timeScale",1),this.startAt=n(t,"startAt",0),this.paused=n(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});t.exports=s},function(t,e,i){var r=i(1465);t.exports=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substr(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===r.indexOf(e)&&"_"!==e.substr(0,1)&&i.push({key:e,value:t[e]});return i}},function(t,e,i){var r=i(6);t.exports=function(t){var e=r(t,"tweens",null);return null===e?[]:("function"===typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)}},function(t,e,i){var r=i(265),n=i(13),s=i(99),o=i(80),a=i(162),l=i(6),u=i(264),h=i(266),c=i(268);t.exports=function(t,e,i){void 0===i&&(i=r);var d=l(e,"from",0),f=l(e,"to",1),p=[{value:d}],m=a(e,"delay",i.delay),v=a(e,"duration",i.duration),y=l(e,"easeParams",i.easeParams),g=o(l(e,"ease",i.ease),y),x=a(e,"hold",i.hold),b=a(e,"repeat",i.repeat),w=a(e,"repeatDelay",i.repeatDelay),_=s(e,"yoyo",i.yoyo),S=[],A=u("value",f),T=c(p[0],0,"value",A.getEnd,A.getStart,A.getActive,g,m,v,_,x,b,w,!1,!1);T.start=d,T.current=d,T.to=f,S.push(T);var E=new h(t,S,p);E.offset=n(e,"offset",null),E.completeDelay=n(e,"completeDelay",0),E.loop=Math.round(n(e,"loop",0)),E.loopDelay=Math.round(n(e,"loopDelay",0)),E.paused=s(e,"paused",!1),E.useFrames=s(e,"useFrames",!1);for(var M=l(e,"callbackScope",E),C=[E,null],P=h.TYPES,R=0;R<P.length;R++){var k=P[R],L=l(e,k,!1);if(L){var O=l(e,k+"Scope",M),D=l(e,k+"Params",[]);E.setCallback(k,L,C.concat(D),O)}}return E}},function(t,e,i){var r=i(80),n=i(6),s=i(14);t.exports=function(t,e){var i;void 0===e&&(e={});var o=n(e,"start",0),a=n(e,"ease",null),l=n(e,"grid",null),u=n(e,"from",0),h="first"===u,c="center"===u,d="last"===u,f="number"===typeof u,p=Array.isArray(t),m=p?parseFloat(t[0]):parseFloat(t),v=p?parseFloat(t[1]):0,y=Math.max(m,v);if(p&&(o+=m),l){var g=l[0],x=l[1],b=0,w=0,_=0,S=0,A=[];d?(b=g-1,w=x-1):f?(b=u%g,w=Math.floor(u/g)):c&&(b=(g-1)/2,w=(x-1)/2);for(var T=s.MIN_SAFE_INTEGER,E=0;E<x;E++){A[E]=[];for(var M=0;M<g;M++){_=b-M,S=w-E;var C=Math.sqrt(_*_+S*S);C>T&&(T=C),A[E][M]=C}}}var P=a?r(a):null;return i=l?function(t,e,i,r){var n,s=0,a=r%g,l=Math.floor(r/g);if(a>=0&&a<g&&l>=0&&l<x&&(s=A[l][a]),p){var u=v-m;n=P?s/T*u*P(s/T):s/T*u}else n=P?s*m*P(s/T):s*m;return n+o}:function(t,e,i,r,n){var s,a,l;return n--,h?s=r:c?s=Math.abs(n/2-r):d?s=n-r:f&&(s=Math.abs(u-r)),p?(l=c?(v-m)/n*(2*s):(v-m)/n*s,a=P?l*P(s/n):l):a=P?n*y*P(s/n):s*m,a+o},i}},function(t,e,i){var r=i(77),n=i(265),s=i(13),o=i(99),a=i(80),l=i(162),u=i(263),h=i(584),c=i(6),d=i(588),f=i(163);t.exports=function(t,e){var i=new d(t);i.completeDelay=s(e,"completeDelay",0),i.loop=Math.round(s(e,"loop",0)),i.loopDelay=Math.round(s(e,"loopDelay",0)),i.paused=o(e,"paused",!1),i.useFrames=o(e,"useFrames",!1);var p=c(e,"callbackScope",i),m=[i],v=c(e,"onStart",!1);if(v){var y=c(e,"onStartScope",p),g=c(e,"onStartParams",[]);i.setCallback("onStart",v,m.concat(g),y)}var x=c(e,"onUpdate",!1);if(x){var b=c(e,"onUpdateScope",p),w=c(e,"onUpdateParams",[]);i.setCallback("onUpdate",x,m.concat(w),b)}var _=c(e,"onLoop",!1);if(_){var S=c(e,"onLoopScope",p),A=c(e,"onLoopParams",[]);i.setCallback("onLoop",_,m.concat(A),S)}var T=c(e,"onYoyo",!1);if(T){var E=c(e,"onYoyoScope",p),M=c(e,"onYoyoParams",[]);i.setCallback("onYoyo",T,m.concat(null,M),E)}var C=c(e,"onComplete",!1);if(C){var P=c(e,"onCompleteScope",p),R=c(e,"onCompleteParams",[]);i.setCallback("onComplete",C,m.concat(R),P)}var k=h(e);if(0===k.length)return i.paused=!0,i;var L=r(n);L.targets=u(e);var O=s(e,"totalDuration",0);L.duration=O>0?Math.floor(O/k.length):l(e,"duration",L.duration),L.delay=l(e,"delay",L.delay),L.easeParams=c(e,"easeParams",L.easeParams),L.ease=a(c(e,"ease",L.ease),L.easeParams),L.hold=l(e,"hold",L.hold),L.repeat=l(e,"repeat",L.repeat),L.repeatDelay=l(e,"repeatDelay",L.repeatDelay),L.yoyo=o(e,"yoyo",L.yoyo),L.flipX=o(e,"flipX",L.flipX),L.flipY=o(e,"flipY",L.flipY);for(var D=0;D<k.length;D++)i.queue(f(i,k[D],L));return i}},function(t,e,i){var r=i(0),n=i(9),s=i(267),o=i(163),a=i(100),l=new r({Extends:n,initialize:function(t){n.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING_ADD,this._pausedState=a.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(t,e){this.emit(t,this),e&&e.func.apply(e.scope,e.params)},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===a.ACTIVE},add:function(t){return this.queue(o(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"===typeof t},isOffsetRelative:function(t){if("string"===typeof t){var e=t[0];if("-"===e||"+"===e)return!0}return!1},getRelativeOffset:function(t,e){var i=t[0],r=parseFloat(t.substr(2)),n=e;switch(i){case"+":n+=r;break;case"-":n-=r}return Math.max(0,n)},calcDuration:function(){for(var t=0,e=0,i=0,r=0;r<this.totalData;r++){var n=this.data[r];n.init(),this.hasOffset(n)?this.isOffsetAbsolute(n.offset)?(n.calculatedOffset=n.offset,0===n.offset&&(i=0)):this.isOffsetRelative(n.offset)&&(n.calculatedOffset=this.getRelativeOffset(n.offset,t)):n.calculatedOffset=i,t=n.totalDuration+n.calculatedOffset,e+=n.totalDuration,i+=n.totalDuration}this.duration=e,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=a.PAUSED,!1)},resetTweens:function(t){for(var e=0;e<this.totalData;e++)this.data[e].play(t)},setCallback:function(t,e,i,r){return-1!==l.TYPES.indexOf(t)&&(this.callbacks[t]={func:e,scope:r,params:i}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==a.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=a.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=a.LOOP_DELAY):(this.state=a.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=a.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(t,e){if(this.state!==a.PAUSED){switch(this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case a.ACTIVE:for(var i=this.totalData,r=0;r<this.totalData;r++)this.data[r].update(t,e)&&i--;this.dispatchTimelineEvent(s.TIMELINE_UPDATE,this.callbacks.onUpdate),0===i&&this.nextState();break;case a.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=a.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop));break;case a.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===a.PENDING_REMOVE}},stop:function(){this.state=a.PENDING_REMOVE},pause:function(){if(this.state!==a.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=a.PAUSED,this.emit(s.TIMELINE_PAUSE,this),this},resume:function(){return this.state===a.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(s.TIMELINE_RESUME,this)),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});l.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],t.exports=l},function(t,e,i){var r=i(86),n=i(41),s=i(32),o=i(2),a=i(64),l={parseBody:function(t,e,i,r){void 0===r&&(r={});for(var a=o(i,"fixtures",[]),l=[],u=0;u<a.length;u++)for(var h=this.parseFixture(a[u]),c=0;c<h.length;c++)l.push(h[c]);var d=s.clone(i,!0);s.extend(d,r,!0),delete d.fixtures,delete d.type;var f=n.create(d);return n.setParts(f,l),n.setPosition(f,{x:t,y:e}),f},parseFixture:function(t){var e,i=s.extend({},!1,t);if(delete i.circle,delete i.vertices,t.circle){var n=o(t.circle,"x"),a=o(t.circle,"y"),l=o(t.circle,"radius");e=[r.circle(n,a,l,i)]}else t.vertices&&(e=this.parseVertices(t.vertices,i));return e},parseVertices:function(t,e){void 0===e&&(e={});for(var i=[],o=0;o<t.length;o++)a.clockwiseSort(t[o]),i.push(n.create(s.extend({position:a.centre(t[o]),vertices:t[o]},e)));return r.flagCoincidentParts(i)}};t.exports=l},function(t,e,i){var r=i(86),n=i(41),s={parseBody:function(t,e,i,s){var o;void 0===s&&(s={});var a=i.vertices;if(1===a.length)s.vertices=a[0],o=n.create(s),r.flagCoincidentParts(o.parts);else{for(var l=[],u=0;u<a.length;u++){var h=n.create({vertices:a[u]});l.push(h)}r.flagCoincidentParts(l),s.parts=l,o=n.create(s)}return o.label=i.label,n.setPosition(o,{x:t,y:e}),o}};t.exports=s},function(t,e,i){var r={};t.exports=r;var n=i(118),s=i(128),o=i(32),a=i(41),l=i(86);r.stack=function(t,e,i,r,s,o,l){for(var u,h=n.create({label:"Stack"}),c=t,d=e,f=0,p=0;p<r;p++){for(var m=0,v=0;v<i;v++){var y=l(c,d,v,p,u,f);if(y){var g=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x;g>m&&(m=g),a.translate(y,{x:.5*x,y:.5*g}),c=y.bounds.max.x+s,n.addBody(h,y),u=y,f+=1}else c+=s}d+=m+o,c=t}return h},r.chain=function(t,e,i,r,a,l){for(var u=t.bodies,h=1;h<u.length;h++){var c=u[h-1],d=u[h],f=c.bounds.max.y-c.bounds.min.y,p=c.bounds.max.x-c.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,v={bodyA:c,pointA:{x:p*e,y:f*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*r,y:m*a}},y=o.extend(v,l);n.addConstraint(t,s.create(y))}return t.label+=" Chain",t},r.mesh=function(t,e,i,r,a){var l,u,h,c,d,f=t.bodies;for(l=0;l<i;l++){for(u=1;u<e;u++)h=f[u-1+l*e],c=f[u+l*e],n.addConstraint(t,s.create(o.extend({bodyA:h,bodyB:c},a)));if(l>0)for(u=0;u<e;u++)h=f[u+(l-1)*e],c=f[u+l*e],n.addConstraint(t,s.create(o.extend({bodyA:h,bodyB:c},a))),r&&u>0&&(d=f[u-1+(l-1)*e],n.addConstraint(t,s.create(o.extend({bodyA:d,bodyB:c},a)))),r&&u<e-1&&(d=f[u+1+(l-1)*e],n.addConstraint(t,s.create(o.extend({bodyA:d,bodyB:c},a))))}return t.label+=" Mesh",t},r.pyramid=function(t,e,i,n,s,o,l){return r.stack(t,e,i,n,s,o,(function(e,r,o,u,h,c){var d=Math.min(n,Math.ceil(i/2)),f=h?h.bounds.max.x-h.bounds.min.x:0;if(!(u>d)&&!(o<(u=d-u)||o>i-1-u))return 1===c&&a.translate(h,{x:(o+(i%2===1?1:-1))*f,y:0}),l(t+(h?o*f:0)+o*s,r,o,u,h,c)}))},r.newtonsCradle=function(t,e,i,r,o){for(var a=n.create({label:"Newtons Cradle"}),u=0;u<i;u++){var h=l.circle(t+u*(1.9*r),e+o,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=s.create({pointA:{x:t+u*(1.9*r),y:e},bodyB:h});n.addBody(a,h),n.addConstraint(a,c)}return a},r.car=function(t,e,i,r,o){var u=a.nextGroup(!0),h=.5*-i+20,c=.5*i-20,d=n.create({label:"Car"}),f=l.rectangle(t,e,i,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),p=l.circle(t+h,e+0,o,{collisionFilter:{group:u},friction:.8}),m=l.circle(t+c,e+0,o,{collisionFilter:{group:u},friction:.8}),v=s.create({bodyB:f,pointB:{x:h,y:0},bodyA:p,stiffness:1,length:0}),y=s.create({bodyB:f,pointB:{x:c,y:0},bodyA:m,stiffness:1,length:0});return n.addBody(d,f),n.addBody(d,p),n.addBody(d,m),n.addConstraint(d,v),n.addConstraint(d,y),d},r.softBody=function(t,e,i,n,s,a,u,h,c,d){c=o.extend({inertia:1/0},c),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var f=r.stack(t,e,i,n,s,a,(function(t,e){return l.circle(t,e,h,c)}));return r.mesh(f,i,n,u,d),f.label="Soft Body",f}},function(t,e,i){var r={};t.exports=r,i(84);var n=i(32);r.pathToVertices=function(t,e){"undefined"===typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,o,a,l,u,h,c,d,f,p,m=[],v=0,y=0,g=0;e=e||15;var x=function(t,e,i){var r=i%2===1&&i>1;if(!d||t!=d.x||e!=d.y){d&&r?(f=d.x,p=d.y):(f=0,p=0);var n={x:f+t,y:p+e};!r&&d||(d=n),m.push(n),y=f+t,g=p+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":y=t.x,g=t.y;break;case"H":y=t.x;break;case"V":g=t.y}x(y,g,t.pathSegType)}};for(r._svgPathToAbsolute(t),o=t.getTotalLength(),u=[],i=0;i<t.pathSegList.numberOfItems;i+=1)u.push(t.pathSegList.getItem(i));for(h=u.concat();v<o;){if((l=u[t.getPathSegAtLength(v)])!=c){for(;h.length&&h[0]!=l;)b(h.shift());c=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(v),x(a.x,a.y,0)}v+=e}for(i=0,s=h.length;i<s;++i)b(h[i]);return m},r._svgPathToAbsolute=function(t){for(var e,i,r,n,s,o,a=t.pathSegList,l=0,u=0,h=a.numberOfItems,c=0;c<h;++c){var d=a.getItem(c),f=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in d&&(l=d.x),"y"in d&&(u=d.y);else switch("x1"in d&&(r=l+d.x1),"x2"in d&&(s=l+d.x2),"y1"in d&&(n=u+d.y1),"y2"in d&&(o=u+d.y2),"x"in d&&(l+=d.x),"y"in d&&(u+=d.y),f){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(l,u),c);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(l,u),c);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),c);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(u),c);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,u,r,n,s,o),c);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,u,s,o),c);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,u,r,n),c);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,u),c);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(l,u,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),c);break;case"z":case"Z":l=e,u=i}"M"!=f&&"m"!=f||(e=l,i=u)}}},function(t,e,i){var r=i(86),n=i(41),s=i(0),o=i(249),a=i(9),l=i(2),u=i(126),h=i(64),c=new s({Extends:a,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(t,e,i){a.call(this),this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var r=l(i,"body",null),n=l(i,"addToWorld",!0);if(r)this.setBody(r,n);else{var s=e.getCollisionGroup();l(s,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(t){void 0===t&&(t={}),u(t,"isStatic")||(t.isStatic=!0),u(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,n=e.y+e.height/2,s=r.rectangle(i,n,e.width,e.height,t);return this.setBody(s,t.addToWorld),this},setFromTileCollision:function(t){void 0===t&&(t={}),u(t,"isStatic")||(t.isStatic=!0),u(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,s=this.tile.getLeft(),o=this.tile.getTop(),a=this.tile.getCollisionGroup(),c=l(a,"objects",[]),d=[],f=0;f<c.length;f++){var p=c[f],m=s+p.x*e,v=o+p.y*i,y=p.width*e,g=p.height*i,x=null;if(p.rectangle)x=r.rectangle(m+y/2,v+g/2,y,g,t);else if(p.ellipse)x=r.circle(m+y/2,v+g/2,y/2,t);else if(p.polygon||p.polyline){var b=(p.polygon?p.polygon:p.polyline).map((function(t){return{x:t.x*e,y:t.y*i}})),w=h.create(b),_=h.centre(w);m+=_.x,v+=_.y,x=r.fromVertices(m,v,w,t)}x&&d.push(x)}return 1===d.length?this.setBody(d[0],t.addToWorld):d.length>1&&(t.parts=d,this.setBody(n.create(t),t.addToWorld)),this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});t.exports=c},function(t,e,i){var r=i(1399);r.Body=i(41),r.Composite=i(118),r.World=i(596),r.Detector=i(273),r.Grid=i(597),r.Pairs=i(598),r.Pair=i(250),r.Query=i(1400),r.Resolver=i(599),r.SAT=i(274),r.Constraint=i(128),r.Common=i(32),r.Engine=i(1401),r.Events=i(166),r.Sleeping=i(165),r.Plugin=i(595),r.Bodies=i(86),r.Composites=i(591),r.Axes=i(271),r.Bounds=i(84),r.Svg=i(592),r.Vector=i(83),r.Vertices=i(64),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,t.exports=r},function(t,e,i){var r={};t.exports=r;var n=i(32);r._registry={},r.register=function(t){if(r.isPlugin(t)||n.warn("Plugin.register:",r.toString(t),"does not implement all required fields."),t.name in r._registry){var e=r._registry[t.name],i=r.versionParse(t.version).number,s=r.versionParse(e.version).number;i>s?(n.warn("Plugin.register:",r.toString(e),"was upgraded to",r.toString(t)),r._registry[t.name]=t):i<s?n.warn("Plugin.register:",r.toString(e),"can not be downgraded to",r.toString(t)):t!==e&&n.warn("Plugin.register:",r.toString(t),"is already registered to different plugin object")}else r._registry[t.name]=t;return t},r.resolve=function(t){return r._registry[r.dependencyParse(t).name]},r.toString=function(t){return"string"===typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},r.isPlugin=function(t){return t&&t.name&&t.version&&t.install},r.isUsed=function(t,e){return t.used.indexOf(e)>-1},r.isFor=function(t,e){var i=t.for&&r.dependencyParse(t.for);return!t.for||e.name===i.name&&r.versionSatisfies(e.version,i.range)},r.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=r.dependencies(t),s=n.topologicalSort(i),o=[],a=0;a<s.length;a+=1)if(s[a]!==t.name){var l=r.resolve(s[a]);l?r.isUsed(t,l.name)||(r.isFor(l,t)||(n.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(t)+"."),l._warned=!0),l.install?l.install(t):(n.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(o.push("\ud83d\udd36 "+r.toString(l)),delete l._warned):o.push("\u2705 "+r.toString(l)),t.used.push(l.name)):o.push("\u274c "+s[a])}o.length>0&&!l.silent&&n.info(o.join("  "))}else n.warn("Plugin.use:",r.toString(t),"does not specify any dependencies to install.")},r.dependencies=function(t,e){var i=r.dependencyParse(t),s=i.name;if(!(s in(e=e||{}))){t=r.resolve(t)||t,e[s]=n.map(t.uses||[],(function(e){r.isPlugin(e)&&r.register(e);var s=r.dependencyParse(e),o=r.resolve(e);return o&&!r.versionSatisfies(o.version,s.range)?(n.warn("Plugin.dependencies:",r.toString(o),"does not satisfy",r.toString(s),"used by",r.toString(i)+"."),o._warned=!0,t._warned=!0):o||(n.warn("Plugin.dependencies:",r.toString(e),"used by",r.toString(i),"could not be resolved."),t._warned=!0),s.name}));for(var o=0;o<e[s].length;o+=1)r.dependencies(e[s][o],e);return e}},r.dependencyParse=function(t){return n.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t)||n.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},r.versionParse=function(t){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t)||n.warn("Plugin.versionParse:",t,"is not a valid version or range.");var e=t.split("-");t=e[0];var i=isNaN(Number(t[0])),r=i?t.substr(1):t,s=n.map(r.split("."),(function(t){return Number(t)}));return{isRange:i,version:r,range:t,operator:i?t[0]:"",parts:s,prerelease:e[1],number:1e8*s[0]+1e4*s[1]+s[2]}},r.versionSatisfies=function(t,e){e=e||"*";var i=r.versionParse(e),n=i.parts,s=r.versionParse(t),o=s.parts;if(i.isRange){if("*"===i.operator||"*"===t)return!0;if("~"===i.operator)return o[0]===n[0]&&o[1]===n[1]&&o[2]>=n[2];if("^"===i.operator)return n[0]>0?o[0]===n[0]&&s.number>=i.number:n[1]>0?o[1]===n[1]&&o[2]>=n[2]:o[2]===n[2]}return t===e||"*"===t}},function(t,e,i){var r={};t.exports=r;var n=i(118),s=(i(128),i(32));r.create=function(t){var e=n.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return s.extend(e,i,t)}},function(t,e,i){var r={};t.exports=r;var n=i(250),s=i(273),o=i(32);r.create=function(t){var e={controller:r,detector:s.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(e,t)},r.update=function(t,e,i,n){var s,o,a,l,u,h=i.world,c=t.buckets,d=!1,f=i.metrics;for(f.broadphaseTests=0,s=0;s<e.length;s++){var p=e[s];if((!p.isSleeping||n)&&!(p.bounds.max.x<h.bounds.min.x||p.bounds.min.x>h.bounds.max.x||p.bounds.max.y<h.bounds.min.y||p.bounds.min.y>h.bounds.max.y)){var m=r._getRegion(t,p);if(!p.region||m.id!==p.region.id||n){f.broadphaseTests+=1,p.region&&!n||(p.region=m);var v=r._regionUnion(m,p.region);for(o=v.startCol;o<=v.endCol;o++)for(a=v.startRow;a<=v.endRow;a++){l=c[u=r._getBucketId(o,a)];var y=o>=m.startCol&&o<=m.endCol&&a>=m.startRow&&a<=m.endRow,g=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!y&&g&&g&&l&&r._bucketRemoveBody(t,l,p),(p.region===m||y&&!g||n)&&(l||(l=r._createBucket(c,u)),r._bucketAddBody(t,l,p))}p.region=m,d=!0}}}d&&(t.pairsList=r._createActivePairsList(t))},r.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},r._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),n=Math.max(t.endCol,e.endCol),s=Math.min(t.startRow,e.startRow),o=Math.max(t.endRow,e.endRow);return r._createRegion(i,n,s,o)},r._getRegion=function(t,e){var i=e.bounds,n=Math.floor(i.min.x/t.bucketWidth),s=Math.floor(i.max.x/t.bucketWidth),o=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return r._createRegion(n,s,o,a)},r._createRegion=function(t,e,i,r){return{id:t+","+e+","+i+","+r,startCol:t,endCol:e,startRow:i,endRow:r}},r._getBucketId=function(t,e){return"C"+t+"R"+e},r._createBucket=function(t,e){return t[e]=[]},r._bucketAddBody=function(t,e,i){for(var r=0;r<e.length;r++){var s=e[r];if(!(i.id===s.id||i.isStatic&&s.isStatic)){var o=n.id(i,s),a=t.pairs[o];a?a[2]+=1:t.pairs[o]=[i,s,1]}}e.push(i)},r._bucketRemoveBody=function(t,e,i){e.splice(e.indexOf(i),1);for(var r=0;r<e.length;r++){var s=e[r],o=n.id(i,s),a=t.pairs[o];a&&(a[2]-=1)}},r._createActivePairsList=function(t){var e,i,r=[];e=o.keys(t.pairs);for(var n=0;n<e.length;n++)(i=t.pairs[e[n]])[2]>0?r.push(i):delete t.pairs[e[n]];return r}},function(t,e,i){var r={};t.exports=r;var n=i(250),s=i(32);r._pairMaxIdleLife=1e3,r.create=function(t){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},r.update=function(t,e,i){var r,s,o,a,l=t.list,u=t.table,h=t.collisionStart,c=t.collisionEnd,d=t.collisionActive;for(h.length=0,c.length=0,d.length=0,a=0;a<l.length;a++)l[a].confirmedActive=!1;for(a=0;a<e.length;a++)(r=e[a]).collided&&((o=u[s=n.id(r.bodyA,r.bodyB)])?(o.isActive?d.push(o):h.push(o),n.update(o,r,i),o.confirmedActive=!0):(o=n.create(r,i),u[s]=o,h.push(o),l.push(o)));for(a=0;a<l.length;a++)(o=l[a]).isActive&&!o.confirmedActive&&(n.setActive(o,!1,i),c.push(o))},r.removeOld=function(t,e){var i,n,s,o,a=t.list,l=t.table,u=[];for(o=0;o<a.length;o++)(n=(i=a[o]).collision).bodyA.isSleeping||n.bodyB.isSleeping?i.timeUpdated=e:e-i.timeUpdated>r._pairMaxIdleLife&&u.push(o);for(o=0;o<u.length;o++)delete l[(i=a[s=u[o]-o]).id],a.splice(s,1)},r.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,i){var r={};t.exports=r;var n=i(64),s=i(83),o=i(32),a=i(84);r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(t){var e,i,r;for(e=0;e<t.length;e++)(i=t[e]).isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},r.solvePosition=function(t,e,i){var n,s,o,a,l,u,h,c,d,f,p,m,v,y,g,x,b=i*r._positionDampen;for(n=0;n<e.length;n++){var w=e[n];w.previousPositionImpulse.x=w.positionImpulse.x,w.previousPositionImpulse.y=w.positionImpulse.y}for(n=0;n<t.length;n++)(a=t[n]).isActive&&!a.isSensor&&(u=(l=a.collision).parentA,h=l.parentB,c=l.normal,p=u.previousPositionImpulse,m=h.previousPositionImpulse,f=l.penetration,y=m.x-p.x+f.x,g=m.y-p.y+f.y,d=(s=c.x)*y+(o=c.y)*g,a.separation=d,x=(d-a.slop)*b,(u.isStatic||h.isStatic)&&(x*=2),u.isStatic||u.isSleeping||(v=x/u.totalContacts,u.positionImpulse.x+=s*v,u.positionImpulse.y+=o*v),h.isStatic||h.isSleeping||(v=x/h.totalContacts,h.positionImpulse.x-=s*v,h.positionImpulse.y-=o*v))},r.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var o=0;o<i.parts.length;o++){var l=i.parts[o];n.translate(l.vertices,i.positionImpulse),a.update(l.bounds,l.vertices,i.velocity),l.position.x+=i.positionImpulse.x,l.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,s.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=r._positionWarming,i.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(t){var e,i,r,n,o,a,l,u,h,c,d,f,p,m,v=s._temp[0],y=s._temp[1];for(e=0;e<t.length;e++)if((r=t[e]).isActive&&!r.isSensor)for(n=r.activeContacts,a=(o=r.collision).parentA,l=o.parentB,u=o.normal,h=o.tangent,i=0;i<n.length;i++)d=(c=n[i]).vertex,f=c.normalImpulse,p=c.tangentImpulse,0===f&&0===p||(v.x=u.x*f+h.x*p,v.y=u.y*f+h.y*p,a.isStatic||a.isSleeping||(m=s.sub(d,a.position,y),a.positionPrev.x+=v.x*a.inverseMass,a.positionPrev.y+=v.y*a.inverseMass,a.anglePrev+=s.cross(m,v)*a.inverseInertia),l.isStatic||l.isSleeping||(m=s.sub(d,l.position,y),l.positionPrev.x-=v.x*l.inverseMass,l.positionPrev.y-=v.y*l.inverseMass,l.anglePrev-=s.cross(m,v)*l.inverseInertia))},r.solveVelocity=function(t,e){for(var i=e*e,n=s._temp[0],a=s._temp[1],l=s._temp[2],u=s._temp[3],h=s._temp[4],c=s._temp[5],d=0;d<t.length;d++){var f=t[d];if(f.isActive&&!f.isSensor){var p=f.collision,m=p.parentA,v=p.parentB,y=p.normal,g=p.tangent,x=f.activeContacts,b=1/x.length;m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,v.angularVelocity=v.angle-v.anglePrev;for(var w=0;w<x.length;w++){var _=x[w],S=_.vertex,A=s.sub(S,m.position,a),T=s.sub(S,v.position,l),E=s.add(m.velocity,s.mult(s.perp(A),m.angularVelocity),u),M=s.add(v.velocity,s.mult(s.perp(T),v.angularVelocity),h),C=s.sub(E,M,c),P=s.dot(y,C),R=s.dot(g,C),k=Math.abs(R),L=o.sign(R),O=(1+f.restitution)*P,D=o.clamp(f.separation+P,0,1)*r._frictionNormalMultiplier,I=R,F=1/0;k>f.friction*f.frictionStatic*D*i&&(F=k,I=o.clamp(f.friction*L*i,-F,F));var j=s.cross(A,y),B=s.cross(T,y),N=b/(m.inverseMass+v.inverseMass+m.inverseInertia*j*j+v.inverseInertia*B*B);if(O*=N,I*=N,P<0&&P*P>r._restingThresh*i)_.normalImpulse=0;else{var U=_.normalImpulse;_.normalImpulse=Math.min(_.normalImpulse+O,0),O=_.normalImpulse-U}if(R*R>r._restingThreshTangent*i)_.tangentImpulse=0;else{var z=_.tangentImpulse;_.tangentImpulse=o.clamp(_.tangentImpulse+I,-F,F),I=_.tangentImpulse-z}n.x=y.x*O+g.x*I,n.y=y.y*O+g.y*I,m.isStatic||m.isSleeping||(m.positionPrev.x+=n.x*m.inverseMass,m.positionPrev.y+=n.y*m.inverseMass,m.anglePrev+=s.cross(A,n)*m.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=n.x*v.inverseMass,v.positionPrev.y-=n.y*v.inverseMass,v.anglePrev-=s.cross(T,n)*v.inverseInertia)}}}}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},function(t,e,i){var r=i(276);t.exports=function(t,e,i,n){for(var s=t[0],o=1;o<t.length;o++){var a=t[o];r(a,s,e,i,n),s=a}return t}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"angle",e,i,n,s)}},function(t,e){t.exports=function(t,e,i){for(var r=0;r<t.length;r++){var n=t[r];e.call(i,n)}return t}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=0);for(var r=i;r<t.length;r++){var n=t[r],s=!0;for(var o in e)n[o]!==e[o]&&(s=!1);if(s)return n}return null}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=0);for(var r=i;r<t.length;r++){var n=t[r],s=!0;for(var o in e)n[o]!==e[o]&&(s=!1);if(s)return n}return null}},function(t,e,i){var r=i(289),n=i(123),s=i(2),o=i(1),a=new(i(129))({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1);t.exports=function(t,e){void 0===e&&(e={});var i=e.hasOwnProperty("width"),o=e.hasOwnProperty("height"),l=s(e,"width",-1),u=s(e,"height",-1),h=s(e,"cellWidth",1),c=s(e,"cellHeight",h),d=s(e,"position",n.TOP_LEFT),f=s(e,"x",0),p=s(e,"y",0),m=0,v=0,y=l*h,g=u*c;a.setPosition(f,p),a.setSize(h,c);for(var x=0;x<t.length;x++)if(r(t[x],a,d),i&&-1===l)a.x+=h;else if(o&&-1===u)a.y+=c;else if(o&&!i){if(v+=c,a.y+=c,v===g&&(v=0,m+=h,a.y=p,a.x+=h,m===y))break}else if(m+=h,a.x+=h,m===y&&(m=0,v+=c,a.x=f,a.y+=c,v===g))break;return t}},function(t,e,i){var r=i(18),n={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,n){return void 0===t&&(t=1),void 0===e?this.alpha=t:(this._alphaTL=r(t,0,1),this._alphaTR=r(e,0,1),this._alphaBL=r(i,0,1),this._alphaBR=r(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=r(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=r(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=r(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=r(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=r(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=2)}}};t.exports=n},function(t,e){t.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}}},function(t,e){var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,r){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"===typeof t)this.frame.setCropUVs(this._crop,t,e,i,r,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){t.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(t,e,i){var r=i(10),n=i(308),s=i(3),o={prepareBoundsOutput:function(t,e){return void 0===e&&(e=!1),0!==this.rotation&&n(t,this.x,this.y,this.rotation),e&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t),t},getCenter:function(t){return void 0===t&&(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopRight:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getLeftCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getRightCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getBottomLeft:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomRight:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBounds:function(t){var e,i,n,s,o,a,l,u;if(void 0===t&&(t=new r),this.parentContainer){var h=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t),h.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),h.transformPoint(t.x,t.y,t),n=t.x,s=t.y,this.getBottomLeft(t),h.transformPoint(t.x,t.y,t),o=t.x,a=t.y,this.getBottomRight(t),h.transformPoint(t.x,t.y,t),l=t.x,u=t.y}else this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),n=t.x,s=t.y,this.getBottomLeft(t),o=t.x,a=t.y,this.getBottomRight(t),l=t.x,u=t.y;return t.x=Math.min(e,n,o,l),t.y=Math.min(i,s,a,u),t.width=Math.max(e,n,o,l)-t.x,t.height=Math.max(i,s,a,u)-t.y,t}};t.exports=o},function(t,e){t.exports="blur"},function(t,e){t.exports="boot"},function(t,e){t.exports="contextlost"},function(t,e){t.exports="contextrestored"},function(t,e){t.exports="destroy"},function(t,e){t.exports="focus"},function(t,e){t.exports="hidden"},function(t,e){t.exports="pause"},function(t,e){t.exports="postrender"},function(t,e){t.exports="poststep"},function(t,e){t.exports="prerender"},function(t,e){t.exports="prestep"},function(t,e){t.exports="ready"},function(t,e){t.exports="resume"},function(t,e){t.exports="step"},function(t,e){t.exports="visible"},function(t,e){t.exports="postrender"},function(t,e){t.exports="prerender"},function(t,e){t.exports="render"},function(t,e){t.exports="resize"},function(t,e){var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};t.exports=i},function(t,e,i){var r=i(36),n=i(99),s=i(6),o=i(100),a=i(3),l={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:o.PLAYING_FORWARD,setPath:function(t,e){void 0===e&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e){return void 0===e&&(e=0),this.rotateToPath=t,this.pathRotationOffset=e,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){void 0===t&&(t={}),void 0===e&&(e=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"===typeof t&&(t={duration:t}),t.from=s(t,"from",0),t.to=s(t,"to",1);var l=n(t,"positionOnPath",!1);this.rotateToPath=n(t,"rotateToPath",!1),this.pathRotationOffset=s(t,"rotationOffset",0);var u=s(t,"startAt",e);if(u&&(t.onStart=function(t){var e=t.data[0];e.progress=u,e.elapsed=e.duration*u;var i=e.ease(e.progress);e.current=e.start+(e.end-e.start)*i,e.target[e.key]=e.current}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=o.PLAYING_FORWARD,this.rotateToPath){var h=this.path.getPoint(.1);this.rotation=Math.atan2(h.y-this.y,h.x-this.x)+r(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},pathUpdate:function(){var t=this.pathTween;if(t){var e=t.data[0],i=this.pathDelta,n=this.pathVector;if(i.copy(n).negate(),e.state===o.COMPLETE)return this.path.getPoint(1,n),i.add(n),n.add(this.pathOffset),void this.setPosition(n.x,n.y);if(e.state!==o.PLAYING_FORWARD&&e.state!==o.PLAYING_BACKWARD)return;this.path.getPoint(t.getValue(),n),i.add(n),n.add(this.pathOffset);var s=this.x,a=this.y;this.setPosition(n.x,n.y);var l=this.x-s,u=this.y-a;if(0===l&&0===u)return;if(e.state!==this._prevDirection)return void(this._prevDirection=e.state);this.rotateToPath&&(this.rotation=Math.atan2(u,l)+r(this.pathRotationOffset))}}};t.exports=l},function(t,e){var i={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){var i={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};t.exports=i},function(t,e){var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,r){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"===typeof t)this.frame.setCropUVs(this._crop,t,e,i,r,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){var i={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,e,i,r){return void 0===t&&(t=16777215),void 0===e&&(e=t,i=t,r=t),this.tintTopLeft=t,this.tintTopRight=e,this.tintBottomLeft=i,this.tintBottomRight=r,this.tintFill=!1,this},setTintFill:function(t,e,i,r){return this.setTint(t,e,i,r),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};t.exports=i},function(t,e){t.exports="changedata"},function(t,e){t.exports="changedata-"},function(t,e){t.exports="destroy"},function(t,e){t.exports="removedata"},function(t,e){t.exports="setdata"},function(t,e){t.exports="addedtoscene"},function(t,e){t.exports="destroy"},function(t,e){t.exports="removedfromscene"},function(t,e){t.exports="complete"},function(t,e){t.exports="created"},function(t,e){t.exports="error"},function(t,e){t.exports="loop"},function(t,e){t.exports="play"},function(t,e){t.exports="seeked"},function(t,e){t.exports="seeking"},function(t,e){t.exports="stop"},function(t,e){t.exports="timeout"},function(t,e){t.exports="unlocked"},function(t,e){t.exports="addedtoscene"},function(t,e){t.exports="boot"},function(t,e){t.exports="create"},function(t,e){t.exports="destroy"},function(t,e){t.exports="pause"},function(t,e){t.exports="postupdate"},function(t,e){t.exports="prerender"},function(t,e){t.exports="preupdate"},function(t,e){t.exports="ready"},function(t,e){t.exports="removedfromscene"},function(t,e){t.exports="render"},function(t,e){t.exports="resume"},function(t,e){t.exports="shutdown"},function(t,e){t.exports="sleep"},function(t,e){t.exports="start"},function(t,e){t.exports="transitioncomplete"},function(t,e){t.exports="transitioninit"},function(t,e){t.exports="transitionout"},function(t,e){t.exports="transitionstart"},function(t,e){t.exports="transitionwake"},function(t,e){t.exports="update"},function(t,e){t.exports="wake"},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"alpha",e,i,n,s)}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"x",e,i,n,s)}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s,o,a){return void 0!==i&&null!==i||(i=e),r(t,"x",e,n,o,a),r(t,"y",i,s,o,a)}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"y",e,i,n,s)}},function(t,e){t.exports=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=6.28);for(var n=i,s=(r-i)/t.length,o=0;o<t.length;o++)t[o].x=e.x+e.radius*Math.cos(n),t[o].y=e.y+e.radius*Math.sin(n),n+=s;return t}},function(t,e){t.exports=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=6.28);for(var n=i,s=(r-i)/t.length,o=e.width/2,a=e.height/2,l=0;l<t.length;l++)t[l].x=e.x+o*Math.cos(n),t[l].y=e.y+a*Math.sin(n),n+=s;return t}},function(t,e,i){var r=i(172);t.exports=function(t,e){for(var i=r(e,t.length),n=0;n<t.length;n++){var s=t[n],o=i[n];s.x=o.x,s.y=o.y}return t}},function(t,e,i){var r=i(316),n=i(178),s=i(179);t.exports=function(t,e,i){void 0===i&&(i=0);var o=r(e,!1,t.length);i>0?n(o,i):i<0&&s(o,Math.abs(i));for(var a=0;a<t.length;a++)t[a].x=o[a].x,t[a].y=o[a].y;return t}},function(t,e,i){var r=i(317);t.exports=function(t,e,i){var n=r({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),s=r({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),o=r({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);n.pop(),s.pop(),o.pop();for(var a=(n=n.concat(s,o)).length/t.length,l=0,u=0;u<t.length;u++){var h=t[u],c=n[Math.floor(l)];h.x=c.x,h.y=c.y,l+=a}return t}},function(t,e){t.exports=function(t,e,i){for(var r=0;r<t.length;r++){var n=t[r];n.anims&&n.anims.play(e,i)}return t}},function(t,e,i){var r=i(170);t.exports=function(t,e){for(var i=0;i<t.length;i++)r(e,t[i]);return t}},function(t,e,i){var r=i(180);t.exports=function(t,e){for(var i=0;i<t.length;i++)r(e,t[i]);return t}},function(t,e,i){var r=i(173);t.exports=function(t,e){for(var i=0;i<t.length;i++)r(e,t[i]);return t}},function(t,e,i){var r=i(174);t.exports=function(t,e){for(var i=0;i<t.length;i++)r(e,t[i]);return t}},function(t,e,i){var r=i(181);t.exports=function(t,e){for(var i=0;i<t.length;i++)r(e,t[i]);return t}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"rotation",e,i,n,s)}},function(t,e,i){var r=i(182),n=i(50);t.exports=function(t,e,i){for(var s=e.x,o=e.y,a=0;a<t.length;a++){var l=t[a];r(l,s,o,i,Math.max(1,n(l.x,l.y,s,o)))}return t}},function(t,e,i){var r=i(182);t.exports=function(t,e,i,n){var s=e.x,o=e.y;if(0===n)return t;for(var a=0;a<t.length;a++)r(t[a],s,o,i,n);return t}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"scaleX",e,i,n,s)}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s,o,a){return void 0!==i&&null!==i||(i=e),r(t,"scaleX",e,n,o,a),r(t,"scaleY",i,s,o,a)}},function(t,e,i){var r=i(46);t.exports=function(t,e,i,n,s){return r(t,"scaleY",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"alpha",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n){return r(t,"blendMode",e,0,i,n)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"depth",e,i,n,s)}},function(t,e){t.exports=function(t,e,i){for(var r=0;r<t.length;r++)t[r].setInteractive(e,i);return t}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s,o,a){return void 0!==i&&null!==i||(i=e),r(t,"originX",e,n,o,a),r(t,"originY",i,s,o,a),t.forEach((function(t){t.updateDisplayOrigin()})),t}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"rotation",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s,o,a){return void 0!==i&&null!==i||(i=e),r(t,"scaleX",e,n,o,a),r(t,"scaleY",i,s,o,a)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"scaleX",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"scaleY",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s,o,a){return void 0!==i&&null!==i||(i=e),r(t,"scrollFactorX",e,n,o,a),r(t,"scrollFactorY",i,s,o,a)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"scrollFactorX",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"scrollFactorY",e,i,n,s)}},function(t,e){t.exports=function(t,e,i,r,n){for(var s=0;s<t.length;s++)t[s].setTint(e,i,r,n);return t}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n){return r(t,"visible",e,0,i,n)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"x",e,i,n,s)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s,o,a){return void 0!==i&&null!==i||(i=e),r(t,"x",e,n,o,a),r(t,"y",i,s,o,a)}},function(t,e,i){var r=i(27);t.exports=function(t,e,i,n,s){return r(t,"y",e,i,n,s)}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n,s){var o,a,l,u,h,c;if(void 0===n&&(n=0),void 0===s&&(s=new r),t.length>1)if(0===n){var d=t.length-1;for(o=t[d].x,a=t[d].y,l=d-1;l>=0;l--)u=(c=t[l]).x,h=c.y,c.x=o,c.y=a,o=u,a=h;t[d].x=e,t[d].y=i}else{for(o=t[0].x,a=t[0].y,l=1;l<t.length;l++)u=(c=t[l]).x,h=c.y,c.x=o,c.y=a,o=u,a=h;t[0].x=e,t[0].y=i}else o=t[0].x,a=t[0].y,t[0].x=e,t[0].y=i;return s.x=o,s.y=a,s}},function(t,e,i){var r=i(131);t.exports=function(t){return r(t)}},function(t,e,i){var r=i(183);t.exports=function(t,e,i,n,s){void 0===s&&(s=!1);var o,a=Math.abs(n-i)/t.length;if(s)for(o=0;o<t.length;o++)t[o][e]+=r(o*a,i,n);else for(o=0;o<t.length;o++)t[o][e]=r(o*a,i,n);return t}},function(t,e,i){var r=i(184);t.exports=function(t,e,i,n,s){void 0===s&&(s=!1);var o,a=Math.abs(n-i)/t.length;if(s)for(o=0;o<t.length;o++)t[o][e]+=r(o*a,i,n);else for(o=0;o<t.length;o++)t[o][e]=r(o*a,i,n);return t}},function(t,e){t.exports=function(t,e,i,r,n){void 0===n&&(n=!1);var s,o=Math.abs(r-i)/t.length;if(n)for(s=0;s<t.length;s++)t[s][e]+=s*o+i;else for(s=0;s<t.length;s++)t[s][e]=s*o+i;return t}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t}},function(t,e,i){var r=i(68);t.exports=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++){var s=t[n];s.x=r(s.x,e.left-i,e.right+i),s.y=r(s.y,e.top-i,e.bottom+i)}return t}},function(t,e,i){t.exports={Animation:i(185),AnimationFrame:i(319),AnimationManager:i(321),AnimationState:i(164),Events:i(132)}},function(t,e){t.exports="add"},function(t,e){t.exports="animationcomplete"},function(t,e){t.exports="animationcomplete-"},function(t,e){t.exports="animationrepeat"},function(t,e){t.exports="animationrestart"},function(t,e){t.exports="animationstart"},function(t,e){t.exports="animationstop"},function(t,e){t.exports="animationupdate"},function(t,e){t.exports="pauseall"},function(t,e){t.exports="remove"},function(t,e){t.exports="resumeall"},function(t,e,i){t.exports={BaseCache:i(323),CacheManager:i(325),Events:i(324)}},function(t,e){t.exports="add"},function(t,e){t.exports="remove"},function(t,e,i){t.exports={Controls:i(739),Scene2D:i(742)}},function(t,e,i){t.exports={FixedKeyControl:i(740),SmoothedKeyControl:i(741)}},function(t,e,i){var r=i(0),n=i(6),s=new r({initialize:function(t){this.camera=n(t,"camera",null),this.left=n(t,"left",null),this.right=n(t,"right",null),this.up=n(t,"up",null),this.down=n(t,"down",null),this.zoomIn=n(t,"zoomIn",null),this.zoomOut=n(t,"zoomOut",null),this.zoomSpeed=n(t,"zoomSpeed",.01),this.minZoom=n(t,"minZoom",.001),this.maxZoom=n(t,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=n(t,"speed",null);"number"===typeof e?(this.speedX=e,this.speedY=e):(this.speedX=n(t,"speed.x",0),this.speedY=n(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<this.minZoom&&(e.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed,e.zoom>this.maxZoom&&(e.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){var r=i(0),n=i(6),s=new r({initialize:function(t){this.camera=n(t,"camera",null),this.left=n(t,"left",null),this.right=n(t,"right",null),this.up=n(t,"up",null),this.down=n(t,"down",null),this.zoomIn=n(t,"zoomIn",null),this.zoomOut=n(t,"zoomOut",null),this.zoomSpeed=n(t,"zoomSpeed",.01),this.minZoom=n(t,"minZoom",.001),this.maxZoom=n(t,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=n(t,"acceleration",null);"number"===typeof e?(this.accelX=e,this.accelY=e):(this.accelX=n(t,"acceleration.x",0),this.accelY=n(t,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=n(t,"drag",null);"number"===typeof i?(this.dragX=i,this.dragY=i):(this.dragX=n(t,"drag.x",0),this.dragY=n(t,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var r=n(t,"maxSpeed",null);"number"===typeof r?(this.maxSpeedX=r,this.maxSpeedY=r):(this.maxSpeedX=n(t,"maxSpeed.x",0),this.maxSpeedY=n(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(e.scrollX-=this._speedX*t|0),0!==this._speedY&&(e.scrollY-=this._speedY*t|0),0!==this._zoom&&(e.zoom+=this._zoom,e.zoom<this.minZoom?e.zoom=this.minZoom:e.zoom>this.maxZoom&&(e.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){t.exports={Camera:i(326),BaseCamera:i(133),CameraManager:i(799),Effects:i(333),Events:i(37)}},function(t,e){t.exports="cameradestroy"},function(t,e){t.exports="camerafadeincomplete"},function(t,e){t.exports="camerafadeinstart"},function(t,e){t.exports="camerafadeoutcomplete"},function(t,e){t.exports="camerafadeoutstart"},function(t,e){t.exports="cameraflashcomplete"},function(t,e){t.exports="cameraflashstart"},function(t,e){t.exports="followupdate"},function(t,e){t.exports="camerapancomplete"},function(t,e){t.exports="camerapanstart"},function(t,e){t.exports="postrender"},function(t,e){t.exports="prerender"},function(t,e){t.exports="camerarotatecomplete"},function(t,e){t.exports="camerarotatestart"},function(t,e){t.exports="camerashakecomplete"},function(t,e){t.exports="camerashakestart"},function(t,e){t.exports="camerazoomcomplete"},function(t,e){t.exports="camerazoomstart"},function(t,e,i){var r=i(18),n=i(0),s=i(37),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,o,a,l){if(void 0===t&&(t=!0),void 0===e&&(e=1e3),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===l&&(l=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=t,this.progress=0,this.red=i,this.green=r,this.blue=n,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=l;var u=t?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(u,this.camera,this,e,i,r,n),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=r(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(t,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,r=this.red/255,n=this.green/255,s=this.blue/255;return t.drawFillRect(i.x,i.y,i.width,i.height,e(s,n,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},function(t,e,i){var r=i(18),n=i(0),s=i(37),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,o,a){return void 0===t&&(t=250),void 0===e&&(e=255),void 0===i&&(i=255),void 0===r&&(r=255),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=this.camera.scene),!n&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.red=e,this.green=i,this.blue=r,this.alpha=1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=a,this.camera.emit(s.FLASH_START,this.camera,this,t,e,i,r)),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=r(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(t,e){if(!this.isRunning)return!1;var i=this.camera,r=this.red/255,n=this.green/255,s=this.blue/255;return t.drawFillRect(i.x,i.y,i.width,i.height,e(s,n,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},function(t,e,i){var r=i(18),n=i(0),s=i(134),o=i(37),a=i(3),l=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,a,l){void 0===i&&(i=1e3),void 0===r&&(r=s.Linear),void 0===n&&(n=!1),void 0===a&&(a=null),void 0===l&&(l=this.camera.scene);var u=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(u.scrollX,u.scrollY),this.destination.set(t,e),u.getScroll(t,e,this.current),"string"===typeof r&&s.hasOwnProperty(r)?this.ease=s[r]:"function"===typeof r&&(this.ease=r),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=l,this.camera.emit(o.PAN_START,this.camera,this,i,t,e)),u},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=r(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);n.getScroll(this.destination.x,this.destination.y,this.current);var o=this.source.x+(this.current.x-this.source.x)*s,a=this.source.y+(this.current.y-this.source.y)*s;n.setScroll(o,a),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,o,a)}else n.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,n.scrollX,n.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=l},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}},function(t,e){t.exports=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}},function(t,e){t.exports=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},function(t,e){t.exports=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}},function(t,e){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,e){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,e){t.exports=function(t){return t*t*t}},function(t,e){t.exports=function(t){return--t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var r=i/4;return e<1?e=1:r=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var r=i/4;return e<1?e=1:r=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/i)+1}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var r=i/4;return e<1?e=1:r=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)*.5+1}},function(t,e){t.exports=function(t){return Math.pow(2,10*(t-1))-.001}},function(t,e){t.exports=function(t){return 1-Math.pow(2,-10*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){return t*t}},function(t,e){t.exports=function(t){return t*(2-t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,e){t.exports=function(t){return t*t*t*t}},function(t,e){t.exports=function(t){return 1- --t*t*t*t}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},function(t,e){t.exports=function(t){return t*t*t*t*t}},function(t,e){t.exports=function(t){return--t*t*t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t<=0?0:t>=1?1:1/e*(1+(e*t|0))}},function(t,e,i){var r=i(18),n=i(0),s=i(37),o=i(3),a=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n){return void 0===t&&(t=100),void 0===e&&(e=.05),void 0===i&&(i=!1),void 0===r&&(r=null),void 0===n&&(n=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,"number"===typeof e?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=n,this.camera.emit(s.SHAKE_START,this.camera,this,t,e)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,e){if(this.isRunning)if(this._elapsed+=e,this.progress=r(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,n=this.camera.width,s=this.camera.height,o=this.camera.zoom;this._offsetX=(Math.random()*i.x*n*2-i.x*n)*o,this._offsetY=(Math.random()*i.y*s*2-i.y*s)*o,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});t.exports=a},function(t,e,i){var r=i(18),n=i(0),s=i(37),o=i(134),a=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(t,e,i,r,n,a,l){void 0===i&&(i=1e3),void 0===r&&(r=o.Linear),void 0===n&&(n=!1),void 0===a&&(a=null),void 0===l&&(l=this.camera.scene),void 0===e&&(e=!1),this.shortestPath=e;var u=t;t<0?(u=-1*t,this.clockwise=!1):this.clockwise=!0;var h=360*Math.PI/180;u-=Math.floor(u/h)*h;var c=this.camera;if(!n&&this.isRunning)return c;if(this.isRunning=!0,this.duration=i,this.progress=0,this.source=c.rotation,this.destination=u,"string"===typeof r&&o.hasOwnProperty(r)?this.ease=o[r]:"function"===typeof r&&(this.ease=r),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=l,this.shortestPath){var d=0,f=0;(d=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+h)-this.source)<(f=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+h)-this.destination)?this.clockwise=!0:d>f&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,i,u),c},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=r(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);this.current=n.rotation;var o=0,a=360*Math.PI/180,l=this.destination,u=this.current;!1===this.clockwise&&(l=this.current,u=this.destination),o=l>=u?Math.abs(l-u):Math.abs(l+a)-u;var h=0;h=this.clockwise?n.rotation+o*s:n.rotation-o*s,n.rotation=h,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,h)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=a},function(t,e,i){var r=i(18),n=i(0),s=i(134),o=i(37),a=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,a){void 0===e&&(e=1e3),void 0===i&&(i=s.Linear),void 0===r&&(r=!1),void 0===n&&(n=null),void 0===a&&(a=this.camera.scene);var l=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.source=l.zoom,this.destination=t,"string"===typeof i&&s.hasOwnProperty(i)?this.ease=s[i]:"function"===typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=a,this.camera.emit(o.ZOOM_START,this.camera,this,e,t)),l},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=r(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=a},function(t,e,i){var r=i(326),n=i(0),s=i(2),o=i(24),a=i(57),l=i(104),u=i(20),h=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.roundPixels=t.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,t.sys.events.once(u.BOOT,this.boot,this),t.sys.events.on(u.START,this.start,this)},boot:function(){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new r(0,0,t.scale.width,t.scale.height).setScene(this.scene),t.game.scale.on(l.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){if(!this.main){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0]}var e=this.systems.events;e.on(u.UPDATE,this.update,this),e.once(u.SHUTDOWN,this.shutdown,this)},add:function(t,e,i,n,s,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===s&&(s=!1),void 0===o&&(o="");var a=new r(t,e,i,n);return a.setName(o),a.setScene(this.scene),a.setRoundPixels(this.roundPixels),a.id=this.getNextID(),this.cameras.push(a),s&&(this.main=a),a},addExisting:function(t,e){return void 0===e&&(e=!1),-1===this.cameras.indexOf(t)?(t.id=this.getNextID(),t.setRoundPixels(this.roundPixels),this.cameras.push(t),e&&(this.main=t),t):null},getNextID:function(){for(var t=this.cameras,e=1,i=0;i<32;i++){for(var r=!1,n=0;n<t.length;n++){var s=t[n];s&&s.id===e&&(r=!0)}if(!r)return e;e<<=1}return 0},getTotal:function(t){void 0===t&&(t=!1);for(var e=0,i=this.cameras,r=0;r<i.length;r++){var n=i[r];(!t||t&&n.visible)&&e++}return e},fromJSON:function(t){Array.isArray(t)||(t=[t]);for(var e=this.scene.sys.scale.width,i=this.scene.sys.scale.height,r=0;r<t.length;r++){var n=t[r],o=s(n,"x",0),a=s(n,"y",0),l=s(n,"width",e),u=s(n,"height",i),h=this.add(o,a,l,u);h.name=s(n,"name",""),h.zoom=s(n,"zoom",1),h.rotation=s(n,"rotation",0),h.scrollX=s(n,"scrollX",0),h.scrollY=s(n,"scrollY",0),h.roundPixels=s(n,"roundPixels",!1),h.visible=s(n,"visible",!0);var c=s(n,"backgroundColor",!1);c&&h.setBackgroundColor(c);var d=s(n,"bounds",null);if(d){var f=s(d,"x",0),p=s(d,"y",0),m=s(d,"width",e),v=s(d,"height",i);h.setBounds(f,p,m,v)}}return this},getCamera:function(t){for(var e=this.cameras,i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},getCamerasBelowPointer:function(t){for(var e=this.cameras,i=t.x,r=t.y,n=[],s=0;s<e.length;s++){var o=e[s];o.visible&&o.inputEnabled&&a(o,i,r)&&n.unshift(o)}return n},remove:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0,r=this.cameras,n=0;n<t.length;n++){var s=r.indexOf(t[n]);-1!==s&&(e?r[s].destroy():r[s].renderList=[],r.splice(s,1),i++)}return!this.main&&r[0]&&(this.main=r[0]),i},render:function(t,e){for(var i=this.scene,r=this.cameras,n=0;n<this.cameras.length;n++){var s=r[n];if(s.visible&&s.alpha>0){s.preRender();var o=this.getVisibleChildren(e.getChildren(),s);t.render(i,o,s)}}},getVisibleChildren:function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r];n.willRender(e)&&i.push(n)}return i},resetAll:function(){for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(t,e)},onResize:function(t,e,i,r,n){for(var s=0;s<this.cameras.length;s++){var o=this.cameras[s];0===o._x&&0===o._y&&o._width===r&&o._height===n&&o.setSize(e.width,e.height)}},resize:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(t,e)},shutdown:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();this.cameras=[];var e=this.systems.events;e.off(u.UPDATE,this.update,this),e.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});o.register("CameraManager",h,"cameras"),t.exports=h},function(t,e){t.exports="enterfullscreen"},function(t,e){t.exports="fullscreenfailed"},function(t,e){t.exports="fullscreenunsupported"},function(t,e){t.exports="leavefullscreen"},function(t,e){t.exports="orientationchange"},function(t,e){t.exports="resize"},function(t,e,i){t.exports={Config:i(346),CreateRenderer:i(366),DebugHeader:i(384),Events:i(22),TimeStep:i(385),VisibilityHandler:i(387)}},function(t,e){var i,r,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"===typeof setTimeout?setTimeout:s}catch(t){i=s}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var l,u=[],h=!1,c=-1;function d(){h&&l&&(h=!1,l.length?u=l.concat(u):c=-1,u.length&&f())}function f(){if(!h){var t=a(d);h=!0;for(var e=u.length;e;){for(l=u,u=[];++c<e;)l&&l[c].run();c=-1,e=u.length}l=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||h||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){var r=i(136),n={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};t.exports=("function"===typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(n.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(n.mspointer=!0),navigator.getGamepads&&(n.gamepads=!0),"onwheel"in window||r.ie&&"WheelEvent"in window?n.wheelEvent="wheel":"onmousewheel"in window?n.wheelEvent="mousewheel":r.firefox&&"MouseScrollEvent"in window&&(n.wheelEvent="DOMMouseScroll")),n)},function(t,e,i){var r=i(136),n={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};t.exports=function(){if("function"===typeof importScripts)return n;n.audioData=!!window.Audio,n.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio"),e=!!t.canPlayType;try{if(e&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(n.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(n.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(n.mp3=!0),t.canPlayType("audio/wav").replace(/^no$/,"")&&(n.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(n.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(n.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')))if(r.edge)n.dolby=!0;else if(r.safari&&r.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(10===i&&s>=11||i>10)&&(n.dolby=!0)}}catch(o){}return n}()},function(t,e){var i={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};t.exports=function(){if("function"===typeof importScripts)return i;var t=document.createElement("video"),e=!!t.canPlayType;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.ogg=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264=!0,i.mp4=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webm=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hls=!0))}catch(r){}return i}()},function(t,e){var i={available:!1,cancel:"",keyboard:!1,request:""};t.exports=function(){if("function"===typeof importScripts)return i;var t,e="Fullscreen",r="FullScreen",n=["request"+e,"request"+r,"webkitRequest"+e,"webkitRequest"+r,"msRequest"+e,"msRequest"+r,"mozRequest"+r,"mozRequest"+e];for(t=0;t<n.length;t++)if(document.documentElement[n[t]]){i.available=!0,i.request=n[t];break}var s=["cancel"+r,"exit"+e,"webkitCancel"+r,"webkitExit"+e,"msCancel"+r,"msExit"+e,"mozCancel"+r,"mozExit"+e];if(i.available)for(t=0;t<s.length;t++)if(document[s[t]]){i.cancel=s[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(i.keyboard=!0),Object.defineProperty(i,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),i}()},function(t,e,i){t.exports={Between:i(349),BetweenPoints:i(350),BetweenPointsY:i(813),BetweenY:i(814),CounterClockwise:i(815),Normalize:i(351),Random:i(816),RandomDegrees:i(817),Reverse:i(818),RotateTo:i(819),ShortestBetween:i(820),Wrap:i(269),WrapDegrees:i(270)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}},function(t,e){t.exports=function(t,e,i,r){return Math.atan2(i-t,r-e)}},function(t,e,i){var r=i(14);t.exports=function(t){return t>Math.PI&&(t-=r.PI2),Math.abs(((t+r.TAU)%r.PI2-r.PI2)%r.PI2)}},function(t,e,i){var r=i(137);t.exports=function(){return r(-Math.PI,Math.PI)}},function(t,e,i){var r=i(137);t.exports=function(){return r(-180,180)}},function(t,e,i){var r=i(351);t.exports=function(t){return r(t+Math.PI)}},function(t,e,i){var r=i(14);t.exports=function(t,e,i){return void 0===i&&(i=.05),t===e||(Math.abs(e-t)<=i||Math.abs(e-t)>=r.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=r.PI2:e-=r.PI2),e>t?t+=i:e<t&&(t-=i))),t}},function(t,e){t.exports=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)}},function(t,e,i){t.exports={Between:i(50),BetweenPoints:i(352),BetweenPointsSquared:i(822),Chebyshev:i(823),Power:i(824),Snake:i(825),Squared:i(353)}},function(t,e){t.exports=function(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r}},function(t,e){t.exports=function(t,e,i,r){return Math.max(Math.abs(t-i),Math.abs(e-r))}},function(t,e){t.exports=function(t,e,i,r,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(r-e,n))}},function(t,e){t.exports=function(t,e,i,r){return Math.abs(t-i)+Math.abs(e-r)}},function(t,e,i){t.exports={Back:i(334),Bounce:i(335),Circular:i(336),Cubic:i(337),Elastic:i(338),Expo:i(339),Linear:i(340),Quadratic:i(341),Quartic:i(342),Quintic:i(343),Sine:i(344),Stepped:i(345)}},function(t,e,i){t.exports={Ceil:i(828),Equal:i(124),Floor:i(829),GreaterThan:i(354),LessThan:i(355)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)}},function(t,e,i){t.exports={Bezier:i(831),CatmullRom:i(832),CubicBezier:i(358),Linear:i(833),QuadraticBezier:i(359),SmoothStep:i(360),SmootherStep:i(834)}},function(t,e,i){var r=i(356);t.exports=function(t,e){for(var i=0,n=t.length-1,s=0;s<=n;s++)i+=Math.pow(1-e,n-s)*Math.pow(e,s)*t[s]*r(n,s);return i}},function(t,e,i){var r=i(194);t.exports=function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n);return t[0]===t[i]?(e<0&&(s=Math.floor(n=i*(1+e))),r(n-s,t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i])):e<0?t[0]-(r(-n,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(r(n-i,t[i],t[i],t[i-1],t[i-1])-t[i]):r(n-s,t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2])}},function(t,e,i){var r=i(135);t.exports=function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n);return e<0?r(t[0],t[1],n):e>1?r(t[i],t[i-1],i-n):r(t[s],t[s+1>i?i:s+1],n-s)}},function(t,e,i){var r=i(183);t.exports=function(t,e,i){return e+(i-e)*r(t,0,1)}},function(t,e,i){t.exports={GetNext:i(361),IsSize:i(138),IsValue:i(836)}},function(t,e){t.exports=function(t){return t>0&&0===(t&t-1)}},function(t,e,i){t.exports={Ceil:i(139),Floor:i(76),To:i(838)}},function(t,e){t.exports=function(t,e,i,r){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),r?(i+t)/e:i+t)}},function(t,e,i){var r=new(i(0))({initialize:function(t){void 0===t&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=this.n;t=t.toString();for(var r=0;r<t.length;r++)e=.02519603282416938*(i+=t.charCodeAt(r)),e-=i=e>>>0,i=(e*=i)>>>0,i+=4294967296*(e-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"===typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"===typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(this.frac()*(e+1)),r=t[i];t[i]=t[e],t[e]=r}return t}});t.exports=r},function(t,e){t.exports=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var r=Math.pow(i,-e);return Math.ceil(t*r)/r}},function(t,e){t.exports=function(t,e){return Math.abs(t-e)}},function(t,e,i){var r=i(18),n=i(0),s=i(69),o=i(1),a=new s,l=new n({initialize:function t(e,i,r,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=t.DefaultOrder),this._x=e,this._y=i,this._z=r,this._order=n,this.onChangeCallback=o},x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback(this)}},set:function(t,e,i,r){return void 0===r&&(r=this._order),this._x=t,this._y=e,this._z=i,this._order=r,this.onChangeCallback(this),this},copy:function(t){return this.set(t.x,t.y,t.z,t.order)},setFromQuaternion:function(t,e,i){return void 0===e&&(e=this._order),void 0===i&&(i=!1),a.fromQuat(t),this.setFromRotationMatrix(a,e,i)},setFromRotationMatrix:function(t,e,i){void 0===e&&(e=this._order),void 0===i&&(i=!1);var n=t.val,s=n[0],o=n[4],a=n[8],l=n[1],u=n[5],h=n[9],c=n[2],d=n[6],f=n[10],p=0,m=0,v=0,y=.99999;switch(e){case"XYZ":m=Math.asin(r(a,-1,1)),Math.abs(a)<y?(p=Math.atan2(-h,f),v=Math.atan2(-o,s)):p=Math.atan2(d,u);break;case"YXZ":p=Math.asin(-r(h,-1,1)),Math.abs(h)<y?(m=Math.atan2(a,f),v=Math.atan2(l,u)):m=Math.atan2(-c,s);break;case"ZXY":p=Math.asin(r(d,-1,1)),Math.abs(d)<y?(m=Math.atan2(-c,f),v=Math.atan2(-o,u)):v=Math.atan2(l,s);break;case"ZYX":m=Math.asin(-r(c,-1,1)),Math.abs(c)<y?(p=Math.atan2(d,f),v=Math.atan2(l,s)):v=Math.atan2(-o,u);break;case"YZX":v=Math.asin(r(l,-1,1)),Math.abs(l)<y?(p=Math.atan2(-h,u),m=Math.atan2(-c,s)):m=Math.atan2(a,f);break;case"XZY":v=Math.asin(-r(o,-1,1)),Math.abs(o)<y?(p=Math.atan2(d,u),m=Math.atan2(a,s)):p=Math.atan2(-h,f)}return this._x=p,this._y=m,this._z=v,this._order=e,i&&this.onChangeCallback(this),this}});l.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],l.DefaultOrder="XYZ",t.exports=l},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var r=Math.pow(i,-e);return Math.floor(t*r)/r}},function(t,e){t.exports=function(t,e){return t/e/1e3}},function(t,e){t.exports=function(t){return t==parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t){return t===parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t,e,i){return Math.min(t+e,i)}},function(t,e){t.exports=function(t){var e=t.length;if(0===e)return 0;t.sort((function(t,e){return t-e}));var i=Math.floor(e/2);return e%2===0?(t[i]+t[i-1])/2:t[i]}},function(t,e){t.exports=function(t,e,i){return Math.max(t-e,i)}},function(t,e){t.exports=function(t,e,i,r){void 0===i&&(i=e+1);var n=(t-e)/(i-e);return n>1?void 0!==r?(n=(r-t)/(r-i))<0&&(n=0):n=1:n<0&&(n=0),n}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*e;return t.x=Math.cos(i)*n,t.y=Math.sin(i)*n,t.z=r*e,t}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t.x=(2*Math.random()-1)*e,t.y=(2*Math.random()-1)*e,t.z=(2*Math.random()-1)*e,t.w=(2*Math.random()-1)*e,t}},function(t,e){t.exports=function(t,e,i,r,n){return t.x=e+n*Math.cos(r),t.y=i+n*Math.sin(r),t}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var r=Math.pow(i,-e);return Math.round(t*r)/r}},function(t,e){t.exports=function(t,e,i,r){void 0===e&&(e=1),void 0===i&&(i=1),void 0===r&&(r=1),r*=Math.PI/t;for(var n=[],s=[],o=0;o<t;o++)e+=(i-=e*r)*r,n[o]=i,s[o]=e;return{sin:s,cos:n,length:t}}},function(t,e,i){var r=i(3);t.exports=function(t,e,i,n){void 0===n&&(n=new r);var s=0,o=0;return t>0&&t<=e*i&&(s=t>e-1?t-(o=Math.floor(t/e))*e:t),n.set(s,o)}},function(t,e){t.exports=function(t,e,i){return Math.abs(t-e)<=i}},function(t,e,i){var r=i(39),n=i(69),s=i(365),o=new n,a=new s,l=new r;t.exports=function(t,e,i){return a.setAxisAngle(e,i),o.fromRotationTranslation(a,l.set(0,0,0)),t.transformMat4(o)}},function(t,e){t.exports="addtexture"},function(t,e){t.exports="onerror"},function(t,e){t.exports="onload"},function(t,e){t.exports="ready"},function(t,e){t.exports="removetexture"},function(t,e){t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(t,e){t.exports="pipelineafterflush"},function(t,e){t.exports="pipelinebeforeflush"},function(t,e){t.exports="pipelinebind"},function(t,e){t.exports="pipelineboot"},function(t,e){t.exports="pipelinedestroy"},function(t,e){t.exports="pipelinerebind"},function(t,e){t.exports="pipelineresize"},function(t,e){t.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join("\n")},function(t,e,i){t.exports={GenerateTexture:i(388),Palettes:i(889)}},function(t,e,i){t.exports={ARNE16:i(389),C64:i(890),CGA:i(891),JMP:i(892),MSX:i(893)}},function(t,e){t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(t,e){t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(t,e){t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(t,e){t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(t,e,i){t.exports={Path:i(895),MoveTo:i(393),CubicBezier:i(390),Curve:i(94),Ellipse:i(391),Line:i(392),QuadraticBezier:i(394),Spline:i(395)}},function(t,e,i){var r=i(0),n=i(390),s=i(391),o=i(5),a=i(392),l=i(393),u=i(394),h=i(10),c=i(395),d=i(3),f=i(14),p=new r({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,"object"===typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return void 0===e&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new a(e,t)),this},cubicBezierTo:function(t,e,i,r,s,o){var a,l,u,h=this.getEndPoint();return t instanceof d?(a=t,l=e,u=i):(a=new d(i,r),l=new d(s,o),u=new d(t,e)),this.add(new n(h,a,l,u))},quadraticBezierTo:function(t,e,i,r){var n,s,o=this.getEndPoint();return t instanceof d?(n=t,s=e):(n=new d(i,r),s=new d(t,e)),this.add(new u(o,n,s))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var r=this.curves[i];r.active&&r.draw(t,e)}return t},ellipseTo:function(t,e,i,r,n,o){var a=new s(0,0,t,e,i,r,n,o),l=this.getEndPoint(this._tmpVec2A),u=a.getStartPoint(this._tmpVec2B);return l.subtract(u),a.x=l.x,a.y=l.y,this.add(a)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var e=0;e<t.curves.length;e++){var i=t.curves[e];switch(i.type){case"LineCurve":this.add(a.fromJSON(i));break;case"EllipseCurve":this.add(s.fromJSON(i));break;case"SplineCurve":this.add(c.fromJSON(i));break;case"CubicBezierCurve":this.add(n.fromJSON(i));break;case"QuadraticBezierCurve":this.add(u.fromJSON(i))}}return this},getBounds:function(t,e){void 0===t&&(t=new h),void 0===e&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new h,r=f.MIN_SAFE_INTEGER,n=f.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var o=this.curves[s];o.active&&(o.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),r=Math.max(r,i.right),n=Math.max(n,i.bottom))}return t.right=r,t.bottom=n,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return void 0===t&&(t=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){void 0===e&&(e=new d);for(var i=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=i){var s=r[n]-i,o=this.curves[n],a=o.getLength(),l=0===a?0:1-s/a;return o.getPointAt(l,e)}n++}return null},getPoints:function(t){void 0===t&&(t=12);for(var e,i=[],r=0;r<this.curves.length;r++){var n=this.curves[r];if(n.active)for(var s=n.getResolution(t),o=n.getPoints(s),a=0;a<o.length;a++){var l=o[a];e&&e.equals(l)||(i.push(l),e=l)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},getRandomPoint:function(t){return void 0===t&&(t=new d),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return void 0===t&&(t=new d),t.copy(this.startPoint)},getTangent:function(t,e){void 0===e&&(e=new d);for(var i=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=i){var s=r[n]-i,o=this.curves[n],a=o.getLength(),l=0===a?0:1-s/a;return o.getTangentAt(l,e)}n++}return null},lineTo:function(t,e){t instanceof d?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new a([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new c(t))},moveTo:function(t,e){return t instanceof d?this.add(new l(t.x,t.y)):this.add(new l(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});o.register("path",(function(t,e){return new p(t,e)})),t.exports=p},function(t,e,i){t.exports={DataManager:i(101),DataManagerPlugin:i(897),Events:i(315)}},function(t,e,i){var r=i(0),n=i(101),s=i(24),o=i(20),a=new r({Extends:n,initialize:function(t){n.call(this,t,t.sys.events),this.scene=t,this.systems=t.sys,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){n.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",a,"data"),t.exports=a},function(t,e,i){t.exports={Align:i(899),BaseShader:i(396),Bounds:i(902),Canvas:i(906),Color:i(397),ColorMatrix:i(198),Masks:i(916),RGB:i(200)}},function(t,e,i){var r=i(123),n=i(17),s={In:i(900),To:i(901)};s=n(!1,s,r),t.exports=s},function(t,e,i){t.exports={BottomCenter:i(290),BottomLeft:i(291),BottomRight:i(292),Center:i(293),LeftCenter:i(295),QuickSet:i(289),RightCenter:i(296),TopCenter:i(297),TopLeft:i(298),TopRight:i(299)}},function(t,e,i){t.exports={BottomCenter:i(277),BottomLeft:i(278),BottomRight:i(279),LeftBottom:i(280),LeftCenter:i(281),LeftTop:i(282),QuickSet:i(276),RightBottom:i(283),RightCenter:i(284),RightTop:i(285),TopCenter:i(286),TopLeft:i(287),TopRight:i(288)}},function(t,e,i){t.exports={CenterOn:i(294),GetBottom:i(42),GetBounds:i(903),GetCenterX:i(87),GetCenterY:i(89),GetLeft:i(43),GetOffsetX:i(904),GetOffsetY:i(905),GetRight:i(44),GetTop:i(45),SetBottom:i(55),SetCenterX:i(88),SetCenterY:i(90),SetLeft:i(53),SetRight:i(54),SetTop:i(52)}},function(t,e,i){var r=i(42),n=i(43),s=i(44),o=i(45);t.exports=function(t,e){void 0===e&&(e={});var i=n(t),a=o(t);return e.x=i,e.y=a,e.width=s(t)-i,e.height=r(t)-a,e}},function(t,e){t.exports=function(t){return t.width*t.originX}},function(t,e){t.exports=function(t){return t.height*t.originY}},function(t,e,i){t.exports={CanvasInterpolation:i(367),CanvasPool:i(31),Smoothing:i(192),TouchAction:i(907),UserSelect:i(908)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t}},function(t,e){t.exports=function(t,e){return void 0===e&&(e="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach((function(i){t.style[i+"user-select"]=e})),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t}},function(t,e,i){var r=i(103);t.exports=function(t){void 0===t&&(t=1024);var e,i=[],n=255,s=255,o=0,a=0;for(e=0;e<=n;e++)i.push({r:s,g:e,b:a,color:r(s,e,a)});for(o=255,e=n;e>=0;e--)i.push({r:e,g:o,b:a,color:r(e,o,a)});for(s=0,e=0;e<=n;e++,o--)i.push({r:s,g:o,b:e,color:r(s,o,e)});for(o=0,a=255,e=0;e<=n;e++,a--,s++)i.push({r:s,g:o,b:a,color:r(s,o,a)});if(1024===t)return i;var l=[],u=0,h=1024/t;for(e=0;e<t;e++)l.push(i[Math.floor(u)]),u+=h;return l}},function(t,e){t.exports=function(t){var e={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return t>16777215&&(e.a=t>>>24),e}},function(t,e,i){var r=i(38),n=i(399);t.exports=function(t,e,i){var s=i,o=i,a=i;if(0!==e){var l=i<.5?i*(1+e):i+e-i*e,u=2*i-l;s=n(u,l,t+1/3),o=n(u,l,t),a=n(u,l,t-1/3)}return(new r).setGLTo(s,o,a,1)}},function(t,e,i){var r=i(188);t.exports=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],n=0;n<=359;n++)i.push(r(n/359,t,e));return i}},function(t,e,i){var r=i(135),n=function(t,e,i,n,s,o,a,l){void 0===a&&(a=100),void 0===l&&(l=0);var u=l/a;return{r:r(t,n,u),g:r(e,s,u),b:r(i,o,u)}};t.exports={RGBWithRGB:n,ColorWithRGB:function(t,e,i,r,s,o){return void 0===s&&(s=100),void 0===o&&(o=0),n(t.r,t.g,t.b,e,i,r,s,o)},ColorWithColor:function(t,e,i,r){return void 0===i&&(i=100),void 0===r&&(r=0),n(t.r,t.g,t.b,e.r,e.g,e.b,i,r)}}},function(t,e,i){var r=i(195),n=i(38);t.exports=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=255),new n(r(t,e),r(t,e),r(t,e))}},function(t,e,i){var r=i(398);t.exports=function(t,e,i,n,s){return void 0===n&&(n=255),void 0===s&&(s="#"),"#"===s?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1,7):"0x"+r(n)+r(t)+r(e)+r(i)}},function(t,e,i){t.exports={BitmapMask:i(310),GeometryMask:i(311)}},function(t,e,i){var r={AddToDOM:i(142),DOMContentLoaded:i(400),GetInnerHeight:i(401),GetScreenOrientation:i(402),GetTarget:i(407),ParseXML:i(408),RemoveFromDOM:i(202),RequestAnimationFrame:i(386)};t.exports=r},function(t,e,i){t.exports={EventEmitter:i(919)}},function(t,e,i){var r=i(0),n=i(9),s=i(24),o=new r({Extends:n,initialize:function(){n.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",o,"events"),t.exports=o},function(t,e,i){var r=i(142),n=i(321),s=i(325),o=i(31),a=i(0),l=i(346),u=i(921),h=i(366),c=i(101),d=i(384),f=i(347),p=i(400),m=i(9),v=i(22),y=i(409),g=i(24),x=i(414),b=i(415),w=i(417),_=i(106),S=i(422),A=i(385),T=i(387),E=i(426),M=new a({initialize:function(t){this.config=new l(t),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new n(this),this.textures=new S(this),this.cache=new s(this),this.registry=new c(this),this.input=new y(this,this.config),this.scene=new w(this,this.config.sceneConfig),this.device=f,this.scale=new b(this,this.config),this.sound=null,this.sound=E.create(this),this.loop=new A(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,p(this.boot.bind(this))},boot:function(){g.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),u(this),d(this),r(this.canvas,this.config.parent),this.textures.once(_.READY,this.texturesReady,this),this.events.emit(v.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),T(this);var t=this.events;t.on(v.HIDDEN,this.onHidden,this),t.on(v.VISIBLE,this.onVisible,this),t.on(v.BLUR,this.onBlur,this),t.on(v.FOCUS,this.onFocus,this)},step:function(t,e){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(v.PRE_STEP,t,e),i.emit(v.STEP,t,e),this.scene.update(t,e),i.emit(v.POST_STEP,t,e);var r=this.renderer;r.preRender(),i.emit(v.PRE_RENDER,r,t,e),this.scene.render(r),r.postRender(),i.emit(v.POST_RENDER,r,t,e)},headlessStep:function(t,e){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(v.PRE_STEP,t,e),i.emit(v.STEP,t,e),this.scene.update(t,e),i.emit(v.POST_STEP,t,e),i.emit(v.PRE_RENDER),i.emit(v.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(t,e){void 0===e&&(e=!1),this.pendingDestroy=!0,this.removeCanvas=t,this.noReturn=e},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});t.exports=M},function(t,e,i){var r=i(142);t.exports=function(t){var e=t.config;if(e.parent&&e.domCreateContainer){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+t.scale.width+"px;","height: "+t.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+e.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),t.domContainer=i,r(i,e.parent)}}},function(t,e){t.exports="boot"},function(t,e){t.exports="destroy"},function(t,e){t.exports="dragend"},function(t,e){t.exports="dragenter"},function(t,e){t.exports="drag"},function(t,e){t.exports="dragleave"},function(t,e){t.exports="dragover"},function(t,e){t.exports="dragstart"},function(t,e){t.exports="drop"},function(t,e){t.exports="gameout"},function(t,e){t.exports="gameover"},function(t,e){t.exports="gameobjectdown"},function(t,e){t.exports="dragend"},function(t,e){t.exports="dragenter"},function(t,e){t.exports="drag"},function(t,e){t.exports="dragleave"},function(t,e){t.exports="dragover"},function(t,e){t.exports="dragstart"},function(t,e){t.exports="drop"},function(t,e){t.exports="gameobjectmove"},function(t,e){t.exports="gameobjectout"},function(t,e){t.exports="gameobjectover"},function(t,e){t.exports="pointerdown"},function(t,e){t.exports="pointermove"},function(t,e){t.exports="pointerout"},function(t,e){t.exports="pointerover"},function(t,e){t.exports="pointerup"},function(t,e){t.exports="wheel"},function(t,e){t.exports="gameobjectup"},function(t,e){t.exports="gameobjectwheel"},function(t,e){t.exports="boot"},function(t,e){t.exports="process"},function(t,e){t.exports="update"},function(t,e){t.exports="pointerdown"},function(t,e){t.exports="pointerdownoutside"},function(t,e){t.exports="pointermove"},function(t,e){t.exports="pointerout"},function(t,e){t.exports="pointerover"},function(t,e){t.exports="pointerup"},function(t,e){t.exports="pointerupoutside"},function(t,e){t.exports="wheel"},function(t,e){t.exports="pointerlockchange"},function(t,e){t.exports="preupdate"},function(t,e){t.exports="shutdown"},function(t,e){t.exports="start"},function(t,e){t.exports="update"},function(t,e){t.exports="addfile"},function(t,e){t.exports="complete"},function(t,e){t.exports="filecomplete"},function(t,e){t.exports="filecomplete-"},function(t,e){t.exports="loaderror"},function(t,e){t.exports="load"},function(t,e){t.exports="fileprogress"},function(t,e){t.exports="postprocess"},function(t,e){t.exports="progress"},function(t,e){t.exports="start"},function(t,e,i){t.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(t,e){t.exports=function(t,e,i){if(i.getElementsByTagName("TextureAtlas")){var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);for(var n,s=i.getElementsByTagName("SubTexture"),o=0;o<s.length;o++){var a=s[o].attributes,l=a.name.value,u=parseInt(a.x.value,10),h=parseInt(a.y.value,10),c=parseInt(a.width.value,10),d=parseInt(a.height.value,10);if(n=t.add(l,e,u,h,c,d),a.frameX){var f=Math.abs(parseInt(a.frameX.value,10)),p=Math.abs(parseInt(a.frameY.value,10)),m=parseInt(a.frameWidth.value,10),v=parseInt(a.frameHeight.value,10);n.setTrim(c,d,f,p,m,v)}}return t}console.warn("Invalid Texture Atlas XML given")}},function(t,e){t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},function(t,e){t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},function(t,e,i){var r=i(77);t.exports=function(t,e,i){if(i.frames||i.textures){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);for(var s,o=Array.isArray(i.textures)?i.textures[e].frames:i.frames,a=0;a<o.length;a++){var l=o[a];s=t.add(l.filename,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h),l.trimmed&&s.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(s.rotated=!0,s.updateUVsInverted());var u=l.anchor||l.pivot;u&&(s.customPivot=!0,s.pivotX=u.x,s.pivotY=u.y),s.customData=r(l)}for(var h in i)"frames"!==h&&(Array.isArray(i[h])?t.customData[h]=i[h].slice(0):t.customData[h]=i[h]);return t}console.warn("Invalid Texture Atlas JSON Array")}},function(t,e,i){var r=i(77);t.exports=function(t,e,i){if(i.frames){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);var s,o=i.frames;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];s=t.add(a,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h),l.trimmed&&s.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(s.rotated=!0,s.updateUVsInverted());var u=l.anchor||l.pivot;u&&(s.customPivot=!0,s.pivotX=u.x,s.pivotY=u.y),s.customData=r(l)}for(var h in i)"frames"!==h&&(Array.isArray(i[h])?t.customData[h]=i[h].slice(0):t.customData[h]=i[h]);return t}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(t,e,i){var r=i(2);t.exports=function(t,e,i,n,s,o,a){var l=r(a,"frameWidth",null),u=r(a,"frameHeight",l);if(null===l)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var h=t.source[e];t.add("__BASE",e,0,0,h.width,h.height);var c=r(a,"startFrame",0),d=r(a,"endFrame",-1),f=r(a,"margin",0),p=r(a,"spacing",0),m=Math.floor((s-f+p)/(l+p))*Math.floor((o-f+p)/(u+p));0===m&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",t.key),(c>m||c<-m)&&(c=0),c<0&&(c=m+c),-1!==d&&(m=c+(d+1));for(var v=f,y=f,g=0,x=0,b=0;b<m;b++){g=0,x=0;var w=v+l,_=y+u;w>s&&(g=w-s),_>o&&(x=_-o),t.add(b,e,i+v,n+y,l-g,u-x),(v+=l+p)+l>s&&(v=f,y+=u+p)}return t}},function(t,e,i){var r=i(2);t.exports=function(t,e,i){var n=r(i,"frameWidth",null),s=r(i,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=t.source[0];t.add("__BASE",0,0,0,o.width,o.height);var a,l=r(i,"startFrame",0),u=r(i,"endFrame",-1),h=r(i,"margin",0),c=r(i,"spacing",0),d=e.cutX,f=e.cutY,p=e.cutWidth,m=e.cutHeight,v=e.realWidth,y=e.realHeight,g=Math.floor((v-h+c)/(n+c)),x=Math.floor((y-h+c)/(s+c)),b=g*x,w=e.x,_=n-w,S=n-(v-p-w),A=e.y,T=s-A,E=s-(y-m-A);(l>b||l<-b)&&(l=0),l<0&&(l=b+l),-1!==u&&(b=l+(u+1));for(var M=h,C=h,P=0,R=e.sourceIndex,k=0;k<x;k++){for(var L=0===k,O=k===x-1,D=0;D<g;D++){var I=0===D,F=D===g-1;if(a=t.add(P,R,d+M,f+C,n,s),I||L||F||O){var j=I?w:0,B=L?A:0,N=0,U=0;I&&(N+=n-_),F&&(N+=n-S),L&&(U+=s-T),O&&(U+=s-E);var z=n-N,G=s-U;a.cutWidth=z,a.cutHeight=G,a.setTrim(n,s,j,B,z,G)}M+=c,M+=I?_:F?S:n,P++}M=h,C+=c,C+=L?T:O?E:s}return t}},function(t,e){var i=0,r=function(t,e,r,n){var s=i-n.y-n.height;t.add(r,e,n.x,s,n.width,n.height)};t.exports=function(t,e,n){var s=t.source[e];t.add("__BASE",e,0,0,s.width,s.height),i=s.height;for(var o=n.split("\n"),a=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",u="",h={x:0,y:0,width:0,height:0},c=0;c<o.length;c++){var d=o[c].match(a);if(d){var f="- "===d[1],p=d[2],m=d[3];if(f&&(u!==l&&(r(t,e,u,h),l=u),h={x:0,y:0,width:0,height:0}),"name"!==p)switch(p){case"x":case"y":case"width":case"height":h[p]=parseInt(m,10)}else u=m}}return u!==l&&r(t,e,u,h),t}},function(t,e){t.exports="complete"},function(t,e){t.exports="decoded"},function(t,e){t.exports="decodedall"},function(t,e){t.exports="destroy"},function(t,e){t.exports="detune"},function(t,e){t.exports="detune"},function(t,e){t.exports="mute"},function(t,e){t.exports="rate"},function(t,e){t.exports="volume"},function(t,e){t.exports="loop"},function(t,e){t.exports="looped"},function(t,e){t.exports="mute"},function(t,e){t.exports="pan"},function(t,e){t.exports="pauseall"},function(t,e){t.exports="pause"},function(t,e){t.exports="play"},function(t,e){t.exports="rate"},function(t,e){t.exports="resumeall"},function(t,e){t.exports="resume"},function(t,e){t.exports="seek"},function(t,e){t.exports="stopall"},function(t,e){t.exports="stop"},function(t,e){t.exports="unlocked"},function(t,e){t.exports="volume"},function(t,e,i){var r={Events:i(75),DisplayList:i(1012),GameObjectCreator:i(16),GameObjectFactory:i(5),UpdateList:i(1040),Components:i(11),GetCalcMatrix:i(19),BuildGameObject:i(28),BuildGameObjectAnimation:i(439),GameObject:i(15),BitmapText:i(148),Blitter:i(213),Bob:i(440),Container:i(214),DOMElement:i(442),DynamicBitmapText:i(215),Extern:i(444),Graphics:i(216),Group:i(113),Image:i(125),Layer:i(219),Particles:i(1074),PathFollower:i(457),RenderTexture:i(221),RetroFont:i(1082),Rope:i(223),Sprite:i(73),Text:i(224),GetTextSize:i(458),MeasureText:i(460),TextStyle:i(459),TileSprite:i(225),Zone:i(129),Video:i(226),Shape:i(34),Arc:i(461),Curve:i(462),Ellipse:i(463),Grid:i(464),IsoBox:i(465),IsoTriangle:i(466),Line:i(467),Polygon:i(468),Rectangle:i(473),Star:i(474),Triangle:i(475),Factories:{Blitter:i(1130),Container:i(1131),DOMElement:i(1132),DynamicBitmapText:i(1133),Extern:i(1134),Graphics:i(1135),Group:i(1136),Image:i(1137),Layer:i(1138),Particles:i(1139),PathFollower:i(1140),RenderTexture:i(1141),Rope:i(1142),Sprite:i(1143),StaticBitmapText:i(1144),Text:i(1145),TileSprite:i(1146),Zone:i(1147),Video:i(1148),Arc:i(1149),Curve:i(1150),Ellipse:i(1151),Grid:i(1152),IsoBox:i(1153),IsoTriangle:i(1154),Line:i(1155),Polygon:i(1156),Rectangle:i(1157),Star:i(1158),Triangle:i(1159)},Creators:{Blitter:i(1160),Container:i(1161),DynamicBitmapText:i(1162),Graphics:i(1163),Group:i(1164),Image:i(1165),Layer:i(1166),Particles:i(1167),RenderTexture:i(1168),Rope:i(1169),Sprite:i(1170),StaticBitmapText:i(1171),Text:i(1172),TileSprite:i(1173),Zone:i(1174),Video:i(1175)}};r.Shader=i(229),r.Mesh=i(230),r.PointLight=i(150),r.Factories.Shader=i(1184),r.Factories.Mesh=i(1185),r.Factories.PointLight=i(1186),r.Creators.Shader=i(1187),r.Creators.Mesh=i(1188),r.Creators.PointLight=i(1189),r.Light=i(481),r.LightsManager=i(482),r.LightsPlugin=i(1190),t.exports=r},function(t,e,i){var r=i(0),n=i(110),s=i(24),o=i(75),a=i(20),l=i(79),u=new r({Extends:n,initialize:function(t){n.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(t){t.displayList&&t.displayList!==this&&t.removeFromDisplayList(),t.displayList||(this.queueDepthSort(),t.displayList=this,t.emit(o.ADDED_TO_SCENE,t,this.scene),this.events.emit(a.ADDED_TO_SCENE,t,this.scene))},removeChildCallback:function(t){this.queueDepthSort(),t.displayList=null,t.emit(o.REMOVED_FROM_SCENE,t,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,t,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},shutdown:function(){for(var t=this.list,e=t.length;e--;)t[e].destroy(!0);t.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",u,"displayList"),t.exports=u},function(t,e,i){t.exports={CheckMatrix:i(209),MatrixToString:i(1014),ReverseColumns:i(1015),ReverseRows:i(1016),Rotate180:i(1017),RotateLeft:i(1018),RotateMatrix:i(147),RotateRight:i(1019),Translate:i(1020),TransposeMatrix:i(435)}},function(t,e,i){var r=i(186),n=i(209);t.exports=function(t){var e="";if(!n(t))return e;for(var i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++){var o=t[i][s].toString();e+="undefined"!==o?r(o,2):"?",s<t[i].length-1&&(e+=" |")}if(i<t.length-1){e+="\n";for(var a=0;a<t[i].length;a++)e+="---",a<t[i].length-1&&(e+="+");e+="\n"}}return e}},function(t,e){t.exports=function(t){return t.reverse()}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t}},function(t,e,i){var r=i(147);t.exports=function(t){return r(t,180)}},function(t,e,i){var r=i(147);t.exports=function(t){return r(t,90)}},function(t,e,i){var r=i(147);t.exports=function(t){return r(t,-90)}},function(t,e,i){var r=i(178),n=i(179);t.exports=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),0!==i&&(i<0?r(t,Math.abs(i)):n(t,i)),0!==e)for(var s=0;s<t.length;s++){var o=t[s];e<0?r(o,Math.abs(e)):n(o,e)}return t}},function(t,e){t.exports=function(t,e,i,r,n){if(void 0===n&&(n=t),i>0){var s=i-t.length;if(s<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.push(e),r&&r.call(n,e),e):null;for(var o=e.length-1;o>=0;)-1!==t.indexOf(e[o])&&e.splice(o,1),o--;if(0===(o=e.length))return null;i>0&&o>s&&(e.splice(s),o=s);for(var a=0;a<o;a++){var l=e[a];t.push(l),r&&r.call(n,l)}return e}},function(t,e){t.exports=function(t,e,i,r,n,s){if(void 0===i&&(i=0),void 0===s&&(s=t),r>0){var o=r-t.length;if(o<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.splice(i,0,e),n&&n.call(s,e),e):null;for(var a=e.length-1;a>=0;)-1!==t.indexOf(e[a])&&e.pop(),a--;if(0===(a=e.length))return null;r>0&&a>o&&(e.splice(o),a=o);for(var l=a-1;l>=0;l--){var u=e[l];t.splice(i,0,u),n&&n.call(s,u)}return e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i<t.length&&(t.splice(i,1),t.push(e)),e}},function(t,e,i){var r=i(78);t.exports=function(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=t.length);var o=0;if(r(t,n,s))for(var a=n;a<s;a++)t[a][e]===i&&o++;return o}},function(t,e){t.exports=function(t,e,i){var r,n=[null];for(r=3;r<arguments.length;r++)n.push(arguments[r]);for(r=0;r<t.length;r++)n[0]=t[r],e.apply(i,n);return t}},function(t,e,i){var r=i(78);t.exports=function(t,e,i,n,s){if(void 0===n&&(n=0),void 0===s&&(s=t.length),r(t,n,s)){var o,a=[null];for(o=5;o<arguments.length;o++)a.push(arguments[o]);for(o=n;o<s;o++)a[0]=t[o],e.apply(i,a)}return t}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(i>0){var r=t[i-1],n=t.indexOf(r);t[i]=r,t[n]=e}return t}},function(t,e){t.exports=function(t,e,i){var r=t.indexOf(e);if(-1===r||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return r!==i&&(t.splice(r,1),t.splice(i,0,e)),e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(-1!==i&&i<t.length-1){var r=t[i+1],n=t.indexOf(r);t[i]=r,t[n]=e}return t}},function(t,e){t.exports=function(t,e,i){if(e===i)return t;var r=t.indexOf(e),n=t.indexOf(i);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return r>n||(t.splice(r,1),n===t.length-1?t.push(e):t.splice(n,0,e)),t}},function(t,e){t.exports=function(t,e,i){if(e===i)return t;var r=t.indexOf(e),n=t.indexOf(i);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return r<n||(t.splice(r,1),0===n?t.unshift(e):t.splice(n,0,e)),t}},function(t,e,i){var r=i(363);t.exports=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=1),null===e&&(e=t,t=0);for(var n=[],s=Math.max(r((e-t)/(i||1)),0),o=0;o<s;o++)n.push(t),t+=i;return n}},function(t,e,i){var r=i(74);t.exports=function(t,e,i,n){if(void 0===n&&(n=t),e<0||e>t.length-1)throw new Error("Index out of bounds");var s=r(t,e);return i&&i.call(n,s),s}},function(t,e,i){var r=i(78);t.exports=function(t,e,i,n,s){if(void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===s&&(s=t),r(t,e,i)){var o=i-e,a=t.splice(e,o);if(n)for(var l=0;l<a.length;l++){var u=a[l];n.call(s,u)}return a}return[]}},function(t,e,i){var r=i(74);t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return r(t,n)}},function(t,e){t.exports=function(t,e,i){var r=t.indexOf(e),n=t.indexOf(i);return-1!==r&&-1===n&&(t[r]=i,!0)}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i>0&&(t.splice(i,1),t.unshift(e)),e}},function(t,e,i){var r=i(78);t.exports=function(t,e,i,n,s){if(void 0===n&&(n=0),void 0===s&&(s=t.length),r(t,n,s))for(var o=n;o<s;o++){var a=t[o];a.hasOwnProperty(e)&&(a[e]=i)}return t}},function(t,e){t.exports=function(t,e,i){if(e===i)return t;var r=t.indexOf(e),n=t.indexOf(i);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[r]=i,t[n]=e,t}},function(t,e,i){var r=i(0),n=i(211),s=i(24),o=i(20),a=new r({Extends:n,initialize:function(t){n.call(this),this.checkQueue=!0,this.scene=t,this.systems=t.sys,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(o.PRE_UPDATE,this.update,this),t.on(o.UPDATE,this.sceneUpdate,this),t.once(o.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(t,e){for(var i=this._active,r=i.length,n=0;n<r;n++){var s=i[n];s.active&&s.preUpdate.call(s,t,e)}},shutdown:function(){for(var t=this._active.length;t--;)this._active[t].destroy(!0);for(t=this._pending.length;t--;)this._pending[t].destroy(!0);for(t=this._destroy.length;t--;)this._destroy[t].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var e=this.systems.events;e.off(o.PRE_UPDATE,this.update,this),e.off(o.UPDATE,this.sceneUpdate,this),e.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",a,"updateList"),t.exports=a},function(t,e){t.exports="add"},function(t,e){t.exports="remove"},function(t,e){t.exports=function(t,e,i,r){if(void 0===i&&(i=!1),void 0===r)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var n,s,o,a,l=t.text,u=l.length,h=t.maxWidth,c=t.wordWrapCharCode,d=Number.MAX_VALUE,f=Number.MAX_VALUE,p=0,m=0,v=t.fontData.chars,y=t.fontData.lineHeight,g=t.letterSpacing,x=0,b=0,w=0,_=null,S=t._align,A=0,T=0,E=t.fontSize/t.fontData.size,M=E*t.scaleX,C=E*t.scaleY,P=null,R=0,k=[],L=Number.MAX_VALUE,O=0,D=0,I=0,F=[],j=[],B=null;if(h>0){for(n=0;n<u;n++)if(10!==(w=l.charCodeAt(n))){if(_=v[w]){if(null!==P)var N=_.kerning[R];w===c?null!==B&&(F.push({word:B.word,i:B.i,x:B.x*M,y:B.y*C,w:B.w*M,h:B.h*C,cr:!1}),B=null):(null===B&&(B={word:"",i:n,x:x,y:b,w:0,h:y,cr:!1}),B.word=B.word.concat(l[n]),B.w+=_.xOffset+_.xAdvance+(void 0!==N?N:0)),x+=_.xAdvance+g,P=_,R=w}}else null!==B&&(F.push({word:B.word,i:B.i,x:B.x*M,y:B.y*C,w:B.w*M,h:B.h*C,cr:!0}),B=null),x=0,b+=y,P=null;var U;null!==B&&F.push({word:B.word,i:B.i,x:B.x*M,y:B.y*C,w:B.w*M,h:B.h*C,cr:!1}),x=0,b=0,P=null,R=0;var z=0,G=[];for(n=0;n<F.length;n++){var V=F[n],H=V.x,W=V.x+V.w;U&&(z=H-(H-(U.x+U.w)+U.w),U=null),H-z>h||W-z>h?(G.push(V.i-1),V.cr?(G.push(V.i+V.word.length),z=0,U=null):U=V):V.cr&&(G.push(V.i+V.word.length),z=0,U=null)}for(n=G.length-1;n>=0;n--)s=l,o=G[n],a="\n",l=s.substr(0,o)+a+s.substr(o+1);r.wrappedText=l,u=l.length,F=[],B=null}var Y=0;for(n=0;n<u;n++)if(10!==(w=l.charCodeAt(n))){if(_=v[w]){if(A=x,T=b,null!==P){var X=_.kerning[R];A+=void 0!==X?X:0}d>A&&(d=A),f>T&&(f=T);var Z=A+_.xAdvance,q=T+y;p<Z&&(p=Z),m<q&&(m=q);var Q=_.xOffset+_.xAdvance+(void 0!==X?X:0);w===c?null!==B&&(F.push({word:B.word,i:B.i,x:B.x*M,y:B.y*C,w:B.w*M,h:B.h*C}),B=null):(null===B&&(B={word:"",i:Y,x:x,y:b,w:0,h:y}),B.word=B.word.concat(l[n]),B.w+=Q),j.push({i:Y,char:l[n],code:w,x:(_.xOffset+x)*E,y:(_.yOffset+b)*E,w:_.width*E,h:_.height*E,t:b*E,r:Z*E,b:y*E,line:D,glyph:_}),x+=_.xAdvance+g,P=_,R=w,I=Z*E,Y++}}else null!==B&&(F.push({word:B.word,i:B.i,x:B.x*M,y:B.y*C,w:B.w*M,h:B.h*C}),B=null),x=0,b+=y,P=null,k[D]=I,I>O&&(O=I),I<L&&(L=I),D++,I=0;if(null!==B&&F.push({word:B.word,i:B.i,x:B.x*M,y:B.y*C,w:B.w*M,h:B.h*C}),k[D]=I,I>O&&(O=I),I<L&&(L=I),S>0)for(var K=0;K<j.length;K++){var J=j[K];if(1===S){var $=(O-k[J.line])/2;J.x+=$,J.r+=$}else if(2===S){var tt=O-k[J.line];J.x+=tt,J.r+=tt}}var et=r.local,it=r.global,rt=r.lines;return et.x=d*E,et.y=f*E,et.width=p*E,et.height=m*E,it.x=t.x-t._displayOriginX+d*M,it.y=t.y-t._displayOriginY+f*C,it.width=p*M,it.height=m*C,rt.shortest=L,rt.longest=O,rt.lengths=k,e&&(et.x=Math.ceil(et.x),et.y=Math.ceil(et.y),et.width=Math.ceil(et.width),et.height=Math.ceil(et.height),it.x=Math.ceil(it.x),it.y=Math.ceil(it.y),it.width=Math.ceil(it.width),it.height=Math.ceil(it.height),rt.shortest=Math.ceil(L),rt.longest=Math.ceil(O)),i&&(t._displayOriginX=t.originX*et.width,t._displayOriginY=t.originY*et.height,it.x=t.x-t._displayOriginX*t.scaleX,it.y=t.y-t._displayOriginY*t.scaleY,e&&(it.x=Math.ceil(it.x),it.y=Math.ceil(it.y))),r.words=F,r.characters=j,r.lines.height=y,r.scale=E,r.scaleX=t.scaleX,r.scaleY=t.scaleY,r}},function(t,e,i){var r=i(212);t.exports=function(t,e,i,n,s,o,a){var l=t.sys.textures.get(i),u=l.get(n),h=t.sys.cache.xml.get(s);if(u&&h){var c=r(h,u,o,a,l);return t.sys.cache.bitmapFont.add(e,{data:c,texture:i,frame:n,fromAtlas:!0}),!0}return!1}},function(t,e,i){var r=i(1),n=i(1);r=i(1046),n=i(1048),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(1047),n=i(19),s=i(12);t.exports=function(t,e,i,o){if(0!==e._text.length){i.addToRenderList(e);var a,l,u,h=t.pipelines.set(e.pipeline,e),c=n(e,i,o).calc,d=i.roundPixels,f=i.alpha,p=e.charColors,m=e.tintFill,v=s.getTintAppendFloatAlpha,y=v(e.tintTopLeft,f*e._alphaTL),g=v(e.tintTopRight,f*e._alphaTR),x=v(e.tintBottomLeft,f*e._alphaBL),b=v(e.tintBottomRight,f*e._alphaBR),w=e.frame.glTexture,_=h.setGameObject(e),S=e.getTextBounds(!1).characters,A=e.dropShadowX,T=e.dropShadowY,E=0!==A||0!==T;if(t.pipelines.preBatch(e),E){var M=e.dropShadowColor,C=e.dropShadowAlpha,P=v(M,f*C*e._alphaTL),R=v(M,f*C*e._alphaTR),k=v(M,f*C*e._alphaBL),L=v(M,f*C*e._alphaBR);for(a=0;a<S.length;a++)u=(l=S[a]).glyph,32!==l.code&&0!==u.width&&0!==u.height&&r(h,e,l,u,A,T,c,d,P,R,k,L,1,w,_)}for(a=0;a<S.length;a++)if(u=(l=S[a]).glyph,32!==l.code&&0!==u.width&&0!==u.height)if(p[l.i]){var O=p[l.i],D=O.tintEffect,I=v(O.tintTL,f*e._alphaTL),F=v(O.tintTR,f*e._alphaTR),j=v(O.tintBL,f*e._alphaBL),B=v(O.tintBR,f*e._alphaBR);r(h,e,l,u,0,0,c,d,I,F,j,B,D,w,_)}else r(h,e,l,u,0,0,c,d,y,g,x,b,m,w,_);t.pipelines.postBatch(e)}}},function(t,e){t.exports=function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p){var m=i.x-e.displayOriginX+n,v=i.y-e.displayOriginY+s,y=m+i.w,g=v+i.h,x=o.getXRound(m,v,a),b=o.getYRound(m,v,a),w=o.getXRound(m,g,a),_=o.getYRound(m,g,a),S=o.getXRound(y,g,a),A=o.getYRound(y,g,a),T=o.getXRound(y,v,a),E=o.getYRound(y,v,a);t.batchQuad(e,x,b,w,_,S,A,T,E,r.u0,r.v0,r.u1,r.v1,l,u,h,c,d,f,p)}},function(t,e,i){var r=i(30);t.exports=function(t,e,i,n){var s=e._text,o=s.length,a=t.currentContext;if(0!==o&&r(t,a,e,i,n)){i.addToRenderList(e);var l=e.fromAtlas?e.frame:e.texture.frames.__BASE,u=e.fontData.chars,h=e.fontData.lineHeight,c=e._letterSpacing,d=0,f=0,p=0,m=null,v=0,y=0,g=0,x=0,b=0,w=0,_=null,S=0,A=l.source.image,T=l.cutX,E=l.cutY,M=e._fontSize/e.fontData.size,C=e._align,P=0,R=0,k=e.getTextBounds(!1);e.maxWidth>0&&(o=(s=k.wrappedText).length);var L=e._bounds.lines;1===C?R=(L.longest-L.lengths[0])/2:2===C&&(R=L.longest-L.lengths[0]),a.translate(-e.displayOriginX,-e.displayOriginY);for(var O=i.roundPixels,D=0;D<o;D++)if(10!==(p=s.charCodeAt(D))){if(m=u[p]){if(v=T+m.x,y=E+m.y,g=m.width,x=m.height,b=m.xOffset+d,w=m.yOffset+f,null!==_){var I=m.kerning[S];b+=void 0!==I?I:0}b*=M,w*=M,b+=R,d+=m.xAdvance+c,_=m,S=p,0!==g&&0!==x&&32!==p&&(O&&(b=Math.round(b),w=Math.round(w)),a.save(),a.translate(b,w),a.scale(M,M),a.drawImage(A,v,y,g,x,0,0,g,x),a.restore())}}else P++,1===C?R=(L.longest-L.lengths[P])/2:2===C&&(R=L.longest-L.lengths[P]),d=0,f+=h,_=null;a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1050),n=i(1051),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(25),n=i(12),s=new r;t.exports=function(t,e,i,r){var o=e.getRenderList();if(0!==o.length){var a=i.alpha*e.alpha;if(0!==a){i.addToRenderList(e);var l=t.pipelines.set(this.pipeline,e),u=i.scrollX*e.scrollFactorX,h=i.scrollY*e.scrollFactorY,c=s.copyFrom(i.matrix);r&&(c.multiplyWithOffset(r,-u,-h),u=0,h=0);var d=e.x-u,f=e.y-h,p=-1,m=i.roundPixels;t.pipelines.preBatch(e);for(var v=0;v<o.length;v++){var y=o[v],g=y.frame,x=y.alpha*a;if(0!==x){var b=g.width,w=g.height,_=d+y.x+g.x,S=f+y.y+g.y;y.flipX&&(b*=-1,_+=g.width),y.flipY&&(w*=-1,S+=g.height);var A=_+b,T=S+w,E=c.getX(_,S),M=c.getY(_,S),C=c.getX(A,T),P=c.getY(A,T),R=n.getTintAppendFloatAlpha(y.tint,x);if(g.sourceIndex!==p){var k=l.setGameObject(e,g);p=g.sourceIndex}m&&(E=Math.round(E),M=Math.round(M),C=Math.round(C),P=Math.round(P)),l.batchQuad(e,E,M,E,P,C,P,C,M,g.u0,g.v0,g.u1,g.v1,R,R,R,R,!1,g.glTexture,k)&&(p=-1)}}t.pipelines.postBatch(e)}}}},function(t,e){t.exports=function(t,e,i,r){var n=e.getRenderList();if(0!==n.length){var s=t.currentContext,o=i.alpha*e.alpha;if(0!==o){i.addToRenderList(e),s.globalCompositeOperation=t.blendModes[e.blendMode],s.imageSmoothingEnabled=!(!t.antialias||e.frame.source.scaleMode);var a=e.x-i.scrollX*e.scrollFactorX,l=e.y-i.scrollY*e.scrollFactorY;s.save(),r&&r.copyToContext(s);for(var u=i.roundPixels,h=0;h<n.length;h++){var c=n[h],d=c.flipX||c.flipY,f=c.frame,p=f.canvasData,m=f.x,v=f.y,y=1,g=1,x=c.alpha*o;0!==x&&(s.globalAlpha=x,d?(c.flipX&&(y=-1,m-=p.width),c.flipY&&(g=-1,v-=p.height),s.save(),s.translate(c.x+a,c.y+l),s.scale(y,g),s.drawImage(f.source.image,p.x,p.y,p.width,p.height,m,v,p.width,p.height),s.restore()):(u&&(m=Math.round(m),v=Math.round(v)),s.drawImage(f.source.image,p.x,p.y,p.width,p.height,m+c.x+a,v+c.y+l,p.width,p.height)))}s.restore()}}}},function(t,e,i){var r=i(1),n=i(1);r=i(1053),n=i(1054),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e);var n=e.list,s=n.length;if(0!==s){var o=e.localTransform;r?(o.loadIdentity(),o.multiply(r),o.translate(e.x,e.y),o.rotate(e.rotation),o.scale(e.scaleX,e.scaleY)):o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),t.pipelines.preBatch(e);var a=-1!==e.blendMode;a||t.setBlendMode(0);for(var l=e.alpha,u=e.scrollFactorX,h=e.scrollFactorY,c=0;c<s;c++){var d=n[c];if(d.willRender(i)){var f,p,m,v;if(void 0!==d.alphaTopLeft)f=d.alphaTopLeft,p=d.alphaTopRight,m=d.alphaBottomLeft,v=d.alphaBottomRight;else{var y=d.alpha;f=y,p=y,m=y,v=y}var g=d.scrollFactorX,x=d.scrollFactorY;a||d.blendMode===t.currentBlendMode||t.setBlendMode(d.blendMode);var b=d.mask;b&&b.preRenderWebGL(t,d,i);var w=d.type;w!==t.currentType&&(t.newType=!0,t.currentType=w),t.nextTypeMatch=c<s-1&&n[c+1].type===t.currentType,d.setScrollFactor(g*u,x*h),d.setAlpha(f*l,p*l,m*l,v*l),d.renderWebGL(t,d,i,o),d.setAlpha(f,p,m,v),d.setScrollFactor(g,x),b&&b.postRenderWebGL(t,i),t.newType=!1}}t.pipelines.postBatch(e)}}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e);var n=e.list;if(0!==n.length){var s=e.localTransform;r?(s.loadIdentity(),s.multiply(r),s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(e.scaleX,e.scaleY)):s.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var o=-1!==e.blendMode;o||t.setBlendMode(0);var a=e._alpha,l=e.scrollFactorX,u=e.scrollFactorY;e.mask&&e.mask.preRenderCanvas(t,null,i);for(var h=0;h<n.length;h++){var c=n[h];if(c.willRender(i)){var d=c.alpha,f=c.scrollFactorX,p=c.scrollFactorY;o||c.blendMode===t.currentBlendMode||t.setBlendMode(c.blendMode),c.setScrollFactor(f*l,p*u),c.setAlpha(d*a),c.renderCanvas(t,c,i,s),c.setAlpha(d),c.setScrollFactor(f,p)}}e.mask&&e.mask.postRenderCanvas(t)}}},function(t,e,i){var r=i(1),n=i(1);r=i(443),n=i(443),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e){t.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(t,e,i){var r=i(1),n=i(1);r=i(1058),n=i(1059),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(25),s=i(12),o=new n;t.exports=function(t,e,i,n){var a=e.text,l=a.length;if(0!==l){i.addToRenderList(e);var u=t.pipelines.set(e.pipeline,e),h=r(e,i,n),c=h.sprite,d=h.calc,f=o,p=e.cropWidth>0||e.cropHeight>0;p&&(u.flush(),t.pushScissor(d.tx,d.ty,e.cropWidth*d.scaleX,e.cropHeight*d.scaleY));var m,v,y=e.frame.glTexture,g=e.tintFill,x=s.getTintAppendFloatAlpha(e.tintTopLeft,i.alpha*e._alphaTL),b=s.getTintAppendFloatAlpha(e.tintTopRight,i.alpha*e._alphaTR),w=s.getTintAppendFloatAlpha(e.tintBottomLeft,i.alpha*e._alphaBL),_=s.getTintAppendFloatAlpha(e.tintBottomRight,i.alpha*e._alphaBR),S=u.setGameObject(e),A=0,T=0,E=0,M=0,C=e.letterSpacing,P=0,R=0,k=e.scrollX,L=e.scrollY,O=e.fontData,D=O.chars,I=O.lineHeight,F=e.fontSize/O.size,j=0,B=e._align,N=0,U=0,z=e.getTextBounds(!1);e.maxWidth>0&&(l=(a=z.wrappedText).length);var G=e._bounds.lines;1===B?U=(G.longest-G.lengths[0])/2:2===B&&(U=G.longest-G.lengths[0]);var V=i.roundPixels,H=e.displayCallback,W=e.callbackData;t.pipelines.preBatch(e);for(var Y=0;Y<l;Y++)if(10!==(E=a.charCodeAt(Y))){if(m=D[E]){P=m.width,R=m.height;var X=m.xOffset+A-k,Z=m.yOffset+T-L;if(null!==v){var q=m.kerning[M];X+=void 0!==q?q:0}if(A+=m.xAdvance+C,v=m,M=E,0!==P&&0!==R&&32!==E){if(F=e.fontSize/e.fontData.size,j=0,H){W.color=0,W.tint.topLeft=x,W.tint.topRight=b,W.tint.bottomLeft=w,W.tint.bottomRight=_,W.index=Y,W.charCode=E,W.x=X,W.y=Z,W.scale=F,W.rotation=j,W.data=m.data;var Q=H(W);X=Q.x,Z=Q.y,F=Q.scale,j=Q.rotation,Q.color?(x=Q.color,b=Q.color,w=Q.color,_=Q.color):(x=Q.tint.topLeft,b=Q.tint.topRight,w=Q.tint.bottomLeft,_=Q.tint.bottomRight),x=s.getTintAppendFloatAlpha(x,i.alpha*e._alphaTL),b=s.getTintAppendFloatAlpha(b,i.alpha*e._alphaTR),w=s.getTintAppendFloatAlpha(w,i.alpha*e._alphaBL),_=s.getTintAppendFloatAlpha(_,i.alpha*e._alphaBR)}X*=F,Z*=F,X-=e.displayOriginX,Z-=e.displayOriginY,X+=U,f.applyITRS(X,Z,j,F,F),d.multiply(f,c);var K=m.u0,J=m.v0,$=m.u1,tt=m.v1,et=P,it=R,rt=c.e,nt=c.f,st=it*c.c+c.e,ot=it*c.d+c.f,at=et*c.a+it*c.c+c.e,lt=et*c.b+it*c.d+c.f,ut=et*c.a+c.e,ht=et*c.b+c.f;V&&(rt=Math.round(rt),nt=Math.round(nt),st=Math.round(st),ot=Math.round(ot),at=Math.round(at),lt=Math.round(lt),ut=Math.round(ut),ht=Math.round(ht)),u.batchQuad(e,rt,nt,st,ot,at,lt,ut,ht,K,J,$,tt,x,b,w,_,g,y,S)}}}else N++,1===B?U=(G.longest-G.lengths[N])/2:2===B&&(U=G.longest-G.lengths[N]),A=0,T+=I,v=null;p&&(u.flush(),t.popScissor()),t.pipelines.postBatch(e)}}},function(t,e,i){var r=i(30);t.exports=function(t,e,i,n){var s=e._text,o=s.length,a=t.currentContext;if(0!==o&&r(t,a,e,i,n)){i.addToRenderList(e);var l=e.fromAtlas?e.frame:e.texture.frames.__BASE,u=e.displayCallback,h=e.callbackData,c=e.fontData.chars,d=e.fontData.lineHeight,f=e._letterSpacing,p=0,m=0,v=0,y=null,g=0,x=0,b=0,w=0,_=0,S=0,A=null,T=0,E=e.frame.source.image,M=l.cutX,C=l.cutY,P=0,R=0,k=e._fontSize/e.fontData.size,L=e._align,O=0,D=0;e.getTextBounds(!1);var I=e._bounds.lines;1===L?D=(I.longest-I.lengths[0])/2:2===L&&(D=I.longest-I.lengths[0]),a.translate(-e.displayOriginX,-e.displayOriginY);var F=i.roundPixels;e.cropWidth>0&&e.cropHeight>0&&(a.beginPath(),a.rect(0,0,e.cropWidth,e.cropHeight),a.clip());for(var j=0;j<o;j++)if(R=k,P=0,10!==(v=s.charCodeAt(j))){if(y=c[v]){if(g=M+y.x,x=C+y.y,b=y.width,w=y.height,_=y.xOffset+p-e.scrollX,S=y.yOffset+m-e.scrollY,null!==A){var B=y.kerning[T];_+=void 0!==B?B:0}if(u){h.index=j,h.charCode=v,h.x=_,h.y=S,h.scale=R,h.rotation=P,h.data=y.data;var N=u(h);_=N.x,S=N.y,R=N.scale,P=N.rotation}_*=R,S*=R,_+=D,p+=y.xAdvance+f,A=y,T=v,0!==b&&0!==w&&32!==v&&(F&&(_=Math.round(_),S=Math.round(S)),a.save(),a.translate(_,S),a.rotate(P),a.scale(R,R),a.drawImage(E,g,x,b,w,0,0,b,w),a.restore())}}else O++,1===L?D=(I.longest-I.lengths[O])/2:2===L&&(D=I.longest-I.lengths[O]),p=0,m+=d,A=null;a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1061),n=i(1062),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19);t.exports=function(t,e,i,n){t.pipelines.clear();var s=r(e,i,n).calc;e.render.call(e,t,i,s),t.pipelines.rebind()}},function(t,e){},function(t,e,i){var r=i(1),n=i(1);r=i(1064),n=i(448),n=i(448),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(217),n=i(19),s=i(25),o=i(12),a=function(t,e,i){this.x=t,this.y=e,this.width=i},l=function(t,e,i){this.points=[],this.pointsLength=1,this.points[0]=new a(t,e,i)},u=[],h=new s;t.exports=function(t,e,i,s){if(0!==e.commandBuffer.length){i.addToRenderList(e);var c=t.pipelines.set(e.pipeline,e);t.pipelines.preBatch(e);for(var d=n(e,i,s).calc,f=h.loadIdentity(),p=e.commandBuffer,m=i.alpha*e.alpha,v=1,y=c.fillTint,g=c.strokeTint,x=0,b=0,w=0,_=2*Math.PI,S=[],A=0,T=!0,E=null,M=o.getTintAppendFloatAlpha,C=0;C<p.length;C++)switch(p[C]){case r.BEGIN_PATH:S.length=0,E=null,T=!0;break;case r.CLOSE_PATH:T=!1,E&&E.points.length&&E.points.push(E.points[0]);break;case r.FILL_PATH:for(A=0;A<S.length;A++)c.batchFillPath(S[A].points,f,d);break;case r.STROKE_PATH:for(A=0;A<S.length;A++)c.batchStrokePath(S[A].points,v,T,f,d);break;case r.LINE_STYLE:v=p[++C];var P=M(p[++C],p[++C]*m);g.TL=P,g.TR=P,g.BL=P,g.BR=P;break;case r.FILL_STYLE:var R=M(p[++C],p[++C]*m);y.TL=R,y.TR=R,y.BL=R,y.BR=R;break;case r.GRADIENT_FILL_STYLE:var k=p[++C]*m,L=p[++C]*m,O=p[++C]*m,D=p[++C]*m;y.TL=M(p[++C],k),y.TR=M(p[++C],L),y.BL=M(p[++C],O),y.BR=M(p[++C],D);break;case r.GRADIENT_LINE_STYLE:v=p[++C];var I=p[++C]*m;g.TL=M(p[++C],I),g.TR=M(p[++C],I),g.BL=M(p[++C],I),g.BR=M(p[++C],I);break;case r.ARC:var F=0,j=p[++C],B=p[++C],N=p[++C],U=p[++C],z=p[++C],G=p[++C],V=p[++C];for(z-=U,G?z<-_?z=-_:z>0&&(z=z%_-_):z>_?z=_:z<0&&(z=_+z%_),null===E&&(E=new l(j+Math.cos(U)*N,B+Math.sin(U)*N,v),S.push(E),F+=.01);F<1+V;)w=z*F+U,x=j+Math.cos(w)*N,b=B+Math.sin(w)*N,E.points.push(new a(x,b,v)),F+=.01;w=z+U,x=j+Math.cos(w)*N,b=B+Math.sin(w)*N,E.points.push(new a(x,b,v));break;case r.FILL_RECT:c.batchFillRect(p[++C],p[++C],p[++C],p[++C],f,d);break;case r.FILL_TRIANGLE:c.batchFillTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],f,d);break;case r.STROKE_TRIANGLE:c.batchStrokeTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],v,f,d);break;case r.LINE_TO:null!==E?E.points.push(new a(p[++C],p[++C],v)):(E=new l(p[++C],p[++C],v),S.push(E));break;case r.MOVE_TO:E=new l(p[++C],p[++C],v),S.push(E);break;case r.SAVE:u.push(f.copyToArray());break;case r.RESTORE:f.copyFromArray(u.pop());break;case r.TRANSLATE:j=p[++C],B=p[++C],f.translate(j,B);break;case r.SCALE:j=p[++C],B=p[++C],f.scale(j,B);break;case r.ROTATE:f.rotate(p[++C])}t.pipelines.postBatch(e)}}},function(t,e,i){var r=i(1),n=i(1);r=i(1066),n=i(1067),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e),e.pipeline.batchSprite(e,i,r)}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e),t.batchSprite(e,e.frame,i,r)}},function(t,e,i){var r=i(1),n=i(1);r=i(1069),n=i(1070),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e),this.pipeline.batchSprite(e,i,r)}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e),t.batchSprite(e,e.frame,i,r)}},function(t,e,i){var r=i(1),n=i(1);r=i(1072),n=i(1073),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e){t.exports=function(t,e,i){var r=e.list,n=r.length;if(0!==n){e.depthSort(),t.pipelines.preBatch(e);var s=-1!==e.blendMode;s||t.setBlendMode(0);for(var o=e.alpha,a=0;a<n;a++){var l=r[a];if(l.willRender(i)){var u,h,c,d;if(void 0!==l.alphaTopLeft)u=l.alphaTopLeft,h=l.alphaTopRight,c=l.alphaBottomLeft,d=l.alphaBottomRight;else{var f=l.alpha;u=f,h=f,c=f,d=f}s||l.blendMode===t.currentBlendMode||t.setBlendMode(l.blendMode);var p=l.mask;p&&p.preRenderWebGL(t,l,i);var m=l.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=a<n-1&&r[a+1].type===t.currentType,l.setAlpha(u*o,h*o,c*o,d*o),l.renderWebGL(t,l,i),l.setAlpha(u,h,c,d),p&&p.postRenderWebGL(t,i),t.newType=!1}}t.pipelines.postBatch(e)}}},function(t,e){t.exports=function(t,e,i){var r=e.list;if(0!==r.length){e.depthSort();var n=-1!==e.blendMode;n||t.setBlendMode(0);var s=e._alpha;e.mask&&e.mask.preRenderCanvas(t,null,i);for(var o=0;o<r.length;o++){var a=r[o];if(a.willRender(i)){var l=a.alpha;n||a.blendMode===t.currentBlendMode||t.setBlendMode(a.blendMode),a.setAlpha(l*s),a.renderCanvas(t,a,i),a.setAlpha(l)}}e.mask&&e.mask.postRenderCanvas(t)}}},function(t,e,i){t.exports={EmitterOp:i(449),GravityWell:i(450),Particle:i(451),ParticleEmitter:i(452),ParticleEmitterManager:i(220),Zones:i(1078)}},function(t,e,i){var r=i(1),n=i(1);r=i(1076),n=i(1077),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(25),n=i(12),s=new r,o=new r,a=new r,l=new r;t.exports=function(t,e,i,r){var u=e.emitters.list,h=u.length;if(0!==h){var c=t.pipelines.set(e.pipeline),d=s,f=o,p=a,m=l;r?(m.loadIdentity(),m.multiply(r),m.translate(e.x,e.y),m.rotate(e.rotation),m.scale(e.scaleX,e.scaleY)):m.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var v=i.roundPixels,y=e.defaultFrame.glTexture,g=n.getTintAppendFloatAlpha,x=c.setGameObject(e,e.defaultFrame);t.pipelines.preBatch(e);for(var b=0;b<h;b++){var w=u[b],_=w.alive,S=_.length;if(w.visible&&0!==S){i.addToRenderList(w);var A=w.scrollFactorX,T=w.scrollFactorY;t.setBlendMode(w.blendMode),w.mask&&(w.mask.preRenderWebGL(t,w,i),t.pipelines.set(e.pipeline));for(var E=0;E<S;E++){var M=_[E],C=M.alpha*i.alpha;if(!(C<=0)){p.applyITRS(M.x,M.y,M.rotation,M.scaleX,M.scaleY),d.copyFrom(i.matrix),d.multiplyWithOffset(m,-i.scrollX*A,-i.scrollY*T),p.e=M.x,p.f=M.y,d.multiply(p,f);var P=M.frame,R=-P.halfWidth,k=-P.halfHeight,L=R+P.width,O=k+P.height,D=f.getXRound(R,k,v),I=f.getYRound(R,k,v),F=f.getXRound(R,O,v),j=f.getYRound(R,O,v),B=f.getXRound(L,O,v),N=f.getYRound(L,O,v),U=f.getXRound(L,k,v),z=f.getYRound(L,k,v),G=g(M.tint,C);c.batchQuad(w,D,I,F,j,B,N,U,z,P.u0,P.v0,P.u1,P.v1,G,G,G,G,0,y,x)}}w.mask&&w.mask.postRenderWebGL(t,i)}}t.pipelines.postBatch(e)}}},function(t,e,i){var r=i(25),n=new r,s=new r,o=new r,a=new r;t.exports=function(t,e,i,r){var l=e.emitters.list,u=l.length;if(0!==u){var h=n.copyFrom(i.matrix),c=s,d=o,f=a;r?(f.loadIdentity(),f.multiply(r),f.translate(e.x,e.y),f.rotate(e.rotation),f.scale(e.scaleX,e.scaleY)):f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);for(var p=t.currentContext,m=i.roundPixels,v=0;v<u;v++){var y=l[v],g=y.alive,x=g.length;if(y.visible&&0!==x){i.addToRenderList(y);var b=y.scrollFactorX,w=y.scrollFactorY;p.save(),p.globalCompositeOperation=t.blendModes[y.blendMode];for(var _=0;_<x;_++){var S=g[_],A=S.alpha*i.alpha;if(!(A<=0)){d.applyITRS(S.x,S.y,S.rotation,S.scaleX,S.scaleY),h.copyFrom(i.matrix),h.multiplyWithOffset(f,-i.scrollX*b,-i.scrollY*w),d.e=S.x,d.f=S.y,h.multiply(d,c);var T=S.frame,E=T.canvasData,M=-T.halfWidth,C=-T.halfHeight;p.globalAlpha=A,p.save(),c.setToContext(p),m&&(M=Math.round(M),C=Math.round(C)),p.imageSmoothingEnabled=!(!t.antialias||T.source.scaleMode),p.drawImage(T.source.image,E.x,E.y,E.width,E.height,M,C,E.width,E.height),p.restore()}}p.restore()}}}}},function(t,e,i){t.exports={DeathZone:i(453),EdgeZone:i(454),RandomZone:i(456)}},function(t,e,i){var r=i(1),n=i(1);r=i(1080),n=i(1081),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(12);t.exports=function(t,e,i,n){i.addToRenderList(e);var s=i.alpha,o=e.renderTarget,a=o.width,l=o.height,u=r.getTintAppendFloatAlpha,h=t.pipelines.set(e.pipeline),c=h.setTexture2D(o.texture);t.pipelines.preBatch(e),h.batchTexture(e,o.texture,a,l,e.x,e.y,a,l,e.scaleX,e.scaleY,e.rotation,e.flipX,!e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,l,u(e.tintTopLeft,s*e._alphaTL),u(e.tintTopRight,s*e._alphaTR),u(e.tintBottomLeft,s*e._alphaBL),u(e.tintBottomRight,s*e._alphaBR),e.tintFill,0,0,i,n,!0,c),t.resetTextures(),t.pipelines.postBatch(e)}},function(t,e){t.exports=function(t,e,i,r){i.addToRenderList(e),t.batchSprite(e,e.frame,i,r)}},function(t,e,i){var r=i(1083),n=i(17),s={Parse:i(1084)};s=n(!1,s,r),t.exports=s},function(t,e){t.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(t,e,i){var r=i(6);t.exports=function(t,e){var i=e.width,n=e.height,s=Math.floor(i/2),o=Math.floor(n/2),a=r(e,"chars","");if(""!==a){var l=r(e,"image",""),u=t.sys.textures.getFrame(l),h=u.cutX,c=u.cutY,d=u.source.width,f=u.source.height,p=r(e,"offset.x",0),m=r(e,"offset.y",0),v=r(e,"spacing.x",0),y=r(e,"spacing.y",0),g=r(e,"lineSpacing",0),x=r(e,"charsPerRow",null);null===x&&(x=d/i)>a.length&&(x=a.length);for(var b=p,w=m,_={retroFont:!0,font:l,size:i,lineHeight:n+g,chars:{}},S=0,A=0;A<a.length;A++){var T=a.charCodeAt(A),E=(h+b)/d,M=(c+w)/f,C=(h+b+i)/d,P=(c+w+n)/f;_.chars[T]={x:b,y:w,width:i,height:n,centerX:s,centerY:o,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:E,v0:M,u1:C,v1:P},++S===x?(S=0,b=p,w+=n+y):b+=i+v}return{data:_,frame:null,texture:l}}}},function(t,e,i){var r=i(1),n=i(1);r=i(1086),n=i(1087),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(12);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline,e),a=r(e,i,s).calc,l=e.vertices,u=e.uv,h=e.colors,c=e.alphas,d=e.alpha,f=n.getTintAppendFloatAlpha,p=i.roundPixels,m=l.length,v=Math.floor(.5*m);o.flush(),t.pipelines.preBatch(e);var y=o.setGameObject(e),g=o.vertexViewF32,x=o.vertexViewU32,b=o.vertexCount*o.currentShader.vertexComponentCount-1,w=0,_=e.tintFill;e.dirty&&e.updateVertices();for(var S=e.debugCallback,A=[],T=0;T<m;T+=2){var E=l[T+0],M=l[T+1],C=E*a.a+M*a.c+a.e,P=E*a.b+M*a.d+a.f;p&&(C=Math.round(C),P=Math.round(P)),g[++b]=C,g[++b]=P,g[++b]=u[T+0],g[++b]=u[T+1],g[++b]=y,g[++b]=_,x[++b]=f(h[w],i.alpha*(c[w]*d)),w++,S&&(A[T+0]=C,A[T+1]=P)}S&&S.call(e,e,m,A),o.vertexCount+=v,t.pipelines.postBatch(e)}},function(t,e){t.exports=function(){}},function(t,e,i){var r=i(1),n=i(1);r=i(1089),n=i(1090),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(12);t.exports=function(t,e,i,n){if(0!==e.width&&0!==e.height){i.addToRenderList(e);var s=e.frame,o=s.width,a=s.height,l=r.getTintAppendFloatAlpha,u=t.pipelines.set(e.pipeline,e),h=u.setTexture2D(s.glTexture,e);t.pipelines.preBatch(e),u.batchTexture(e,s.glTexture,o,a,e.x,e.y,o/e.style.resolution,a/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,a,l(e.tintTopLeft,i.alpha*e._alphaTL),l(e.tintTopRight,i.alpha*e._alphaTR),l(e.tintBottomLeft,i.alpha*e._alphaBL),l(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,0,0,i,n,!1,h),t.pipelines.postBatch(e)}}},function(t,e){t.exports=function(t,e,i,r){0!==e.width&&0!==e.height&&(i.addToRenderList(e),t.batchSprite(e,e.frame,i,r))}},function(t,e,i){var r=i(1),n=i(1);r=i(1092),n=i(1093),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(12);t.exports=function(t,e,i,n){e.updateCanvas();var s=e.width,o=e.height;if(0!==s&&0!==o){i.addToRenderList(e),t.pipelines.preBatch(e);var a=r.getTintAppendFloatAlpha,l=t.pipelines.set(e.pipeline,e),u=l.setTexture2D(e.fillPattern,e);l.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,s,o,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*s,e.originY*o,0,0,s,o,a(e.tintTopLeft,i.alpha*e._alphaTL),a(e.tintTopRight,i.alpha*e._alphaTR),a(e.tintBottomLeft,i.alpha*e._alphaBL),a(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,i,n,!1,u),t.pipelines.postBatch(e)}}},function(t,e){t.exports=function(t,e,i,r){e.updateCanvas(),i.addToRenderList(e),t.batchSprite(e,e.frame,i,r)}},function(t,e,i){var r=i(1),n=i(1);r=i(1095),n=i(1096),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,r){e.videoTexture&&(i.addToRenderList(e),e.pipeline.batchSprite(e,i,r))}},function(t,e){t.exports=function(t,e,i,r){e.videoTexture&&(i.addToRenderList(e),t.batchSprite(e,e.frame,i,r))}},function(t,e,i){var r=i(1),n=i(1);r=i(1098),n=i(1099),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(114),s=i(81);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=r(e,i,o),u=a.calcMatrix.copyFrom(l.calc),h=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&n(a,u,e,d,h,c),e.isStroked&&s(a,e,d,h,c),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(36),n=i(48),s=i(60),o=i(30);t.exports=function(t,e,i,a){i.addToRenderList(e);var l=t.currentContext;if(o(t,l,e,i,a)){var u=e.radius;l.beginPath(),l.arc(u-e.originX*(2*u),u-e.originY*(2*u),u,r(e._startAngle),r(e._endAngle),e.anticlockwise),e.closePath&&l.closePath(),e.isFilled&&(n(l,e),l.fill()),e.isStroked&&(s(l,e),l.stroke()),l.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1101),n=i(1102),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(114),n=i(19),s=i(81);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=n(e,i,o),u=a.calcMatrix.copyFrom(l.calc),h=e._displayOriginX+e._curveBounds.x,c=e._displayOriginY+e._curveBounds.y,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&r(a,u,e,d,h,c),e.isStroked&&s(a,e,d,h,c),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,h=e.pathData,c=h.length-1,d=h[0]-l,f=h[1]-u;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=h[p]-l,v=h[p+1]-u;a.lineTo(m,v)}e.closePath&&a.closePath(),e.isFilled&&(r(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1104),n=i(1105),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(114),n=i(19),s=i(81);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=n(e,i,o),u=a.calcMatrix.copyFrom(l.calc),h=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&r(a,u,e,d,h,c),e.isStroked&&s(a,e,d,h,c),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=e._displayOriginX,u=e._displayOriginY,h=e.pathData,c=h.length-1,d=h[0]-l,f=h[1]-u;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=h[p]-l,v=h[p+1]-u;a.lineTo(m,v)}a.closePath(),e.isFilled&&(r(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1107),n=i(1108),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(12);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline),a=r(e,i,s);o.calcMatrix.copyFrom(a.calc).translate(-e._displayOriginX,-e._displayOriginY);var l,u,h=i.alpha*e.alpha,c=e.width,d=e.height,f=e.cellWidth,p=e.cellHeight,m=Math.ceil(c/f),v=Math.ceil(d/p),y=f,g=p,x=f-(m*f-c),b=p-(v*p-d),w=e.showCells,_=e.showAltCells,S=e.showOutline,A=0,T=0,E=0,M=0,C=0;if(S&&(y--,g--,x===f&&x--,b===p&&b--),t.pipelines.preBatch(e),w&&e.fillAlpha>0)for(l=o.fillTint,u=n.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*h),l.TL=u,l.TR=u,l.BL=u,l.BR=u,T=0;T<v;T++)for(_&&(E=T%2),A=0;A<m;A++)_&&E?E=0:(E++,M=A<m-1?y:x,C=T<v-1?g:b,o.batchFillRect(A*f,T*p,M,C));if(_&&e.altFillAlpha>0)for(l=o.fillTint,u=n.getTintAppendFloatAlpha(e.altFillColor,e.altFillAlpha*h),l.TL=u,l.TR=u,l.BL=u,l.BR=u,T=0;T<v;T++)for(_&&(E=T%2),A=0;A<m;A++)!_||E?(E=0,M=A<m-1?y:x,C=T<v-1?g:b,o.batchFillRect(A*f,T*p,M,C)):E=1;if(S&&e.outlineFillAlpha>0){var P=o.strokeTint,R=n.getTintAppendFloatAlpha(e.outlineFillColor,e.outlineFillAlpha*h);for(P.TL=R,P.TR=R,P.BL=R,P.BR=R,A=1;A<m;A++){var k=A*f;o.batchLine(k,0,k,d,1,1,1,0,!1)}for(T=1;T<v;T++){var L=T*p;o.batchLine(0,L,c,L,1,1,1,0,!1)}}t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=-e._displayOriginX,u=-e._displayOriginY,h=i.alpha*e.alpha,c=e.width,d=e.height,f=e.cellWidth,p=e.cellHeight,m=Math.ceil(c/f),v=Math.ceil(d/p),y=f,g=p,x=f-(m*f-c),b=p-(v*p-d),w=e.showCells,_=e.showAltCells,S=e.showOutline,A=0,T=0,E=0,M=0,C=0;if(S&&(y--,g--,x===f&&x--,b===p&&b--),w&&e.fillAlpha>0)for(r(a,e),T=0;T<v;T++)for(_&&(E=T%2),A=0;A<m;A++)_&&E?E=0:(E++,M=A<m-1?y:x,C=T<v-1?g:b,a.fillRect(l+A*f,u+T*p,M,C));if(_&&e.altFillAlpha>0)for(r(a,e,e.altFillColor,e.altFillAlpha*h),T=0;T<v;T++)for(_&&(E=T%2),A=0;A<m;A++)!_||E?(E=0,M=A<m-1?y:x,C=T<v-1?g:b,a.fillRect(l+A*f,u+T*p,M,C)):E=1;if(S&&e.outlineFillAlpha>0){for(n(a,e,e.outlineFillColor,e.outlineFillAlpha*h),A=1;A<m;A++){var P=A*f;a.beginPath(),a.moveTo(P+l,u),a.lineTo(P+l,d+u),a.stroke()}for(T=1;T<v;T++){var R=T*p;a.beginPath(),a.moveTo(l,R+u),a.lineTo(l+c,R+u),a.stroke()}}a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1110),n=i(1111),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(12);t.exports=function(t,e,i,s){i.addToRenderList(e);var o,a,l,u,h,c,d,f,p,m=t.pipelines.set(e.pipeline),v=r(e,i,s),y=m.calcMatrix.copyFrom(v.calc),g=e.width,x=e.height,b=g/2,w=g/e.projection,_=i.alpha*e.alpha;e.isFilled&&(t.pipelines.preBatch(e),e.showTop&&(o=n.getTintAppendFloatAlpha(e.fillTop,_),a=y.getX(-b,-x),l=y.getY(-b,-x),u=y.getX(0,-w-x),h=y.getY(0,-w-x),c=y.getX(b,-x),d=y.getY(b,-x),f=y.getX(0,w-x),p=y.getY(0,w-x),m.batchQuad(e,a,l,u,h,c,d,f,p,0,0,1,1,o,o,o,o,2)),e.showLeft&&(o=n.getTintAppendFloatAlpha(e.fillLeft,_),a=y.getX(-b,0),l=y.getY(-b,0),u=y.getX(0,w),h=y.getY(0,w),c=y.getX(0,w-x),d=y.getY(0,w-x),f=y.getX(-b,-x),p=y.getY(-b,-x),m.batchQuad(e,a,l,u,h,c,d,f,p,0,0,1,1,o,o,o,o,2)),e.showRight&&(o=n.getTintAppendFloatAlpha(e.fillRight,_),a=y.getX(b,0),l=y.getY(b,0),u=y.getX(0,w),h=y.getY(0,w),c=y.getX(0,w-x),d=y.getY(0,w-x),f=y.getX(b,-x),p=y.getY(b,-x),m.batchQuad(e,a,l,u,h,c,d,f,p,0,0,1,1,o,o,o,o,2)),t.pipelines.postBatch(e))}},function(t,e,i){var r=i(48),n=i(30);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,s)&&e.isFilled){var a=e.width,l=e.height,u=a/2,h=a/e.projection;e.showTop&&(r(o,e,e.fillTop),o.beginPath(),o.moveTo(-u,-l),o.lineTo(0,-h-l),o.lineTo(u,-l),o.lineTo(u,-1),o.lineTo(0,h-1),o.lineTo(-u,-1),o.lineTo(-u,-l),o.fill()),e.showLeft&&(r(o,e,e.fillLeft),o.beginPath(),o.moveTo(-u,0),o.lineTo(0,h),o.lineTo(0,h-l),o.lineTo(-u,-l),o.lineTo(-u,0),o.fill()),e.showRight&&(r(o,e,e.fillRight),o.beginPath(),o.moveTo(u,0),o.lineTo(0,h),o.lineTo(0,h-l),o.lineTo(u,-l),o.lineTo(u,0),o.fill()),o.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1113),n=i(1114),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(12);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline),a=r(e,i,s),l=o.calcMatrix.copyFrom(a.calc),u=e.width,h=e.height,c=u/2,d=u/e.projection,f=e.isReversed,p=i.alpha*e.alpha;if(e.isFilled){var m,v,y,g,x,b,w;if(t.pipelines.preBatch(e),e.showTop&&f){m=n.getTintAppendFloatAlpha(e.fillTop,p),v=l.getX(-c,-h),y=l.getY(-c,-h),g=l.getX(0,-d-h),x=l.getY(0,-d-h),b=l.getX(c,-h),w=l.getY(c,-h);var _=l.getX(0,d-h),S=l.getY(0,d-h);o.batchQuad(e,v,y,g,x,b,w,_,S,0,0,1,1,m,m,m,m,2)}e.showLeft&&(m=n.getTintAppendFloatAlpha(e.fillLeft,p),f?(v=l.getX(-c,-h),y=l.getY(-c,-h),g=l.getX(0,d),x=l.getY(0,d),b=l.getX(0,d-h),w=l.getY(0,d-h)):(v=l.getX(-c,0),y=l.getY(-c,0),g=l.getX(0,d),x=l.getY(0,d),b=l.getX(0,d-h),w=l.getY(0,d-h)),o.batchTri(e,v,y,g,x,b,w,0,0,1,1,m,m,m,2)),e.showRight&&(m=n.getTintAppendFloatAlpha(e.fillRight,p),f?(v=l.getX(c,-h),y=l.getY(c,-h),g=l.getX(0,d),x=l.getY(0,d),b=l.getX(0,d-h),w=l.getY(0,d-h)):(v=l.getX(c,0),y=l.getY(c,0),g=l.getX(0,d),x=l.getY(0,d),b=l.getX(0,d-h),w=l.getY(0,d-h)),o.batchTri(e,v,y,g,x,b,w,0,0,1,1,m,m,m,2)),t.pipelines.postBatch(e)}}},function(t,e,i){var r=i(48),n=i(30);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,s)&&e.isFilled){var a=e.width,l=e.height,u=a/2,h=a/e.projection,c=e.isReversed;e.showTop&&c&&(r(o,e,e.fillTop),o.beginPath(),o.moveTo(-u,-l),o.lineTo(0,-h-l),o.lineTo(u,-l),o.lineTo(0,h-l),o.fill()),e.showLeft&&(r(o,e,e.fillLeft),o.beginPath(),c?(o.moveTo(-u,-l),o.lineTo(0,h),o.lineTo(0,h-l)):(o.moveTo(-u,0),o.lineTo(0,h),o.lineTo(0,h-l)),o.fill()),e.showRight&&(r(o,e,e.fillRight),o.beginPath(),c?(o.moveTo(u,-l),o.lineTo(0,h),o.lineTo(0,h-l)):(o.moveTo(u,0),o.lineTo(0,h),o.lineTo(0,h-l)),o.fill()),o.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1116),n=i(1117),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(12);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline),a=r(e,i,s);o.calcMatrix.copyFrom(a.calc);var l=e._displayOriginX,u=e._displayOriginY,h=i.alpha*e.alpha;if(t.pipelines.preBatch(e),e.isStroked){var c=o.strokeTint,d=n.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*h);c.TL=d,c.TR=d,c.BL=d,c.BR=d;var f=e._startWidth,p=e._endWidth;o.batchLine(e.geom.x1-l,e.geom.y1-u,e.geom.x2-l,e.geom.y2-u,f,p,1,0,!1,a.sprite,a.camera)}t.pipelines.postBatch(e)}},function(t,e,i){var r=i(60),n=i(30);t.exports=function(t,e,i,s){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,s)){var a=e._displayOriginX,l=e._displayOriginY;e.isStroked&&(r(o,e),o.beginPath(),o.moveTo(e.geom.x1-a,e.geom.y1-l),o.lineTo(e.geom.x2-a,e.geom.y2-l),o.stroke()),o.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1119),n=i(1120),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(114),n=i(19),s=i(81);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=n(e,i,o),u=a.calcMatrix.copyFrom(l.calc),h=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&r(a,u,e,d,h,c),e.isStroked&&s(a,e,d,h,c),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=e._displayOriginX,u=e._displayOriginY,h=e.pathData,c=h.length-1,d=h[0]-l,f=h[1]-u;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=h[p]-l,v=h[p+1]-u;a.lineTo(m,v)}a.closePath(),e.isFilled&&(r(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1122),n=i(1123),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(81),s=i(12);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=r(e,i,o);a.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,h=e._displayOriginY,c=i.alpha*e.alpha;if(t.pipelines.preBatch(e),e.isFilled){var d=a.fillTint,f=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);d.TL=f,d.TR=f,d.BL=f,d.BR=f,a.batchFillRect(-u,-h,e.width,e.height)}e.isStroked&&n(a,e,c,u,h),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(r(a,e),a.fillRect(-l,-u,e.width,e.height)),e.isStroked&&(n(a,e),a.beginPath(),a.rect(-l,-u,e.width,e.height),a.stroke()),a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1125),n=i(1126),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(114),n=i(19),s=i(81);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=n(e,i,o),u=a.calcMatrix.copyFrom(l.calc),h=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&r(a,u,e,d,h,c),e.isStroked&&s(a,e,d,h,c),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=e._displayOriginX,u=e._displayOriginY,h=e.pathData,c=h.length-1,d=h[0]-l,f=h[1]-u;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var m=h[p]-l,v=h[p+1]-u;a.lineTo(m,v)}a.closePath(),e.isFilled&&(r(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},function(t,e,i){var r=i(1),n=i(1);r=i(1128),n=i(1129),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19),n=i(81),s=i(12);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),l=r(e,i,o);a.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,h=e._displayOriginY,c=i.alpha*e.alpha;if(t.pipelines.preBatch(e),e.isFilled){var d=a.fillTint,f=s.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);d.TL=f,d.TR=f,d.BL=f,d.BR=f;var p=e.geom.x1-u,m=e.geom.y1-h,v=e.geom.x2-u,y=e.geom.y2-h,g=e.geom.x3-u,x=e.geom.y3-h;a.batchFillTriangle(p,m,v,y,g,x,l.sprite,l.camera)}e.isStroked&&n(a,e,c,u,h),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(48),n=i(60),s=i(30);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(s(t,a,e,i,o)){var l=e._displayOriginX,u=e._displayOriginY,h=e.geom.x1-l,c=e.geom.y1-u,d=e.geom.x2-l,f=e.geom.y2-u,p=e.geom.x3-l,m=e.geom.y3-u;a.beginPath(),a.moveTo(h,c),a.lineTo(d,f),a.lineTo(p,m),a.closePath(),e.isFilled&&(r(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},function(t,e,i){var r=i(213);i(5).register("blitter",(function(t,e,i,n){return this.displayList.add(new r(this.scene,t,e,i,n))}))},function(t,e,i){var r=i(214);i(5).register("container",(function(t,e,i){return this.displayList.add(new r(this.scene,t,e,i))}))},function(t,e,i){var r=i(442);i(5).register("dom",(function(t,e,i,n,s){var o=new r(this.scene,t,e,i,n,s);return this.displayList.add(o),o}))},function(t,e,i){var r=i(215);i(5).register("dynamicBitmapText",(function(t,e,i,n,s){return this.displayList.add(new r(this.scene,t,e,i,n,s))}))},function(t,e,i){var r=i(444);i(5).register("extern",(function(){var t=new r(this.scene);return this.displayList.add(t),t}))},function(t,e,i){var r=i(216);i(5).register("graphics",(function(t){return this.displayList.add(new r(this.scene,t))}))},function(t,e,i){var r=i(113);i(5).register("group",(function(t,e){return this.updateList.add(new r(this.scene,t,e))}))},function(t,e,i){var r=i(125);i(5).register("image",(function(t,e,i,n){return this.displayList.add(new r(this.scene,t,e,i,n))}))},function(t,e,i){var r=i(219);i(5).register("layer",(function(t){return this.displayList.add(new r(this.scene,t))}))},function(t,e,i){var r=i(5),n=i(220);r.register("particles",(function(t,e,i){return this.displayList.add(new n(this.scene,t,e,i))}))},function(t,e,i){var r=i(5),n=i(457);r.register("follower",(function(t,e,i,r,s){var o=new n(this.scene,t,e,i,r,s);return this.displayList.add(o),this.updateList.add(o),o}))},function(t,e,i){var r=i(5),n=i(221);r.register("renderTexture",(function(t,e,i,r,s,o){return this.displayList.add(new n(this.scene,t,e,i,r,s,o))}))},function(t,e,i){var r=i(223);i(5).register("rope",(function(t,e,i,n,s,o,a,l){return this.displayList.add(new r(this.scene,t,e,i,n,s,o,a,l))}))},function(t,e,i){var r=i(5),n=i(73);r.register("sprite",(function(t,e,i,r){var s=new n(this.scene,t,e,i,r);return this.displayList.add(s),s}))},function(t,e,i){var r=i(148);i(5).register("bitmapText",(function(t,e,i,n,s,o){return this.displayList.add(new r(this.scene,t,e,i,n,s,o))}))},function(t,e,i){var r=i(224);i(5).register("text",(function(t,e,i,n){return this.displayList.add(new r(this.scene,t,e,i,n))}))},function(t,e,i){var r=i(225);i(5).register("tileSprite",(function(t,e,i,n,s,o){return this.displayList.add(new r(this.scene,t,e,i,n,s,o))}))},function(t,e,i){var r=i(129);i(5).register("zone",(function(t,e,i,n){return this.displayList.add(new r(this.scene,t,e,i,n))}))},function(t,e,i){var r=i(226);i(5).register("video",(function(t,e,i){return this.displayList.add(new r(this.scene,t,e,i))}))},function(t,e,i){var r=i(461),n=i(5);n.register("arc",(function(t,e,i,n,s,o,a,l){return this.displayList.add(new r(this.scene,t,e,i,n,s,o,a,l))})),n.register("circle",(function(t,e,i,n,s){return this.displayList.add(new r(this.scene,t,e,i,0,360,!1,n,s))}))},function(t,e,i){var r=i(5),n=i(462);r.register("curve",(function(t,e,i,r,s){return this.displayList.add(new n(this.scene,t,e,i,r,s))}))},function(t,e,i){var r=i(463);i(5).register("ellipse",(function(t,e,i,n,s,o){return this.displayList.add(new r(this.scene,t,e,i,n,s,o))}))},function(t,e,i){var r=i(5),n=i(464);r.register("grid",(function(t,e,i,r,s,o,a,l,u,h){return this.displayList.add(new n(this.scene,t,e,i,r,s,o,a,l,u,h))}))},function(t,e,i){var r=i(5),n=i(465);r.register("isobox",(function(t,e,i,r,s,o,a){return this.displayList.add(new n(this.scene,t,e,i,r,s,o,a))}))},function(t,e,i){var r=i(5),n=i(466);r.register("isotriangle",(function(t,e,i,r,s,o,a,l){return this.displayList.add(new n(this.scene,t,e,i,r,s,o,a,l))}))},function(t,e,i){var r=i(5),n=i(467);r.register("line",(function(t,e,i,r,s,o,a,l){return this.displayList.add(new n(this.scene,t,e,i,r,s,o,a,l))}))},function(t,e,i){var r=i(5),n=i(468);r.register("polygon",(function(t,e,i,r,s){return this.displayList.add(new n(this.scene,t,e,i,r,s))}))},function(t,e,i){var r=i(5),n=i(473);r.register("rectangle",(function(t,e,i,r,s,o){return this.displayList.add(new n(this.scene,t,e,i,r,s,o))}))},function(t,e,i){var r=i(474);i(5).register("star",(function(t,e,i,n,s,o,a){return this.displayList.add(new r(this.scene,t,e,i,n,s,o,a))}))},function(t,e,i){var r=i(5),n=i(475);r.register("triangle",(function(t,e,i,r,s,o,a,l,u,h){return this.displayList.add(new n(this.scene,t,e,i,r,s,o,a,l,u,h))}))},function(t,e,i){var r=i(213),n=i(28),s=i(16),o=i(13);s.register("blitter",(function(t,e){void 0===t&&(t={});var i=o(t,"key",null),s=o(t,"frame",null),a=new r(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),n(this.scene,a,t),a}))},function(t,e,i){var r=i(28),n=i(214),s=i(16),o=i(13);s.register("container",(function(t,e){void 0===t&&(t={});var i=o(t,"x",0),s=o(t,"y",0),a=o(t,"children",null),l=new n(this.scene,i,s,a);return void 0!==e&&(t.add=e),r(this.scene,l,t),l}))},function(t,e,i){var r=i(215),n=i(28),s=i(16),o=i(13);s.register("dynamicBitmapText",(function(t,e){void 0===t&&(t={});var i=o(t,"font",""),s=o(t,"text",""),a=o(t,"size",!1),l=new r(this.scene,0,0,i,s,a);return void 0!==e&&(t.add=e),n(this.scene,l,t),l}))},function(t,e,i){var r=i(16),n=i(216);r.register("graphics",(function(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var i=new n(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i}))},function(t,e,i){var r=i(16),n=i(113);r.register("group",(function(t){return new n(this.scene,null,t)}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(125);n.register("image",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"frame",null),a=new o(this.scene,0,0,i,n);return void 0!==e&&(t.add=e),r(this.scene,a,t),a}))},function(t,e,i){var r=i(28),n=i(219),s=i(16),o=i(13);s.register("layer",(function(t,e){void 0===t&&(t={});var i=o(t,"children",null),s=new n(this.scene,i);return void 0!==e&&(t.add=e),r(this.scene,s,t),s}))},function(t,e,i){var r=i(16),n=i(13),s=i(2),o=i(220);r.register("particles",(function(t,e){void 0===t&&(t={});var i=n(t,"key",null),r=n(t,"frame",null),a=s(t,"emitters",null),l=new o(this.scene,i,r,a);return void 0!==e&&(t.add=e),s(t,"add",!1)?this.displayList.add(l):this.updateList.add(l),l}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(221);n.register("renderTexture",(function(t,e){void 0===t&&(t={});var i=s(t,"x",0),n=s(t,"y",0),a=s(t,"width",32),l=s(t,"height",32),u=s(t,"key",void 0),h=s(t,"frame",void 0),c=new o(this.scene,i,n,a,l,u,h);return void 0!==e&&(t.add=e),r(this.scene,c,t),c}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(6),a=i(223);n.register("rope",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"frame",null),l=s(t,"horizontal",!0),u=o(t,"points",void 0),h=o(t,"colors",void 0),c=o(t,"alphas",void 0),d=new a(this.scene,0,0,i,n,u,l,h,c);return void 0!==e&&(t.add=e),r(this.scene,d,t),t.add||this.updateList.add(d),d}))},function(t,e,i){var r=i(28),n=i(439),s=i(16),o=i(13),a=i(73);s.register("sprite",(function(t,e){void 0===t&&(t={});var i=o(t,"key",null),s=o(t,"frame",null),l=new a(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),r(this.scene,l,t),n(l,t),l}))},function(t,e,i){var r=i(148),n=i(28),s=i(16),o=i(13),a=i(6);s.register("bitmapText",(function(t,e){void 0===t&&(t={});var i=a(t,"font",""),s=o(t,"text",""),l=o(t,"size",!1),u=a(t,"align",0),h=new r(this.scene,0,0,i,s,l,u);return void 0!==e&&(t.add=e),n(this.scene,h,t),h}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(224);n.register("text",(function(t,e){void 0===t&&(t={});var i=s(t,"text",""),n=s(t,"style",null),a=s(t,"padding",null);null!==a&&(n.padding=a);var l=new o(this.scene,0,0,i,n);return void 0!==e&&(t.add=e),r(this.scene,l,t),l.autoRound=s(t,"autoRound",!0),l.resolution=s(t,"resolution",1),l}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(225);n.register("tileSprite",(function(t,e){void 0===t&&(t={});var i=s(t,"x",0),n=s(t,"y",0),a=s(t,"width",512),l=s(t,"height",512),u=s(t,"key",""),h=s(t,"frame",""),c=new o(this.scene,i,n,a,l,u,h);return void 0!==e&&(t.add=e),r(this.scene,c,t),c}))},function(t,e,i){var r=i(16),n=i(13),s=i(129);r.register("zone",(function(t){var e=n(t,"x",0),i=n(t,"y",0),r=n(t,"width",1),o=n(t,"height",r);return new s(this.scene,e,i,r,o)}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(226);n.register("video",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=new o(this.scene,0,0,i);return void 0!==e&&(t.add=e),r(this.scene,n,t),t.add||this.updateList.add(n),n}))},function(t,e,i){var r=i(1),n=i(1);r=i(1177),n=i(1178),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19);t.exports=function(t,e,i,n){if(e.shader){if(i.addToRenderList(e),t.pipelines.clear(),e.renderToTexture)e.load(),e.flush();else{var s=r(e,i,n).calc;t.width===e._rendererWidth&&t.height===e._rendererHeight||e.projOrtho(0,t.width,t.height,0),e.load(s.matrix),e.flush()}t.pipelines.rebind()}}},function(t,e){t.exports=function(){}},function(t,e,i){var r=i(1),n=i(1);r=i(1180),n=i(1181),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19);t.exports=function(t,e,i,n){var s=e.faces,o=s.length;if(0!==o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline,e),l=r(e,i,n).calc,u=a.setGameObject(e),h=a.vertexViewF32,c=a.vertexViewU32,d=a.vertexCount*a.currentShader.vertexComponentCount-1,f=e.tintFill,p=[],m=e.debugCallback,v=l.a,y=l.b,g=l.c,x=l.d,b=l.e,w=l.f,_=e.viewPosition.z,S=e.hideCCW,A=i.roundPixels,T=i.alpha*e.alpha,E=0;t.pipelines.preBatch(e);for(var M=0;M<o;M++){var C=s[M];C.isInView(i,S,_,T,v,y,g,x,b,w,A)&&(a.shouldFlush(3)&&(a.flush(),d=0),d=C.load(h,c,d,u,f),E++,a.vertexCount+=3,m&&p.push(C))}e.totalFrame+=E,m&&m.call(e,e,p),t.pipelines.postBatch(e)}}},function(t,e){t.exports=function(){}},function(t,e,i){var r=i(1),n=i(1);r=i(1183),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(19);t.exports=function(t,e,i,n){i.addToRenderList(e);var s=t.pipelines.set(e.pipeline),o=r(e,i,n).calc,a=e.width,l=e.height,u=-e._radius,h=-e._radius,c=u+a,d=h+l,f=o.getX(0,0),p=o.getY(0,0),m=o.getX(u,h),v=o.getY(u,h),y=o.getX(u,d),g=o.getY(u,d),x=o.getX(c,d),b=o.getY(c,d),w=o.getX(c,h),_=o.getY(c,h);t.pipelines.preBatch(e),s.batchPointLight(e,i,m,v,y,g,x,b,w,_,f,p),t.pipelines.postBatch(e)}},function(t,e,i){var r=i(229);i(5).register("shader",(function(t,e,i,n,s,o,a){return this.displayList.add(new r(this.scene,t,e,i,n,s,o,a))}))},function(t,e,i){var r=i(230);i(5).register("mesh",(function(t,e,i,n,s,o,a,l,u,h,c){return this.displayList.add(new r(this.scene,t,e,i,n,s,o,a,l,u,h,c))}))},function(t,e,i){var r=i(5),n=i(150);r.register("pointlight",(function(t,e,i,r,s,o){return this.displayList.add(new n(this.scene,t,e,i,r,s,o))}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(229);n.register("shader",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"x",0),a=s(t,"y",0),l=s(t,"width",128),u=s(t,"height",128),h=new o(this.scene,i,n,a,l,u);return void 0!==e&&(t.add=e),r(this.scene,h,t),h}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(6),a=i(230);n.register("mesh",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"frame",null),l=o(t,"vertices",[]),u=o(t,"uvs",[]),h=o(t,"indicies",[]),c=o(t,"containsZ",!1),d=o(t,"normals",[]),f=o(t,"colors",16777215),p=o(t,"alphas",1),m=new a(this.scene,0,0,i,n,l,u,h,c,d,f,p);return void 0!==e&&(t.add=e),r(this.scene,m,t),m}))},function(t,e,i){var r=i(28),n=i(16),s=i(13),o=i(150);n.register("pointlight",(function(t,e){void 0===t&&(t={});var i=s(t,"color",16777215),n=s(t,"radius",128),a=s(t,"intensity",1),l=s(t,"attenuation",.1),u=new o(this.scene,0,0,i,n,a,l);return void 0!==e&&(t.add=e),r(this.scene,u,t),u}))},function(t,e,i){var r=i(0),n=i(482),s=i(24),o=i(20),a=new r({Extends:n,initialize:function(t){this.scene=t,this.systems=t.sys,t.sys.settings.isBooted||t.sys.events.once(o.BOOT,this.boot,this),n.call(this)},boot:function(){var t=this.systems.events;t.on(o.SHUTDOWN,this.shutdown,this),t.on(o.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",a,"lights"),t.exports=a},function(t,e,i){var r=i(65);r.Area=i(1192),r.Circumference=i(302),r.CircumferencePoint=i(169),r.Clone=i(1193),r.Contains=i(66),r.ContainsPoint=i(1194),r.ContainsRect=i(1195),r.CopyFrom=i(1196),r.Equals=i(1197),r.GetBounds=i(1198),r.GetPoint=i(300),r.GetPoints=i(301),r.Offset=i(1199),r.OffsetPoint=i(1200),r.Random=i(170),t.exports=r},function(t,e){t.exports=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0}},function(t,e,i){var r=i(65);t.exports=function(t){return new r(t.x,t.y,t.radius)}},function(t,e,i){var r=i(66);t.exports=function(t,e){return r(t,e.x,e.y)}},function(t,e,i){var r=i(66);t.exports=function(t,e){return r(t,e.x,e.y)&&r(t,e.right,e.y)&&r(t,e.x,e.bottom)&&r(t,e.right,e.bottom)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.radius)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius}},function(t,e,i){var r=i(10);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e,i){var r=i(111);r.Area=i(1202),r.Circumference=i(447),r.CircumferencePoint=i(218),r.Clone=i(1203),r.Contains=i(112),r.ContainsPoint=i(1204),r.ContainsRect=i(1205),r.CopyFrom=i(1206),r.Equals=i(1207),r.GetBounds=i(1208),r.GetPoint=i(445),r.GetPoints=i(446),r.Offset=i(1209),r.OffsetPoint=i(1210),r.Random=i(180),t.exports=r},function(t,e){t.exports=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI}},function(t,e,i){var r=i(111);t.exports=function(t){return new r(t.x,t.y,t.width,t.height)}},function(t,e,i){var r=i(112);t.exports=function(t,e){return r(t,e.x,e.y)}},function(t,e,i){var r=i(112);t.exports=function(t,e){return r(t,e.x,e.y)&&r(t,e.right,e.y)&&r(t,e.x,e.bottom)&&r(t,e.right,e.bottom)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},function(t,e,i){var r=i(10);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=t.left,e.y=t.top,e.width=t.width,e.height=t.height,e}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e,i){var r=i(4),n=i(231);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s,o,a,l,u=t.x,h=t.y,c=t.radius,d=e.x,f=e.y,p=e.radius;if(h===f)0===(a=(o=-2*f)*o-4*(s=1)*(d*d+(l=(p*p-c*c-d*d+u*u)/(2*(u-d)))*l-2*d*l+f*f-p*p))?i.push(new r(l,-o/(2*s))):a>0&&(i.push(new r(l,(-o+Math.sqrt(a))/(2*s))),i.push(new r(l,(-o-Math.sqrt(a))/(2*s))));else{var m=(u-d)/(h-f),v=(p*p-c*c-d*d+u*u-f*f+h*h)/(2*(h-f));0===(a=(o=2*h*m-2*v*m-2*u)*o-4*(s=m*m+1)*(u*u+h*h+v*v-c*c-2*h*v))?(l=-o/(2*s),i.push(new r(l,v-l*m))):a>0&&(l=(-o+Math.sqrt(a))/(2*s),i.push(new r(l,v-l*m)),l=(-o-Math.sqrt(a))/(2*s),i.push(new r(l,v-l*m)))}}return i}},function(t,e,i){var r=i(232),n=i(151);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s=e.getLineA(),o=e.getLineB(),a=e.getLineC(),l=e.getLineD();r(s,t,i),r(o,t,i),r(a,t,i),r(l,t,i)}return i}},function(t,e,i){var r=i(140),n=i(487),s=new(i(47));function o(t,e,i,o,a){var l=Math.cos(t),u=Math.sin(t);s.setTo(e,i,e+l,i+u);var h=n(s,o);h&&a.push(new r(h.x,h.y,t,h.w))}function a(t,e){return t.z-e.z}t.exports=function(t,e,i){Array.isArray(i)||(i=[i]);for(var r=[],n=[],s=0;s<i.length;s++)for(var l=i[s].points,u=0;u<l.length;u++){var h=Math.atan2(l[u].y-e,l[u].x-t);-1===n.indexOf(h)&&(o(h,t,e,i,r),o(h-1e-5,t,e,i,r),o(h+1e-5,t,e,i,r),n.push(h))}return r.sort(a)}},function(t,e,i){var r=i(10),n=i(152);t.exports=function(t,e,i){return void 0===i&&(i=new r),n(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i}},function(t,e,i){var r=i(234),n=i(152);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s=t.getLineA(),o=t.getLineB(),a=t.getLineC(),l=t.getLineD();r(s,e,i),r(o,e,i),r(a,e,i),r(l,e,i)}return i}},function(t,e,i){var r=i(489),n=i(234);t.exports=function(t,e,i){if(void 0===i&&(i=[]),r(t,e)){var s=e.getLineA(),o=e.getLineB(),a=e.getLineC();n(s,t,i),n(o,t,i),n(a,t,i)}return i}},function(t,e,i){var r=i(232),n=i(491);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s=t.getLineA(),o=t.getLineB(),a=t.getLineC();r(s,e,i),r(o,e,i),r(a,e,i)}return i}},function(t,e,i){var r=i(494),n=i(492);t.exports=function(t,e,i){if(void 0===i&&(i=[]),r(t,e)){var s=e.getLineA(),o=e.getLineB(),a=e.getLineC();n(t,s,i),n(t,o,i),n(t,a,i)}return i}},function(t,e,i){var r=i(496);t.exports=function(t,e){if(!r(t,e))return!1;var i=Math.min(e.x1,e.x2),n=Math.max(e.x1,e.x2),s=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=n&&t.y>=s&&t.y<=o}},function(t,e){t.exports=function(t,e,i,r,n,s){return void 0===s&&(s=0),!(e>t.right+s||i<t.left-s||r>t.bottom+s||n<t.top-s)}},function(t,e,i){var r=i(47);r.Angle=i(97),r.BresenhamPoints=i(317),r.CenterOn=i(1222),r.Clone=i(1223),r.CopyFrom=i(1224),r.Equals=i(1225),r.Extend=i(1226),r.GetEasedPoints=i(1227),r.GetMidPoint=i(1228),r.GetNearestPoint=i(1229),r.GetNormal=i(1230),r.GetPoint=i(307),r.GetPoints=i(172),r.GetShortestDistance=i(1231),r.Height=i(1232),r.Length=i(67),r.NormalAngle=i(497),r.NormalX=i(1233),r.NormalY=i(1234),r.Offset=i(1235),r.PerpSlope=i(1236),r.Random=i(173),r.ReflectAngle=i(1237),r.Rotate=i(1238),r.RotateAroundPoint=i(1239),r.RotateAroundXY=i(236),r.SetToAngle=i(1240),r.Slope=i(1241),r.Width=i(1242),t.exports=r},function(t,e){t.exports=function(t,e,i){var r=e-(t.x1+t.x2)/2,n=i-(t.y1+t.y2)/2;return t.x1+=r,t.y1+=n,t.x2+=r,t.y2+=n,t}},function(t,e,i){var r=i(47);t.exports=function(t){return new r(t.x1,t.y1,t.x2,t.y2)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)}},function(t,e){t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2}},function(t,e,i){var r=i(67);t.exports=function(t,e,i){void 0===i&&(i=e);var n=r(t),s=t.x2-t.x1,o=t.y2-t.y1;return e&&(t.x1=t.x1-s/n*e,t.y1=t.y1-o/n*e),i&&(t.x2=t.x2+s/n*i,t.y2=t.y2+o/n*i),t}},function(t,e,i){var r=i(352),n=i(80),s=i(4);t.exports=function(t,e,i,o,a){void 0===o&&(o=0),void 0===a&&(a=[]);var l,u,h=[],c=t.x1,d=t.y1,f=t.x2-c,p=t.y2-d,m=n(e,a),v=i-1;for(l=0;l<v;l++)u=m(l/v),h.push(new s(c+f*u,d+p*u));if(u=m(1),h.push(new s(c+f*u,d+p*u)),o>0){var y=h[0],g=[y];for(l=1;l<h.length-1;l++){var x=h[l];r(y,x)>=o&&(g.push(x),y=x)}var b=h[h.length-1];return r(y,b)<o&&g.pop(),g.push(b),g}return h}},function(t,e,i){var r=i(4);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){void 0===i&&(i=new r);var n=t.x1,s=t.y1,o=t.x2,a=t.y2,l=(o-n)*(o-n)+(a-s)*(a-s);if(0===l)return i;var u=((e.x-n)*(o-n)+(e.y-s)*(a-s))/l;return i.x=n+u*(o-n),i.y=s+u*(a-s),i}},function(t,e,i){var r=i(14),n=i(97),s=i(4);t.exports=function(t,e){void 0===e&&(e=new s);var i=n(t)-r.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e}},function(t,e){t.exports=function(t,e){var i=t.x1,r=t.y1,n=t.x2,s=t.y2,o=(n-i)*(n-i)+(s-r)*(s-r);if(0===o)return!1;var a=((r-e.y)*(n-i)-(i-e.x)*(s-r))/o;return Math.abs(a)*Math.sqrt(o)}},function(t,e){t.exports=function(t){return Math.abs(t.y1-t.y2)}},function(t,e,i){var r=i(14),n=i(97);t.exports=function(t){return Math.cos(n(t)-r.TAU)}},function(t,e,i){var r=i(14),n=i(97);t.exports=function(t){return Math.sin(n(t)-r.TAU)}},function(t,e){t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t}},function(t,e){t.exports=function(t){return-(t.x2-t.x1)/(t.y2-t.y1)}},function(t,e,i){var r=i(97),n=i(497);t.exports=function(t,e){return 2*n(e)-Math.PI-r(t)}},function(t,e,i){var r=i(236);t.exports=function(t,e){var i=(t.x1+t.x2)/2,n=(t.y1+t.y2)/2;return r(t,i,n,e)}},function(t,e,i){var r=i(236);t.exports=function(t,e,i){return r(t,e.x,e.y,i)}},function(t,e){t.exports=function(t,e,i,r,n){return t.x1=e,t.y1=i,t.x2=e+Math.cos(r)*n,t.y2=i+Math.sin(r)*n,t}},function(t,e){t.exports=function(t){return(t.y2-t.y1)/(t.x2-t.x1)}},function(t,e){t.exports=function(t){return Math.abs(t.x1-t.x2)}},function(t,e,i){var r={Face:i(116),GenerateGridVerts:i(1244),GenerateObjVerts:i(480),GenerateVerts:i(479),ParseObj:i(498),ParseObjMaterial:i(499),RotateFace:i(1245),Vertex:i(117)};t.exports=r},function(t,e,i){var r=i(116),n=i(2),s=i(69),o=i(39),a=i(117),l=new o,u=new o,h=new s;t.exports=function(t){var e=n(t,"mesh"),i=n(t,"texture",null),s=n(t,"frame"),o=n(t,"width",1),c=n(t,"height",o),d=n(t,"widthSegments",1),f=n(t,"heightSegments",d),p=n(t,"x",0),m=n(t,"y",0),v=n(t,"z",0),y=n(t,"rotateX",0),g=n(t,"rotateY",0),x=n(t,"rotateZ",0),b=n(t,"zIsUp",!0),w=n(t,"isOrtho",!!e&&e.dirtyCache[11]),_=n(t,"colors",[16777215]),S=n(t,"alphas",[1]),A=n(t,"tile",!1),T=n(t,"flipY",!1),E=n(t,"width",null),M={faces:[],verts:[]};if(l.set(p,m,v),u.set(y,g,x),h.fromRotationXYTranslation(u,l,b),!i&&e)i=e.texture;else{if(!e||"string"!==typeof i)return M;i=e.scene.sys.textures.get(i)}var C=i.get(s);!E&&w&&i&&e&&(o=C.width/e.height,c=C.height/e.height);var P,R,k=o/2,L=c/2,O=Math.floor(d),D=Math.floor(f),I=O+1,F=D+1,j=o/O,B=c/D,N=[],U=[],z=0,G=1,V=0,H=1;C&&(z=C.u0,G=C.u1,T?(V=C.v1,H=C.v0):(V=C.v0,H=C.v1));var W=G-z,Y=H-V;for(R=0;R<F;R++){var X=R*B-L;for(P=0;P<I;P++){var Z=P*j-k;U.push(Z,-X);var q=z+W*(P/O),Q=V+Y*(R/D);N.push(q,Q)}}Array.isArray(_)||(_=[_]),Array.isArray(S)||(S=[S]);var K=0,J=0;for(R=0;R<D;R++)for(P=0;P<O;P++){var $=2*(P+I*R),tt=2*(P+I*(R+1)),et=2*(P+1+I*(R+1)),it=2*(P+1+I*R),rt=_[J],nt=S[K],st=new a(U[$],U[$+1],0,N[$],N[$+1],rt,nt).transformMat4(h),ot=new a(U[tt],U[tt+1],0,N[tt],N[tt+1],rt,nt).transformMat4(h),at=new a(U[it],U[it+1],0,N[it],N[it+1],rt,nt).transformMat4(h),lt=new a(U[tt],U[tt+1],0,N[tt],N[tt+1],rt,nt).transformMat4(h),ut=new a(U[et],U[et+1],0,N[et],N[et+1],rt,nt).transformMat4(h),ht=new a(U[it],U[it+1],0,N[it],N[it+1],rt,nt).transformMat4(h);A&&(st.setUVs(z,H),ot.setUVs(z,V),at.setUVs(G,H),lt.setUVs(z,V),ut.setUVs(G,V),ht.setUVs(G,H)),++J===_.length&&(J=0),++K===S.length&&(K=0),M.verts.push(st,ot,at,lt,ut,ht),M.faces.push(new r(st,ot,at),new r(lt,ut,ht))}return e&&(e.faces=e.faces.concat(M.faces),e.vertices=e.vertices.concat(M.verts)),M}},function(t,e){t.exports=function(t,e,i,r){var n,s;if(void 0===i&&void 0===r){var o=t.getInCenter();n=o.x,s=o.y}var a=Math.cos(e),l=Math.sin(e),u=t.vertex1,h=t.vertex2,c=t.vertex3,d=u.x-n,f=u.y-s;u.set(d*a-f*l+n,d*l+f*a+s),d=h.x-n,f=h.y-s,h.set(d*a-f*l+n,d*l+f*a+s),d=c.x-n,f=c.y-s,c.set(d*a-f*l+n,d*l+f*a+s)}},function(t,e,i){var r=i(4);r.Ceil=i(1247),r.Clone=i(1248),r.CopyFrom=i(1249),r.Equals=i(1250),r.Floor=i(1251),r.GetCentroid=i(1252),r.GetMagnitude=i(500),r.GetMagnitudeSq=i(501),r.GetRectangleFromPoints=i(1253),r.Interpolate=i(1254),r.Invert=i(1255),r.Negative=i(1256),r.Project=i(1257),r.ProjectUnit=i(1258),r.SetMagnitude=i(1259),t.exports=r},function(t,e){t.exports=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))}},function(t,e,i){var r=i(4);t.exports=function(t){return new r(t.x,t.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y}},function(t,e){t.exports=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(void 0===e&&(e=new r),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(1===i)e.x=t[0].x,e.y=t[0].y;else{for(var n=0;n<i;n++)e.x+=t[n].x,e.y+=t[n].y;e.x/=i,e.y/=i}return e}},function(t,e,i){var r=i(10);t.exports=function(t,e){void 0===e&&(e=new r);for(var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=0;a<t.length;a++){var l=t[a];l.x>i&&(i=l.x),l.x<n&&(n=l.x),l.y>s&&(s=l.y),l.y<o&&(o=l.y)}return e.x=n,e.y=o,e.width=i-n,e.height=s-o,e}},function(t,e,i){var r=i(4);t.exports=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=new r),n.x=t.x+(e.x-t.x)*i,n.y=t.y+(e.y-t.y)*i,n}},function(t,e){t.exports=function(t){return t.setTo(t.y,t.x)}},function(t,e,i){var r=i(4);t.exports=function(t,e){return void 0===e&&(e=new r),e.setTo(-t.x,-t.y)}},function(t,e,i){var r=i(4),n=i(501);t.exports=function(t,e,i){void 0===i&&(i=new r);var s=(t.x*e.x+t.y*e.y)/n(e);return 0!==s&&(i.x=s*e.x,i.y=s*e.y),i}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){void 0===i&&(i=new r);var n=t.x*e.x+t.y*e.y;return 0!==n&&(i.x=n*e.x,i.y=n*e.y),i}},function(t,e,i){var r=i(500);t.exports=function(t,e){if(0!==t.x||0!==t.y){var i=r(t);t.x/=i,t.y/=i}return t.x*=e,t.y*=e,t}},function(t,e,i){var r=i(227);r.Clone=i(1261),r.Contains=i(228),r.ContainsPoint=i(1262),r.Earcut=i(59),r.GetAABB=i(469),r.GetNumberArray=i(1263),r.GetPoints=i(470),r.Perimeter=i(471),r.Reverse=i(1264),r.Simplify=i(1265),r.Smooth=i(472),r.Translate=i(1266),t.exports=r},function(t,e,i){var r=i(227);t.exports=function(t){return new r(t.points)}},function(t,e,i){var r=i(228);t.exports=function(t,e){return r(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){void 0===e&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e}},function(t,e){t.exports=function(t){return t.points.reverse(),t}},function(t,e){function i(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r}function r(t,e,i){var r=e.x,n=e.y,s=i.x-r,o=i.y-n;if(0!==s||0!==o){var a=((t.x-r)*s+(t.y-n)*o)/(s*s+o*o);a>1?(r=i.x,n=i.y):a>0&&(r+=s*a,n+=o*a)}return(s=t.x-r)*s+(o=t.y-n)*o}function n(t,e,i,s,o){for(var a,l=s,u=e+1;u<i;u++){var h=r(t[u],t[e],t[i]);h>l&&(a=u,l=h)}l>s&&(a-e>1&&n(t,e,a,s,o),o.push(t[a]),i-a>1&&n(t,a,i,s,o))}function s(t,e){var i=t.length-1,r=[t[0]];return n(t,0,i,e,r),r.push(t[i]),r}t.exports=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=!1);var n=t.points;if(n.length>2){var o=e*e;r||(n=function(t,e){for(var r,n=t[0],s=[n],o=1,a=t.length;o<a;o++)i(r=t[o],n)>e&&(s.push(r),n=r);return n!==r&&s.push(r),s}(n,o)),t.setTo(s(n,o))}return t}},function(t,e){t.exports=function(t,e,i){for(var r=t.points,n=0;n<r.length;n++)r[n].x+=e,r[n].y+=i;return t}},function(t,e){t.exports=function(t){return t.width*t.height}},function(t,e){t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t}},function(t,e){t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t}},function(t,e,i){var r=i(10);t.exports=function(t){return new r(t.x,t.y,t.width,t.height)}},function(t,e,i){var r=i(57);t.exports=function(t,e){return r(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},function(t,e,i){var r=i(237);t.exports=function(t,e){var i=r(t);return i<r(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},function(t,e,i){var r=i(237);t.exports=function(t,e){var i=r(t);return i>r(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},function(t,e){t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t}},function(t,e){t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t}},function(t,e,i){var r=i(10);t.exports=function(t,e,i,n,s){return void 0===s&&(s=new r),s.setTo(Math.min(t,i),Math.min(e,n),Math.abs(t-i),Math.abs(e-n))}},function(t,e,i){var r=i(4);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=t.centerX,e.y=t.centerY,e}},function(t,e,i){var r=i(4);t.exports=function(t,e){return void 0===e&&(e=new r),e.x=t.width,e.y=t.height,e}},function(t,e,i){var r=i(190);t.exports=function(t,e,i){var n=t.centerX,s=t.centerY;return t.setSize(t.width+2*e,t.height+2*i),r(t,n,s)}},function(t,e,i){var r=i(10),n=i(152);t.exports=function(t,e,i){return void 0===i&&(i=new r),n(t,e)?(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y):i.setEmpty(),i}},function(t,e){t.exports=function(t,e){for(var i=t.x,r=t.right,n=t.y,s=t.bottom,o=0;o<e.length;o++)i=Math.min(i,e[o].x),r=Math.max(r,e[o].x),n=Math.min(n,e[o].y),s=Math.max(s,e[o].y);return t.x=i,t.y=n,t.width=r-i,t.height=s-n,t}},function(t,e){t.exports=function(t,e){var i=Math.min(t.x,e.x),r=Math.max(t.right,e.right);t.x=i,t.width=r-i;var n=Math.min(t.y,e.y),s=Math.max(t.bottom,e.bottom);return t.y=n,t.height=s-n,t}},function(t,e){t.exports=function(t,e,i){var r=Math.min(t.x,e),n=Math.max(t.right,e);t.x=r,t.width=n-r;var s=Math.min(t.y,i),o=Math.max(t.bottom,i);return t.y=s,t.height=o-s,t}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e){t.exports=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y}},function(t,e,i){var r=i(4),n=i(36);t.exports=function(t,e,i){void 0===i&&(i=new r),e=n(e);var s=Math.sin(e),o=Math.cos(e),a=o>0?t.width/2:t.width/-2,l=s>0?t.height/2:t.height/-2;return Math.abs(a*s)<Math.abs(l*o)?l=a*s/o:a=l*o/s,i.x=a+t.centerX,i.y=l+t.centerY,i}},function(t,e,i){var r=i(195),n=i(503),s=i(4);t.exports=function(t,e,i){if(void 0===i&&(i=new s),n(t,e))switch(r(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x),i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right),i.y=t.y+Math.random()*(e.bottom-t.y)}return i}},function(t,e){t.exports=function(t,e){return t.width===e.width&&t.height===e.height}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t}},function(t,e,i){var r=i(82);r.Area=i(1294),r.BuildEquilateral=i(1295),r.BuildFromPolygon=i(1296),r.BuildRight=i(1297),r.CenterOn=i(1298),r.Centroid=i(504),r.CircumCenter=i(1299),r.CircumCircle=i(1300),r.Clone=i(1301),r.Contains=i(115),r.ContainsArray=i(235),r.ContainsPoint=i(1302),r.CopyFrom=i(1303),r.Decompose=i(495),r.Equals=i(1304),r.GetPoint=i(476),r.GetPoints=i(477),r.InCenter=i(506),r.Perimeter=i(1305),r.Offset=i(505),r.Random=i(181),r.Rotate=i(1306),r.RotateAroundPoint=i(1307),r.RotateAroundXY=i(238),t.exports=r},function(t,e){t.exports=function(t){var e=t.x1,i=t.y1,r=t.x2,n=t.y2,s=t.x3,o=t.y3;return Math.abs(((s-e)*(n-i)-(r-e)*(o-i))/2)}},function(t,e,i){var r=i(82);t.exports=function(t,e,i){var n=i*(Math.sqrt(3)/2);return new r(t,e,t+i/2,e+n,t-i/2,e+n)}},function(t,e,i){var r=i(59),n=i(82);t.exports=function(t,e,i,s,o){void 0===e&&(e=null),void 0===i&&(i=1),void 0===s&&(s=1),void 0===o&&(o=[]);for(var a,l,u,h,c,d,f,p,m,v=r(t,e),y=0;y<v.length;y+=3)a=v[y],l=v[y+1],u=v[y+2],h=t[2*a]*i,c=t[2*a+1]*s,d=t[2*l]*i,f=t[2*l+1]*s,p=t[2*u]*i,m=t[2*u+1]*s,o.push(new n(h,c,d,f,p,m));return o}},function(t,e,i){var r=i(82);t.exports=function(t,e,i,n){return void 0===n&&(n=i),new r(t,e,t,e-n,t+i,e)}},function(t,e,i){var r=i(504),n=i(505);t.exports=function(t,e,i,s){void 0===s&&(s=r);var o=s(t),a=e-o.x,l=i-o.y;return n(t,a,l)}},function(t,e,i){var r=i(3);function n(t,e,i,r){return t*r-e*i}t.exports=function(t,e){void 0===e&&(e=new r);var i=t.x3,s=t.y3,o=t.x1-i,a=t.y1-s,l=t.x2-i,u=t.y2-s,h=2*n(o,a,l,u),c=n(a,o*o+a*a,u,l*l+u*u),d=n(o,o*o+a*a,l,l*l+u*u);return e.x=i-c/h,e.y=s+d/h,e}},function(t,e,i){var r=i(65);t.exports=function(t,e){void 0===e&&(e=new r);var i,n,s=t.x1,o=t.y1,a=t.x2,l=t.y2,u=t.x3,h=t.y3,c=a-s,d=l-o,f=u-s,p=h-o,m=c*(s+a)+d*(o+l),v=f*(s+u)+p*(o+h),y=2*(c*(h-l)-d*(u-a));if(Math.abs(y)<1e-6){var g=Math.min(s,a,u),x=Math.min(o,l,h);i=.5*(Math.max(s,a,u)-g),n=.5*(Math.max(o,l,h)-x),e.x=g+i,e.y=x+n,e.radius=Math.sqrt(i*i+n*n)}else e.x=(p*m-d*v)/y,e.y=(c*v-f*m)/y,i=e.x-s,n=e.y-o,e.radius=Math.sqrt(i*i+n*n);return e}},function(t,e,i){var r=i(82);t.exports=function(t){return new r(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(t,e,i){var r=i(115);t.exports=function(t,e){return r(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(t,e){t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3}},function(t,e,i){var r=i(67);t.exports=function(t){var e=t.getLineA(),i=t.getLineB(),n=t.getLineC();return r(e)+r(i)+r(n)}},function(t,e,i){var r=i(238),n=i(506);t.exports=function(t,e){var i=n(t);return r(t,i.x,i.y,e)}},function(t,e,i){var r=i(238);t.exports=function(t,e,i){return r(t,e.x,e.y,i)}},function(t,e,i){var r=i(203),n=i(17),s={CreatePixelPerfectHandler:i(507),CreateInteractiveObject:i(508),Events:i(51),Gamepad:i(1309),InputManager:i(409),InputPlugin:i(1321),InputPluginCache:i(153),Keyboard:i(1322),Mouse:i(1336),Pointer:i(412),Touch:i(1337)};s=n(!1,s,r),t.exports=s},function(t,e,i){t.exports={Axis:i(509),Button:i(510),Events:i(239),Gamepad:i(511),GamepadPlugin:i(1316),Configs:i(1317)}},function(t,e){t.exports="down"},function(t,e){t.exports="up"},function(t,e){t.exports="connected"},function(t,e){t.exports="disconnected"},function(t,e){t.exports="down"},function(t,e){t.exports="up"},function(t,e,i){var r=i(0),n=i(9),s=i(239),o=i(511),a=i(6),l=i(153),u=i(51),h=new r({Extends:n,initialize:function(t){n.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once(u.BOOT,this.boot,this),t.pluginEvents.on(u.START,this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,i=t.config;this.enabled=a(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads,this.target=a(e,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,i=function(e){!e.defaultPrevented&&t.isActive()&&(t.refreshPads(),t.queue.push(e))};this.onGamepadHandler=i,e.addEventListener("gamepadconnected",i,!1),e.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var t=0;t<this.gamepads.length;t++)this.gamepads[t].removeAllListeners()},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads[t].pad.connected=!1},refreshPads:function(){var t=navigator.getGamepads();if(t)for(var e=this.gamepads,i=0;i<t.length;i++){var r=t[i];if(r){var n=r.id,s=r.index,a=e[s];if(a)a.id!==n?(a.destroy(),e[s]=new o(this,r)):a.update(r);else{var l=new o(this,r);e[s]=l,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=l):this._pad3=l:this._pad2=l:this._pad1=l}}}else this.disconnectAll()},getAll:function(){for(var t=[],e=this.gamepads,i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},getPad:function(t){for(var e=this.gamepads,i=0;i<e.length;i++)if(e[i]&&e[i].index===t)return e[i]},update:function(){if(this.enabled){this.refreshPads();var t=this.queue.length;if(0!==t)for(var e=this.queue.splice(0,t),i=0;i<t;i++){var r=e[i],n=this.getPad(r.gamepad.index);"gamepadconnected"===r.type?this.emit(s.CONNECTED,n,r):"gamepaddisconnected"===r.type&&this.emit(s.DISCONNECTED,n,r)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),t.exports=h},function(t,e,i){t.exports={DUALSHOCK_4:i(1318),SNES_USB:i(1319),XBOX_360:i(1320)}},function(t,e){t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e){t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(t,e){t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e,i){var r=i(65),n=i(66),s=i(0),o=i(203),a=i(508),l=i(507),u=i(50),h=i(111),c=i(112),d=i(51),f=i(9),p=i(2),m=i(56),v=i(153),y=i(7),g=i(24),x=i(10),b=i(57),w=i(20),_=i(82),S=i(115),A=new s({Extends:f,initialize:function(t){f.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var e={cancelled:!1};this._eventContainer={stopPropagation:function(){e.cancelled=!0}},this._eventData=e,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,t.sys.events.once(w.BOOT,this.boot,this),t.sys.events.on(w.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(w.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var t=this.systems.events;t.on(w.TRANSITION_START,this.transitionIn,this),t.on(w.TRANSITION_OUT,this.transitionOut,this),t.on(w.TRANSITION_COMPLETE,this.transitionComplete,this),t.on(w.PRE_UPDATE,this.preUpdate,this),t.once(w.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(t){this.isActive()&&this.emit(d.GAME_OVER,t.timeStamp,t)},onGameOut:function(t){this.isActive()&&this.emit(d.GAME_OUT,t.timeStamp,t)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,r=e.length;if(0!==i||0!==r){for(var n=this._list,s=0;s<i;s++){var o=t[s],a=n.indexOf(o);a>-1&&(n.splice(a,1),this.clear(o,!0))}t.length=0,this._pendingRemoval.length=0,this._list=n.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(t,e){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,t,e),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,r=this.manager,n=r.pointers,s=r.pointersTotal;for(i=0;i<s;i++)n[i].updateMotion();if(0===this._list.length)return!1;var o=this.pollRate;if(-1===o)return!1;if(o>0){if(this._pollTimer-=e,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var a=!1;for(i=0;i<s;i++){var l=0,u=n[i];this._tempZones=[],this._temp=this.hitTestPointer(u),this.sortGameObjects(this._temp,u),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),l+=this.processOverOutEvents(u),2===this.getDragState(u)&&this.processDragThresholdEvent(u,t),l>0&&(a=!0)}return a},update:function(t,e){if(!this.isActive())return!1;for(var i=e.length,r=!1,n=0;n<i;n++){var s=0,a=e[n];switch(this._tempZones=[],this._temp=this.hitTestPointer(a),this.sortGameObjects(this._temp,a),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),t){case o.MOUSE_DOWN:s+=this.processDragDownEvent(a),s+=this.processDownEvents(a),s+=this.processOverOutEvents(a);break;case o.MOUSE_UP:s+=this.processDragUpEvent(a),s+=this.processUpEvents(a),s+=this.processOverOutEvents(a);break;case o.TOUCH_START:s+=this.processDragDownEvent(a),s+=this.processDownEvents(a),s+=this.processOverEvents(a);break;case o.TOUCH_END:case o.TOUCH_CANCEL:s+=this.processDragUpEvent(a),s+=this.processUpEvents(a),s+=this.processOutEvents(a);break;case o.MOUSE_MOVE:case o.TOUCH_MOVE:s+=this.processDragMoveEvent(a),s+=this.processMoveEvents(a),s+=this.processOverOutEvents(a);break;case o.MOUSE_WHEEL:s+=this.processWheelEvent(a)}s>0&&(r=!0)}return this._updatedThisFrame=!0,r},clear:function(t,e){void 0===e&&(e=!1);var i=t.input;if(i){e||this.queueForRemoval(t),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,t.input=null;var r=this._draggable.indexOf(t);return r>-1&&this._draggable.splice(r,1),(r=this._drag[0].indexOf(t))>-1&&this._drag[0].splice(r,1),(r=this._over[0].indexOf(t))>-1&&(this._over[0].splice(r,1),this.manager.resetCursor(i)),t}},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,r){return void 0===r&&(r=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&r&&!t.input.dropZone&&(t.input.dropZone=r),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var r=e[i],n=this.manager.hitTest(t,this._list,r),s=0;s<n.length;s++){var o=n[s];o.input.dropZone&&this._tempZones.push(o)}if(n.length>0)return t.camera=r,n}return t.camera=e[0],[]},processDownEvents:function(t){var e=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var s=!1,o=0;o<i.length;o++){var a=i[o];if(a.input){if(e++,a.emit(d.GAMEOBJECT_POINTER_DOWN,t,a.input.localX,a.input.localY,n),r.cancelled||!a.input){s=!0;break}if(this.emit(d.GAMEOBJECT_DOWN,t,a,n),r.cancelled||!a.input){s=!0;break}}}return!s&&this.manager&&(t.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,t,i):this.emit(d.POINTER_DOWN_OUTSIDE,t)),e},getDragState:function(t){return this._dragState[t.id]},setDragState:function(t,e){this._dragState[t.id]=e},processDragThresholdEvent:function(t,e){var i=!1,r=this.dragTimeThreshold,n=this.dragDistanceThreshold;if((n>0&&u(t.x,t.y,t.downX,t.downY)>=n||r>0&&e>=t.downTime+r)&&(i=!0),i)return this.setDragState(t,3),this.processDragStartList(t)},processDragStartList:function(t){if(3!==this.getDragState(t))return 0;for(var e=this._drag[t.id],i=0;i<e.length;i++){var r=e[i],n=r.input;n.dragState=2,n.dragStartX=r.x,n.dragStartY=r.y,n.dragStartXGlobal=t.worldX,n.dragStartYGlobal=t.worldY,n.dragX=n.dragStartXGlobal-n.dragStartX,n.dragY=n.dragStartYGlobal-n.dragStartY,r.emit(d.GAMEOBJECT_DRAG_START,t,n.dragX,n.dragY),this.emit(d.DRAG_START,t,r)}return this.setDragState(t,4),e.length},processDragDownEvent:function(t){var e=this._temp;if(0===this._draggable.length||0===e.length||!t.primaryDown||0!==this.getDragState(t))return 0;this.setDragState(t,1);for(var i=[],r=0;r<e.length;r++){var n=e[r];n.input.draggable&&0===n.input.dragState&&i.push(n)}return 0===i.length?(this.setDragState(t,0),0):(i.length>1&&(this.sortGameObjects(i,t),this.topOnly&&i.splice(1)),this._drag[t.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(t,3),this.processDragStartList(t)):(this.setDragState(t,2),0))},processDragMoveEvent:function(t){if(2===this.getDragState(t)&&this.processDragThresholdEvent(t,this.manager.game.loop.now),4!==this.getDragState(t))return 0;for(var e=this._tempZones,i=this._drag[t.id],r=0;r<i.length;r++){var n,s,o=i[r],a=o.input,l=a.target;if(l){var u=e.indexOf(l);0===u?(o.emit(d.GAMEOBJECT_DRAG_OVER,t,l),this.emit(d.DRAG_OVER,t,o,l)):u>0?(o.emit(d.GAMEOBJECT_DRAG_LEAVE,t,l),this.emit(d.DRAG_LEAVE,t,o,l),a.target=e[0],l=a.target,o.emit(d.GAMEOBJECT_DRAG_ENTER,t,l),this.emit(d.DRAG_ENTER,t,o,l)):(o.emit(d.GAMEOBJECT_DRAG_LEAVE,t,l),this.emit(d.DRAG_LEAVE,t,o,l),e[0]?(a.target=e[0],l=a.target,o.emit(d.GAMEOBJECT_DRAG_ENTER,t,l),this.emit(d.DRAG_ENTER,t,o,l)):a.target=null)}else!l&&e[0]&&(a.target=e[0],l=a.target,o.emit(d.GAMEOBJECT_DRAG_ENTER,t,l),this.emit(d.DRAG_ENTER,t,o,l));if(o.parentContainer){var h=t.worldX-a.dragStartXGlobal,c=t.worldY-a.dragStartYGlobal,f=o.getParentRotation(),p=h*Math.cos(f)+c*Math.sin(f),m=c*Math.cos(f)-h*Math.sin(f);p*=1/o.parentContainer.scaleX,m*=1/o.parentContainer.scaleY,n=p+a.dragStartX,s=m+a.dragStartY}else n=t.worldX-a.dragX,s=t.worldY-a.dragY;o.emit(d.GAMEOBJECT_DRAG,t,n,s),this.emit(d.DRAG,t,o,n,s)}return i.length},processDragUpEvent:function(t){for(var e=this._drag[t.id],i=0;i<e.length;i++){var r=e[i],n=r.input;if(n&&2===n.dragState){n.dragState=0,n.dragX=n.localX-r.displayOriginX,n.dragY=n.localY-r.displayOriginY;var s=!1,o=n.target;o&&(r.emit(d.GAMEOBJECT_DROP,t,o),this.emit(d.DROP,t,r,o),n.target=null,s=!0),r.input&&(r.emit(d.GAMEOBJECT_DRAG_END,t,n.dragX,n.dragY,s),this.emit(d.DRAG_END,t,r,s))}}return this.setDragState(t,0),e.splice(0),0},processMoveEvents:function(t){var e=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var s=!1,o=0;o<i.length;o++){var a=i[o];if(a.input){if(e++,a.emit(d.GAMEOBJECT_POINTER_MOVE,t,a.input.localX,a.input.localY,n),r.cancelled||!a.input){s=!0;break}if(this.emit(d.GAMEOBJECT_MOVE,t,a,n),r.cancelled||!a.input){s=!0;break}if(this.topOnly)break}}return s||this.emit(d.POINTER_MOVE,t,i),e},processWheelEvent:function(t){var e=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var s=!1,o=t.deltaX,a=t.deltaY,l=t.deltaZ,u=0;u<i.length;u++){var h=i[u];if(h.input){if(e++,h.emit(d.GAMEOBJECT_POINTER_WHEEL,t,o,a,l,n),r.cancelled||!h.input){s=!0;break}if(this.emit(d.GAMEOBJECT_WHEEL,t,h,o,a,l,n),r.cancelled||!h.input){s=!0;break}}}return s||this.emit(d.POINTER_WHEEL,t,i,o,a,l),e},processOverEvents:function(t){var e=this._temp,i=0,r=e.length,n=[];if(r>0){var s=this.manager,o=this._eventData,a=this._eventContainer;o.cancelled=!1;for(var l=!1,u=0;u<r;u++){var h=e[u];if(h.input){if(n.push(h),s.setCursor(h.input),h.emit(d.GAMEOBJECT_POINTER_OVER,t,h.input.localX,h.input.localY,a),i++,o.cancelled||!h.input){l=!0;break}if(this.emit(d.GAMEOBJECT_OVER,t,h,a),o.cancelled||!h.input){l=!0;break}}}l||this.emit(d.POINTER_OVER,t,n)}return this._over[t.id]=n,i},processOutEvents:function(t){var e=this._over[t.id],i=0,r=e.length;if(r>0){var n=this.manager,s=this._eventData,o=this._eventContainer;s.cancelled=!1;var a=!1;this.sortGameObjects(e,t);for(var l=0;l<r;l++){var u=e[l];if((u=e[l]).input){if(n.resetCursor(u.input),u.emit(d.GAMEOBJECT_POINTER_OUT,t,o),i++,s.cancelled||!u.input){a=!0;break}if(this.emit(d.GAMEOBJECT_OUT,t,u,o),s.cancelled||!u.input){a=!0;break}a||this.emit(d.POINTER_OUT,t,e)}}this._over[t.id]=[]}return i},processOverOutEvents:function(t){var e,i,r=this._temp,n=[],s=[],o=[],a=this._over[t.id],l=this._drag[t.id],u=this.manager;for(e=0;e<a.length;e++)i=a[e],-1===r.indexOf(i)&&-1===l.indexOf(i)?n.push(i):o.push(i);for(e=0;e<r.length;e++)i=r[e],-1===a.indexOf(i)&&s.push(i);var h=n.length,c=0,f=this._eventData,p=this._eventContainer;f.cancelled=!1;var m=!1;if(h>0){for(this.sortGameObjects(n,t),e=0;e<h;e++)if((i=n[e]).input){if(u.resetCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OUT,t,p),c++,f.cancelled||!i.input){m=!0;break}if(this.emit(d.GAMEOBJECT_OUT,t,i,p),f.cancelled||!i.input){m=!0;break}}m||this.emit(d.POINTER_OUT,t,n)}if(h=s.length,f.cancelled=!1,m=!1,h>0){for(this.sortGameObjects(s,t),e=0;e<h;e++)if((i=s[e]).input){if(u.setCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OVER,t,i.input.localX,i.input.localY,p),c++,f.cancelled||!i.input){m=!0;break}if(this.emit(d.GAMEOBJECT_OVER,t,i,p),f.cancelled||!i.input){m=!0;break}}m||this.emit(d.POINTER_OVER,t,s)}return a=o.concat(s),this._over[t.id]=this.sortGameObjects(a,t),c},processUpEvents:function(t){var e=this._temp,i=this._eventData,r=this._eventContainer;i.cancelled=!1;for(var n=!1,s=0;s<e.length;s++){var o=e[s];if(o.input){if(o.emit(d.GAMEOBJECT_POINTER_UP,t,o.input.localX,o.input.localY,r),i.cancelled||!o.input){n=!0;break}if(this.emit(d.GAMEOBJECT_UP,t,o,r),i.cancelled||!o.input){n=!0;break}}}return!n&&this.manager&&(t.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,t,e):this.emit(d.POINTER_UP_OUTSIDE,t)),e.length},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];r.input.draggable=e;var n=this._draggable.indexOf(r);e&&-1===n?this._draggable.push(r):!e&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(t){void 0===t&&(t=1);var e=this.systems.textures;return l(e,t)},setHitArea:function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var r=!1,n=!1,s=!1,o=!1,l=!1,u=!0;if(y(e)){var h=e;e=p(h,"hitArea",null),i=p(h,"hitAreaCallback",null),r=p(h,"draggable",!1),n=p(h,"dropZone",!1),s=p(h,"cursor",!1),o=p(h,"useHandCursor",!1),l=p(h,"pixelPerfect",!1);var c=p(h,"alphaTolerance",1);l&&(e={},i=this.makePixelPerfect(c)),e&&i||(this.setHitAreaFromTexture(t),u=!1)}else"function"!==typeof e||i||(i=e,e={});for(var d=0;d<t.length;d++){var f=t[d];if(l&&"Container"===f.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var m=f.input?f.input:a(f,e,i);m.customHitArea=u,m.dropZone=n,m.cursor=o?"pointer":s,f.input=m,r&&this.setDraggable(f),this.queueForInsertion(f)}}return this},setHitAreaCircle:function(t,e,i,s,o){void 0===o&&(o=n);var a=new r(e,i,s);return this.setHitArea(t,a,o)},setHitAreaEllipse:function(t,e,i,r,n,s){void 0===s&&(s=c);var o=new h(e,i,r,n);return this.setHitArea(t,o,s)},setHitAreaFromTexture:function(t,e){void 0===e&&(e=b),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i],n=r.frame,s=0,o=0;r.width?(s=r.width,o=r.height):n&&(s=n.realWidth,o=n.realHeight),"Container"!==r.type||0!==s&&0!==o?0!==s&&0!==o&&(r.input=a(r,new x(0,0,s,o),e),this.queueForInsertion(r)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(t,e,i,r,n,s){void 0===s&&(s=b);var o=new x(e,i,r,n);return this.setHitArea(t,o,s)},setHitAreaTriangle:function(t,e,i,r,n,s,o,a){void 0===a&&(a=S);var l=new _(e,i,r,n,s,o);return this.setHitArea(t,l,a)},enableDebug:function(t,e){void 0===e&&(e=65280);var i=t.input;if(!i||!i.hitArea)return this;var r=i.hitArea,n=r.type,s=i.hitAreaDebug,o=this.systems.add,a=this.systems.updateList;s&&(a.remove(s),s.destroy(),s=null);var l=0,u=0;switch(n){case m.CIRCLE:s=o.arc(0,0,r.radius),l=r.x-r.radius,u=r.y-r.radius;break;case m.ELLIPSE:s=o.ellipse(0,0,r.width,r.height),l=r.x-r.width/2,u=r.y-r.height/2;break;case m.LINE:s=o.line(0,0,r.x1,r.y1,r.x2,r.y2);break;case m.POLYGON:s=o.polygon(0,0,r.points);break;case m.RECTANGLE:s=o.rectangle(0,0,r.width,r.height),l=r.x,u=r.y;break;case m.TRIANGLE:s=o.triangle(0,0,r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)}return s&&(s.isFilled=!1,s.preUpdate=function(){s.setStrokeStyle(1/t.scale,e),s.setDisplayOrigin(t.displayOriginX,t.displayOriginY);var i=t.x,r=t.y,n=t.rotation,o=t.scaleX,a=t.scaleY;if(t.parentContainer){var h=t.getWorldTransformMatrix();i=h.tx,r=h.ty,n=h.rotation,o=h.scaleX,a=h.scaleY}s.setRotation(n),s.setScale(o,a),s.setPosition(i+l,r+u),s.setScrollFactor(t.scrollFactorX,t.scrollFactorY),s.setDepth(t.depth)},a.add(s),i.hitAreaDebug=s),this},removeDebug:function(t){var e=t.input;if(e&&e.hitAreaDebug){var i=e.hitAreaDebug;this.systems.updateList.remove(i),i.destroy(),e.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t,e){if(t.length<2)return t;var i=e.camera.renderList;return t.sort((function(t,e){return i.indexOf(e)-i.indexOf(t)}))},sortDropZones:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(t,e){if(t.parentContainer||e.parentContainer){if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),r=e.getIndexList(),n=Math.min(i.length,r.length),s=0;s<n;s++){var o=i[s],a=r[s];if(o!==a)return a-o}return r.length-i.length}return this.displayList.getIndex(e)-this.displayList.getIndex(t)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.manager;e.canvas.style.cursor=e.defaultCursor;var i=this.systems.events;i.off(w.TRANSITION_START,this.transitionIn,this),i.off(w.TRANSITION_OUT,this.transitionOut,this),i.off(w.TRANSITION_COMPLETE,this.transitionComplete,this),i.off(w.PRE_UPDATE,this.preUpdate,this),e.events.off(d.GAME_OUT,this.onGameOut,this),e.events.off(d.GAME_OVER,this.onGameOver,this),i.off(w.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});g.register("InputPlugin",A,"input"),t.exports=A},function(t,e,i){t.exports={Events:i(154),KeyboardManager:i(410),KeyboardPlugin:i(1330),Key:i(512),KeyCodes:i(143),KeyCombo:i(513),AdvanceKeyCombo:i(515),ProcessKeyCombo:i(514),ResetKeyCombo:i(516),JustDown:i(1332),JustUp:i(1333),DownDuration:i(1334),UpDuration:i(1335)}},function(t,e){t.exports="keydown"},function(t,e){t.exports="keyup"},function(t,e){t.exports="keycombomatch"},function(t,e){t.exports="down"},function(t,e){t.exports="keydown-"},function(t,e){t.exports="keyup-"},function(t,e){t.exports="up"},function(t,e,i){var r=i(0),n=i(9),s=i(154),o=i(22),a=i(6),l=i(51),u=i(153),h=i(512),c=i(143),d=i(513),f=i(1331),p=i(20),m=i(76),v=new r({Extends:n,initialize:function(t){n.call(this),this.game=t.systems.game,this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.manager=t.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,t.pluginEvents.once(l.BOOT,this.boot,this),t.pluginEvents.on(l.START,this.start,this)},boot:function(){var t=this.settings.input;this.enabled=a(t,"keyboard",!0);var e=a(t,"keyboard.capture",null);e&&this.addCaptures(e),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(t){return this.manager.addCapture(t),this},removeCapture:function(t){return this.manager.removeCapture(t),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var r={};if("string"===typeof t){t=t.split(",");for(var n=0;n<t.length;n++){var s=t[n].trim();s&&(r[s]=this.addKey(s,e,i))}}else for(var o in t)r[o]=this.addKey(t[o],e,i);return r},addKey:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var r=this.keys;if(t instanceof h){var n=r.indexOf(t);return n>-1?r[n]=t:r[t.keyCode]=t,e&&this.addCapture(t.keyCode),t.setEmitOnRepeat(i),t}return"string"===typeof t&&(t=c[t.toUpperCase()]),r[t]||(r[t]=new h(this,t),e&&this.addCapture(t),r[t].setEmitOnRepeat(i)),r[t]},removeKey:function(t,e){void 0===e&&(e=!1);var i,r=this.keys;if(t instanceof h){var n=r.indexOf(t);n>-1&&(i=this.keys[n],this.keys[n]=void 0)}else"string"===typeof t&&(t=c[t.toUpperCase()]);return r[t]&&(i=r[t],r[t]=void 0),i&&(i.plugin=null,e&&i.destroy()),this},removeAllKeys:function(t){for(var e=this.keys,i=0;i<e.length;i++){var r=e[i];r&&(e[i]=void 0,t&&r.destroy())}return this},createCombo:function(t,e){return new d(this,t,e)},checkDown:function(t,e){if(void 0===e&&(e=0),this.enabled&&t.isDown){var i=m(this.time-t.timeDown,e);if(i>t._tick)return t._tick=i,!0}return!1},update:function(){var t=this.manager.queue,e=t.length;if(this.isActive()&&0!==e)for(var i=this.keys,r=0;r<e;r++){var n=t[r],o=n.keyCode,a=i[o],l=!1;void 0===n.cancelled&&(n.cancelled=0,n.stopImmediatePropagation=function(){n.cancelled=1},n.stopPropagation=function(){n.cancelled=-1}),-1!==n.cancelled&&(o===this.prevCode&&n.timeStamp===this.prevTime&&n.type===this.prevType||(this.prevCode=o,this.prevTime=n.timeStamp,this.prevType=n.type,"keydown"===n.type?(a&&(l=a.isDown,a.onDown(n)),n.cancelled||a&&l||(f[o]&&this.emit(s.KEY_DOWN+f[o],n),n.cancelled||this.emit(s.ANY_KEY_DOWN,n))):(a&&a.onUp(n),n.cancelled||(f[o]&&this.emit(s.KEY_UP+f[o],n),n.cancelled||this.emit(s.ANY_KEY_UP,n))),1===n.cancelled&&(n.cancelled=0)))}},resetKeys:function(){for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),t.exports=v},function(t,e,i){var r=i(143),n={};for(var s in r)n[r[s]]=s;t.exports=n},function(t,e){t.exports=function(t){return!!t._justDown&&(t._justDown=!1,!0)}},function(t,e){t.exports=function(t){return!!t._justUp&&(t._justUp=!1,!0)}},function(t,e){t.exports=function(t,e){void 0===e&&(e=50);var i=t.plugin.game.loop.time-t.timeDown;return t.isDown&&i<e}},function(t,e){t.exports=function(t,e){void 0===e&&(e=50);var i=t.plugin.game.loop.time-t.timeUp;return t.isUp&&i<e}},function(t,e,i){t.exports={MouseManager:i(411)}},function(t,e,i){t.exports={TouchManager:i(413)}},function(t,e,i){var r=i(21),n=i(17),s={Events:i(95),FileTypes:i(1339),File:i(23),FileTypesManager:i(8),GetURL:i(155),LoaderPlugin:i(1365),MergeXHRSettings:i(240),MultiFile:i(49),XHRLoader:i(517),XHRSettings:i(156)};s=n(!1,s,r),t.exports=s},function(t,e,i){t.exports={AnimationJSONFile:i(1340),AsepriteFile:i(1341),AtlasJSONFile:i(1342),AtlasXMLFile:i(1343),AudioFile:i(518),AudioSpriteFile:i(1344),BinaryFile:i(1345),BitmapFontFile:i(1346),CSSFile:i(1347),GLSLFile:i(1348),HTML5AudioFile:i(519),HTMLFile:i(1349),HTMLTextureFile:i(1350),ImageFile:i(71),JSONFile:i(61),MultiAtlasFile:i(1351),MultiScriptFile:i(1352),OBJFile:i(1353),PackFile:i(1354),PluginFile:i(1355),SceneFile:i(1356),ScenePluginFile:i(1357),ScriptFile:i(520),SpriteSheetFile:i(1358),SVGFile:i(1359),TextFile:i(242),TilemapCSVFile:i(1360),TilemapImpactFile:i(1361),TilemapJSONFile:i(1362),UnityAtlasFile:i(1363),VideoFile:i(1364),XMLFile:i(241)}},function(t,e,i){var r=i(0),n=i(8),s=i(61),o=i(95),a=new r({Extends:s,initialize:function(t,e,i,r,n){s.call(this,t,e,i,r,n),this.type="animationJSON"},onProcess:function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});n.register("animation",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,r,i));return this})),t.exports=a},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(71),a=i(7),l=i(61),u=i(49),h=new r({Extends:u,initialize:function(t,e,i,r,n,h){var c,d;if(a(e)){var f=e;e=s(f,"key"),c=new o(t,{key:e,url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new l(t,{key:e,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","json"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new l(t,e,r,h);c.linkFile?u.call(this,t,"atlasjson",e,[c,d,c.linkFile]):u.call(this,t,"atlasjson",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});n.register("aseprite",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new h(this,t[o]),this.addFile(s.files);else s=new h(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(71),a=i(7),l=i(61),u=i(49),h=new r({Extends:u,initialize:function(t,e,i,r,n,h){var c,d;if(a(e)){var f=e;e=s(f,"key"),c=new o(t,{key:e,url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new l(t,{key:e,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","json"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new l(t,e,r,h);c.linkFile?u.call(this,t,"atlasjson",e,[c,d,c.linkFile]):u.call(this,t,"atlasjson",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.pendingDestroy(),this.complete=!0}}});n.register("atlas",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new h(this,t[o]),this.addFile(s.files);else s=new h(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(71),a=i(7),l=i(49),u=i(241),h=new r({Extends:l,initialize:function(t,e,i,r,n,h){var c,d;if(a(e)){var f=e;e=s(f,"key"),c=new o(t,{key:e,url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new u(t,{key:e,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","xml"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new u(t,e,r,h);c.linkFile?l.call(this,t,"atlasxml",e,[c,d,c.linkFile]):l.call(this,t,"atlasxml",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i),e.pendingDestroy(),this.complete=!0}}});n.register("atlasXML",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new h(this,t[o]),this.addFile(s.files);else s=new h(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=h},function(t,e,i){var r=i(518),n=i(0),s=i(8),o=i(2),a=i(7),l=i(61),u=i(49),h=new n({Extends:u,initialize:function(t,e,i,n,s,h,c){if(a(e)){var d=e;e=o(d,"key"),i=o(d,"jsonURL"),n=o(d,"audioURL"),s=o(d,"audioConfig"),h=o(d,"audioXhrSettings"),c=o(d,"jsonXhrSettings")}var f;if(n){var p=r.create(t,e,n,s,h);p&&(f=new l(t,e,i,c),u.call(this,t,"audiosprite",e,[p,f]),this.config.resourceLoad=!1)}else f=new l(t,e,i,c),u.call(this,t,"audiosprite",e,[f]),this.config.resourceLoad=!0,this.config.audioConfig=s,this.config.audioXhrSettings=h},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,this.config.resourceLoad&&"json"===t.type&&t.data.hasOwnProperty("resources"))){var e=t.data.resources,i=o(this.config,"audioConfig"),n=o(this.config,"audioXhrSettings"),s=r.create(this.loader,t.key,e,i,n);s&&(this.addToMultiFile(s),this.loader.addFile(s))}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.complete=!0}}});s.register("audioSprite",(function(t,e,i,r,n,s){var o,a=this.systems.game,l=a.config.audio,u=a.device.audio;if(l&&l.noAudio||!u.webAudio&&!u.audioData)return this;if(Array.isArray(t))for(var c=0;c<t.length;c++)(o=new h(this,t[c])).files&&this.addFile(o.files);else(o=new h(this,t,e,i,r,n,s)).files&&this.addFile(o.files);return this}))},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r,n){var o="bin";if(l(e)){var u=e;e=a(u,"key"),i=a(u,"url"),r=a(u,"xhrSettings"),o=a(u,"extension",o),n=a(u,"dataType",n)}var h={type:"binary",cache:t.cacheManager.binary,extension:o,responseType:"arraybuffer",key:e,url:i,xhrSettings:r,config:{dataType:n}};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,r,i));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(71),a=i(7),l=i(49),u=i(212),h=i(241),c=new r({Extends:l,initialize:function(t,e,i,r,n,u){var c,d;if(a(e)){var f=e;e=s(f,"key"),c=new o(t,{key:e,url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new h(t,{key:e,url:s(f,"fontDataURL"),extension:s(f,"fontDataExtension","xml"),xhrSettings:s(f,"fontDataXhrSettings")})}else c=new o(t,e,i,n),d=new h(t,e,r,u);c.linkFile?l.call(this,t,"bitmapfont",e,[c,d,c.linkFile]):l.call(this,t,"bitmapfont",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.pendingDestroy();var i=t.cache.get(t.key),r=u(e.data,t.cache.getFrame(t.key),0,0,i);this.loader.cacheManager.bitmapFont.add(t.key,{data:r,texture:t.key,frame:null}),this.complete=!0}}});n.register("bitmapFont",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new c(this,t[o]),this.addFile(s.files);else s=new c(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=c},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r){var n="css";if(l(e)){var o=e;e=a(o,"key"),i=a(o,"url"),r=a(o,"xhrSettings"),n=a(o,"extension",n)}var u={type:"script",cache:!1,extension:n,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("css",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=i(396),h=new r({Extends:s,initialize:function(t,e,i,r,n){var o="glsl";if(l(e)){var u=e;e=a(u,"key"),i=a(u,"url"),r=a(u,"shaderType","fragment"),n=a(u,"xhrSettings"),o=a(u,"extension",o)}else void 0===r&&(r="fragment");var h={type:"glsl",cache:t.cacheManager.shader,extension:o,responseType:"text",key:e,url:i,config:{shaderType:r},xhrSettings:n};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t=this.data.split("\n"),e=this.extractBlock(t,0);if(e)for(;e;){var i=this.getShaderName(e.header),r=this.getShaderType(e.header),n=this.getShaderUniforms(e.header),s=e.shader;if(this.cache.has(i)){var o=this.cache.get(i);"fragment"===r?o.fragmentSrc=s:o.vertexSrc=s,o.uniforms||(o.uniforms=n)}else"fragment"===r?this.cache.add(i,new u(i,s,"",n)):this.cache.add(i,new u(i,"",s,n));e=this.extractBlock(t,e.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new u(this.key,this.data)):this.cache.add(this.key,new u(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if("name:"===i.substring(0,5))return i.substring(5).trim()}return this.key},getShaderType:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if("type:"===i.substring(0,5))return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(t){for(var e={},i=0;i<t.length;i++){var r=t[i].trim();if("uniform."===r.substring(0,8)){var n=r.indexOf(":");if(n){var s=r.substring(8,n);try{e[s]=JSON.parse(r.substring(n+1))}catch(o){console.warn("Invalid uniform JSON: "+s)}}}}return e},extractBlock:function(t,e){for(var i=-1,r=-1,n=-1,s=!1,o=!1,a=[],l=[],u=e;u<t.length;u++){var h=t[u].trim();if("---"===h)if(-1===i)i=u,s=!0;else{if(!s){o=!1;break}r=u,s=!1,o=!0}else s?a.push(h):o&&(l.push(h),n=u)}return s||-1===r?null:{header:a,shader:l.join("\n"),offset:n}}});o.register("glsl",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new h(this,t[n]));else this.addFile(new h(this,t,e,i,r));return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r){var n="html";if(l(e)){var o=e;e=a(o,"key"),i=a(o,"url"),r=a(o,"xhrSettings"),n=a(o,"extension",n)}var u={type:"text",cache:t.cacheManager.html,extension:n,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r,n,o){void 0===r&&(r=512),void 0===n&&(n=512);var u="html";if(l(e)){var h=e;e=a(h,"key"),i=a(h,"url"),o=a(h,"xhrSettings"),u=a(h,"extension",u),r=a(h,"width",r),n=a(h,"height",n)}var c={type:"html",cache:t.textureManager,extension:u,responseType:"text",key:e,url:i,xhrSettings:o,config:{width:r,height:n}};s.call(this,t,c)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.config.width,e=this.config.height,i=[];i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var r=[i.join("\n")],o=this;try{var a=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch(l){return o.state=n.FILE_ERRORED,void o.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(o.data),o.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(o.data),o.onProcessError()},s.createObjectURL(this.data,a,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});o.register("htmlTexture",(function(t,e,i,r,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,r,n));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(71),a=i(7),l=i(61),u=i(49),h=new r({Extends:u,initialize:function(t,e,i,r,n,o,h){if(a(e)){var c=e;e=s(c,"key"),i=s(c,"url",!1)?s(c,"url"):s(c,"atlasURL"),o=s(c,"xhrSettings"),r=s(c,"path"),n=s(c,"baseURL"),h=s(c,"textureXhrSettings")}var d=new l(t,e,i,o);u.call(this,t,"multiatlas",e,[d]),this.config.path=r,this.config.baseURL=n,this.config.textureXhrSettings=h},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,"json"===t.type&&t.data.hasOwnProperty("textures"))){var e=t.data.textures,i=this.config,r=this.loader,n=r.baseURL,a=r.path,l=r.prefix,u=s(i,"baseURL",this.baseURL),h=s(i,"path",this.path),c=s(i,"prefix",this.prefix),d=s(i,"textureXhrSettings");r.setBaseURL(u),r.setPath(h),r.setPrefix(c);for(var f=0;f<e.length;f++){var p=e[f].image,m="MA"+this.multiKeyIndex+"_"+p,v=new o(r,m,p,d);if(this.addToMultiFile(v),r.addFile(v),e[f].normalMap){var y=new o(r,m,e[f].normalMap,d);y.type="normalMap",v.setLink(y),this.addToMultiFile(y),r.addFile(y)}}r.setBaseURL(n),r.setPath(a),r.setPrefix(l)}},addToCache:function(){if(this.isReadyToProcess()){for(var t=this.files[0],e=[],i=[],r=[],n=1;n<this.files.length;n++){var s=this.files[n];if("normalMap"!==s.type)for(var o=s.key.indexOf("_"),a=s.key.substr(o+1),l=s.data,u=0;u<t.data.textures.length;u++){var h=t.data.textures[u];if(h.image===a){i.push(l),e.push(h),s.linkFile&&r.push(s.linkFile.data);break}}}for(0===r.length&&(r=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,e,r),this.complete=!0,n=0;n<this.files.length;n++)this.files[n].pendingDestroy()}}});n.register("multiatlas",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new h(this,t[o]),this.addFile(s.files);else s=new h(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(7),a=i(49),l=i(520),u=new r({Extends:a,initialize:function(t,e,i,r){var n="js",u=[];if(o(e)){var h=e;e=s(h,"key"),i=s(h,"url"),r=s(h,"xhrSettings"),n=s(h,"extension",n)}Array.isArray(i)||(i=[i]);for(var c=0;c<i.length;c++){var d=new l(t,{key:e+"_"+c.toString(),url:i[c],extension:n,xhrSettings:r});d.onProcess=function(){this.onProcessComplete()},u.push(d)}a.call(this,t,"scripts",e,u)},addToCache:function(){if(this.isReadyToProcess()){for(var t=0;t<this.files.length;t++){var e=this.files[t];e.data=document.createElement("script"),e.data.language="javascript",e.data.type="text/javascript",e.data.defer=!1,e.data.text=e.xhrLoader.responseText,document.head.appendChild(e.data)}this.complete=!0}}});n.register("scripts",(function(t,e,i){var r;if(Array.isArray(t))for(var n=0;n<t.length;n++)r=new u(this,t[n]),this.addFile(r.files);else r=new u(this,t,e,i),this.addFile(r.files);return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(7),a=i(49),l=i(498),u=i(499),h=i(242),c=new r({Extends:a,initialize:function(t,e,i,r,n,l){var u,c,d=t.cacheManager.obj;if(o(e)){var f=e;e=s(f,"key"),u=new h(t,{key:e,type:"obj",cache:d,url:s(f,"url"),extension:s(f,"extension","obj"),xhrSettings:s(f,"xhrSettings"),config:{flipUV:s(f,"flipUV",n)}}),(r=s(f,"matURL"))&&(c=new h(t,{key:e,type:"mat",cache:d,url:r,extension:s(f,"matExtension","mat"),xhrSettings:s(f,"xhrSettings")}))}else u=new h(t,{key:e,url:i,type:"obj",cache:d,extension:"obj",xhrSettings:l,config:{flipUV:n}}),r&&(c=new h(t,{key:e,url:r,type:"mat",cache:d,extension:"mat",xhrSettings:l}));a.call(this,t,"obj",e,[u,c])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=l(t.data,t.config.flipUV);e&&(i.materials=u(e.data)),t.cache.add(t.key,i),this.complete=!0}}});n.register("obj",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new c(this,t[o]),this.addFile(s.files);else s=new c(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=c},function(t,e,i){var r=i(0),n=i(21),s=i(8),o=i(61),a=new r({Extends:o,initialize:function(t,e,i,r,n){o.call(this,t,e,i,r,n),this.type="packfile"},onProcess:function(){this.state!==n.FILE_POPULATED&&(this.state=n.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,r,i));return this})),t.exports=a},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r,o,u){var h="js";if(l(e)){var c=e;e=a(c,"key"),i=a(c,"url"),u=a(c,"xhrSettings"),h=a(c,"extension",h),r=a(c,"start"),o=a(c,"mapping")}var d={type:"plugin",cache:!1,extension:h,responseType:"text",key:e,url:i,xhrSettings:u,config:{start:r,mapping:o}};s.call(this,t,d),"function"===typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=a(e,"start",!1),r=a(e,"mapping",null);if(this.state===n.FILE_POPULATED)t.install(this.key,this.data,i,r);else{this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var s=t.install(this.key,window[this.key],i,r);(i||r)&&(this.loader.systems[r]=s,this.loader.scene[r]=s)}this.onProcessComplete()}});o.register("plugin",(function(t,e,i,r,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,r,n));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r){var n="js";if(l(e)){var o=e;e=a(o,"key"),i=a(o,"url"),r=a(o,"xhrSettings"),n=a(o,"extension",n)}var u={type:"text",extension:n,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),e=eval;this.loader.sceneManager.add(this.key,e(t)),this.complete=!0}});o.register("sceneFile",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r,o,u){var h="js";if(l(e)){var c=e;e=a(c,"key"),i=a(c,"url"),u=a(c,"xhrSettings"),h=a(c,"extension",h),r=a(c,"systemKey"),o=a(c,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:h,responseType:"text",key:e,url:i,xhrSettings:u,config:{systemKey:r,sceneKey:o}};s.call(this,t,d),"function"===typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=this.key,r=a(e,"systemKey",i),s=a(e,"sceneKey",i);this.state===n.FILE_POPULATED?t.installScenePlugin(r,this.data,s,this.loader.scene,!0):(this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.installScenePlugin(r,window[this.key],s,this.loader.scene,!0)),this.onProcessComplete()}});o.register("scenePlugin",(function(t,e,i,r,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,r,n));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(8),s=i(71),o=new r({Extends:s,initialize:function(t,e,i,r,n){s.call(this,t,e,i,n,r),this.type="spritesheet"},addToCache:function(){var t=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(t)}});n.register("spritesheet",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new o(this,t[n]));else this.addFile(new o(this,t,e,i,r));return this})),t.exports=o},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=new r({Extends:s,initialize:function(t,e,i,r,n){var o="svg";if(l(e)){var u=e;e=a(u,"key"),i=a(u,"url"),r=a(u,"svgConfig",{}),n=a(u,"xhrSettings"),o=a(u,"extension",o)}var h={type:"svg",cache:t.textureManager,extension:o,responseType:"text",key:e,url:i,xhrSettings:n,config:{width:a(r,"width"),height:a(r,"height"),scale:a(r,"scale")}};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.xhrLoader.responseText,e=[t],i=this.config.width,r=this.config.height,o=this.config.scale;t:if(i&&r||o){var a=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("svg")[0],l=a.hasAttribute("viewBox"),u=parseFloat(a.getAttribute("width")),h=parseFloat(a.getAttribute("height"));if(!l&&u&&h)a.setAttribute("viewBox","0  0 "+u+" "+h);else if(l&&!u&&!h){var c=a.getAttribute("viewBox").split(/\s+|,/);u=c[2],h=c[3]}if(o){if(!u||!h)break t;i=u*o,r=h*o}a.setAttribute("width",i.toString()+"px"),a.setAttribute("height",r.toString()+"px"),e=[(new XMLSerializer).serializeToString(a)]}try{var d=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(m){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this,p=!1;this.data.onload=function(){p||s.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){p?f.onProcessError():(p=!0,s.revokeObjectURL(f.data),f.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});o.register("svg",(function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i,r));return this})),t.exports=u},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(2),l=i(7),u=i(40),h=new r({Extends:s,initialize:function(t,e,i,r){var n="csv";if(l(e)){var o=e;e=a(o,"key"),i=a(o,"url"),r=a(o,"xhrSettings"),n=a(o,"extension",n)}var h={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:n,responseType:"text",key:e,url:i,xhrSettings:r};s.call(this,t,h),this.tilemapFormat=u.CSV},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});o.register("tilemapCSV",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new h(this,t[r]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(8),s=i(61),o=i(40),a=new r({Extends:s,initialize:function(t,e,i,r){s.call(this,t,e,i,r),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});n.register("tilemapImpact",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new a(this,t[r]));else this.addFile(new a(this,t,e,i));return this})),t.exports=a},function(t,e,i){var r=i(0),n=i(8),s=i(61),o=i(40),a=new r({Extends:s,initialize:function(t,e,i,r){s.call(this,t,e,i,r),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});n.register("tilemapTiledJSON",(function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new a(this,t[r]));else this.addFile(new a(this,t,e,i));return this})),t.exports=a},function(t,e,i){var r=i(0),n=i(8),s=i(2),o=i(71),a=i(7),l=i(49),u=i(242),h=new r({Extends:l,initialize:function(t,e,i,r,n,h){var c,d;if(a(e)){var f=e;e=s(f,"key"),c=new o(t,{key:e,url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new u(t,{key:e,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","txt"),xhrSettings:s(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new u(t,e,r,h);c.linkFile?l.call(this,t,"unityatlas",e,[c,d,c.linkFile]):l.call(this,t,"unityatlas",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i),e.pendingDestroy(),this.complete=!0}}});n.register("unityAtlas",(function(t,e,i,r,n){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new h(this,t[o]),this.addFile(s.files);else s=new h(this,t,e,i,r,n),this.addFile(s.files);return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(21),s=i(23),o=i(8),a=i(155),l=i(2),u=i(7),h=new r({Extends:s,initialize:function(t,e,i,r,n,o,a){void 0===r&&(r="loadeddata"),void 0===n&&(n=!1),void 0===o&&(o=!1),"loadeddata"!==r&&"canplay"!==r&&"canplaythrough"!==r&&(r="loadeddata");var l={type:"video",cache:t.cacheManager.video,extension:i.type,responseType:"blob",key:e,url:i.url,xhrSettings:a,config:{loadEvent:r,asBlob:n,noAudio:o}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),s.call(this,t,l)},onProcess:function(){if(this.state=n.FILE_PROCESSING,this.config.asBlob){var t=this.createVideoElement();this.data=t;var e=this;this.data.onloadeddata=function(){e.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(e.data),e.onProcessError()},s.createObjectURL(t,this.xhrLoader.response,""),t.load()}else this.onProcessComplete()},createVideoElement:function(){var t=document.createElement("video");return t.controls=!1,t.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(t.muted=!0,t.defaultMuted=!0,t.setAttribute("autoplay","autoplay")),t.setAttribute("playsinline","playsinline"),t.setAttribute("preload","auto"),t},onVideoLoadHandler:function(t){var e=t.target;e.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),e.removeEventListener("error",this.onErrorCallback,!0),this.data=e,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(t){var e=t.target;e&&(e.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),e.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var t=this.config.loadEvent;if(this.config.asBlob)s.prototype.load.call(this);else{this.percentComplete=0;var e=this.createVideoElement();e.addEventListener(t,this.onLoadCallback,!0),e.addEventListener("error",this.onErrorCallback,!0),e.src=a(this,this.loader.baseURL),e.load()}}});h.create=function(t,e,i,r,n,s,o){var a=t.systems.game;u(e)&&(i=l(e,"url",[]),r=l(e,"loadEvent","loadeddata"),n=l(e,"asBlob",!1),s=l(e,"noAudio",!1),o=l(e,"xhrSettings"),e=l(e,"key"));var c=h.getVideoURL(a,i);if(c)return new h(t,e,c,r,n,s,o)},h.getVideoURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r,n=l(e[i],"url",e[i]);if(0===n.indexOf("blob:"))return{url:n,type:""};if(r=0===n.indexOf("data:")?n.split(",")[0].match(/\/(.*?);/):n.match(/\.([a-zA-Z0-9]+)($|\?)/),r=l(e[i],"type",r?r[1]:"").toLowerCase(),t.device.video[r])return{url:n,type:r}}return null},o.register("video",(function(t,e,i,r,n,s){var o;if(Array.isArray(t))for(var a=0;a<t.length;a++)(o=h.create(this,t[a]))&&this.addFile(o);else(o=h.create(this,t,e,i,r,n,s))&&this.addFile(o);return this})),t.exports=h},function(t,e,i){var r=i(0),n=i(21),s=i(149),o=i(9),a=i(95),l=i(8),u=i(2),h=i(24),c=i(20),d=i(156),f=new r({Extends:o,initialize:function(t){o.call(this);var e=t.sys.game.config,i=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,this.sceneManager=t.sys.game.scene,l.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(i,"baseURL",e.loaderBaseURL)),this.setPath(u(i,"path",e.loaderPath)),this.setPrefix(u(i,"prefix",e.loaderPrefix)),this.maxParallelDownloads=u(i,"maxParallelDownloads",e.loaderMaxParallelDownloads),this.xhr=d(u(i,"responseType",e.loaderResponseType),u(i,"async",e.loaderAsync),u(i,"user",e.loaderUser),u(i,"password",e.loaderPassword),u(i,"timeout",e.loaderTimeout),u(i,"withCredentials",e.loaderWithCredentials)),this.crossOrigin=u(i,"crossOrigin",e.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=n.LOADER_IDLE,this.multiKeyIndex=0,t.sys.events.once(c.BOOT,this.boot,this),t.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return void 0===t&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];this.keyExists(i)||(this.list.set(i),this.emit(a.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate((function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),!e&&this.isLoading()&&(this.inflight.iterate((function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),this.queue.iterate((function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}))),e},addPack:function(t,e){e&&t.hasOwnProperty(e)&&(t={packKey:t[e]});var i=0,r=this.baseURL,n=this.path,s=this.prefix;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=t[o],l=u(a,"baseURL",r),h=u(a,"path",n),c=u(a,"prefix",s),d=u(a,"files",null),f=u(a,"defaultType","void");if(Array.isArray(d)){this.setBaseURL(l),this.setPath(h),this.setPrefix(c);for(var p=0;p<d.length;p++){var m=d[p],v=m.hasOwnProperty("type")?m.type:f;this[v]&&(this[v](m),i++)}}}return this.setBaseURL(r),this.setPath(n),this.setPrefix(s),i>0},isLoading:function(){return this.state===n.LOADER_LOADING||this.state===n.LOADER_PROCESSING},isReady:function(){return this.state===n.LOADER_IDLE||this.state===n.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),0===this.list.size?this.loadComplete():(this.state=n.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===n.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each((function(t){if((t.state===n.FILE_POPULATED||t.state===n.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1}),this)},nextFile:function(t,e){this.inflight&&(this.inflight.delete(t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit(a.FILE_LOAD,t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit(a.FILE_LOAD_ERROR,t),this.fileProcessComplete(t)))},fileProcessComplete:function(t){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(t.state===n.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===n.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue.delete(t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=n.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){void 0===e&&(e="file.json"),void 0===i&&(i="application/json");var r=new Blob([t],{type:i}),n=URL.createObjectURL(r),s=document.createElement("a");return s.download=e,s.textContent="Download "+e,s.href=n,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,e=this.systems.settings.loader;this.setBaseURL(u(e,"baseURL",t.loaderBaseURL)),this.setPath(u(e,"path",t.loaderPath)),this.setPrefix(u(e,"prefix",t.loaderPrefix)),this.state=n.LOADER_IDLE},shutdown:function(){this.reset(),this.state=n.LOADER_SHUTDOWN,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=n.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});h.register("Loader",f,"load"),t.exports=f},function(t,e,i){var r=i(62),n=i(17),s={ArcadePhysics:i(1367),Body:i(527),Collider:i(528),Components:i(243),Events:i(245),Factory:i(521),GetOverlapX:i(246),GetOverlapY:i(247),SeparateX:i(537),SeparateY:i(538),Group:i(524),Image:i(522),Sprite:i(157),StaticBody:i(539),StaticGroup:i(525),Tilemap:i(1391),World:i(526)};s=n(!1,s,r),t.exports=s},function(t,e,i){var r=i(0),n=i(36),s=i(50),o=i(353),a=i(521),l=i(2),u=i(127),h=i(523),c=i(244),d=i(24),f=i(20),p=i(3),m=i(526),v=new r({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(f.BOOT,this.boot,this),t.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new a(this.world));var t=this.systems.events;l(this.config,"customUpdate",!1)||t.on(f.UPDATE,this.world.update,this.world),t.on(f.POST_UPDATE,this.world.postUpdate,this.world),t.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return u(l(e,"arcade",{}),l(t,"arcade",{}))},overlap:function(t,e,i,r,n){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i),this.world.collideObjects(t,e,i,r,n,!0)},collide:function(t,e,i,r,n){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i),this.world.collideObjects(t,e,i,r,n,!1)},collideTiles:function(t,e,i,r,n){return this.world.collideTiles(t,e,i,r,n)},overlapTiles:function(t,e,i,r,n){return this.world.overlapTiles(t,e,i,r,n)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,r,n,s){void 0===r&&(r=60);var o=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(o,r),void 0!==n&&void 0!==s&&t.body.maxVelocity.set(n,s),o},accelerateToObject:function(t,e,i,r,n){return this.accelerateTo(t,e.x,e.y,i,r,n)},closest:function(t,e){e||(e=this.world.bodies.entries);for(var i=Number.MAX_VALUE,r=null,n=t.x,s=t.y,a=e.length,l=0;l<a;l++){var u=e[l],h=u.body||u;if(t!==u&&t!==h&&t!==h.gameObject&&t!==h.center){var c=o(n,s,h.center.x,h.center.y);c<i&&(r=u,i=c)}}return r},furthest:function(t,e){e||(e=this.world.bodies.entries);for(var i=-1,r=null,n=t.x,s=t.y,a=e.length,l=0;l<a;l++){var u=e[l],h=u.body||u;if(t!==u&&t!==h&&t!==h.gameObject&&t!==h.center){var c=o(n,s,h.center.x,h.center.y);c>i&&(r=u,i=c)}}return r},moveTo:function(t,e,i,r,n){void 0===r&&(r=60),void 0===n&&(n=0);var o=Math.atan2(i-t.y,e-t.x);return n>0&&(r=s(t.x,t.y,e,i)/(n/1e3)),t.body.velocity.setToPolar(o,r),o},moveToObject:function(t,e,i,r){return this.moveTo(t,e.x,e.y,i,r)},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new p),i.setToPolar(n(t),e)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new p),i.setToPolar(t,e)},overlapRect:function(t,e,i,r,n,s){return c(this.world,t,e,i,r,n,s)},overlapCirc:function(t,e,i,r,n){return h(this.world,t,e,i,r,n)},shutdown:function(){if(this.world){var t=this.systems.events;t.off(f.UPDATE,this.world.update,this.world),t.off(f.POST_UPDATE,this.world.postUpdate,this.world),t.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",v,"arcadePhysics"),t.exports=v},function(t,e){t.exports={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}}},function(t,e){t.exports={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}}},function(t,e){t.exports={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,e,i){return this.body.setCollideWorldBounds(t,e,i),this}}},function(t,e){t.exports={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},function(t,e){t.exports={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}}},function(t,e){var i={enableBody:function(t,e,i,r,n){return t&&this.body.reset(e,i),r&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};t.exports=i},function(t,e){t.exports={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}}},function(t,e){t.exports={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}}},function(t,e){var i={setImmovable:function(t){return void 0===t&&(t=!0),this.body.immovable=t,this}};t.exports=i},function(t,e){t.exports={setMass:function(t){return this.body.mass=t,this}}},function(t,e){var i={setPushable:function(t){return void 0===t&&(t=!0),this.body.pushable=t,this}};t.exports=i},function(t,e){t.exports={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setBodySize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}}},function(t,e){t.exports={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}}},function(t,e){t.exports="collide"},function(t,e){t.exports="overlap"},function(t,e){t.exports="pause"},function(t,e){t.exports="resume"},function(t,e){t.exports="tilecollide"},function(t,e){t.exports="tileoverlap"},function(t,e){t.exports="worldbounds"},function(t,e){t.exports="worldstep"},function(t,e){var i,r,n,s,o,a,l,u,h,c,d,f,p,m,v,y,g,x=function(){return c&&v&&r.blocked.right?(i.processX(-g,l,!1,!0),1):h&&y&&r.blocked.left?(i.processX(g,l,!0),1):p&&y&&i.blocked.right?(r.processX(-g,u,!1,!0),2):f&&v&&i.blocked.left?(r.processX(g,u,!0),2):0},b=function(t){if(n&&s)g*=.5,0===t||3===t?(i.processX(g,o),r.processX(-g,a)):(i.processX(-g,o),r.processX(g,a));else if(n&&!s)0===t||3===t?i.processX(g,l,!0):i.processX(-g,l,!1,!0);else if(!n&&s)0===t||3===t?r.processX(-g,u,!1,!0):r.processX(g,u,!0);else{var e=.5*g;0===t?m?(i.processX(g,0,!0),r.processX(0,null,!1,!0)):p?(i.processX(e,0,!0),r.processX(-e,0,!1,!0)):(i.processX(e,r.velocity.x,!0),r.processX(-e,null,!1,!0)):1===t?d?(i.processX(0,null,!1,!0),r.processX(g,0,!0)):c?(i.processX(-e,0,!1,!0),r.processX(e,0,!0)):(i.processX(-e,null,!1,!0),r.processX(e,i.velocity.x,!0)):2===t?m?(i.processX(-g,0,!1,!0),r.processX(0,null,!0)):f?(i.processX(-e,0,!1,!0),r.processX(e,0,!0)):(i.processX(-e,r.velocity.x,!1,!0),r.processX(e,null,!0)):3===t&&(d?(i.processX(0,null,!0),r.processX(-g,0,!1,!0)):h?(i.processX(e,0,!0),r.processX(-e,0,!1,!0)):(i.processX(e,r.velocity.y,!0),r.processX(-e,null,!1,!0)))}return!0};t.exports={BlockCheck:x,Check:function(){var t=i.velocity.x,e=r.velocity.x,n=Math.sqrt(e*e*r.mass/i.mass)*(e>0?1:-1),s=Math.sqrt(t*t*i.mass/r.mass)*(t>0?1:-1),l=.5*(n+s);return s-=l,o=l+(n-=l)*i.bounce.x,a=l+s*r.bounce.x,h&&y?b(0):f&&v?b(1):c&&v?b(2):!(!p||!y)&&b(3)},Set:function(t,e,o){r=e;var a=(i=t).velocity.x,b=r.velocity.x;return n=i.pushable,h=i._dx<0,c=i._dx>0,d=0===i._dx,v=Math.abs(i.right-r.x)<=Math.abs(r.right-i.x),l=b-a*i.bounce.x,s=r.pushable,f=r._dx<0,p=r._dx>0,m=0===r._dx,y=!v,u=a-b*r.bounce.x,g=Math.abs(o),x()},Run:b,RunImmovableBody1:function(t){1===t?r.velocity.x=0:v?r.processX(g,u,!0):r.processX(-g,u,!1,!0),i.moves&&(r.y+=(i.y-i.prev.y)*i.friction.y,r._dy=r.y-r.prev.y)},RunImmovableBody2:function(t){2===t?i.velocity.x=0:y?i.processX(g,l,!0):i.processX(-g,l,!1,!0),r.moves&&(i.y+=(r.y-r.prev.y)*r.friction.y,i._dy=i.y-i.prev.y)}}},function(t,e){var i,r,n,s,o,a,l,u,h,c,d,f,p,m,v,y,g,x=function(){return c&&v&&r.blocked.down?(i.processY(-g,l,!1,!0),1):h&&y&&r.blocked.up?(i.processY(g,l,!0),1):p&&y&&i.blocked.down?(r.processY(-g,u,!1,!0),2):f&&v&&i.blocked.up?(r.processY(g,u,!0),2):0},b=function(t){if(n&&s)g*=.5,0===t||3===t?(i.processY(g,o),r.processY(-g,a)):(i.processY(-g,o),r.processY(g,a));else if(n&&!s)0===t||3===t?i.processY(g,l,!0):i.processY(-g,l,!1,!0);else if(!n&&s)0===t||3===t?r.processY(-g,u,!1,!0):r.processY(g,u,!0);else{var e=.5*g;0===t?m?(i.processY(g,0,!0),r.processY(0,null,!1,!0)):p?(i.processY(e,0,!0),r.processY(-e,0,!1,!0)):(i.processY(e,r.velocity.y,!0),r.processY(-e,null,!1,!0)):1===t?d?(i.processY(0,null,!1,!0),r.processY(g,0,!0)):c?(i.processY(-e,0,!1,!0),r.processY(e,0,!0)):(i.processY(-e,null,!1,!0),r.processY(e,i.velocity.y,!0)):2===t?m?(i.processY(-g,0,!1,!0),r.processY(0,null,!0)):f?(i.processY(-e,0,!1,!0),r.processY(e,0,!0)):(i.processY(-e,r.velocity.y,!1,!0),r.processY(e,null,!0)):3===t&&(d?(i.processY(0,null,!0),r.processY(-g,0,!1,!0)):h?(i.processY(e,0,!0),r.processY(-e,0,!1,!0)):(i.processY(e,r.velocity.y,!0),r.processY(-e,null,!1,!0)))}return!0};t.exports={BlockCheck:x,Check:function(){var t=i.velocity.y,e=r.velocity.y,n=Math.sqrt(e*e*r.mass/i.mass)*(e>0?1:-1),s=Math.sqrt(t*t*i.mass/r.mass)*(t>0?1:-1),l=.5*(n+s);return s-=l,o=l+(n-=l)*i.bounce.y,a=l+s*r.bounce.y,h&&y?b(0):f&&v?b(1):c&&v?b(2):!(!p||!y)&&b(3)},Set:function(t,e,o){r=e;var a=(i=t).velocity.y,b=r.velocity.y;return n=i.pushable,h=i._dy<0,c=i._dy>0,d=0===i._dy,v=Math.abs(i.bottom-r.y)<=Math.abs(r.bottom-i.y),l=b-a*i.bounce.y,s=r.pushable,f=r._dy<0,p=r._dy>0,m=0===r._dy,y=!v,u=a-b*r.bounce.y,g=Math.abs(o),x()},Run:b,RunImmovableBody1:function(t){1===t?r.velocity.y=0:v?r.processY(g,u,!0):r.processY(-g,u,!1,!0),i.moves&&(r.x+=(i.x-i.prev.x)*i.friction.x,r._dx=r.x-r.prev.x)},RunImmovableBody2:function(t){2===t?i.velocity.y=0:y?i.processY(g,l,!0):i.processY(-g,l,!1,!0),r.moves&&(i.x+=(r.x-r.prev.x)*r.friction.x,i._dx=i.x-i.prev.x)}}},function(t,e,i){var r={ProcessTileCallbacks:i(530),ProcessTileSeparationX:i(534),ProcessTileSeparationY:i(536),SeparateTile:i(532),TileCheckX:i(533),TileCheckY:i(535),TileIntersectsBody:i(248)};t.exports=r},function(t,e,i){var r=i(0),n=i(3),s=new r({initialize:function(){this.boundsCenter=new n,this.centerDiff=new n},parseBody:function(t){if(!(t=t.hasOwnProperty("body")?t.body:t).hasOwnProperty("bounds")||!t.hasOwnProperty("centerOfMass"))return!1;var e=this.boundsCenter,i=this.centerDiff,r=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,s=r*t.centerOfMass.x,o=n*t.centerOfMass.y;return e.set(r/2,n/2),i.set(s-e.x,o-e.y),!0},getTopLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e+r.x+s.x,i+r.y+s.y)}return!1},getTopCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e+s.x,i+r.y+s.y)}return!1},getTopRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e-(r.x-s.x),i+r.y+s.y)}return!1},getLeftCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e+r.x+s.x,i+s.y)}return!1},getCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.centerDiff;return new n(e+r.x,i+r.y)}return!1},getRightCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e-(r.x-s.x),i+s.y)}return!1},getBottomLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e+r.x+s.x,i-(r.y-s.y))}return!1},getBottomCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e+s.x,i-(r.y-s.y))}return!1},getBottomRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var r=this.boundsCenter,s=this.centerDiff;return new n(e-(r.x-s.x),i-(r.y-s.y))}return!1}});t.exports=s},function(t,e){function i(t,e,i){i=i||0;var r,n,s,o,a,l,u,h=[0,0];return r=t[1][1]-t[0][1],n=t[0][0]-t[1][0],s=r*t[0][0]+n*t[0][1],o=e[1][1]-e[0][1],a=e[0][0]-e[1][0],l=o*e[0][0]+a*e[0][1],A(u=r*a-o*n,0,i)||(h[0]=(a*s-n*l)/u,h[1]=(r*l-o*s)/u),h}function r(t,e,i,r){var n=e[0]-t[0],s=e[1]-t[1],o=r[0]-i[0],a=r[1]-i[1];if(o*s-a*n===0)return!1;var l=(n*(i[1]-t[1])+s*(t[0]-i[0]))/(o*s-a*n),u=(o*(t[1]-i[1])+a*(i[0]-t[0]))/(a*n-o*s);return l>=0&&l<=1&&u>=0&&u<=1}function n(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function s(t,e,i){return n(t,e,i)>0}function o(t,e,i){return n(t,e,i)>=0}function a(t,e,i){return n(t,e,i)<0}function l(t,e,i){return n(t,e,i)<=0}t.exports={decomp:function(t){var e=w(t);return e.length>0?_(t,e):[t]},quickDecomp:function t(e,i,r,n,u,h,c){h=h||100,c=c||0,u=u||25,i="undefined"!==typeof i?i:[],r=r||[],n=n||[];var v=[0,0],y=[0,0],g=[0,0],b=0,w=0,_=0,A=0,T=0,E=0,M=0,C=[],P=[],R=e,k=e;if(k.length<3)return i;if(++c>h)return console.warn("quickDecomp: max level ("+h+") reached."),i;for(var L=0;L<e.length;++L)if(m(R,L)){r.push(R[L]),b=w=Number.MAX_VALUE;for(var O=0;O<e.length;++O)s(f(R,L-1),f(R,L),f(R,O))&&l(f(R,L-1),f(R,L),f(R,O-1))&&(g=S(f(R,L-1),f(R,L),f(R,O),f(R,O-1)),a(f(R,L+1),f(R,L),g)&&(_=d(R[L],g))<w&&(w=_,y=g,E=O)),s(f(R,L+1),f(R,L),f(R,O+1))&&l(f(R,L+1),f(R,L),f(R,O))&&(g=S(f(R,L+1),f(R,L),f(R,O),f(R,O+1)),s(f(R,L-1),f(R,L),g)&&(_=d(R[L],g))<b&&(b=_,v=g,T=O));if(E===(T+1)%e.length)g[0]=(y[0]+v[0])/2,g[1]=(y[1]+v[1])/2,n.push(g),L<T?(p(C,R,L,T+1),C.push(g),P.push(g),0!==E&&p(P,R,E,R.length),p(P,R,0,L+1)):(0!==L&&p(C,R,L,R.length),p(C,R,0,T+1),C.push(g),P.push(g),p(P,R,E,L+1));else{if(E>T&&(T+=e.length),A=Number.MAX_VALUE,T<E)return i;for(O=E;O<=T;++O)o(f(R,L-1),f(R,L),f(R,O))&&l(f(R,L+1),f(R,L),f(R,O))&&(_=d(f(R,L),f(R,O)))<A&&x(R,L,O)&&(A=_,M=O%e.length);L<M?(p(C,R,L,M+1),0!==M&&p(P,R,M,k.length),p(P,R,0,L+1)):(0!==L&&p(C,R,L,k.length),p(C,R,0,M+1),p(P,R,M,L+1))}return C.length<P.length?(t(C,i,r,n,u,h,c),t(P,i,r,n,u,h,c)):(t(P,i,r,n,u,h,c),t(C,i,r,n,u,h,c)),i}return i.push(e),i},isSimple:function(t){var e,i=t;for(e=0;e<i.length-1;e++)for(var n=0;n<e-1;n++)if(r(i[e],i[e+1],i[n],i[n+1]))return!1;for(e=1;e<i.length-2;e++)if(r(i[0],i[i.length-1],i[e],i[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,r=t.length-1;t.length>3&&r>=0;--r)c(f(t,r-1),f(t,r),f(t,r+1),e)&&(t.splice(r%t.length,1),i++);return i},removeDuplicatePoints:function(t,e){for(var i=t.length-1;i>=1;--i)for(var r=t[i],n=i-1;n>=0;--n)T(r,t[n],e)&&t.splice(i,1)},makeCCW:function(t){for(var e=0,i=t,r=1;r<t.length;++r)(i[r][1]<i[e][1]||i[r][1]===i[e][1]&&i[r][0]>i[e][0])&&(e=r);return!s(f(t,e-1),f(t,e),f(t,e+1))&&(function(t){for(var e=[],i=t.length,r=0;r!==i;r++)e.push(t.pop());for(r=0;r!==i;r++)t[r]=e[r]}(t),!0)}};var u=[],h=[];function c(t,e,i,r){if(r){var s=u,o=h;s[0]=e[0]-t[0],s[1]=e[1]-t[1],o[0]=i[0]-e[0],o[1]=i[1]-e[1];var a=s[0]*o[0]+s[1]*o[1],l=Math.sqrt(s[0]*s[0]+s[1]*s[1]),c=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(a/(l*c))<r}return 0===n(t,e,i)}function d(t,e){var i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function f(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function p(t,e,i,r){for(var n=i;n<r;n++)t.push(e[n])}function m(t,e){return a(f(t,e-1),f(t,e),f(t,e+1))}var v=[],y=[];function g(t,e,r){var n,s,a=v,u=y;if(o(f(t,e+1),f(t,e),f(t,r))&&l(f(t,e-1),f(t,e),f(t,r)))return!1;s=d(f(t,e),f(t,r));for(var h=0;h!==t.length;++h)if((h+1)%t.length!==e&&h!==e&&o(f(t,e),f(t,r),f(t,h+1))&&l(f(t,e),f(t,r),f(t,h))&&(a[0]=f(t,e),a[1]=f(t,r),u[0]=f(t,h),u[1]=f(t,h+1),n=i(a,u),d(f(t,e),n)<s))return!1;return!0}function x(t,e,i){for(var n=0;n!==t.length;++n)if(n!==e&&n!==i&&(n+1)%t.length!==e&&(n+1)%t.length!==i&&r(f(t,e),f(t,i),f(t,n),f(t,n+1)))return!1;return!0}function b(t,e,i,r){var n=r||[];if(function(t){t.length=0}(n),e<i)for(var s=e;s<=i;s++)n.push(t[s]);else{for(s=0;s<=i;s++)n.push(t[s]);for(s=e;s<t.length;s++)n.push(t[s])}return n}function w(t){for(var e=[],i=[],r=[],n=[],s=Number.MAX_VALUE,o=0;o<t.length;++o)if(m(t,o))for(var a=0;a<t.length;++a)if(g(t,o,a)){i=w(b(t,o,a,n)),r=w(b(t,a,o,n));for(var l=0;l<r.length;l++)i.push(r[l]);i.length<s&&(e=i,s=i.length,e.push([f(t,o),f(t,a)]))}return e}function _(t,e){if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var i=[t],r=0;r<e.length;r++)for(var n=e[r],s=0;s<i.length;s++){var o=_(i[s],n);if(o){i.splice(s,1),i.push(o[0],o[1]);break}}return i}return n=e,r=t.indexOf(n[0]),s=t.indexOf(n[1]),-1!==r&&-1!==s&&[b(t,r,s),b(t,s,r)]}function S(t,e,i,r,n){n=n||0;var s=e[1]-t[1],o=t[0]-e[0],a=s*t[0]+o*t[1],l=r[1]-i[1],u=i[0]-r[0],h=l*i[0]+u*i[1],c=s*u-l*o;return A(c,0,n)?[0,0]:[(u*a-o*h)/c,(s*h-l*a)/c]}function A(t,e,i){return i=i||0,Math.abs(t-e)<=i}function T(t,e,i){return A(t[0],e[0],i)&&A(t[1],e[1],i)}},function(t,e,i){var r=i(86),n=i(0),s=i(591),o=i(128),a=i(592),l=i(1395),u=i(1396),h=i(1397),c=i(593),d=i(589),f=i(590),p=i(1398),m=i(64),v=new n({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,n,s){var o=r.rectangle(t,e,i,n,s);return this.world.add(o),o},trapezoid:function(t,e,i,n,s,o){var a=r.trapezoid(t,e,i,n,s,o);return this.world.add(a),a},circle:function(t,e,i,n,s){var o=r.circle(t,e,i,n,s);return this.world.add(o),o},polygon:function(t,e,i,n,s){var o=r.polygon(t,e,i,n,s);return this.world.add(o),o},fromVertices:function(t,e,i,n,s,o,a){"string"===typeof i&&(i=m.fromPath(i));var l=r.fromVertices(t,e,i,n,s,o,a);return this.world.add(l),l},fromPhysicsEditor:function(t,e,i,r,n){void 0===n&&(n=!0);var s=d.parseBody(t,e,i,r);return n&&!this.world.has(s)&&this.world.add(s),s},fromSVG:function(t,e,i,n,s,o){void 0===n&&(n=1),void 0===s&&(s={}),void 0===o&&(o=!0);for(var l=i.getElementsByTagName("path"),u=[],h=0;h<l.length;h++){var c=a.pathToVertices(l[h],30);1!==n&&m.scale(c,n,n),u.push(c)}var d=r.fromVertices(t,e,u,s);return o&&this.world.add(d),d},fromJSON:function(t,e,i,r,n){void 0===r&&(r={}),void 0===n&&(n=!0);var s=f.parseBody(t,e,i,r);return s&&n&&this.world.add(s),s},imageStack:function(t,e,i,r,n,o,a,l,h){void 0===a&&(a=0),void 0===l&&(l=0),void 0===h&&(h={});var c=this.world,d=this.sys.displayList;h.addToWorld=!1;var f=s.stack(i,r,n,o,a,l,(function(i,r){var n=new u(c,i,r,t,e,h);return d.add(n),n.body}));return c.add(f),f},stack:function(t,e,i,r,n,o,a){var l=s.stack(t,e,i,r,n,o,a);return this.world.add(l),l},pyramid:function(t,e,i,r,n,o,a){var l=s.pyramid(t,e,i,r,n,o,a);return this.world.add(l),l},chain:function(t,e,i,r,n,o){return s.chain(t,e,i,r,n,o)},mesh:function(t,e,i,r,n){return s.mesh(t,e,i,r,n)},newtonsCradle:function(t,e,i,r,n){var o=s.newtonsCradle(t,e,i,r,n);return this.world.add(o),o},car:function(t,e,i,r,n){var o=s.car(t,e,i,r,n);return this.world.add(o),o},softBody:function(t,e,i,r,n,o,a,l,u,h){var c=s.softBody(t,e,i,r,n,o,a,l,u,h);return this.world.add(c),c},joint:function(t,e,i,r,n){return this.constraint(t,e,i,r,n)},spring:function(t,e,i,r,n){return this.constraint(t,e,i,r,n)},constraint:function(t,e,i,r,n){void 0===r&&(r=1),void 0===n&&(n={}),n.bodyA="body"===t.type?t:t.body,n.bodyB="body"===e.type?e:e.body,isNaN(i)||(n.length=i),n.stiffness=r;var s=o.create(n);return this.world.add(s),s},worldConstraint:function(t,e,i,r){void 0===i&&(i=1),void 0===r&&(r={}),r.bodyB="body"===t.type?t:t.body,isNaN(e)||(r.length=e),r.stiffness=i;var n=o.create(r);return this.world.add(n),n},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new p(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,r,n){var s=new u(this.world,t,e,i,r,n);return this.sys.displayList.add(s),s},tileBody:function(t,e){return new c(this.world,t,e)},sprite:function(t,e,i,r,n){var s=new h(this.world,t,e,i,r,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},gameObject:function(t,e,i){return l(this.world,t,e,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=v},function(t,e,i){var r=i(249),n=i(2),s=i(3);t.exports=function(t,e,i,o){void 0===i&&(i={}),void 0===o&&(o=!0);var a=e.x,l=e.y;if(e.body={temp:!0,position:{x:a,y:l}},[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity].forEach((function(t){for(var i in t)(r=t[i]).get&&"function"===typeof r.get||r.set&&"function"===typeof r.set?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]});var r})),e.world=t,e._tempVec2=new s(a,l),i.hasOwnProperty("type")&&"body"===i.type)e.setExistingBody(i,o);else{var u=n(i,"shape",null);u||(u="rectangle"),i.addToWorld=o,e.setBody(u,i)}return e}},function(t,e,i){var r=i(0),n=i(249),s=i(15),o=i(2),a=i(125),l=i(167),u=i(3),h=new r({Extends:a,Mixins:[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity,l],initialize:function(t,e,i,r,n,a){s.call(this,t.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(r,n),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new u(e,i);var l=o(a,"shape",null);l?this.setBody(l,a):this.setRectangle(this.width,this.height,a),this.setPosition(e,i),this.initPipeline()}});t.exports=h},function(t,e,i){var r=i(164),n=i(0),s=i(249),o=i(15),a=i(2),l=i(167),u=i(73),h=i(3),c=new n({Extends:u,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,l],initialize:function(t,e,i,n,s,l){o.call(this,t.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new r(this),this.setTexture(n,s),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new h(e,i);var u=a(l,"shape",null);u?this.setBody(u,l):this.setRectangle(this.width,this.height,l),this.setPosition(e,i),this.initPipeline()}});t.exports=c},function(t,e,i){var r=i(84),n=i(0),s=i(118),o=i(128),a=i(273),l=i(272),u=i(51),h=i(127),c=i(165),d=i(3),f=i(64),p=new n({initialize:function(t,e,i){void 0===i&&(i={}),this.scene=t,this.world=e,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=o.create(h(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(l.BEFORE_UPDATE,this.update,this),t.sys.input.on(u.POINTER_DOWN,this.onDown,this),t.sys.input.on(u.POINTER_UP,this.onUp,this)},onDown:function(t){this.pointer||(this.pointer=t,this.camera=t.camera)},onUp:function(t){t===this.pointer&&(this.pointer=null)},getBody:function(t){var e=this.position,i=this.constraint;this.camera.getWorldPoint(t.x,t.y,e);for(var n=s.allBodies(this.world.localWorld),o=0;o<n.length;o++){var u=n[o];if(!u.ignorePointer&&r.contains(u.bounds,e)&&a.canCollide(u.collisionFilter,i.collisionFilter)&&this.hitTestBody(u,e))return this.world.emit(l.DRAG_START,u,this.part,this),!0}return!1},hitTestBody:function(t,e){for(var i=this.constraint,r=t.parts.length,n=r>1?1:0;n<r;n++){var s=t.parts[n];if(f.contains(s.vertices,e))return i.pointA=e,i.pointB={x:e.x-t.position.x,y:e.y-t.position.y},i.bodyB=t,i.angleB=t.angle,c.set(t,!1),this.part=s,this.body=t,!0}return!1},update:function(){var t=this.pointer,e=this.body;if(this.active&&t)if(t.isDown||!e){if(t.isDown){if(!e&&!this.getBody(t))return;e=this.body;var i=this.position,r=this.constraint;this.camera.getWorldPoint(t.x,t.y,i),r.pointA.x=i.x,r.pointA.y=i.y,c.set(e,!1),this.world.emit(l.DRAG,e,this)}}else this.stopDrag();else e&&this.stopDrag()},stopDrag:function(){var t=this.body,e=this.constraint;e.bodyB=null,e.pointB=null,this.pointer=null,this.body=null,this.part=null,t&&this.world.emit(l.DRAG_END,t,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)}});t.exports=p},function(t,e,i){var r={};t.exports=r;var n=i(595),s=i(32);r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){n.use(r,Array.prototype.slice.call(arguments))},r.before=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathBefore(r,t,e)},r.after=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathAfter(r,t,e)}},function(t,e,i){var r={};t.exports=r;var n=i(83),s=i(274),o=i(84),a=i(86),l=i(64);r.collides=function(t,e){for(var i=[],r=0;r<e.length;r++){var n=e[r];if(t!==n&&o.overlaps(n.bounds,t.bounds))for(var a=1===n.parts.length?0:1;a<n.parts.length;a++){var l=n.parts[a];if(o.overlaps(l.bounds,t.bounds)){var u=s.collides(l,t);if(u.collided){i.push(u);break}}}}return i},r.ray=function(t,e,i,s){s=s||1e-100;for(var o=n.angle(e,i),l=n.magnitude(n.sub(e,i)),u=.5*(i.x+e.x),h=.5*(i.y+e.y),c=a.rectangle(u,h,l,s,{angle:o}),d=r.collides(c,t),f=0;f<d.length;f+=1){var p=d[f];p.body=p.bodyB=p.bodyA}return d},r.region=function(t,e,i){for(var r=[],n=0;n<t.length;n++){var s=t[n],a=o.overlaps(s.bounds,e);(a&&!i||!a&&i)&&r.push(s)}return r},r.point=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r];if(o.contains(n.bounds,e))for(var s=1===n.parts.length?0:1;s<n.parts.length;s++){var a=n.parts[s];if(o.contains(a.bounds,e)&&l.contains(a.vertices,e)){i.push(n);break}}}return i}},function(t,e,i){var r={};t.exports=r;var n=i(596),s=i(165),o=i(599),a=i(598),l=i(1523),u=i(597),h=i(166),c=i(118),d=i(128),f=i(32),p=i(41);r.create=function(t,e){e=(e=f.isElement(t)?e:t)||{},((t=f.isElement(t)?t:null)||e.render)&&f.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:u}},r=f.extend(i,e);return r.world=e.world||n.create(r.world),r.pairs=a.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=l.create(r.metrics),r},r.update=function(t,e,i){e=e||1e3/60,i=i||1;var n,u=t.world,f=t.timing,p=t.broadphase,m=[];f.timestamp+=e*f.timeScale;var v={timestamp:f.timestamp};h.trigger(t,"beforeUpdate",v);var y=c.allBodies(u),g=c.allConstraints(u);for(l.reset(t.metrics),t.enableSleeping&&s.update(y,f.timeScale),r._bodiesApplyGravity(y,u.gravity),r._bodiesUpdate(y,e,f.timeScale,i,u.bounds),d.preSolveAll(y),n=0;n<t.constraintIterations;n++)d.solveAll(g,f.timeScale);d.postSolveAll(y),p.controller?(u.isModified&&p.controller.clear(p),p.controller.update(p,y,t,u.isModified),m=p.pairsList):m=y,u.isModified&&c.setModified(u,!1,!1,!0);var x=p.detector(m,t),b=t.pairs,w=f.timestamp;for(a.update(b,x,w),a.removeOld(b,w),t.enableSleeping&&s.afterCollisions(b.list,f.timeScale),b.collisionStart.length>0&&h.trigger(t,"collisionStart",{pairs:b.collisionStart}),o.preSolvePosition(b.list),n=0;n<t.positionIterations;n++)o.solvePosition(b.list,y,f.timeScale);for(o.postSolvePosition(y),d.preSolveAll(y),n=0;n<t.constraintIterations;n++)d.solveAll(g,f.timeScale);for(d.postSolveAll(y),o.preSolveVelocity(b.list),n=0;n<t.velocityIterations;n++)o.solveVelocity(b.list,f.timeScale);return b.collisionActive.length>0&&h.trigger(t,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&h.trigger(t,"collisionEnd",{pairs:b.collisionEnd}),l.update(t.metrics,t),r._bodiesClearForces(y),h.trigger(t,"afterUpdate",v),t},r.merge=function(t,e){if(f.extend(t,e),e.world){t.world=e.world,r.clear(t);for(var i=c.allBodies(t.world),n=0;n<i.length;n++){var o=i[n];s.set(o,!1),o.id=f.nextId()}}},r.clear=function(t){var e=t.world;a.clear(t.pairs);var i=t.broadphase;if(i.controller){var r=c.allBodies(e);i.controller.clear(i),i.controller.update(i,r,t,!0)}},r._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},r._bodiesApplyGravity=function(t,e){var i="undefined"!==typeof e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==i)for(var r=0;r<t.length;r++){var n=t[r];n.ignoreGravity||n.isStatic||n.isSleeping||(n.force.x+=n.mass*e.x*i*n.gravityScale.x,n.force.y+=n.mass*e.y*i*n.gravityScale.y)}},r._bodiesUpdate=function(t,e,i,r,n){for(var s=0;s<t.length;s++){var o=t[s];o.isStatic||o.isSleeping||p.update(o,e,i,r)}}},function(t,e,i){var r=i(86),n=i(41),s=i(0),o=i(32),a=i(118),l=i(1401),u=i(9),h=i(272),c=i(2),d=i(6),f=i(41),p=i(166),m=i(593),v=i(596),y=i(83),g=new s({Extends:u,initialize:function(t,e){u.call(this),this.scene=t,this.engine=l.create(e),this.localWorld=this.engine.world;var i=d(e,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(e,"enabled",!0),this.correction=d(e,"correction",1),this.getDelta=d(e,"getDelta",this.update60Hz);var r=c(e,"runner",{}),n=c(r,"fps",!1),s=c(r,"fps",60),o=c(r,"delta",1e3/s),a=c(r,"deltaMin",1e3/s),h=c(r,"deltaMax",1e3/(.5*s));n||(s=1e3/o),this.runner={fps:s,correction:c(r,"correction",1),deltaSampleSize:c(r,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:c(r,"isFixed",!1),delta:o,deltaMin:a,deltaMax:h},this.autoUpdate=d(e,"autoUpdate",!0);var f=d(e,"debug",!1);if(this.drawDebug="object"===typeof f||f,this.debugGraphic,this.debugConfig={showAxes:c(f,"showAxes",!1),showAngleIndicator:c(f,"showAngleIndicator",!1),angleColor:c(f,"angleColor",15208787),showBroadphase:c(f,"showBroadphase",!1),broadphaseColor:c(f,"broadphaseColor",16757760),showBounds:c(f,"showBounds",!1),boundsColor:c(f,"boundsColor",16777215),showVelocity:c(f,"showVelocity",!1),velocityColor:c(f,"velocityColor",44783),showCollisions:c(f,"showCollisions",!1),collisionColor:c(f,"collisionColor",16094476),showSeparations:c(f,"showSeparations",!1),separationColor:c(f,"separationColor",16753920),showBody:c(f,"showBody",!0),showStaticBody:c(f,"showStaticBody",!0),showInternalEdges:c(f,"showInternalEdges",!1),renderFill:c(f,"renderFill",!1),renderLine:c(f,"renderLine",!0),fillColor:c(f,"fillColor",1075465),fillOpacity:c(f,"fillOpacity",1),lineColor:c(f,"lineColor",2678297),lineOpacity:c(f,"lineOpacity",1),lineThickness:c(f,"lineThickness",1),staticFillColor:c(f,"staticFillColor",857979),staticLineColor:c(f,"staticLineColor",1255396),showSleeping:c(f,"showSleeping",!1),staticBodySleepOpacity:c(f,"staticBodySleepOpacity",.7),sleepFillColor:c(f,"sleepFillColor",4605510),sleepLineColor:c(f,"sleepLineColor",10066585),showSensors:c(f,"showSensors",!0),sensorFillColor:c(f,"sensorFillColor",857979),sensorLineColor:c(f,"sensorLineColor",1255396),showPositions:c(f,"showPositions",!0),positionSize:c(f,"positionSize",4),positionColor:c(f,"positionColor",14697178),showJoint:c(f,"showJoint",!0),jointColor:c(f,"jointColor",14737474),jointLineOpacity:c(f,"jointLineOpacity",1),jointLineThickness:c(f,"jointLineThickness",2),pinSize:c(f,"pinSize",4),pinColor:c(f,"pinColor",4382944),springColor:c(f,"springColor",14697184),anchorColor:c(f,"anchorColor",15724527),anchorSize:c(f,"anchorSize",4),showConvexHulls:c(f,"showConvexHulls",!1),hullColor:c(f,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),c(e,"setBounds",!1)){var p=e.setBounds;if("boolean"===typeof p)this.setBounds();else{var m=c(p,"x",0),v=c(p,"y",0),y=c(p,"width",t.sys.scale.width),g=c(p,"height",t.sys.scale.height),x=c(p,"thickness",64),b=c(p,"left",!0),w=c(p,"right",!0),_=c(p,"top",!0),S=c(p,"bottom",!0);this.setBounds(m,v,y,g,x,b,w,_,S)}}},setCompositeRenderStyle:function(t){var e,i,r,n=t.bodies,s=t.constraints,o=t.composites;for(e=0;e<n.length;e++)r=(i=n[e]).render,this.setBodyRenderStyle(i,r.lineColor,r.lineOpacity,r.lineThickness,r.fillColor,r.fillOpacity);for(e=0;e<s.length;e++)r=(i=s[e]).render,this.setConstraintRenderStyle(i,r.lineColor,r.lineOpacity,r.lineThickness,r.pinSize,r.anchorColor,r.anchorSize);for(e=0;e<o.length;e++)i=o[e],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(t,e,i,r,n,s){var o=t.render,a=this.debugConfig;return o?(void 0!==e&&null!==e||(e=t.isStatic?a.staticLineColor:a.lineColor),void 0!==i&&null!==i||(i=a.lineOpacity),void 0!==r&&null!==r||(r=a.lineThickness),void 0!==n&&null!==n||(n=t.isStatic?a.staticFillColor:a.fillColor),void 0!==s&&null!==s||(s=a.fillOpacity),!1!==e&&(o.lineColor=e),!1!==i&&(o.lineOpacity=i),!1!==r&&(o.lineThickness=r),!1!==n&&(o.fillColor=n),!1!==s&&(o.fillOpacity=s),this):this},setConstraintRenderStyle:function(t,e,i,r,n,s,o){var a=t.render,l=this.debugConfig;if(!a)return this;if(void 0===e||null===e){var u=a.type;"line"===u?e=l.jointColor:"pin"===u?e=l.pinColor:"spring"===u&&(e=l.springColor)}return void 0!==i&&null!==i||(i=l.jointLineOpacity),void 0!==r&&null!==r||(r=l.jointLineThickness),void 0!==n&&null!==n||(n=l.pinSize),void 0!==s&&null!==s||(s=l.anchorColor),void 0!==o&&null!==o||(o=l.anchorSize),!1!==e&&(a.lineColor=e),!1!==i&&(a.lineOpacity=i),!1!==r&&(a.lineThickness=r),!1!==n&&(a.pinSize=n),!1!==s&&(a.anchorColor=s),!1!==o&&(a.anchorSize=o),this},setEventsProxy:function(){var t=this,e=this.engine,i=this.localWorld;this.drawDebug&&(p.on(i,"compositeModified",(function(e){t.setCompositeRenderStyle(e)})),p.on(i,"beforeAdd",(function(e){for(var i=[].concat(e.object),r=0;r<i.length;r++){var n=i[r],s=n.render;"body"===n.type?t.setBodyRenderStyle(n,s.lineColor,s.lineOpacity,s.lineThickness,s.fillColor,s.fillOpacity):"composite"===n.type?t.setCompositeRenderStyle(n):"constraint"===n.type&&t.setConstraintRenderStyle(n,s.lineColor,s.lineOpacity,s.lineThickness,s.pinSize,s.anchorColor,s.anchorSize)}}))),p.on(i,"beforeAdd",(function(e){t.emit(h.BEFORE_ADD,e)})),p.on(i,"afterAdd",(function(e){t.emit(h.AFTER_ADD,e)})),p.on(i,"beforeRemove",(function(e){t.emit(h.BEFORE_REMOVE,e)})),p.on(i,"afterRemove",(function(e){t.emit(h.AFTER_REMOVE,e)})),p.on(e,"beforeUpdate",(function(e){t.emit(h.BEFORE_UPDATE,e)})),p.on(e,"afterUpdate",(function(e){t.emit(h.AFTER_UPDATE,e)})),p.on(e,"collisionStart",(function(e){var i,r,n=e.pairs;n.length>0&&(i=n[0].bodyA,r=n[0].bodyB),t.emit(h.COLLISION_START,e,i,r)})),p.on(e,"collisionActive",(function(e){var i,r,n=e.pairs;n.length>0&&(i=n[0].bodyA,r=n[0].bodyB),t.emit(h.COLLISION_ACTIVE,e,i,r)})),p.on(e,"collisionEnd",(function(e){var i,r,n=e.pairs;n.length>0&&(i=n[0].bodyA,r=n[0].bodyB),t.emit(h.COLLISION_END,e,i,r)}))},setBounds:function(t,e,i,r,n,s,o,a,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),void 0===n&&(n=64),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===l&&(l=!0),this.updateWall(s,"left",t-n,e-n,n,r+2*n),this.updateWall(o,"right",t+i,e-n,n,r+2*n),this.updateWall(a,"top",t,e-n,i,n),this.updateWall(l,"bottom",t,e+r,i,n),this},updateWall:function(t,e,i,r,n,s){var o=this.walls[e];t?(o&&v.remove(this.localWorld,o),i+=n/2,r+=s/2,this.walls[e]=this.create(i,r,n,s,{isStatic:!0,friction:0,frictionStatic:0})):(o&&v.remove(this.localWorld,o),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,n,s){var o=r.rectangle(t,e,i,n,s);return v.add(this.localWorld,o),o},add:function(t){return v.add(this.localWorld,t),this},remove:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i],n=r.body?r.body:r;a.remove(this.localWorld,n,e)}return this},removeConstraint:function(t,e){return a.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,r=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(r,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new m(this,t[i],e);return this},nextGroup:function(t){return f.nextGroup(t)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(t,e){if(this.enabled&&this.autoUpdate){var i=this.engine,r=this.runner,n=i.timing,s=this.correction;r.isFixed?e=this.getDelta(t,e):(e=t-r.timePrev||r.delta,r.timePrev=t,r.deltaHistory.push(e),r.deltaHistory=r.deltaHistory.slice(-r.deltaSampleSize),s=(e=(e=(e=Math.min.apply(null,r.deltaHistory))<r.deltaMin?r.deltaMin:e)>r.deltaMax?r.deltaMax:e)/r.delta,r.delta=e),0!==r.timeScalePrev&&(s*=n.timeScale/r.timeScalePrev),0===n.timeScale&&(s=0),r.timeScalePrev=n.timeScale,r.correction=s,r.frameCounter+=1,t-r.counterTimestamp>=1e3&&(r.fps=r.frameCounter*((t-r.counterTimestamp)/1e3),r.counterTimestamp=t,r.frameCounter=0),l.update(i,e,s)}},step:function(t,e){l.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(t){var e=t.hasOwnProperty("body")?t.body:t;return null!==a.get(this.localWorld,e.id,e.type)},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var t=this.debugConfig,e=this.engine,i=this.debugGraphic,r=a.allBodies(this.localWorld);this.debugGraphic.clear(),t.showBroadphase&&e.broadphase.controller&&this.renderGrid(e.broadphase,i,t.broadphaseColor,.5),t.showBounds&&this.renderBodyBounds(r,i,t.boundsColor,.5),(t.showBody||t.showStaticBody)&&this.renderBodies(r),t.showJoint&&this.renderJoints(),(t.showAxes||t.showAngleIndicator)&&this.renderBodyAxes(r,i,t.showAxes,t.angleColor,.5),t.showVelocity&&this.renderBodyVelocity(r,i,t.velocityColor,1,2),t.showSeparations&&this.renderSeparations(e.pairs.list,i,t.separationColor),t.showCollisions&&this.renderCollisions(e.pairs.list,i,t.collisionColor)}},renderGrid:function(t,e,i,r){e.lineStyle(1,i,r);for(var n=o.keys(t.buckets),s=0;s<n.length;s++){var a=n[s];if(!(t.buckets[a].length<2)){var l=a.split(/C|R/);e.strokeRect(parseInt(l[1],10)*t.bucketWidth,parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}return this},renderSeparations:function(t,e,i){e.lineStyle(1,i,1);for(var r=0;r<t.length;r++){var n=t[r];if(n.isActive){var s=n.collision,o=s.bodyA,a=s.bodyB,l=o.position,u=a.position,h=s.penetration,c=o.isStatic||a.isStatic?1:4;a.isStatic&&(c=0),e.lineBetween(u.x,u.y,u.x-h.x*c,u.y-h.y*c),c=o.isStatic||a.isStatic?1:4,o.isStatic&&(c=0),e.lineBetween(l.x,l.y,l.x-h.x*c,l.y-h.y*c)}}return this},renderCollisions:function(t,e,i){var r,n;for(e.lineStyle(1,i,.5),e.fillStyle(i,1),r=0;r<t.length;r++)if((n=t[r]).isActive)for(var s=0;s<n.activeContacts.length;s++){var o=n.activeContacts[s].vertex;e.fillRect(o.x-2,o.y-2,5,5)}for(r=0;r<t.length;r++)if((n=t[r]).isActive){var a=n.collision,l=n.activeContacts;if(l.length>0){var u=l[0].vertex.x,h=l[0].vertex.y;2===l.length&&(u=(l[0].vertex.x+l[1].vertex.x)/2,h=(l[0].vertex.y+l[1].vertex.y)/2),a.bodyB===a.supports[0].body||a.bodyA.isStatic?e.lineBetween(u-8*a.normal.x,h-8*a.normal.y,u,h):e.lineBetween(u+8*a.normal.x,h+8*a.normal.y,u,h)}}return this},renderBodyBounds:function(t,e,i,r){e.lineStyle(1,i,r);for(var n=0;n<t.length;n++){var s=t[n];if(s.render.visible){var o=s.bounds;if(o)e.strokeRect(o.min.x,o.min.y,o.max.x-o.min.x,o.max.y-o.min.y);else for(var a=s.parts,l=a.length>1?1:0;l<a.length;l++){var u=a[l];e.strokeRect(u.bounds.min.x,u.bounds.min.y,u.bounds.max.x-u.bounds.min.x,u.bounds.max.y-u.bounds.min.y)}}}return this},renderBodyAxes:function(t,e,i,r,n){e.lineStyle(1,r,n);for(var s=0;s<t.length;s++){var o,a,l,u=t[s],h=u.parts;if(u.render.visible)if(i)for(a=h.length>1?1:0;a<h.length;a++)for(o=h[a],l=0;l<o.axes.length;l++){var c=o.axes[l];e.lineBetween(o.position.x,o.position.y,o.position.x+20*c.x,o.position.y+20*c.y)}else for(a=h.length>1?1:0;a<h.length;a++)for(o=h[a],l=0;l<o.axes.length;l++)e.lineBetween(o.position.x,o.position.y,(o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(t,e,i,r,n){e.lineStyle(n,i,r);for(var s=0;s<t.length;s++){var o=t[s];o.render.visible&&e.lineBetween(o.position.x,o.position.y,o.position.x+2*(o.position.x-o.positionPrev.x),o.position.y+2*(o.position.y-o.positionPrev.y))}return this},renderBodies:function(t){for(var e=this.debugGraphic,i=this.debugConfig,r=i.showBody,n=i.showStaticBody,s=i.showSleeping,o=i.showInternalEdges,a=i.showConvexHulls,l=i.renderFill,u=i.renderLine,h=i.staticBodySleepOpacity,c=i.sleepFillColor,d=i.sleepLineColor,f=i.hullColor,p=0;p<t.length;p++){var m=t[p];if(m.render.visible&&(n||!m.isStatic)&&(r||m.isStatic)){var v=m.render.lineColor,y=m.render.lineOpacity,g=m.render.lineThickness,x=m.render.fillColor,b=m.render.fillOpacity;s&&m.isSleeping&&(m.isStatic?(y*=h,b*=h):(v=d,x=c)),l||(x=null),u||(v=null),this.renderBody(m,e,o,v,y,g,x,b);var w=m.parts.length;a&&w>1&&this.renderConvexHull(m,e,f,g)}}},renderBody:function(t,e,i,r,n,s,o,a){void 0===r&&(r=null),void 0===n&&(n=null),void 0===s&&(s=1),void 0===o&&(o=null),void 0===a&&(a=null);for(var l=this.debugConfig,u=l.sensorFillColor,h=l.sensorLineColor,c=t.parts,d=c.length,f=d>1?1:0;f<d;f++){var p=c[f],m=p.render,v=m.opacity;if(m.visible&&0!==v&&(!p.isSensor||l.showSensors)){var y=p.circleRadius;if(e.beginPath(),p.isSensor?(null!==o&&e.fillStyle(u,a*v),null!==r&&e.lineStyle(s,h,n*v)):(null!==o&&e.fillStyle(o,a*v),null!==r&&e.lineStyle(s,r,n*v)),y)e.arc(p.position.x,p.position.y,y,0,2*Math.PI);else{var g=p.vertices,x=g.length;e.moveTo(g[0].x,g[0].y);for(var b=1;b<x;b++){var w=g[b];if(!g[b-1].isInternal||i?e.lineTo(w.x,w.y):e.moveTo(w.x,w.y),b<x&&w.isInternal&&!i){var _=(b+1)%x;e.moveTo(g[_].x,g[_].y)}}e.closePath()}null!==o&&e.fillPath(),null!==r&&e.strokePath()}}if(l.showPositions&&!t.isStatic){var S=t.position.x,A=t.position.y,T=Math.ceil(l.positionSize/2);e.fillStyle(l.positionColor,1),e.fillRect(S-T,A-T,l.positionSize,l.positionSize)}return this},renderConvexHull:function(t,e,i,r){if(void 0===r&&(r=1),t.parts.length>1){var n=t.vertices;e.lineStyle(r,i),e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var s=1;s<n.length;s++)e.lineTo(n[s].x,n[s].y);e.lineTo(n[0].x,n[0].y),e.strokePath()}return this},renderJoints:function(){for(var t=this.debugGraphic,e=a.allConstraints(this.localWorld),i=0;i<e.length;i++){var r=e[i].render,n=r.lineColor,s=r.lineOpacity,o=r.lineThickness,l=r.pinSize,u=r.anchorColor,h=r.anchorSize;this.renderConstraint(e[i],t,n,s,o,l,u,h)}},renderConstraint:function(t,e,i,r,n,s,a,l){var u=t.render;if(!u.visible||!t.pointA||!t.pointB)return this;e.lineStyle(n,i,r);var h,c,d=t.bodyA,f=t.bodyB;if(h=d?y.add(d.position,t.pointA):t.pointA,"pin"===u.type)e.strokeCircle(h.x,h.y,s);else{if(c=f?y.add(f.position,t.pointB):t.pointB,e.beginPath(),e.moveTo(h.x,h.y),"spring"===u.type)for(var p,m=y.sub(c,h),v=y.perp(y.normalise(m)),g=Math.ceil(o.clamp(t.length/5,12,20)),x=1;x<g;x+=1)p=x%2===0?1:-1,e.lineTo(h.x+m.x*(x/g)+v.x*p*4,h.y+m.y*(x/g)+v.y*p*4);e.lineTo(c.x,c.y)}return e.strokePath(),u.anchors&&l>0&&(e.fillStyle(a),e.fillCircle(h.x,h.y,l),e.fillCircle(c.x,c.y,l)),this},resetCollisionIDs:function(){return n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});t.exports=g},function(t,e,i){t.exports={BasePlugin:i(540),DefaultPlugins:i(197),PluginCache:i(24),PluginManager:i(414),ScenePlugin:i(1404)}},function(t,e,i){var r=i(540),n=i(0),s=i(20),o=new n({Extends:r,initialize:function(t,e,i){r.call(this,e),this.scene=t,this.systems=t.sys,this.pluginKey=i,t.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=o},function(t,e,i){t.exports={Canvas:i(1406),Events:i(91),Snapshot:i(1407),WebGL:i(1408)}},function(t,e,i){t.exports={CanvasRenderer:i(368),GetBlendModes:i(370),SetTransform:i(30)}},function(t,e,i){t.exports={Canvas:i(369),WebGL:i(383)}},function(t,e,i){var r=i(107),n=i(17),s={PipelineManager:i(372),Pipelines:i(1409),RenderTarget:i(141),Utils:i(12),WebGLPipeline:i(58),WebGLRenderer:i(371),WebGLShader:i(375)};s=n(!1,s,r),t.exports=s},function(t,e,i){var r=i(92),n=i(17),s={BitmapMaskPipeline:i(373),Events:i(374),GraphicsPipeline:i(376),LightPipeline:i(377),MultiPipeline:i(108),PointLightPipeline:i(378),PostFXPipeline:i(1410),RopePipeline:i(379),SinglePipeline:i(380),UtilityPipeline:i(381)};s=n(!1,s,r),t.exports=s},function(t,e,i){var r=i(0),n=i(198),s=i(2),o=i(1411),a=i(382),l=i(58),u=new r({Extends:l,initialize:function(t){t.renderTarget=s(t,"renderTarget",1),t.fragShader=s(t,"fragShader",o),t.vertShader=s(t,"vertShader",a),t.attributes=s(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),t.batchSize=1,t.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],l.call(this,t),this.isPostFX=!0,this.gameObject,this.colorMatrix=new n,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){l.prototype.boot.call(this);var t=this.manager.UTILITY_PIPELINE;this.fullFrame1=t.fullFrame1,this.fullFrame2=t.fullFrame2,this.halfFrame1=t.halfFrame1,this.halfFrame2=t.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(t){this.bindAndDraw(t)},copyFrame:function(t,e,i,r,n){this.manager.copyFrame(t,e,i,r,n)},copyToGame:function(t){this.manager.copyToGame(t)},drawFrame:function(t,e,i){this.manager.drawFrame(t,e,i,this.colorMatrix)},blendFrames:function(t,e,i,r,n){this.manager.blendFrames(t,e,i,r,n)},blendFramesAdditive:function(t,e,i,r,n){this.manager.blendFramesAdditive(t,e,i,r,n)},clearFrame:function(t,e){this.manager.clearFrame(t,e)},blitFrame:function(t,e,i,r,n,s){this.manager.blitFrame(t,e,i,r,n,s)},copyFrameRect:function(t,e,i,r,n,s,o,a){this.manager.copyFrameRect(t,e,i,r,n,s,o,a)},bindAndDraw:function(t,e,i,r,n){void 0===i&&(i=!0),void 0===r&&(r=!0);var s=this.gl,o=this.renderer;this.bind(n),this.set1i("uMainSampler",0),e?(s.viewport(0,0,e.width,e.height),s.bindFramebuffer(s.FRAMEBUFFER,e.framebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e.texture,0),i&&(r?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT))):(o.popFramebuffer(!1,!1,!1),o.currentFramebuffer||s.viewport(0,0,o.width,o.height)),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t.texture),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),e?(s.bindTexture(s.TEXTURE_2D,null),s.bindFramebuffer(s.FRAMEBUFFER,null)):o.resetTextures()}});t.exports=u},function(t,e){t.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join("\n")},function(t,e,i){var r=i(17),n=i(201),s={Center:i(403),Events:i(104),Orientation:i(404),ScaleManager:i(415),ScaleModes:i(405),Zoom:i(406)};s=r(!1,s,n.CENTER),s=r(!1,s,n.ORIENTATION),s=r(!1,s,n.SCALE_MODE),s=r(!1,s,n.ZOOM),t.exports=s},function(t,e,i){var r=i(144),n=i(17),s={Events:i(20),GetPhysicsPlugins:i(419),GetScenePlugins:i(420),SceneManager:i(417),ScenePlugin:i(1414),Settings:i(421),Systems:i(204)};s=n(!1,s,r),t.exports=s},function(t,e,i){var r=i(18),n=i(0),s=i(20),o=i(2),a=i(24),l=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once(s.BOOT,this.boot,this),t.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,e),this},restart:function(t){var e=this.key;return this.manager.queueOp("stop",e),this.manager.queueOp("start",e,t),this},transition:function(t){void 0===t&&(t={});var e=o(t,"target",!1),i=this.manager.getScene(e);if(!e||!this.checkValidTransition(i))return!1;var r=o(t,"duration",1e3);this._elapsed=0,this._target=i,this._duration=r,this._willSleep=o(t,"sleep",!1),this._willRemove=o(t,"remove",!1);var n=o(t,"onUpdate",null);n&&(this._onUpdate=n,this._onUpdateScope=o(t,"onUpdateScope",this.scene));var a=o(t,"allowInput",!1);this.settings.transitionAllowInput=a;var l=i.sys.settings;return l.isTransition=!0,l.transitionFrom=this.scene,l.transitionDuration=r,l.transitionAllowInput=a,o(t,"moveAbove",!1)?this.manager.moveAbove(this.key,e):o(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,e),i.sys.isSleeping()?i.sys.wake(o(t,"data")):this.manager.start(e,o(t,"data")),this.systems.events.emit(s.TRANSITION_OUT,i,r),this.systems.events.on(s.UPDATE,this.step,this),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(t,e){this._elapsed+=e,this.transitionProgress=r(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,e=this._target.sys.settings;this.systems.events.off(s.UPDATE,this.step,this),t.events.emit(s.TRANSITION_COMPLETE,this.scene),e.isTransition=!1,e.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,e,i,r){return this.manager.add(t,e,i,r)},launch:function(t,e){return t&&t!==this.key&&this.manager.queueOp("start",t,e),this},run:function(t,e){return t&&t!==this.key&&this.manager.queueOp("run",t,e),this},pause:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("pause",t,e),this},resume:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("resume",t,e),this},sleep:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("sleep",t,e),this},wake:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("wake",t,e),this},switch:function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",t,e),this},setActive:function(t,e,i){void 0===e&&(e=this.key);var r=this.manager.getScene(e);return r&&r.sys.setActive(t,i),this},setVisible:function(t,e){void 0===e&&(e=this.key);var i=this.manager.getScene(e);return i&&i.sys.setVisible(t),this},isSleeping:function(t){return void 0===t&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)},isPaused:function(t){return void 0===t&&(t=this.key),this.manager.isPaused(t)},isVisible:function(t){return void 0===t&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.swapPosition(t,e),this},moveAbove:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveAbove(t,e),this},moveBelow:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveBelow(t,e),this},remove:function(t){return void 0===t&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return void 0===t&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return void 0===t&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return void 0===t&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return void 0===t&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return void 0===t&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off(s.SHUTDOWN,this.shutdown,this),t.off(s.POST_UPDATE,this.step,this),t.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",l,"scenePlugin"),t.exports=l},function(t,e,i){t.exports={Events:i(438),List:i(110),Map:i(102),ProcessQueue:i(211),RTree:i(531),Set:i(149),Size:i(416)}},function(t,e,i){var r=i(17),n=i(1417),s={CanvasTexture:i(423),Events:i(106),FilterMode:n,Frame:i(109),Parsers:i(425),Texture:i(206),TextureManager:i(422),TextureSource:i(424)};s=r(!1,s,n),t.exports=s},function(t,e){t.exports={LINEAR:0,NEAREST:1}},function(t,e,i){var r=i(17),n=i(1419),s={Components:i(251),Parsers:i(1452),Formats:i(40),ImageCollection:i(576),ParseToTilemap:i(262),Tile:i(85),Tilemap:i(580),TilemapCreator:i(1459),TilemapFactory:i(1460),Tileset:i(122),TilemapLayer:i(581),Orientation:i(29),LayerData:i(120),MapData:i(121),ObjectLayer:i(572)};s=r(!1,s,n.ORIENTATION),t.exports=s},function(t,e,i){var r={ORIENTATION:i(29)};t.exports=r},function(t,e,i){var r=i(26),n=i(63);t.exports=function(t,e,i,s,o,a,l,u){void 0===l&&(l=!0),t<0&&(t=0),e<0&&(e=0);for(var h=r(t,e,i,s,null,u),c=o-t,d=a-e,f=0;f<h.length;f++){var p=h[f].x+c,m=h[f].y+d;p>=0&&p<u.width&&m>=0&&m<u.height&&u.data[m][p]&&u.data[m][p].copy(h[f])}l&&n(o-1,a-1,i+2,s+2,u)}},function(t,e,i){var r=i(26),n=i(542);t.exports=function(t,e,i,s,o,a){i||(i={}),Array.isArray(t)||(t=[t]);var l=a.tilemapLayer;s||(s=l.scene),o||(o=s.cameras.main);var u,h=r(0,0,a.width,a.height,null,a),c=[];for(u=0;u<h.length;u++){var d=h[u];if(-1!==t.indexOf(d.index)){var f=l.tileToWorldXY(d.x,d.y,void 0,o,a);i.x=f.x,i.y=f.y,c.push(s.make.sprite(i))}}if("number"===typeof e)for(u=0;u<t.length;u++)n(t[u],e,0,0,a.width,a.height,a);else if(Array.isArray(e))for(u=0;u<t.length;u++)n(t[u],e[u],0,0,a.width,a.height,a);return c}},function(t,e,i){var r=i(26),n=i(63),s=i(72);t.exports=function(t,e,i,o,a,l,u){for(var h=-1!==u.collideIndexes.indexOf(t),c=r(e,i,o,a,null,u),d=0;d<c.length;d++)c[d].index=t,s(c[d],h);l&&n(e-1,i-1,o+2,a+2,u)}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o,a,l){return r(i,n,s,o,a,l).filter(t,e)}},function(t,e){t.exports=function(t,e,i,r){void 0===e&&(e=0),void 0===i&&(i=!1);var n,s,o,a=0;if(i){for(s=r.height-1;s>=0;s--)for(n=r.width-1;n>=0;n--)if((o=r.data[s][n])&&o.index===t){if(a===e)return o;a+=1}}else for(s=0;s<r.height;s++)for(n=0;n<r.width;n++)if((o=r.data[s][n])&&o.index===t){if(a===e)return o;a+=1}return null}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o,a,l){return r(i,n,s,o,a,l).find(t,e)||null}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o,a,l){r(i,n,s,o,a,l).forEach(t,e)}},function(t,e,i){var r=i(29),n=i(544),s=i(545),o=i(547),a=i(1),l=i(548);t.exports=function(t){return t===r.ORTHOGONAL?n:t===r.HEXAGONAL?s:t===r.STAGGERED?l:t===r.ISOMETRIC?o:a}},function(t,e,i){var r=i(158),n=new(i(3));t.exports=function(t,e,i,s,o){return o.tilemapLayer.worldToTileXY(t,e,!0,n,s),r(n.x,n.y,i,o)}},function(t,e,i){var r=i(483),n=i(26),s=i(484),o=i(1),a=i(3),l=function(t,e){return s.RectangleToTriangle(e,t)},u=new a,h=new a,c=new a;t.exports=function(t,e,i,a){if(void 0===t)return[];var d=o;t instanceof r.Circle?d=s.CircleToRectangle:t instanceof r.Rectangle?d=s.RectangleToRectangle:t instanceof r.Triangle?d=l:t instanceof r.Line&&(d=s.LineToRectangle),a.tilemapLayer.worldToTileXY(t.left,t.top,!0,h,i);var f=h.x,p=h.y;a.tilemapLayer.worldToTileXY(t.right,t.bottom,!0,c,i);var m=Math.ceil(c.x),v=Math.ceil(c.y),y=Math.max(m-f,1),g=Math.max(v-p,1),x=n(f,p,y,g,e,a),b=a.tileWidth,w=a.tileHeight;a.tilemapLayer&&(b*=a.tilemapLayer.scaleX,w*=a.tilemapLayer.scaleY);for(var _=[],S=new r.Rectangle(0,0,b,w),A=0;A<x.length;A++){var T=x[A];a.tilemapLayer.tileToWorldXY(T.x,T.y,u,i),S.x=u.x,S.y=u.y,d(t,S)&&_.push(T)}return _}},function(t,e,i){var r=i(29),n=i(1),s=i(253);t.exports=function(t){return t===r.ORTHOGONAL?s:n}},function(t,e,i){var r=i(29),n=i(550),s=i(551),o=i(1),a=i(552),l=i(553);t.exports=function(t){return t===r.ORTHOGONAL?l:t===r.ISOMETRIC?s:t===r.HEXAGONAL?n:t===r.STAGGERED?a:o}},function(t,e,i){var r=i(29),n=i(554),s=i(1),o=i(555),a=i(254);t.exports=function(t){return t===r.ORTHOGONAL?a:t===r.HEXAGONAL?n:t===r.STAGGERED?o:s}},function(t,e,i){var r=i(29),n=i(1),s=i(255);t.exports=function(t){return t===r.ORTHOGONAL?s:n}},function(t,e,i){var r=i(29),n=i(556),s=i(557),o=i(1),a=i(558),l=i(559);t.exports=function(t){return t===r.ORTHOGONAL?l:t===r.ISOMETRIC?s:t===r.HEXAGONAL?n:t===r.STAGGERED?a:o}},function(t,e,i){var r=i(29),n=i(560),s=i(1),o=i(561),a=i(256);t.exports=function(t){return t===r.ORTHOGONAL?a:t===r.HEXAGONAL?n:t===r.STAGGERED?o:s}},function(t,e,i){var r=i(562),n=new(i(3));t.exports=function(t,e,i,s){s.tilemapLayer.worldToTileXY(t,e,!0,n,i);var o=n.x,a=n.y;return r(o,a,s)}},function(t,e,i){var r=i(257),n=new(i(3));t.exports=function(t,e,i,s,o,a){return a.tilemapLayer.worldToTileXY(e,i,!0,n,o,a),r(t,n.x,n.y,s,a)}},function(t,e,i){var r=i(63),n=i(257);t.exports=function(t,e,i,s,o){if(void 0===s&&(s=!0),!Array.isArray(t))return null;Array.isArray(t[0])||(t=[t]);for(var a=t.length,l=t[0].length,u=0;u<a;u++)for(var h=0;h<l;h++){var c=t[u][h];n(c,e+h,i+u,!1,o)}s&&r(e-1,i-1,l+2,a+2,o)}},function(t,e,i){var r=i(26),n=i(210);t.exports=function(t,e,i,s,o,a){var l,u=r(t,e,i,s,{},a);if(!o)for(o=[],l=0;l<u.length;l++)-1===o.indexOf(u[l].index)&&o.push(u[l].index);for(l=0;l<u.length;l++)u[l].index=n(o)}},function(t,e,i){var r=i(563),n=new(i(3));t.exports=function(t,e,i,s,o,a){return a.tilemapLayer.worldToTileXY(t,e,!0,n,o,a),r(n.x,n.y,i,s,a)}},function(t,e,i){var r=i(26),n=i(397),s=new n(105,210,231,150),o=new n(243,134,48,200),a=new n(40,39,37,150);t.exports=function(t,e,i){void 0===e&&(e={});var n=void 0!==e.tileColor?e.tileColor:s,l=void 0!==e.collidingTileColor?e.collidingTileColor:o,u=void 0!==e.faceColor?e.faceColor:a,h=r(0,0,i.width,i.height,null,i);t.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),t.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<h.length;c++){var d=h[c],f=d.width,p=d.height,m=d.pixelX,v=d.pixelY,y=d.collides?l:n;null!==y&&(t.fillStyle(y.color,y.alpha/255),t.fillRect(m,v,f,p)),m+=1,v+=1,f-=2,p-=2,null!==u&&(t.lineStyle(1,u.color,u.alpha/255),d.faceTop&&t.lineBetween(m,v,m+f,v),d.faceRight&&t.lineBetween(m+f,v,m+f,v+p),d.faceBottom&&t.lineBetween(m,v+p,m+f,v+p),d.faceLeft&&t.lineBetween(m,v,m,v+p))}}},function(t,e,i){var r=i(72),n=i(63),s=i(160);t.exports=function(t,e,i,o,a){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===a&&(a=!0),Array.isArray(t)||(t=[t]);for(var l=0;l<t.length;l++)s(t[l],e,o);if(a)for(var u=0;u<o.height;u++)for(var h=0;h<o.width;h++){var c=o.data[u][h];c&&-1!==t.indexOf(c.index)&&r(c,e)}i&&n(0,0,o.width,o.height,o)}},function(t,e,i){var r=i(72),n=i(63),s=i(160);t.exports=function(t,e,i,o,a,l){if(void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===l&&(l=!0),!(t>e)){for(var u=t;u<=e;u++)s(u,i,a);if(l)for(var h=0;h<a.height;h++)for(var c=0;c<a.width;c++){var d=a.data[h][c];d&&d.index>=t&&d.index<=e&&r(d,i)}o&&n(0,0,a.width,a.height,a)}}},function(t,e,i){var r=i(72),n=i(63),s=i(160);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);for(var a=0;a<o.height;a++)for(var l=0;l<o.width;l++){var u=o.data[a][l];u&&-1===t.indexOf(u.index)&&(r(u,e),s(u.index,e,o))}i&&n(0,0,o.width,o.height,o)}},function(t,e,i){var r=i(72),n=i(63),s=i(126);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0);for(var a=0;a<o.height;a++)for(var l=0;l<o.width;l++){var u=o.data[a][l];if(u)for(var h in t)if(s(u.properties,h)){var c=t[h];Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)u.properties[h]===c[d]&&r(u,e)}}i&&n(0,0,o.width,o.height,o)}},function(t,e,i){var r=i(72),n=i(63);t.exports=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0);for(var s=0;s<i.height;s++)for(var o=0;o<i.width;o++){var a=i.data[s][o];if(a){var l=a.getCollisionGroup();l&&l.objects&&l.objects.length>0&&r(a,t)}}e&&n(0,0,i.width,i.height,i)}},function(t,e){t.exports=function(t,e,i,r){if("number"===typeof t)r.callbacks[t]=null!==e?{callback:e,callbackContext:i}:void 0;else for(var n=0,s=t.length;n<s;n++)r.callbacks[t[n]]=null!==e?{callback:e,callbackContext:i}:void 0}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o,a){for(var l=r(t,e,i,n,null,a),u=0;u<l.length;u++)l[u].setCollisionCallback(s,o)}},function(t,e,i){var r=i(26),n=i(131);t.exports=function(t,e,i,s,o){var a=r(t,e,i,s,null,o),l=a.map((function(t){return t.index}));n(l);for(var u=0;u<a.length;u++)a[u].index=l[u]}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o,a){for(var l=r(i,n,s,o,null,a),u=0;u<l.length;u++)l[u]&&(l[u].index===t?l[u].index=e:l[u].index===e&&(l[u].index=t))}},function(t,e,i){var r=i(26);t.exports=function(t,e,i,n,s,o){if(s){var a,l=r(t,e,i,n,null,o),u=0;for(a=0;a<s.length;a++)u+=s[a].weight;if(!(u<=0))for(a=0;a<l.length;a++){for(var h=Math.random()*u,c=0,d=-1,f=0;f<s.length;f++)if(h<=(c+=s[f].weight)){var p=s[f].index;d=Array.isArray(p)?p[Math.floor(Math.random()*p.length)]:p;break}l[a].index=d}}}},function(t,e,i){t.exports={FromOrientationString:i(258),Parse:i(564),Parse2DArray:i(259),ParseCSV:i(565),Impact:i(1454),Tiled:i(1455)}},function(t,e){t.exports=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=i;if(r.name&&""!==r.name&&(n=r.name),Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var s,o,a,l={},u={};if(Array.isArray(r.edgecolors))for(s=0;s<r.edgecolors.length;s++)a=1+s,""!==(o=r.edgecolors[s]).name&&(l[a]=o.name);if(Array.isArray(r.cornercolors))for(s=0;s<r.cornercolors.length;s++)a=1+s,""!==(o=r.cornercolors[s]).name&&(u[a]=o.name);if(Array.isArray(r.colors))for(s=0;s<r.colors.length;s++)a=1+s,""!==(o=r.colors[s]).name&&(l[a]=u[a]=o.name);for(var h=[l,u,l,u,l,u,l,u],c=0;c<r.wangtiles.length;c++){var d=r.wangtiles[c],f=e[d.tileid]||(e[d.tileid]={});f=f.wangid||(f.wangid={});for(var p=[],m=0;m<Math.min(h.length,d.wangid.length);m++)if(0!==(o=d.wangid[m])){var v=h[m][o];void 0===v?p.push(o):p.push(v)}else p.push(void 0);f[n]=p}}}}},function(t,e,i){t.exports={ParseTileLayers:i(578),ParseTilesets:i(579),ParseWeltmeister:i(577)}},function(t,e,i){t.exports={AssignTileProperties:i(567),Base64Decode:i(574),BuildTilesetIndex:i(568),CreateGroupLayer:i(161),ParseGID:i(261),ParseImageLayers:i(569),ParseJSONTiled:i(566),ParseObject:i(260),ParseObjectLayers:i(570),ParseTileLayers:i(573),ParseTilesets:i(575)}},function(t,e,i){var r=i(1),n=i(1);r=i(1457),n=i(1458),t.exports={renderWebGL:r,renderCanvas:n}},function(t,e,i){var r=i(12);t.exports=function(t,e,i){var n=e.cull(i),s=n.length,o=i.alpha*e.alpha;if(!(0===s||o<=0)){var a=e.gidMap,l=t.pipelines.set(e.pipeline,e),u=r.getTintAppendFloatAlpha,h=e.scrollFactorX,c=e.scrollFactorY,d=e.x,f=e.y,p=e.scaleX,m=e.scaleY;t.pipelines.preBatch(e);for(var v=0;v<s;v++){var y=n[v],g=a[y.index];if(g){var x=g.getTileTextureCoordinates(y.index);if(null!==x){var b=g.glTexture,w=l.setTexture2D(b,e),_=g.tileWidth,S=g.tileHeight,A=x.x,T=x.y,E=.5*g.tileWidth,M=.5*g.tileHeight,C=u(y.tint,o*y.alpha);l.batchTexture(e,b,b.width,b.height,d+(E+y.pixelX)*p,f+(M+y.pixelY)*m,y.width,y.height,p,m,y.rotation,y.flipX,y.flipY,h,c,E,M,A,T,_,S,C,C,C,C,!1,0,0,i,null,!0,w)}}}t.pipelines.postBatch(e)}}},function(t,e,i){var r=i(25),n=new r,s=new r,o=new r;t.exports=function(t,e,i,r){var a=e.cull(i),l=a.length,u=i.alpha*e.alpha;if(!(0===l||u<=0)){var h=n,c=s,d=o;c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(i.matrix);var f=t.currentContext,p=e.gidMap;f.save(),r?(h.multiplyWithOffset(r,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),c.e=e.x,c.f=e.y,h.multiply(c,d),d.copyToContext(f)):(c.e-=i.scrollX*e.scrollFactorX,c.f-=i.scrollY*e.scrollFactorY,c.copyToContext(f)),(!t.antialias||e.scaleX>1||e.scaleY>1)&&(f.imageSmoothingEnabled=!1);for(var m=0;m<l;m++){var v=a[m],y=p[v.index];if(y){var g=y.image.getSourceImage(),x=y.getTileTextureCoordinates(v.index);if(null!==x){var b=y.tileWidth,w=y.tileHeight,_=.5*b,S=.5*w;f.save(),f.translate(v.pixelX+_,v.pixelY+S),0!==v.rotation&&f.rotate(v.rotation),(v.flipX||v.flipY)&&f.scale(v.flipX?-1:1,v.flipY?-1:1),f.globalAlpha=u*v.alpha,f.drawImage(g,x.x,x.y,b,w,-_,-S,b,w),f.restore()}}}f.restore()}}},function(t,e,i){var r=i(16),n=i(262);r.register("tilemap",(function(t){var e=void 0!==t?t:{};return n(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)}))},function(t,e,i){var r=i(5),n=i(262);r.register("tilemap",(function(t,e,i,r,s,o,a){return null===t&&(t=void 0),null===e&&(e=void 0),null===i&&(i=void 0),null===r&&(r=void 0),null===s&&(s=void 0),n(this.scene,t,e,i,r,s,o,a)}))},function(t,e,i){t.exports={Clock:i(1462),TimerEvent:i(582)}},function(t,e,i){var r=i(0),n=i(24),s=i(20),o=i(582),a=i(93),l=new r({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once(s.BOOT,this.boot,this),t.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(s.PRE_UPDATE,this.preUpdate,this),t.on(s.UPDATE,this.update,this),t.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(t){var e;return t instanceof o?(e=t,this.removeEvent(e),e.elapsed=e.startAt,e.hasDispatched=!1,e.repeatCount=-1===e.repeat||e.loop?999999999999:e.repeat):e=new o(t),this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,r){return this.addEvent({delay:t,callback:e,args:i,callbackScope:r})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];a(this._pendingRemoval,i),a(this._pendingInsertion,i),a(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,r;for(i=0;i<t;i++){r=this._pendingRemoval[i];var n=this._active.indexOf(r);n>-1&&this._active.splice(n,1),r.destroy()}for(i=0;i<e;i++)r=this._pendingInsertion[i],this._active.push(r);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){e*=this.timeScale;for(var i=0;i<this._active.length;i++){var r=this._active[i];if(!r.paused&&(r.elapsed+=e*r.timeScale,r.elapsed>=r.delay)){var n=r.elapsed-r.delay;r.elapsed=r.delay,!r.hasDispatched&&r.callback&&(r.hasDispatched=!0,r.callback.apply(r.callbackScope,r.args)),r.repeatCount>0?(r.repeatCount--,r.elapsed=n,r.hasDispatched=!1):this._pendingRemoval.push(r)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off(s.PRE_UPDATE,this.preUpdate,this),e.off(s.UPDATE,this.update,this),e.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});n.register("Clock",l,"time"),t.exports=l},function(t,e,i){var r=i(100),n=i(17),s={Builders:i(1464),Events:i(267),TweenManager:i(1480),Tween:i(266),TweenData:i(268),Timeline:i(588)};s=n(!1,s,r),t.exports=s},function(t,e,i){t.exports={GetBoolean:i(99),GetEaseFunction:i(80),GetNewValue:i(162),GetProps:i(583),GetTargets:i(263),GetTweens:i(584),GetValueOp:i(264),NumberTweenBuilder:i(585),StaggerBuilder:i(586),TimelineBuilder:i(587),TweenBuilder:i(163)}},function(t,e){t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(t,e){t.exports="complete"},function(t,e){t.exports="loop"},function(t,e){t.exports="pause"},function(t,e){t.exports="resume"},function(t,e){t.exports="start"},function(t,e){t.exports="update"},function(t,e){t.exports="active"},function(t,e){t.exports="complete"},function(t,e){t.exports="loop"},function(t,e){t.exports="repeat"},function(t,e){t.exports="start"},function(t,e){t.exports="stop"},function(t,e){t.exports="update"},function(t,e){t.exports="yoyo"},function(t,e,i){var r=i(93),n=i(0),s=i(585),o=i(24),a=i(20),l=i(586),u=i(587),h=i(100),c=i(163),d=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once(a.BOOT,this.boot,this),t.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(a.PRE_UPDATE,this.preUpdate,this),t.on(a.UPDATE,this.update,this),t.once(a.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(t){return u(this,t)},timeline:function(t){var e=u(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return c(this,t)},add:function(t){var e=c(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=s(this,t);return this._add.push(e),this._toProcess++,e},stagger:function(t,e){return l(t,e)},preUpdate:function(){if(0!==this._toProcess){var t,e,i=this._destroy,r=this._active,n=this._pending;for(t=0;t<i.length;t++){e=i[t];var s=r.indexOf(e);-1===s?(s=n.indexOf(e))>-1&&(e.state=h.REMOVED,n.splice(s,1)):(e.state=h.REMOVED,r.splice(s,1))}for(i.length=0,i=this._add,t=0;t<i.length;t++)(e=i[t]).state===h.PENDING_ADD&&(e.init()?(e.play(),this._active.push(e)):this._pending.push(e));i.length=0,this._toProcess=0}},update:function(t,e){var i,r=this._active;e*=this.timeScale;for(var n=0;n<r.length;n++)(i=r[n]).update(t,e)&&(this._destroy.push(i),this._toProcess++)},remove:function(t){return r(this._add,t),r(this._pending,t),r(this._active,t),r(this._destroy,t),t.state=h.REMOVED,this},makeActive:function(t){if(-1!==this._add.indexOf(t)||-1!==this._active.indexOf(t))return this;var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=h.PENDING_ADD,this._toProcess++,this},each:function(t,e){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},getAllTweens:function(){for(var t=this._active,e=[],i=0;i<t.length;i++)e.push(t[i]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t,e){void 0===e&&(e=!1);var i,r,n,s=this._active,o=[];for(Array.isArray(t)||(t=[t]),r=0;r<s.length;r++)for(i=s[r],n=0;n<t.length;n++)i.hasTarget(t[n])&&o.push(i);if(e)for(s=this._pending,r=0;r<s.length;r++)for(i=s[r],n=0;n<t.length;n++)i.hasTarget(t[n])&&o.push(i);return o},isTweening:function(t){for(var e,i=this._active,r=0;r<i.length;r++)if((e=i[r]).hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off(a.PRE_UPDATE,this.preUpdate,this),t.off(a.UPDATE,this.update,this),t.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("TweenManager",d,"tweens"),t.exports=d},function(t,e,i){t.exports={Array:i(208),Base64:i(1482),Objects:i(1484),String:i(1488),NOOP:i(1)}},function(t,e,i){t.exports={ArrayBufferToBase64:i(1483),Base64ToArrayBuffer:i(433)}},function(t,e){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports=function(t,e){for(var r=new Uint8Array(t),n=r.length,s=e?"data:"+e+";base64,":"",o=0;o<n;o+=3)s+=i[r[o]>>2],s+=i[(3&r[o])<<4|r[o+1]>>4],s+=i[(15&r[o+1])<<2|r[o+2]>>6],s+=i[63&r[o+2]];return n%3===2?s=s.substring(0,s.length-1)+"=":n%3===1&&(s=s.substring(0,s.length-2)+"=="),s}},function(t,e,i){t.exports={Clone:i(77),DeepCopy:i(175),Extend:i(17),GetAdvancedValue:i(13),GetFastValue:i(2),GetMinMaxValue:i(1485),GetValue:i(6),HasAll:i(1486),HasAny:i(455),HasValue:i(126),IsPlainObject:i(7),Merge:i(127),MergeRight:i(1487),Pick:i(571),SetValue:i(478)}},function(t,e,i){var r=i(6),n=i(18);t.exports=function(t,e,i,s,o){void 0===o&&(o=i);var a=r(t,e,o);return n(a,i,s)}},function(t,e){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0}},function(t,e,i){var r=i(77);t.exports=function(t,e){var i=r(t);for(var n in e)i.hasOwnProperty(n)&&(i[n]=e[n]);return i}},function(t,e,i){t.exports={Format:i(1489),Pad:i(186),RemoveAt:i(1490),Reverse:i(1491),UppercaseFirst:i(205),UUID:i(222)}},function(t,e){t.exports=function(t,e){return t.replace(/%([0-9]+)/g,(function(t,i){return e[Number(i)-1]}))}},function(t,e){t.exports=function(t,e){return 0===e?t.slice(1):t.slice(0,e-1)+t.slice(e)}},function(t,e){t.exports=function(t){return t.split("").reverse().join("")}},function(t,e,i){t.exports={SoundManagerCreator:i(426),Events:i(70),BaseSound:i(146),BaseSoundManager:i(145),WebAudioSound:i(434),WebAudioSoundManager:i(432),HTML5AudioSound:i(429),HTML5AudioSoundManager:i(427),NoAudioSound:i(431),NoAudioSoundManager:i(430)}},function(t,e,i){t.exports={Arcade:i(1366),Matter:i(1494)}},function(t,e,i){t.exports={BodyBounds:i(1392),Components:i(249),Events:i(272),Factory:i(1394),MatterGameObject:i(1395),Image:i(1396),Matter:i(594),MatterPhysics:i(1524),PolyDecomp:i(1393),Sprite:i(1397),TileBody:i(593),PhysicsEditorParser:i(589),PhysicsJSONParser:i(590),PointerConstraint:i(1398),World:i(1402)}},function(t,e){t.exports={setBounce:function(t){return this.body.restitution=t,this}}},function(t,e){var i={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return this.body.collisionFilter.mask=e,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i].hasOwnProperty("body")?t[i].body:t[i];this.body.setOnCollideWith(r,e)}return this}};t.exports=i},function(t,e,i){var r=i(41),n={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),r.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return r.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=n},function(t,e){var i={setFriction:function(t,e,i){return this.body.friction=t,void 0!==e&&(this.body.frictionAir=e),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};t.exports=i},function(t,e){t.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},function(t,e,i){var r=i(41),n=i(3),s={setMass:function(t){return r.setMass(this.body,t),this},setDensity:function(t){return r.setDensity(this.body,t),this},centerOfMass:{get:function(){return new n(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};t.exports=s},function(t,e){t.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},function(t,e,i){var r=i(86),n=i(41),s=i(124),o=i(2),a=i(589),l=i(590),u=i(64),h={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,r){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},r)},setExistingBody:function(t,e){void 0===e&&(e=!0),this.body&&this.world.remove(this.body,!0),this.body=t;for(var i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;var r=this;if(t.destroy=function(){r.world.remove(r.body,!0),r.body.gameObject=null},e&&(this.world.has(t)&&this.world.remove(t,!0),this.world.add(t)),this._originComponent){var n=t.render.sprite.xOffset,o=t.render.sprite.yOffset,a=t.centerOfMass.x,l=t.centerOfMass.y;if(s(a,.5)&&s(l,.5))this.setOrigin(n+.5,o+.5);else{var u=t.centerOffset.x,h=t.centerOffset.y;this.setOrigin(n+u/this.displayWidth,o+h/this.displayHeight)}}return this},setBody:function(t,e){if(!t)return this;var i;"string"===typeof t&&(t={type:t});var s=o(t,"type","rectangle"),h=o(t,"x",this._tempVec2.x),c=o(t,"y",this._tempVec2.y),d=o(t,"width",this.width),f=o(t,"height",this.height);switch(s){case"rectangle":i=r.rectangle(h,c,d,f,e);break;case"circle":var p=o(t,"radius",Math.max(d,f)/2),m=o(t,"maxSides",25);i=r.circle(h,c,p,e,m);break;case"trapezoid":var v=o(t,"slope",.5);i=r.trapezoid(h,c,d,f,v,e);break;case"polygon":var y=o(t,"sides",5),g=o(t,"radius",Math.max(d,f)/2);i=r.polygon(h,c,y,g,e);break;case"fromVertices":case"fromVerts":var x=o(t,"verts",null);if(x)if("string"===typeof x&&(x=u.fromPath(x)),this.body&&!this.body.hasOwnProperty("temp"))n.setVertices(this.body,x),i=this.body;else{var b=o(t,"flagInternal",!1),w=o(t,"removeCollinear",.01),_=o(t,"minimumArea",10);i=r.fromVertices(h,c,x,e,b,w,_)}break;case"fromPhysicsEditor":i=a.parseBody(h,c,t,e);break;case"fromPhysicsTracer":i=l.parseBody(h,c,t,e)}return i&&this.setExistingBody(i,t.addToWorld),this}};t.exports=h},function(t,e,i){var r=i(272),n=i(165),s=i(166),o={setToSleep:function(){return n.set(this.body,!0),this},setAwake:function(){return n.set(this.body,!1),this},setSleepThreshold:function(t){return void 0===t&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;s.on(this.body,"sleepStart",(function(t){e.emit(r.SLEEP_START,t,this)}))}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;s.on(this.body,"sleepEnd",(function(t){e.emit(r.SLEEP_END,t,this)}))}else s.off(this.body,"sleepEnd");return this}};t.exports=o},function(t,e){t.exports="afteradd"},function(t,e){t.exports="afterremove"},function(t,e){t.exports="afterupdate"},function(t,e){t.exports="beforeadd"},function(t,e){t.exports="beforeremove"},function(t,e){t.exports="beforeupdate"},function(t,e){t.exports="collisionactive"},function(t,e){t.exports="collisionend"},function(t,e){t.exports="collisionstart"},function(t,e){t.exports="dragend"},function(t,e){t.exports="drag"},function(t,e){t.exports="dragstart"},function(t,e){t.exports="pause"},function(t,e){t.exports="resume"},function(t,e){t.exports="sleepend"},function(t,e){t.exports="sleepstart"},function(t,e,i){var r=i(41),n={setStatic:function(t){return r.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=n},function(t,e,i){var r=i(41),n=i(14),s=i(269),o=i(270),a={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),r.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),r.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,r.scale(this.body,e,i),r.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,r.scale(this.body,e,i),r.scale(this.body,this._scaleX,t)}},angle:{get:function(){return o(this.body.angle*n.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=s(t),r.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._tempVec2.set(t,e),r.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return void 0===t&&(t=0),this._rotation=s(t),r.setAngle(this.body,t),this},setFixedRotation:function(){return r.setInertia(this.body,1/0),this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,r.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=t);var n=1/this._scaleX,s=1/this._scaleY;return this._scaleX=t,this._scaleY=e,r.scale(this.body,n,s,i),r.scale(this.body,t,e,i),this}};t.exports=a},function(t,e,i){var r=i(41),n={setAngularVelocity:function(t){return r.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),r.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),r.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),r.setVelocity(this.body,this._tempVec2),this}};t.exports=n},function(t,e,i){var r={};t.exports=r;var n=i(118),s=i(32);r.create=function(t){return s.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,t)},r.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},r.update=function(t,e){if(t.extended){var i=e.world,r=n.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=r.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(r.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}},function(t,e,i){var r=i(123),n=i(271),s=i(86),o=i(41),a=i(1392),l=i(84),u=i(0),h=i(118),c=i(591),d=i(128),f=i(273),p=i(50),m=i(1394),v=i(2),y=i(6),g=i(597),x=i(1525),b=i(1526),w=i(1399),_=i(1527),S=i(127),A=i(250),T=i(598),E=i(595),M=i(24),C=i(1400),P=i(599),R=i(274),k=i(20),L=i(592),O=i(83),D=i(64),I=i(1402),F=new u({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=o,this.composite=h,this.detector=f,this.grid=g,this.pair=A,this.pairs=T,this.query=C,this.resolver=P,this.sat=R,this.constraint=d,this.bodies=s,this.composites=c,this.axes=n,this.bounds=l,this.svg=L,this.vector=O,this.vertices=D,this.verts=D,this._tempVec2=O.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),P._restingThresh=y(this.config,"restingThresh",4),P._restingThreshTangent=y(this.config,"restingThreshTangent",6),P._positionDampen=y(this.config,"positionDampen",.9),P._positionWarming=y(this.config,"positionWarming",.8),P._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),t.sys.events.once(k.BOOT,this.boot,this),t.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new I(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new a,this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new I(this.scene,this.config),this.add=new m(this.world));var t=this.systems.events;t.on(k.UPDATE,this.world.update,this.world),t.on(k.POST_UPDATE,this.world.postUpdate,this.world),t.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return S(v(e,"matter",{}),v(t,"matter",{}))},enableAttractorPlugin:function(){return E.register(x),E.use(w,x),this},enableWrapPlugin:function(){return E.register(_),E.use(w,_),this},enableCollisionEventsPlugin:function(){return E.register(b),E.use(w,b),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var r=O.create(e,i);return C.point(t,r).length>0},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var r=O.create(t,e),n=[];return C.point(i,r).forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n},intersectRect:function(t,e,i,r,n,s){void 0===n&&(n=!1),s=this.getMatterBodies(s);var o={min:{x:t,y:e},max:{x:t+i,y:e+r}},a=[];return C.region(s,o,n).forEach((function(t){-1===a.indexOf(t)&&a.push(t)})),a},intersectRay:function(t,e,i,r,n,s){void 0===n&&(n=1),s=this.getMatterBodies(s);for(var o=[],a=C.ray(s,O.create(t,e),O.create(i,r),n),l=0;l<a.length;l++)o.push(a[l].body);return o},intersectBody:function(t,e){e=this.getMatterBodies(e);for(var i=[],r=C.collides(t,e),n=0;n<r.length;n++){var s=r[n];s.bodyA===t?i.push(s.bodyB):i.push(s.bodyA)}return i},overlap:function(t,e,i,r,n){void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=i),Array.isArray(t)||(t=[t]),t=this.getMatterBodies(t),e=this.getMatterBodies(e);for(var s=!1,o=0;o<t.length;o++)for(var a=t[o],l=C.collides(a,e),u=0;u<l.length;u++){var h=l[u],c=h.bodyA.id===a.id?h.bodyB:h.bodyA;if(!r||r.call(n,a,c,h))if(s=!0,i)i.call(n,a,c,h);else if(!r)return!0}return s},setCollisionCategory:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.category=e})),this},setCollisionGroup:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.group=e})),this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(Array.isArray(e))for(var r=0;r<e.length;r++)i|=e[r];else i=e;return t.forEach((function(t){t.collisionFilter.mask=i})),this},getMatterBodies:function(t){if(!t)return this.world.getAllBodies();Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var r=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(r)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var r=this._tempVec2;return r.x=e,r.y=i,t.forEach((function(t){o.setVelocity(t,r)})),this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.x=e,t.forEach((function(t){i.y=t.velocity.y,o.setVelocity(t,i)})),this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.y=e,t.forEach((function(t){i.x=t.velocity.x,o.setVelocity(t,i)})),this},setAngularVelocity:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){o.setAngularVelocity(t,e)})),this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return t.forEach((function(t){i.x=t.position.x,i.y=t.position.y,o.applyForce(t,i,e)})),this},applyForceFromPosition:function(t,e,i,r){t=this.getMatterBodies(t);var n=this._tempVec2;return t.forEach((function(t){void 0===r&&(r=t.angle),n.x=i*Math.cos(r),n.y=i*Math.sin(r),o.applyForce(t,e,n)})),this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var r=this._tempVec2;return t.forEach((function(t){void 0===i&&(i=t.angle),r.x=e*Math.cos(i),r.y=e*Math.sin(i),o.applyForce(t,{x:t.position.x,y:t.position.y},r)})),this},getConstraintLength:function(t){var e=t.pointA.x,i=t.pointA.y,r=t.pointB.x,n=t.pointB.y;return t.bodyA&&(e+=t.bodyA.position.x,i+=t.bodyA.position.y),t.bodyB&&(r+=t.bodyB.position.x,n+=t.bodyB.position.y),p(e,i,r,n)},alignBody:function(t,e,i,n){var s;switch(t=t.hasOwnProperty("body")?t.body:t,n){case r.TOP_LEFT:case r.LEFT_TOP:s=this.bodyBounds.getTopLeft(t,e,i);break;case r.TOP_CENTER:s=this.bodyBounds.getTopCenter(t,e,i);break;case r.TOP_RIGHT:case r.RIGHT_TOP:s=this.bodyBounds.getTopRight(t,e,i);break;case r.LEFT_CENTER:s=this.bodyBounds.getLeftCenter(t,e,i);break;case r.CENTER:s=this.bodyBounds.getCenter(t,e,i);break;case r.RIGHT_CENTER:s=this.bodyBounds.getRightCenter(t,e,i);break;case r.LEFT_BOTTOM:case r.BOTTOM_LEFT:s=this.bodyBounds.getBottomLeft(t,e,i);break;case r.BOTTOM_CENTER:s=this.bodyBounds.getBottomCenter(t,e,i);break;case r.BOTTOM_RIGHT:case r.RIGHT_BOTTOM:s=this.bodyBounds.getBottomRight(t,e,i)}return s&&o.setPosition(t,s),this},shutdown:function(){var t=this.systems.events;this.world&&(t.off(k.UPDATE,this.world.update,this.world),t.off(k.POST_UPDATE,this.world.postUpdate,this.world)),t.off(k.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});M.register("MatterPhysics",F,"matterPhysics"),t.exports=F},function(t,e,i){var r=i(594),n={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Body.create",(function(){n.Body.init(this)})),t.before("Engine.update",(function(t){n.Engine.update(t)}))},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var e=r.Composite.allBodies(t.world),i=0;i<e.length;i++){var n=e[i],s=n.plugin.attractors;if(s&&s.length>0)for(var o=0;o<e.length;o++){var a=e[o];if(i!==o)for(var l=0;l<s.length;l++){var u=s[l],h=u;r.Common.isFunction(u)&&(h=u(n,a)),h&&r.Body.applyForce(a,a.position,h)}}}}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=r.Vector.sub(e.position,t.position),s=r.Vector.magnitudeSquared(i)||1e-4,o=r.Vector.normalise(i),a=-n.Attractors.gravityConstant*(t.mass*e.mass/s),l=r.Vector.mult(o,a);r.Body.applyForce(t,t.position,r.Vector.neg(l)),r.Body.applyForce(e,e.position,l)}}};t.exports=n},function(t,e){t.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.create",(function(){t.Events.on(this,"collisionStart",(function(e){e.pairs.map((function(e){var i=e.bodyA,r=e.bodyB;i.gameObject&&i.gameObject.emit("collide",i,r,e),r.gameObject&&r.gameObject.emit("collide",r,i,e),t.Events.trigger(i,"onCollide",{pair:e}),t.Events.trigger(r,"onCollide",{pair:e}),i.onCollideCallback&&i.onCollideCallback(e),r.onCollideCallback&&r.onCollideCallback(e),i.onCollideWith[r.id]&&i.onCollideWith[r.id](r,e),r.onCollideWith[i.id]&&r.onCollideWith[i.id](i,e)}))})),t.Events.on(this,"collisionActive",(function(e){e.pairs.map((function(e){var i=e.bodyA,r=e.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,r,e),r.gameObject&&r.gameObject.emit("collideActive",r,i,e),t.Events.trigger(i,"onCollideActive",{pair:e}),t.Events.trigger(r,"onCollideActive",{pair:e}),i.onCollideActiveCallback&&i.onCollideActiveCallback(e),r.onCollideActiveCallback&&r.onCollideActiveCallback(e)}))})),t.Events.on(this,"collisionEnd",(function(e){e.pairs.map((function(e){var i=e.bodyA,r=e.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,r,e),r.gameObject&&r.gameObject.emit("collideEnd",r,i,e),t.Events.trigger(i,"onCollideEnd",{pair:e}),t.Events.trigger(r,"onCollideEnd",{pair:e}),i.onCollideEndCallback&&i.onCollideEndCallback(e),r.onCollideEndCallback&&r.onCollideEndCallback(e)}))}))}))}}},function(t,e,i){var r=i(594),n={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.update",(function(){n.Engine.update(this)}))},Engine:{update:function(t){for(var e=t.world,i=r.Composite.allBodies(e),s=r.Composite.allComposites(e),o=0;o<i.length;o+=1){var a=i[o];a.plugin.wrap&&n.Body.wrap(a,a.plugin.wrap)}for(o=0;o<s.length;o+=1){var l=s[o];l.plugin.wrap&&n.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,r=null;if("undefined"!==typeof e.min.x&&"undefined"!==typeof e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),"undefined"!==typeof e.min.y&&"undefined"!==typeof e.max.y&&(t.min.y>e.max.y?r=e.min.y-t.max.y:t.max.y<e.min.y&&(r=e.max.y-t.min.y)),null!==i||null!==r)return{x:i||0,y:r||0}}},Body:{wrap:function(t,e){var i=n.Bounds.wrap(t.bounds,e);return i&&r.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=r.Composite.allBodies(t),i=[],n=0;n<e.length;n+=1){var s=e[n];i.push(s.bounds.min,s.bounds.max)}return r.Bounds.create(i)},wrap:function(t,e){var i=n.Bounds.wrap(n.Composite.bounds(t),e);return i&&r.Composite.translate(t,i),i}}};t.exports=n},function(t,e,i){(function(e){var r=i(33),n=i(17),s={Actions:i(275),Animations:i(723),BlendModes:i(35),Cache:i(735),Cameras:i(738),Core:i(806),Class:i(0),Create:i(888),Curves:i(894),Data:i(896),Display:i(898),DOM:i(917),Events:i(918),Game:i(920),GameObjects:i(1011),Geom:i(483),Input:i(1308),Loader:i(1338),Math:i(193),Physics:i(1493),Plugins:i(1403),Renderer:i(1405),Scale:i(1412),ScaleModes:i(168),Scene:i(418),Scenes:i(1413),Structs:i(1415),Textures:i(1416),Tilemaps:i(1418),Time:i(1461),Tweens:i(1463),Utils:i(1481)};s.Sound=i(1492),s=n(!1,s,r),t.exports=s,e.Phaser=s}).call(this,i(600))}])},t.exports=r()},888:function(t,e,i){"use strict";var r=i(9047);function n(){}function s(){}s.resetWarningCache=n,t.exports=function(){function t(t,e,i,n,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:n};return i.PropTypes=i,i}},2007:function(t,e,i){t.exports=i(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(t,e,i){"use strict";var r=i(2791),n=i(1725),s=i(5296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(l[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function v(t,e,i,r,n,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function x(t){return t[1].toUpperCase()}function b(t,e,i,r){var n=y.hasOwnProperty(e)?y[e]:null;(null!==n?0===n.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,r){if(null===e||"undefined"===typeof e||function(t,e,i,r){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,r))return!0;if(r)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,n,r)&&(i=null),r||null===n?function(t){return!!f.call(m,t)||!f.call(p,t)&&(d.test(t)?m[t]=!0:(p[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=null===i?3!==n.type&&"":i:(e=n.attributeName,r=n.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,x);y[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,x);y[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,x);y[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,S=60106,A=60107,T=60108,E=60114,M=60109,C=60110,P=60112,R=60113,k=60120,L=60115,O=60116,D=60121,I=60128,F=60129,j=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var N=Symbol.for;_=N("react.element"),S=N("react.portal"),A=N("react.fragment"),T=N("react.strict_mode"),E=N("react.profiler"),M=N("react.provider"),C=N("react.context"),P=N("react.forward_ref"),R=N("react.suspense"),k=N("react.suspense_list"),L=N("react.memo"),O=N("react.lazy"),D=N("react.block"),N("react.scope"),I=N("react.opaque.id"),F=N("react.debug_trace_mode"),j=N("react.offscreen"),B=N("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function G(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=z&&t[z]||t["@@iterator"])?t:null}function V(t){if(void 0===U)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);U=e&&e[1]||""}return"\n"+U+t}var H=!1;function W(t,e){if(!t||H)return"";H=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var n=l.stack.split("\n"),s=r.stack.split("\n"),o=n.length-1,a=s.length-1;1<=o&&0<=a&&n[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||n[o]!==s[a])return"\n"+n[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?V(t):""}function Y(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 22:return t=W(t.type._render,!1);case 1:return t=W(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case A:return"Fragment";case S:return"Portal";case E:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case L:return X(t.type);case D:return X(t._render);case O:e=t._payload,t=t._init;try{return X(t(e))}catch(i){}}return null}function Z(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Q(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var n=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=q(t)?t.checked?"true":"false":t.value),(t=r)!==i&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var i=e.checked;return n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function tt(t,e){var i=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;i=Z(null!=e.value?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function it(t,e){et(t,e);var i=Z(e.value),r=e.type;if(null!=i)"number"===r?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?nt(t,e.type,i):e.hasOwnProperty("defaultValue")&&nt(t,e.type,Z(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function nt(t,e,i){"number"===e&&J(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function st(t,e){return t=n({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ot(t,e,i,r){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Z(i),e=null,n=0;n<t.length;n++){if(t[n].value===i)return t[n].selected=!0,void(r&&(t[n].defaultSelected=!0));null!==e||t[n].disabled||(e=t[n])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:Z(i)}}function ut(t,e){var i=Z(e.value),r=Z(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=r&&(t.defaultValue=""+r)}function ht(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ct="http://www.w3.org/1999/xhtml",dt="http://www.w3.org/2000/svg";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var mt,vt,yt=(vt=function(t,e){if(t.namespaceURI!==dt||"innerHTML"in t)t.innerHTML=e;else{for((mt=mt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,r){MSApp.execUnsafeLocalFunction((function(){return vt(t,e)}))}:vt);function gt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var xt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||xt.hasOwnProperty(t)&&xt[t]?(""+e).trim():e+"px"}function _t(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var r=0===i.indexOf("--"),n=wt(i,e[i],r);"float"===i&&(i="cssFloat"),r?t.setProperty(i,n):t[i]=n}}Object.keys(xt).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xt[e]=xt[t]}))}));var St=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function At(t,e){if(e){if(St[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function Tt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Et(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Mt=null,Ct=null,Pt=null;function Rt(t){if(t=rn(t)){if("function"!==typeof Mt)throw Error(o(280));var e=t.stateNode;e&&(e=sn(e),Mt(t.stateNode,t.type,e))}}function kt(t){Ct?Pt?Pt.push(t):Pt=[t]:Ct=t}function Lt(){if(Ct){var t=Ct,e=Pt;if(Pt=Ct=null,Rt(t),e)for(t=0;t<e.length;t++)Rt(e[t])}}function Ot(t,e){return t(e)}function Dt(t,e,i,r,n){return t(e,i,r,n)}function It(){}var Ft=Ot,jt=!1,Bt=!1;function Nt(){null===Ct&&null===Pt||(It(),Lt())}function Ut(t,e){var i=t.stateNode;if(null===i)return null;var r=sn(i);if(null===r)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}var zt=!1;if(c)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(vt){zt=!1}function Vt(t,e,i,r,n,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(h){this.onError(h)}}var Ht=!1,Wt=null,Yt=!1,Xt=null,Zt={onError:function(t){Ht=!0,Wt=t}};function qt(t,e,i,r,n,s,o,a,l){Ht=!1,Wt=null,Vt.apply(Zt,arguments)}function Qt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Kt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Qt(t)!==t)throw Error(o(188))}function $t(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,r=e;;){var n=i.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(r=n.return)){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return Jt(n),t;if(s===r)return Jt(n),e;s=s.sibling}throw Error(o(188))}if(i.return!==r.return)i=n,r=s;else{for(var a=!1,l=n.child;l;){if(l===i){a=!0,i=n,r=s;break}if(l===r){a=!0,r=n,i=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===i){a=!0,i=s,r=n;break}if(l===r){a=!0,r=s,i=n;break}l=l.sibling}if(!a)throw Error(o(189))}}if(i.alternate!==r)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var i=t.alternate;null!==e;){if(e===t||e===i)return!0;e=e.return}return!1}var ee,ie,re,ne,se=!1,oe=[],ae=null,le=null,ue=null,he=new Map,ce=new Map,de=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,i,r,n){return{blockedOn:t,domEventName:e,eventSystemFlags:16|i,nativeEvent:n,targetContainers:[r]}}function me(t,e){switch(t){case"focusin":case"focusout":ae=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ue=null;break;case"pointerover":case"pointerout":he.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function ve(t,e,i,r,n,s){return null===t||t.nativeEvent!==s?(t=pe(e,i,r,n,s),null!==e&&(null!==(e=rn(e))&&ie(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==n&&-1===e.indexOf(n)&&e.push(n),t)}function ye(t){var e=en(t.target);if(null!==e){var i=Qt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Kt(i)))return t.blockedOn=e,void ne(t.lanePriority,(function(){s.unstable_runWithPriority(t.priority,(function(){re(i)}))}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function ge(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=rn(i))&&ie(e),t.blockedOn=i,!1;e.shift()}return!0}function xe(t,e,i){ge(t)&&i.delete(e)}function be(){for(se=!1;0<oe.length;){var t=oe[0];if(null!==t.blockedOn){null!==(t=rn(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var i=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i){t.blockedOn=i;break}e.shift()}null===t.blockedOn&&oe.shift()}null!==ae&&ge(ae)&&(ae=null),null!==le&&ge(le)&&(le=null),null!==ue&&ge(ue)&&(ue=null),he.forEach(xe),ce.forEach(xe)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,se||(se=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,be)))}function _e(t){function e(e){return we(e,t)}if(0<oe.length){we(oe[0],t);for(var i=1;i<oe.length;i++){var r=oe[i];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ae&&we(ae,t),null!==le&&we(le,t),null!==ue&&we(ue,t),he.forEach(e),ce.forEach(e),i=0;i<de.length;i++)(r=de[i]).blockedOn===t&&(r.blockedOn=null);for(;0<de.length&&null===(i=de[0]).blockedOn;)ye(i),null===i.blockedOn&&de.shift()}function Se(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ae={animationend:Se("Animation","AnimationEnd"),animationiteration:Se("Animation","AnimationIteration"),animationstart:Se("Animation","AnimationStart"),transitionend:Se("Transition","TransitionEnd")},Te={},Ee={};function Me(t){if(Te[t])return Te[t];if(!Ae[t])return t;var e,i=Ae[t];for(e in i)if(i.hasOwnProperty(e)&&e in Ee)return Te[t]=i[e];return t}c&&(Ee=document.createElement("div").style,"AnimationEvent"in window||(delete Ae.animationend.animation,delete Ae.animationiteration.animation,delete Ae.animationstart.animation),"TransitionEvent"in window||delete Ae.transitionend.transition);var Ce=Me("animationend"),Pe=Me("animationiteration"),Re=Me("animationstart"),ke=Me("transitionend"),Le=new Map,Oe=new Map,De=["abort","abort",Ce,"animationEnd",Pe,"animationIteration",Re,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ke,"transitionEnd","waiting","waiting"];function Ie(t,e){for(var i=0;i<t.length;i+=2){var r=t[i],n=t[i+1];n="on"+(n[0].toUpperCase()+n.slice(1)),Oe.set(r,e),Le.set(r,n),u(n,[r])}}(0,s.unstable_now)();var Fe=8;function je(t){if(0!==(1&t))return Fe=15,1;if(0!==(2&t))return Fe=14,2;if(0!==(4&t))return Fe=13,4;var e=24&t;return 0!==e?(Fe=12,e):0!==(32&t)?(Fe=11,32):0!==(e=192&t)?(Fe=10,e):0!==(256&t)?(Fe=9,256):0!==(e=3584&t)?(Fe=8,e):0!==(4096&t)?(Fe=7,4096):0!==(e=4186112&t)?(Fe=6,e):0!==(e=62914560&t)?(Fe=5,e):67108864&t?(Fe=4,67108864):0!==(134217728&t)?(Fe=3,134217728):0!==(e=805306368&t)?(Fe=2,e):0!==(1073741824&t)?(Fe=1,1073741824):(Fe=8,t)}function Be(t,e){var i=t.pendingLanes;if(0===i)return Fe=0;var r=0,n=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(0!==s)r=s,n=Fe=15;else if(0!==(s=134217727&i)){var l=s&~o;0!==l?(r=je(l),n=Fe):0!==(a&=s)&&(r=je(a),n=Fe)}else 0!==(s=i&~o)?(r=je(s),n=Fe):0!==a&&(r=je(a),n=Fe);if(0===r)return 0;if(r=i&((0>(r=31-He(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&o)){if(je(e),n<=Fe)return e;Fe=n}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)n=1<<(i=31-He(e)),r|=t[i],e&=~n;return r}function Ne(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ue(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=ze(24&~e))?Ue(10,e):t;case 10:return 0===(t=ze(192&~e))?Ue(8,e):t;case 8:return 0===(t=ze(3584&~e))&&(0===(t=ze(4186112&~e))&&(t=512)),t;case 2:return 0===(e=ze(805306368&~e))&&(e=268435456),e}throw Error(o(358,t))}function ze(t){return t&-t}function Ge(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Ve(t,e,i){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-He(e)]=i}var He=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/Ye|0)|0},We=Math.log,Ye=Math.LN2;var Xe=s.unstable_UserBlockingPriority,Ze=s.unstable_runWithPriority,qe=!0;function Qe(t,e,i,r){jt||It();var n=Je,s=jt;jt=!0;try{Dt(n,t,e,i,r)}finally{(jt=s)||Nt()}}function Ke(t,e,i,r){Ze(Xe,Je.bind(null,t,e,i,r))}function Je(t,e,i,r){var n;if(qe)if((n=0===(4&e))&&0<oe.length&&-1<fe.indexOf(t))t=pe(null,t,e,i,r),oe.push(t);else{var s=$e(t,e,i,r);if(null===s)n&&me(t,r);else{if(n){if(-1<fe.indexOf(t))return t=pe(s,t,e,i,r),void oe.push(t);if(function(t,e,i,r,n){switch(e){case"focusin":return ae=ve(ae,t,e,i,r,n),!0;case"dragenter":return le=ve(le,t,e,i,r,n),!0;case"mouseover":return ue=ve(ue,t,e,i,r,n),!0;case"pointerover":var s=n.pointerId;return he.set(s,ve(he.get(s)||null,t,e,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,ce.set(s,ve(ce.get(s)||null,t,e,i,r,n)),!0}return!1}(s,t,e,i,r))return;me(t,r)}Dr(t,e,r,null,i)}}}function $e(t,e,i,r){var n=Et(r);if(null!==(n=en(n))){var s=Qt(n);if(null===s)n=null;else{var o=s.tag;if(13===o){if(null!==(n=Kt(s)))return n;n=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Dr(t,e,r,n,i),null}var ti=null,ei=null,ii=null;function ri(){if(ii)return ii;var t,e,i=ei,r=i.length,n="value"in ti?ti.value:ti.textContent,s=n.length;for(t=0;t<r&&i[t]===n[t];t++);var o=r-t;for(e=1;e<=o&&i[r-e]===n[s-e];e++);return ii=n.slice(t,1<e?1-e:void 0)}function ni(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function si(){return!0}function oi(){return!1}function ai(t){function e(e,i,r,n,s){for(var o in this._reactName=e,this._targetInst=r,this.type=i,this.nativeEvent=n,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?si:oi,this.isPropagationStopped=oi,this}return n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),e}var li,ui,hi,ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ai(ci),fi=n({},ci,{view:0,detail:0}),pi=ai(fi),mi=n({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&"mousemove"===t.type?(li=t.screenX-hi.screenX,ui=t.screenY-hi.screenY):ui=li=0,hi=t),li)},movementY:function(t){return"movementY"in t?t.movementY:ui}}),vi=ai(mi),yi=ai(n({},mi,{dataTransfer:0})),gi=ai(n({},fi,{relatedTarget:0})),xi=ai(n({},ci,{animationName:0,elapsedTime:0,pseudoElement:0})),bi=n({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wi=ai(bi),_i=ai(n({},ci,{data:0})),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ti={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ti[t])&&!!e[t]}function Mi(){return Ei}var Ci=n({},fi,{key:function(t){if(t.key){var e=Si[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ni(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ai[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(t){return"keypress"===t.type?ni(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ni(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Pi=ai(Ci),Ri=ai(n({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ki=ai(n({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi})),Li=ai(n({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0})),Oi=n({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Di=ai(Oi),Ii=[9,13,27,32],Fi=c&&"CompositionEvent"in window,ji=null;c&&"documentMode"in document&&(ji=document.documentMode);var Bi=c&&"TextEvent"in window&&!ji,Ni=c&&(!Fi||ji&&8<ji&&11>=ji),Ui=String.fromCharCode(32),zi=!1;function Gi(t,e){switch(t){case"keyup":return-1!==Ii.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hi=!1;var Wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wi[t.type]:"textarea"===e}function Xi(t,e,i,r){kt(r),0<(e=Fr(e,"onChange")).length&&(i=new di("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Zi=null,qi=null;function Qi(t){Cr(t,0)}function Ki(t){if(K(nn(t)))return t}function Ji(t,e){if("change"===t)return e}var $i=!1;if(c){var tr;if(c){var er="oninput"in document;if(!er){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),er="function"===typeof ir.oninput}tr=er}else tr=!1;$i=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Zi&&(Zi.detachEvent("onpropertychange",nr),qi=Zi=null)}function nr(t){if("value"===t.propertyName&&Ki(qi)){var e=[];if(Xi(e,qi,t,Et(t)),t=Qi,jt)t(e);else{jt=!0;try{Ot(t,e)}finally{jt=!1,Nt()}}}}function sr(t,e,i){"focusin"===t?(rr(),qi=i,(Zi=e).attachEvent("onpropertychange",nr)):"focusout"===t&&rr()}function or(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ki(qi)}function ar(t,e){if("click"===t)return Ki(e)}function lr(t,e){if("input"===t||"change"===t)return Ki(e)}var ur="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},hr=Object.prototype.hasOwnProperty;function cr(t,e){if(ur(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++)if(!hr.call(e,i[r])||!ur(t[i[r]],e[i[r]]))return!1;return!0}function dr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fr(t,e){var i,r=dr(t);for(t=0;r;){if(3===r.nodeType){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dr(r)}}function pr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(r){i=!1}if(!i)break;e=J((t=e.contentWindow).document)}return e}function vr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,br=null,wr=!1;function _r(t,e,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;wr||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Fr(xr,"onSelect")).length&&(e=new di("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=gr)))}Ie("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ie("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ie(De,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ar=0;Ar<Sr.length;Ar++)Oe.set(Sr[Ar],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Mr(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,r,n,s,a,l,u){if(qt.apply(this,arguments),Ht){if(!Ht)throw Error(o(198));var h=Wt;Ht=!1,Wt=null,Yt||(Yt=!0,Xt=h)}}(r,e,void 0,t),t.currentTarget=null}function Cr(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var r=t[i],n=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&n.isPropagationStopped())break t;Mr(n,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&n.isPropagationStopped())break t;Mr(n,a,u),s=l}}}if(Yt)throw t=Xt,Yt=!1,Xt=null,t}function Pr(t,e){var i=on(e),r=t+"__bubble";i.has(r)||(Or(e,t,2,!1),i.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function kr(t){t[Rr]||(t[Rr]=!0,a.forEach((function(e){Er.has(e)||Lr(e,!1,t,null),Lr(e,!0,t,null)})))}function Lr(t,e,i,r){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=i;if("selectionchange"===t&&9!==i.nodeType&&(s=i.ownerDocument),null!==r&&!e&&Er.has(t)){if("scroll"!==t)return;n|=2,s=r}var o=on(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(n|=4),Or(s,t,n,e),o.add(a))}function Or(t,e,i,r){var n=Oe.get(e);switch(void 0===n?2:n){case 0:n=Qe;break;case 1:n=Ke;break;default:n=Je}i=n.bind(null,e,i,t),n=void 0,!zt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(n=!0),r?void 0!==n?t.addEventListener(e,i,{capture:!0,passive:n}):t.addEventListener(e,i,!0):void 0!==n?t.addEventListener(e,i,{passive:n}):t.addEventListener(e,i,!1)}function Dr(t,e,i,r,n){var s=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;o=o.return}for(;null!==a;){if(null===(o=en(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue t}a=a.parentNode}}r=r.return}!function(t,e,i){if(Bt)return t(e,i);Bt=!0;try{Ft(t,e,i)}finally{Bt=!1,Nt()}}((function(){var r=s,n=Et(i),o=[];t:{var a=Le.get(t);if(void 0!==a){var l=di,u=t;switch(t){case"keypress":if(0===ni(i))break t;case"keydown":case"keyup":l=Pi;break;case"focusin":u="focus",l=gi;break;case"focusout":u="blur",l=gi;break;case"beforeblur":case"afterblur":l=gi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=ki;break;case Ce:case Pe:case Re:l=xi;break;case ke:l=Li;break;case"scroll":l=pi;break;case"wheel":l=Di;break;case"copy":case"cut":case"paste":l=wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ri}var h=0!==(4&e),c=!h&&"scroll"===t,d=h?null!==a?a+"Capture":null:a;h=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ut(p,d))&&h.push(Ir(p,m,f)))),c)break;p=p.return}0<h.length&&(a=new l(a,u,null,i,n),o.push({event:a,listeners:h}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(u=i.relatedTarget||i.fromElement)||!en(u)&&!u[$r])&&(l||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=i.relatedTarget||i.toElement)?en(u):null)&&(u!==(c=Qt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(h=vi,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=Ri,m="onPointerLeave",d="onPointerEnter",p="pointer"),c=null==l?a:nn(l),f=null==u?a:nn(u),(a=new h(m,p+"leave",l,i,n)).target=c,a.relatedTarget=f,m=null,en(n)===r&&((h=new h(d,p+"enter",u,i,n)).target=f,h.relatedTarget=c,m=h),c=m,l&&u)t:{for(d=u,p=0,f=h=l;f;f=jr(f))p++;for(f=0,m=d;m;m=jr(m))f++;for(;0<p-f;)h=jr(h),p--;for(;0<f-p;)d=jr(d),f--;for(;p--;){if(h===d||null!==d&&h===d.alternate)break t;h=jr(h),d=jr(d)}h=null}else h=null;null!==l&&Br(o,a,l,h,!1),null!==u&&null!==c&&Br(o,c,u,h,!0)}if("select"===(l=(a=r?nn(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var v=Ji;else if(Yi(a))if($i)v=lr;else{v=or;var y=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(v=ar);switch(v&&(v=v(t,r))?Xi(o,v,i,n):(y&&y(t,a,r),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&nt(a,"number",a.value)),y=r?nn(r):window,t){case"focusin":(Yi(y)||"true"===y.contentEditable)&&(gr=y,xr=r,br=null);break;case"focusout":br=xr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(o,i,n);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(o,i,n)}var g;if(Fi)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Hi?Gi(t,i)&&(x="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(x="onCompositionStart");x&&(Ni&&"ko"!==i.locale&&(Hi||"onCompositionStart"!==x?"onCompositionEnd"===x&&Hi&&(g=ri()):(ei="value"in(ti=n)?ti.value:ti.textContent,Hi=!0)),0<(y=Fr(r,x)).length&&(x=new _i(x,t,null,i,n),o.push({event:x,listeners:y}),g?x.data=g:null!==(g=Vi(i))&&(x.data=g))),(g=Bi?function(t,e){switch(t){case"compositionend":return Vi(e);case"keypress":return 32!==e.which?null:(zi=!0,Ui);case"textInput":return(t=e.data)===Ui&&zi?null:t;default:return null}}(t,i):function(t,e){if(Hi)return"compositionend"===t||!Fi&&Gi(t,e)?(t=ri(),ii=ei=ti=null,Hi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ni&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(r=Fr(r,"onBeforeInput")).length&&(n=new _i("onBeforeInput","beforeinput",null,i,n),o.push({event:n,listeners:r}),n.data=g))}Cr(o,e)}))}function Ir(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Fr(t,e){for(var i=e+"Capture",r=[];null!==t;){var n=t,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=Ut(t,i))&&r.unshift(Ir(t,s,n)),null!=(s=Ut(t,e))&&r.push(Ir(t,s,n))),t=t.return}return r}function jr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Br(t,e,i,r,n){for(var s=e._reactName,o=[];null!==i&&i!==r;){var a=i,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,n?null!=(l=Ut(i,s))&&o.unshift(Ir(i,l,a)):n||null!=(l=Ut(i,s))&&o.push(Ir(i,l,a))),i=i.return}0!==o.length&&t.push({event:e,listeners:o})}function Nr(){}var Ur=null,zr=null;function Gr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Vr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Xr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Zr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var qr=0;var Qr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,$r="__reactContainer$"+Qr,tn="__reactEvents$"+Qr;function en(t){var e=t[Kr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[$r]||i[Kr]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Zr(t);null!==t;){if(i=t[Kr])return i;t=Zr(t)}return e}i=(t=i).parentNode}return null}function rn(t){return!(t=t[Kr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function nn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function sn(t){return t[Jr]||null}function on(t){var e=t[tn];return void 0===e&&(e=t[tn]=new Set),e}var an=[],ln=-1;function un(t){return{current:t}}function hn(t){0>ln||(t.current=an[ln],an[ln]=null,ln--)}function cn(t,e){ln++,an[ln]=t.current,t.current=e}var dn={},fn=un(dn),pn=un(!1),mn=dn;function vn(t,e){var i=t.type.contextTypes;if(!i)return dn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in i)s[n]=e[n];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return null!==(t=t.childContextTypes)&&void 0!==t}function gn(){hn(pn),hn(fn)}function xn(t,e,i){if(fn.current!==dn)throw Error(o(168));cn(fn,e),cn(pn,i)}function bn(t,e,i){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return i;for(var s in r=r.getChildContext())if(!(s in t))throw Error(o(108,X(e)||"Unknown",s));return n({},i,r)}function wn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dn,mn=fn.current,cn(fn,t),cn(pn,pn.current),!0}function _n(t,e,i){var r=t.stateNode;if(!r)throw Error(o(169));i?(t=bn(t,e,mn),r.__reactInternalMemoizedMergedChildContext=t,hn(pn),hn(fn),cn(fn,t)):hn(pn),cn(pn,i)}var Sn=null,An=null,Tn=s.unstable_runWithPriority,En=s.unstable_scheduleCallback,Mn=s.unstable_cancelCallback,Cn=s.unstable_shouldYield,Pn=s.unstable_requestPaint,Rn=s.unstable_now,kn=s.unstable_getCurrentPriorityLevel,Ln=s.unstable_ImmediatePriority,On=s.unstable_UserBlockingPriority,Dn=s.unstable_NormalPriority,In=s.unstable_LowPriority,Fn=s.unstable_IdlePriority,jn={},Bn=void 0!==Pn?Pn:function(){},Nn=null,Un=null,zn=!1,Gn=Rn(),Vn=1e4>Gn?Rn:function(){return Rn()-Gn};function Hn(){switch(kn()){case Ln:return 99;case On:return 98;case Dn:return 97;case In:return 96;case Fn:return 95;default:throw Error(o(332))}}function Wn(t){switch(t){case 99:return Ln;case 98:return On;case 97:return Dn;case 96:return In;case 95:return Fn;default:throw Error(o(332))}}function Yn(t,e){return t=Wn(t),Tn(t,e)}function Xn(t,e,i){return t=Wn(t),En(t,e,i)}function Zn(){if(null!==Un){var t=Un;Un=null,Mn(t)}qn()}function qn(){if(!zn&&null!==Nn){zn=!0;var t=0;try{var e=Nn;Yn(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),Nn=null}catch(i){throw null!==Nn&&(Nn=Nn.slice(t+1)),En(Ln,Zn),i}finally{zn=!1}}}var Qn=w.ReactCurrentBatchConfig;function Kn(t,e){if(t&&t.defaultProps){for(var i in e=n({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}var Jn=un(null),$n=null,ts=null,es=null;function is(){es=ts=$n=null}function rs(t){var e=Jn.current;hn(Jn),t.type._context._currentValue=e}function ns(t,e){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)===e){if(null===i||(i.childLanes&e)===e)break;i.childLanes|=e}else t.childLanes|=e,null!==i&&(i.childLanes|=e);t=t.return}}function ss(t,e){$n=t,es=ts=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(jo=!0),t.firstContext=null)}function os(t,e){if(es!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(es=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ts){if(null===$n)throw Error(o(308));ts=e,$n.dependencies={lanes:0,firstContext:e,responders:null}}else ts=ts.next=e;return t._currentValue}var as=!1;function ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function us(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function ds(t,e){var i=t.updateQueue,r=t.alternate;if(null!==r&&i===(r=r.updateQueue)){var n=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?n=s=o:s=s.next=o,i=i.next}while(null!==i);null===s?n=s=e:s=s.next=e}else n=s=e;return i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function fs(t,e,i,r){var s=t.updateQueue;as=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,h=u.next;u.next=null,null===a?o=h:a.next=h,a=u;var c=t.alternate;if(null!==c){var d=(c=c.updateQueue).lastBaseUpdate;d!==a&&(null===d?c.firstBaseUpdate=h:d.next=h,c.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,c=h=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var p=t,m=o;switch(l=e,f=i,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,l);break t}d=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,d,l):p)||void 0===l)break t;d=n({},d,l);break t;case 2:as=!0}}null!==o.callback&&(t.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(h=c=f,u=d):c=c.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===c&&(u=d),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=c,za|=a,t.lanes=a,t.memoizedState=d}}function ps(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],n=r.callback;if(null!==n){if(r.callback=null,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var ms=(new r.Component).refs;function vs(t,e,i,r){i=null===(i=i(r,e=t.memoizedState))||void 0===i?e:n({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var ys={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=dl(),n=fl(t),s=hs(r,n);s.payload=e,void 0!==i&&null!==i&&(s.callback=i),cs(t,s),pl(t,n,r)},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=dl(),n=fl(t),s=hs(r,n);s.tag=1,s.payload=e,void 0!==i&&null!==i&&(s.callback=i),cs(t,s),pl(t,n,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=dl(),r=fl(t),n=hs(i,r);n.tag=2,void 0!==e&&null!==e&&(n.callback=e),cs(t,n),pl(t,r,i)}};function gs(t,e,i,r,n,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!cr(i,r)||!cr(n,s))}function xs(t,e,i){var r=!1,n=dn,s=e.contextType;return"object"===typeof s&&null!==s?s=os(s):(n=yn(e)?mn:fn.current,s=(r=null!==(r=e.contextTypes)&&void 0!==r)?vn(t,n):dn),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ys,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function bs(t,e,i,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&ys.enqueueReplaceState(e,e.state,null)}function ws(t,e,i,r){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs=ms,ls(t);var s=e.contextType;"object"===typeof s&&null!==s?n.context=os(s):(s=yn(e)?mn:fn.current,n.context=vn(t,s)),fs(t,i,n,r),n.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(vs(t,e,s,i),n.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(e=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),e!==n.state&&ys.enqueueReplaceState(n,n.state,null),fs(t,i,n,r),n.state=t.memoizedState),"function"===typeof n.componentDidMount&&(t.flags|=4)}var _s=Array.isArray;function Ss(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var r=i.stateNode}if(!r)throw Error(o(147,t));var n=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===n?e.ref:(e=function(t){var e=r.refs;e===ms&&(e=r.refs={}),null===t?delete e[n]:e[n]=t},e._stringRef=n,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function As(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Ts(t){function e(e,i){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.flags=8}}function i(i,r){if(!t)return null;for(;null!==r;)e(i,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(t,e){return(t=Yl(t,e)).index=0,t.sibling=null,t}function s(e,i,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<i?(e.flags=2,i):r:(e.flags=2,i):i}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,i,r){return null===e||6!==e.tag?((e=Ql(i,t.mode,r)).return=t,e):((e=n(e,i)).return=t,e)}function u(t,e,i,r){return null!==e&&e.elementType===i.type?((r=n(e,i.props)).ref=Ss(t,e,i),r.return=t,r):((r=Xl(i.type,i.key,i.props,null,t.mode,r)).ref=Ss(t,e,i),r.return=t,r)}function h(t,e,i,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Kl(i,t.mode,r)).return=t,e):((e=n(e,i.children||[])).return=t,e)}function c(t,e,i,r,s){return null===e||7!==e.tag?((e=Zl(i,t.mode,r,s)).return=t,e):((e=n(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Ql(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(i=Xl(e.type,e.key,e.props,null,t.mode,i)).ref=Ss(t,null,e),i.return=t,i;case S:return(e=Kl(e,t.mode,i)).return=t,e}if(_s(e)||G(e))return(e=Zl(e,t.mode,i,null)).return=t,e;As(t,e)}return null}function f(t,e,i,r){var n=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==n?null:l(t,e,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return i.key===n?i.type===A?c(t,e,i.props.children,r,n):u(t,e,i,r):null;case S:return i.key===n?h(t,e,i,r):null}if(_s(i)||G(i))return null!==n?null:c(t,e,i,r,null);As(t,i)}return null}function p(t,e,i,r,n){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(i)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return t=t.get(null===r.key?i:r.key)||null,r.type===A?c(e,t,r.props.children,n,r.key):u(e,t,r,n);case S:return h(e,t=t.get(null===r.key?i:r.key)||null,r,n)}if(_s(r)||G(r))return c(e,t=t.get(i)||null,r,n,null);As(e,r)}return null}function m(n,o,a,l){for(var u=null,h=null,c=o,m=o=0,v=null;null!==c&&m<a.length;m++){c.index>m?(v=c,c=null):v=c.sibling;var y=f(n,c,a[m],l);if(null===y){null===c&&(c=v);break}t&&c&&null===y.alternate&&e(n,c),o=s(y,o,m),null===h?u=y:h.sibling=y,h=y,c=v}if(m===a.length)return i(n,c),u;if(null===c){for(;m<a.length;m++)null!==(c=d(n,a[m],l))&&(o=s(c,o,m),null===h?u=c:h.sibling=c,h=c);return u}for(c=r(n,c);m<a.length;m++)null!==(v=p(c,n,m,a[m],l))&&(t&&null!==v.alternate&&c.delete(null===v.key?m:v.key),o=s(v,o,m),null===h?u=v:h.sibling=v,h=v);return t&&c.forEach((function(t){return e(n,t)})),u}function v(n,a,l,u){var h=G(l);if("function"!==typeof h)throw Error(o(150));if(null==(l=h.call(l)))throw Error(o(151));for(var c=h=null,m=a,v=a=0,y=null,g=l.next();null!==m&&!g.done;v++,g=l.next()){m.index>v?(y=m,m=null):y=m.sibling;var x=f(n,m,g.value,u);if(null===x){null===m&&(m=y);break}t&&m&&null===x.alternate&&e(n,m),a=s(x,a,v),null===c?h=x:c.sibling=x,c=x,m=y}if(g.done)return i(n,m),h;if(null===m){for(;!g.done;v++,g=l.next())null!==(g=d(n,g.value,u))&&(a=s(g,a,v),null===c?h=g:c.sibling=g,c=g);return h}for(m=r(n,m);!g.done;v++,g=l.next())null!==(g=p(m,n,v,g.value,u))&&(t&&null!==g.alternate&&m.delete(null===g.key?v:g.key),a=s(g,a,v),null===c?h=g:c.sibling=g,c=g);return t&&m.forEach((function(t){return e(n,t)})),h}return function(t,r,s,l){var u="object"===typeof s&&null!==s&&s.type===A&&null===s.key;u&&(s=s.props.children);var h="object"===typeof s&&null!==s;if(h)switch(s.$$typeof){case _:t:{for(h=s.key,u=r;null!==u;){if(u.key===h){if(7===u.tag){if(s.type===A){i(t,u.sibling),(r=n(u,s.props.children)).return=t,t=r;break t}}else if(u.elementType===s.type){i(t,u.sibling),(r=n(u,s.props)).ref=Ss(t,u,s),r.return=t,t=r;break t}i(t,u);break}e(t,u),u=u.sibling}s.type===A?((r=Zl(s.props.children,t.mode,l,s.key)).return=t,t=r):((l=Xl(s.type,s.key,s.props,null,t.mode,l)).ref=Ss(t,r,s),l.return=t,t=l)}return a(t);case S:t:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){i(t,r.sibling),(r=n(r,s.children||[])).return=t,t=r;break t}i(t,r);break}e(t,r),r=r.sibling}(r=Kl(s,t.mode,l)).return=t,t=r}return a(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(i(t,r.sibling),(r=n(r,s)).return=t,t=r):(i(t,r),(r=Ql(s,t.mode,l)).return=t,t=r),a(t);if(_s(s))return m(t,r,s,l);if(G(s))return v(t,r,s,l);if(h&&As(t,s),"undefined"===typeof s&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,X(t.type)||"Component"))}return i(t,r)}}var Es=Ts(!0),Ms=Ts(!1),Cs={},Ps=un(Cs),Rs=un(Cs),ks=un(Cs);function Ls(t){if(t===Cs)throw Error(o(174));return t}function Os(t,e){switch(cn(ks,e),cn(Rs,t),cn(Ps,Cs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}hn(Ps),cn(Ps,e)}function Ds(){hn(Ps),hn(Rs),hn(ks)}function Is(t){Ls(ks.current);var e=Ls(Ps.current),i=pt(e,t.type);e!==i&&(cn(Rs,t),cn(Ps,i))}function Fs(t){Rs.current===t&&(hn(Ps),hn(Rs))}var js=un(0);function Bs(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ns=null,Us=null,zs=!1;function Gs(t,e){var i=Hl(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Vs(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Hs(t){if(zs){var e=Us;if(e){var i=e;if(!Vs(t,e)){if(!(e=Xr(i.nextSibling))||!Vs(t,e))return t.flags=-1025&t.flags|2,zs=!1,void(Ns=t);Gs(Ns,i)}Ns=t,Us=Xr(e.firstChild)}else t.flags=-1025&t.flags|2,zs=!1,Ns=t}}function Ws(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ns=t}function Ys(t){if(t!==Ns)return!1;if(!zs)return Ws(t),zs=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Vr(e,t.memoizedProps))for(e=Us;e;)Gs(t,e),e=Xr(e.nextSibling);if(Ws(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){Us=Xr(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}Us=null}}else Us=Ns?Xr(t.stateNode.nextSibling):null;return!0}function Xs(){Us=Ns=null,zs=!1}var Zs=[];function qs(){for(var t=0;t<Zs.length;t++)Zs[t]._workInProgressVersionPrimary=null;Zs.length=0}var Qs=w.ReactCurrentDispatcher,Ks=w.ReactCurrentBatchConfig,Js=0,$s=null,to=null,eo=null,io=!1,ro=!1;function no(){throw Error(o(321))}function so(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!ur(t[i],e[i]))return!1;return!0}function oo(t,e,i,r,n,s){if(Js=s,$s=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qs.current=null===t||null===t.memoizedState?Oo:Do,t=i(r,n),ro){s=0;do{if(ro=!1,!(25>s))throw Error(o(301));s+=1,eo=to=null,e.updateQueue=null,Qs.current=Io,t=i(r,n)}while(ro)}if(Qs.current=Lo,e=null!==to&&null!==to.next,Js=0,eo=to=$s=null,io=!1,e)throw Error(o(300));return t}function ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?$s.memoizedState=eo=t:eo=eo.next=t,eo}function lo(){if(null===to){var t=$s.alternate;t=null!==t?t.memoizedState:null}else t=to.next;var e=null===eo?$s.memoizedState:eo.next;if(null!==e)eo=e,to=t;else{if(null===t)throw Error(o(310));t={memoizedState:(to=t).memoizedState,baseState:to.baseState,baseQueue:to.baseQueue,queue:to.queue,next:null},null===eo?$s.memoizedState=eo=t:eo=eo.next=t}return eo}function uo(t,e){return"function"===typeof e?e(t):e}function ho(t){var e=lo(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var r=to,n=r.baseQueue,s=i.pending;if(null!==s){if(null!==n){var a=n.next;n.next=s.next,s.next=a}r.baseQueue=n=s,i.pending=null}if(null!==n){n=n.next,r=r.baseState;var l=a=s=null,u=n;do{var h=u.lane;if((Js&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var c={lane:h,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=c,s=r):l=l.next=c,$s.lanes|=h,za|=h}u=u.next}while(null!==u&&u!==n);null===l?s=r:l.next=a,ur(r,e.memoizedState)||(jo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,i.lastRenderedState=r}return[e.memoizedState,i.dispatch]}function co(t){var e=lo(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var r=i.dispatch,n=i.pending,s=e.memoizedState;if(null!==n){i.pending=null;var a=n=n.next;do{s=t(s,a.action),a=a.next}while(a!==n);ur(s,e.memoizedState)||(jo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),i.lastRenderedState=s}return[s,r]}function fo(t,e,i){var r=e._getVersion;r=r(e._source);var n=e._workInProgressVersionPrimary;if(null!==n?t=n===r:(t=t.mutableReadLanes,(t=(Js&t)===t)&&(e._workInProgressVersionPrimary=r,Zs.push(e))),t)return i(e._source);throw Zs.push(e),Error(o(350))}function po(t,e,i,r){var n=Oa;if(null===n)throw Error(o(349));var s=e._getVersion,a=s(e._source),l=Qs.current,u=l.useState((function(){return fo(n,e,i)})),h=u[1],c=u[0];u=eo;var d=t.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var v=$s;return t.memoizedState={refs:f,source:e,subscribe:r},l.useEffect((function(){f.getSnapshot=i,f.setSnapshot=h;var t=s(e._source);if(!ur(a,t)){t=i(e._source),ur(c,t)||(h(t),t=fl(v),n.mutableReadLanes|=t&n.pendingLanes),t=n.mutableReadLanes,n.entangledLanes|=t;for(var r=n.entanglements,o=t;0<o;){var l=31-He(o),u=1<<l;r[l]|=t,o&=~u}}}),[i,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=f.getSnapshot,i=f.setSnapshot;try{i(t(e._source));var r=fl(v);n.mutableReadLanes|=r&n.pendingLanes}catch(s){i((function(){throw s}))}}))}),[e,r]),ur(p,i)&&ur(m,e)&&ur(d,r)||((t={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:c}).dispatch=h=ko.bind(null,$s,t),u.queue=t,u.baseQueue=null,c=fo(n,e,i),u.memoizedState=u.baseState=c),c}function mo(t,e,i){return po(lo(),t,e,i)}function vo(t){var e=ao();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t}).dispatch=ko.bind(null,$s,t),[e.memoizedState,t]}function yo(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},null===(e=$s.updateQueue)?(e={lastEffect:null},$s.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function go(t){return t={current:t},ao().memoizedState=t}function xo(){return lo().memoizedState}function bo(t,e,i,r){var n=ao();$s.flags|=t,n.memoizedState=yo(1|e,i,void 0,void 0===r?null:r)}function wo(t,e,i,r){var n=lo();r=void 0===r?null:r;var s=void 0;if(null!==to){var o=to.memoizedState;if(s=o.destroy,null!==r&&so(r,o.deps))return void yo(e,i,s,r)}$s.flags|=t,n.memoizedState=yo(1|e,i,s,r)}function _o(t,e){return bo(516,4,t,e)}function So(t,e){return wo(516,4,t,e)}function Ao(t,e){return wo(4,2,t,e)}function To(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Eo(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,wo(4,2,To.bind(null,e,t),i)}function Mo(){}function Co(t,e){var i=lo();e=void 0===e?null:e;var r=i.memoizedState;return null!==r&&null!==e&&so(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Po(t,e){var i=lo();e=void 0===e?null:e;var r=i.memoizedState;return null!==r&&null!==e&&so(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function Ro(t,e){var i=Hn();Yn(98>i?98:i,(function(){t(!0)})),Yn(97<i?97:i,(function(){var i=Ks.transition;Ks.transition=1;try{t(!1),e()}finally{Ks.transition=i}}))}function ko(t,e,i){var r=dl(),n=fl(t),s={lane:n,action:i,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===$s||null!==o&&o===$s)ro=io=!0;else{if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,l=o(a,i);if(s.eagerReducer=o,s.eagerState=l,ur(l,a))return}catch(u){}pl(t,n,r)}}var Lo={readContext:os,useCallback:no,useContext:no,useEffect:no,useImperativeHandle:no,useLayoutEffect:no,useMemo:no,useReducer:no,useRef:no,useState:no,useDebugValue:no,useDeferredValue:no,useTransition:no,useMutableSource:no,useOpaqueIdentifier:no,unstable_isNewReconciler:!1},Oo={readContext:os,useCallback:function(t,e){return ao().memoizedState=[t,void 0===e?null:e],t},useContext:os,useEffect:_o,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,bo(4,2,To.bind(null,e,t),i)},useLayoutEffect:function(t,e){return bo(4,2,t,e)},useMemo:function(t,e){var i=ao();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=ao();return e=void 0!==i?i(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ko.bind(null,$s,t),[r.memoizedState,t]},useRef:go,useState:vo,useDebugValue:Mo,useDeferredValue:function(t){var e=vo(t),i=e[0],r=e[1];return _o((function(){var e=Ks.transition;Ks.transition=1;try{r(t)}finally{Ks.transition=e}}),[t]),i},useTransition:function(){var t=vo(!1),e=t[0];return go(t=Ro.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,i){var r=ao();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:i},po(r,t,e,i)},useOpaqueIdentifier:function(){if(zs){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,i("r:"+(qr++).toString(36))),Error(o(355))})),i=vo(e)[1];return 0===(2&$s.mode)&&($s.flags|=516,yo(5,(function(){i("r:"+(qr++).toString(36))}),void 0,null)),e}return vo(e="r:"+(qr++).toString(36)),e},unstable_isNewReconciler:!1},Do={readContext:os,useCallback:Co,useContext:os,useEffect:So,useImperativeHandle:Eo,useLayoutEffect:Ao,useMemo:Po,useReducer:ho,useRef:xo,useState:function(){return ho(uo)},useDebugValue:Mo,useDeferredValue:function(t){var e=ho(uo),i=e[0],r=e[1];return So((function(){var e=Ks.transition;Ks.transition=1;try{r(t)}finally{Ks.transition=e}}),[t]),i},useTransition:function(){var t=ho(uo)[0];return[xo().current,t]},useMutableSource:mo,useOpaqueIdentifier:function(){return ho(uo)[0]},unstable_isNewReconciler:!1},Io={readContext:os,useCallback:Co,useContext:os,useEffect:So,useImperativeHandle:Eo,useLayoutEffect:Ao,useMemo:Po,useReducer:co,useRef:xo,useState:function(){return co(uo)},useDebugValue:Mo,useDeferredValue:function(t){var e=co(uo),i=e[0],r=e[1];return So((function(){var e=Ks.transition;Ks.transition=1;try{r(t)}finally{Ks.transition=e}}),[t]),i},useTransition:function(){var t=co(uo)[0];return[xo().current,t]},useMutableSource:mo,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Fo=w.ReactCurrentOwner,jo=!1;function Bo(t,e,i,r){e.child=null===t?Ms(e,null,i,r):Es(e,t.child,i,r)}function No(t,e,i,r,n){i=i.render;var s=e.ref;return ss(e,n),r=oo(t,e,i,r,s,n),null===t||jo?(e.flags|=1,Bo(t,e,r,n),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,sa(t,e,n))}function Uo(t,e,i,r,n,s){if(null===t){var o=i.type;return"function"!==typeof o||Wl(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Xl(i.type,null,r,e,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,zo(t,e,o,r,n,s))}return o=t.child,0===(n&s)&&(n=o.memoizedProps,(i=null!==(i=i.compare)?i:cr)(n,r)&&t.ref===e.ref)?sa(t,e,s):(e.flags|=1,(t=Yl(o,r)).ref=e.ref,t.return=e,e.child=t)}function zo(t,e,i,r,n,s){if(null!==t&&cr(t.memoizedProps,r)&&t.ref===e.ref){if(jo=!1,0===(s&n))return e.lanes=t.lanes,sa(t,e,s);0!==(16384&t.flags)&&(jo=!0)}return Ho(t,e,i,r,s)}function Go(t,e,i){var r=e.pendingProps,n=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},_l(e,i);else{if(0===(1073741824&i))return t=null!==s?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_l(e,t),null;e.memoizedState={baseLanes:0},_l(e,null!==s?s.baseLanes:i)}else null!==s?(r=s.baseLanes|i,e.memoizedState=null):r=i,_l(e,r);return Bo(t,e,n,i),e.child}function Vo(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=128)}function Ho(t,e,i,r,n){var s=yn(i)?mn:fn.current;return s=vn(e,s),ss(e,n),i=oo(t,e,i,r,s,n),null===t||jo?(e.flags|=1,Bo(t,e,i,n),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,sa(t,e,n))}function Wo(t,e,i,r,n){if(yn(i)){var s=!0;wn(e)}else s=!1;if(ss(e,n),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),xs(e,i,r),ws(e,i,r,n),r=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=i.contextType;"object"===typeof u&&null!==u?u=os(u):u=vn(e,u=yn(i)?mn:fn.current);var h=i.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&bs(e,o,r,u),as=!1;var d=e.memoizedState;o.state=d,fs(e,r,o,n),l=e.memoizedState,a!==r||d!==l||pn.current||as?("function"===typeof h&&(vs(e,i,h,r),l=e.memoizedState),(a=as||gs(e,i,a,r,d,l,u))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4)):("function"===typeof o.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(e.flags|=4),r=!1)}else{o=e.stateNode,us(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kn(e.type,a),o.props=u,c=e.pendingProps,d=o.context,"object"===typeof(l=i.contextType)&&null!==l?l=os(l):l=vn(e,l=yn(i)?mn:fn.current);var f=i.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==c||d!==l)&&bs(e,o,r,l),as=!1,d=e.memoizedState,o.state=d,fs(e,r,o,n);var p=e.memoizedState;a!==c||d!==p||pn.current||as?("function"===typeof f&&(vs(e,i,f,r),p=e.memoizedState),(u=as||gs(e,i,u,r,d,p,l))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return Yo(t,e,i,r,s,n)}function Yo(t,e,i,r,n,s){Vo(t,e);var o=0!==(64&e.flags);if(!r&&!o)return n&&_n(e,i,!1),sa(t,e,s);r=e.stateNode,Fo.current=e;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&o?(e.child=Es(e,t.child,null,s),e.child=Es(e,null,a,s)):Bo(t,e,a,s),e.memoizedState=r.state,n&&_n(e,i,!0),e.child}function Xo(t){var e=t.stateNode;e.pendingContext?xn(0,e.pendingContext,e.pendingContext!==e.context):e.context&&xn(0,e.context,!1),Os(t,e.containerInfo)}var Zo,qo,Qo,Ko={dehydrated:null,retryLane:0};function Jo(t,e,i){var r,n=e.pendingProps,s=js.current,o=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&s)),r?(o=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===n.fallback||!0===n.unstable_avoidThisFallback||(s|=1),cn(js,1&s),null===t?(void 0!==n.fallback&&Hs(e),t=n.children,s=n.fallback,o?(t=$o(e,t,s,i),e.child.memoizedState={baseLanes:i},e.memoizedState=Ko,t):"number"===typeof n.unstable_expectedLoadTime?(t=$o(e,t,s,i),e.child.memoizedState={baseLanes:i},e.memoizedState=Ko,e.lanes=33554432,t):((i=ql({mode:"visible",children:t},e.mode,i,null)).return=e,e.child=i)):(t.memoizedState,o?(n=ea(t,e,n.children,n.fallback,i),o=e.child,s=t.child.memoizedState,o.memoizedState=null===s?{baseLanes:i}:{baseLanes:s.baseLanes|i},o.childLanes=t.childLanes&~i,e.memoizedState=Ko,n):(i=ta(t,e,n.children,i),e.memoizedState=null,i))}function $o(t,e,i,r){var n=t.mode,s=t.child;return e={mode:"hidden",children:e},0===(2&n)&&null!==s?(s.childLanes=0,s.pendingProps=e):s=ql(e,n,0,null),i=Zl(i,n,r,null),s.return=t,i.return=t,s.sibling=i,t.child=s,i}function ta(t,e,i,r){var n=t.child;return t=n.sibling,i=Yl(n,{mode:"visible",children:i}),0===(2&e.mode)&&(i.lanes=r),i.return=e,i.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=i}function ea(t,e,i,r,n){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:i};return 0===(2&s)&&e.child!==o?((i=e.child).childLanes=0,i.pendingProps=a,null!==(o=i.lastEffect)?(e.firstEffect=i.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):i=Yl(o,a),null!==t?r=Yl(t,r):(r=Zl(r,s,n,null)).flags|=2,r.return=e,i.return=e,i.sibling=r,e.child=i,r}function ia(t,e){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),ns(t.return,e)}function ra(t,e,i,r,n,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=i,o.tailMode=n,o.lastEffect=s)}function na(t,e,i){var r=e.pendingProps,n=r.revealOrder,s=r.tail;if(Bo(t,e,r.children,i),0!==(2&(r=js.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ia(t,i);else if(19===t.tag)ia(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(cn(js,r),0===(2&e.mode))e.memoizedState=null;else switch(n){case"forwards":for(i=e.child,n=null;null!==i;)null!==(t=i.alternate)&&null===Bs(t)&&(n=i),i=i.sibling;null===(i=n)?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),ra(e,!1,n,i,s,e.lastEffect);break;case"backwards":for(i=null,n=e.child,e.child=null;null!==n;){if(null!==(t=n.alternate)&&null===Bs(t)){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}ra(e,!0,i,null,s,e.lastEffect);break;case"together":ra(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function sa(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),za|=e.lanes,0!==(i&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Yl(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Yl(t,t.pendingProps)).return=e;i.sibling=null}return e.child}return null}function oa(t,e){if(!zs)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;null!==i;)null!==i.alternate&&(r=i),i=i.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function aa(t,e,i){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yn(e.type)&&gn(),null;case 3:return Ds(),hn(pn),hn(fn),qs(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Ys(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Fs(e);var s=Ls(ks.current);if(i=e.type,null!==t&&null!=e.stateNode)qo(t,e,i,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(o(166));return null}if(t=Ls(Ps.current),Ys(e)){r=e.stateNode,i=e.type;var a=e.memoizedProps;switch(r[Kr]=e,r[Jr]=a,i){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(t=0;t<Tr.length;t++)Pr(Tr[t],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":tt(r,a),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pr("invalid",r);break;case"textarea":lt(r,a),Pr("invalid",r)}for(var u in At(i,a),t=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"===typeof s?r.textContent!==s&&(t=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(t=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Pr("scroll",r));switch(i){case"input":Q(r),rt(r,a,!0);break;case"textarea":Q(r),ht(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Nr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,t===ct&&(t=ft(i)),t===ct?"script"===i?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(i,{is:r.is}):(t=u.createElement(i),"select"===i&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,i),t[Kr]=e,t[Jr]=r,Zo(t,e),e.stateNode=t,u=Tt(i,r),i){case"dialog":Pr("cancel",t),Pr("close",t),s=r;break;case"iframe":case"object":case"embed":Pr("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Pr(Tr[s],t);s=r;break;case"source":Pr("error",t),s=r;break;case"img":case"image":case"link":Pr("error",t),Pr("load",t),s=r;break;case"details":Pr("toggle",t),s=r;break;case"input":tt(t,r),s=$(t,r),Pr("invalid",t);break;case"option":s=st(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=n({},r,{value:void 0}),Pr("invalid",t);break;case"textarea":lt(t,r),s=at(t,r),Pr("invalid",t);break;default:s=r}At(i,s);var h=s;for(a in h)if(h.hasOwnProperty(a)){var c=h[a];"style"===a?_t(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&yt(t,c):"children"===a?"string"===typeof c?("textarea"!==i||""!==c)&&gt(t,c):"number"===typeof c&&gt(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Pr("scroll",t):null!=c&&b(t,a,c,u))}switch(i){case"input":Q(t),rt(t,r,!1);break;case"textarea":Q(t),ht(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Z(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?ot(t,!!r.multiple,a,!1):null!=r.defaultValue&&ot(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(t.onclick=Nr)}Gr(i,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Qo(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));i=Ls(ks.current),Ls(Ps.current),Ys(e)?(r=e.stateNode,i=e.memoizedProps,r[Kr]=e,r.nodeValue!==i&&(e.flags|=4)):((r=(9===i.nodeType?i:i.ownerDocument).createTextNode(r))[Kr]=e,e.stateNode=r)}return null;case 13:return hn(js),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=i,e):(r=null!==r,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Ys(e):i=null!==t.memoizedState,r&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&js.current)?0===Ba&&(Ba=3):(0!==Ba&&3!==Ba||(Ba=4),null===Oa||0===(134217727&za)&&0===(134217727&Ga)||gl(Oa,Ia))),(r||i)&&(e.flags|=4),null);case 4:return Ds(),null===t&&kr(e.stateNode.containerInfo),null;case 10:return rs(e),null;case 19:if(hn(js),null===(r=e.memoizedState))return null;if(a=0!==(64&e.flags),null===(u=r.rendering))if(a)oa(r,!1);else{if(0!==Ba||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=Bs(t))){for(e.flags|=64,oa(r,!1),null!==(a=u.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=i,i=e.child;null!==i;)t=r,(a=i).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return cn(js,1&js.current|2),e.child}t=t.sibling}null!==r.tail&&Vn()>Ya&&(e.flags|=64,a=!0,oa(r,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=Bs(u))){if(e.flags|=64,a=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),oa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!zs)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vn()-r.renderingStartTime>Ya&&1073741824!==i&&(e.flags|=64,a=!0,oa(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(i=r.last)?i.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(i=r.tail,r.rendering=i,r.tail=i.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vn(),i.sibling=null,e=js.current,cn(js,a?1&e|2:1&e),i):null;case 23:case 24:return Sl(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(o(156,e.tag))}function la(t){switch(t.tag){case 1:yn(t.type)&&gn();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Ds(),hn(pn),hn(fn),qs(),0!==(64&(e=t.flags)))throw Error(o(285));return t.flags=-4097&e|64,t;case 5:return Fs(t),null;case 13:return hn(js),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return hn(js),null;case 4:return Ds(),null;case 10:return rs(t),null;case 23:case 24:return Sl(),null;default:return null}}function ua(t,e){try{var i="",r=e;do{i+=Y(r),r=r.return}while(r);var n=i}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:n}}function ha(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}Zo=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},qo=function(t,e,i,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ls(Ps.current);var o,a=null;switch(i){case"input":s=$(t,s),r=$(t,r),a=[];break;case"option":s=st(t,s),r=st(t,r),a=[];break;case"select":s=n({},s,{value:void 0}),r=n({},r,{value:void 0}),a=[];break;case"textarea":s=at(t,s),r=at(t,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(t.onclick=Nr)}for(c in At(i,r),i=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var u=s[c];for(o in u)u.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var h=r[c];if(u=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&h!==u&&(null!=h||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(i||(i={}),i[o]=h[o])}else i||(a||(a=[]),a.push(c,i)),i=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,u=u?u.__html:void 0,null!=h&&u!==h&&(a=a||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(a=a||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Pr("scroll",t),a||u===h||(a=[])):"object"===typeof h&&null!==h&&h.$$typeof===I?h.toString():(a=a||[]).push(c,h))}i&&(a=a||[]).push("style",i);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Qo=function(t,e,i,r){i!==r&&(e.flags|=4)};var ca="function"===typeof WeakMap?WeakMap:Map;function da(t,e,i){(i=hs(-1,i)).tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){Qa||(Qa=!0,Ka=r),ha(0,e)},i}function fa(t,e,i){(i=hs(-1,i)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var n=e.value;i.payload=function(){return ha(0,e),r(n)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){"function"!==typeof r&&(null===Ja?Ja=new Set([this]):Ja.add(this),ha(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}var pa="function"===typeof WeakSet?WeakSet:Set;function ma(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(i){Ul(t,i)}else e.current=null}function va(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var i=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:Kn(e.type,i),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Yr(e.stateNode.containerInfo))}throw Error(o(163))}function ya(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=i.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=i.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var n=t;r=n.next,0!==(4&(n=n.tag))&&0!==(1&n)&&(jl(i,t),Fl(i,t)),t=r}while(t!==e)}return;case 1:return t=i.stateNode,4&i.flags&&(null===e?t.componentDidMount():(r=i.elementType===i.type?e.memoizedProps:Kn(i.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=i.updateQueue)&&ps(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:case 1:t=i.child.stateNode}ps(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.flags&&Gr(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&_e(i)))))}throw Error(o(163))}function ga(t,e){for(var i=t;;){if(5===i.tag){var r=i.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=i.stateNode;var n=i.memoizedProps.style;n=void 0!==n&&null!==n&&n.hasOwnProperty("display")?n.display:null,r.style.display=wt("display",n)}}else if(6===i.tag)i.stateNode.nodeValue=e?"":i.memoizedProps;else if((23!==i.tag&&24!==i.tag||null===i.memoizedState||i===t)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function xa(t,e){if(An&&"function"===typeof An.onCommitFiberUnmount)try{An.onCommitFiberUnmount(Sn,e)}catch(s){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t=t.next;do{var r=i,n=r.destroy;if(r=r.tag,void 0!==n)if(0!==(4&r))jl(e,i);else{r=e;try{n()}catch(s){Ul(r,s)}}i=i.next}while(i!==t)}break;case 1:if(ma(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Ul(e,s)}break;case 5:ma(e);break;case 4:Ta(t,e)}}function ba(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function wa(t){return 5===t.tag||3===t.tag||4===t.tag}function _a(t){t:{for(var e=t.return;null!==e;){if(wa(e))break t;e=e.return}throw Error(o(160))}var i=e;switch(e=i.stateNode,i.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(o(161))}16&i.flags&&(gt(e,""),i.flags&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||wa(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.flags)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.flags)){i=i.stateNode;break t}}r?Sa(t,i,e):Aa(t,i,e)}function Sa(t,e,i){var r=t.tag,n=5===r||6===r;if(n)t=n?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=Nr));else if(4!==r&&null!==(t=t.child))for(Sa(t,e,i),t=t.sibling;null!==t;)Sa(t,e,i),t=t.sibling}function Aa(t,e,i){var r=t.tag,n=5===r||6===r;if(n)t=n?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Aa(t,e,i),t=t.sibling;null!==t;)Aa(t,e,i),t=t.sibling}function Ta(t,e){for(var i,r,n=e,s=!1;;){if(!s){s=n.return;t:for(;;){if(null===s)throw Error(o(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}s=s.return}s=!0}if(5===n.tag||6===n.tag){t:for(var a=t,l=n,u=l;;)if(xa(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=i,l=n.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(n.stateNode)}else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,r=!0,n.child.return=n,n=n.child;continue}}else if(xa(t,n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(s=!1)}n.sibling.return=n.return,n=n.sibling}}function Ea(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==i)}return;case 1:case 12:case 17:return;case 5:if(null!=(i=e.stateNode)){r=e.memoizedProps;var n=null!==t?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(i[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(i,r),Tt(t,n),e=Tt(t,r),n=0;n<s.length;n+=2){var a=s[n],l=s[n+1];"style"===a?_t(i,l):"dangerouslySetInnerHTML"===a?yt(i,l):"children"===a?gt(i,l):b(i,a,l,e)}switch(t){case"input":it(i,r);break;case"textarea":ut(i,r);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ot(i,!!r.multiple,s,!1):t!==!!r.multiple&&(null!=r.defaultValue?ot(i,!!r.multiple,r.defaultValue,!0):ot(i,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((i=e.stateNode).hydrate&&(i.hydrate=!1,_e(i.containerInfo)));case 13:return null!==e.memoizedState&&(Wa=Vn(),ga(e.child,!0)),void Ma(e);case 19:return void Ma(e);case 23:case 24:return void ga(e,null!==e.memoizedState)}throw Error(o(163))}function Ma(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new pa),e.forEach((function(e){var r=Gl.bind(null,t,e);i.has(e)||(i.add(e),e.then(r,r))}))}}function Ca(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Pa=Math.ceil,Ra=w.ReactCurrentDispatcher,ka=w.ReactCurrentOwner,La=0,Oa=null,Da=null,Ia=0,Fa=0,ja=un(0),Ba=0,Na=null,Ua=0,za=0,Ga=0,Va=0,Ha=null,Wa=0,Ya=1/0;function Xa(){Ya=Vn()+500}var Za,qa=null,Qa=!1,Ka=null,Ja=null,$a=!1,tl=null,el=90,il=[],rl=[],nl=null,sl=0,ol=null,al=-1,ll=0,ul=0,hl=null,cl=!1;function dl(){return 0!==(48&La)?Vn():-1!==al?al:al=Vn()}function fl(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Hn()?1:2;if(0===ll&&(ll=Ua),0!==Qn.transition){0!==ul&&(ul=null!==Ha?Ha.pendingLanes:0),t=ll;var e=4186112&~ul;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Hn(),0!==(4&La)&&98===t?t=Ue(12,ll):t=Ue(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ll),t}function pl(t,e,i){if(50<sl)throw sl=0,ol=null,Error(o(185));if(null===(t=ml(t,e)))return null;Ve(t,e,i),t===Oa&&(Ga|=e,4===Ba&&gl(t,Ia));var r=Hn();1===e?0!==(8&La)&&0===(48&La)?xl(t):(vl(t,i),0===La&&(Xa(),Zn())):(0===(4&La)||98!==r&&99!==r||(null===nl?nl=new Set([t]):nl.add(t)),vl(t,i)),Ha=t}function ml(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}function vl(t,e){for(var i=t.callbackNode,r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-He(a),u=1<<l,h=s[l];if(-1===h){if(0===(u&r)||0!==(u&n)){h=e,je(u);var c=Fe;s[l]=10<=c?h+250:6<=c?h+5e3:-1}}else h<=e&&(t.expiredLanes|=u);a&=~u}if(r=Be(t,t===Oa?Ia:0),e=Fe,0===r)null!==i&&(i!==jn&&Mn(i),t.callbackNode=null,t.callbackPriority=0);else{if(null!==i){if(t.callbackPriority===e)return;i!==jn&&Mn(i)}15===e?(i=xl.bind(null,t),null===Nn?(Nn=[i],Un=En(Ln,qn)):Nn.push(i),i=jn):14===e?i=Xn(99,xl.bind(null,t)):(i=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,t))}}(e),i=Xn(i,yl.bind(null,t))),t.callbackPriority=e,t.callbackNode=i}}function yl(t){if(al=-1,ul=ll=0,0!==(48&La))throw Error(o(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var i=Be(t,t===Oa?Ia:0);if(0===i)return null;var r=i,n=La;La|=16;var s=El();for(Oa===t&&Ia===r||(Xa(),Al(t,r));;)try{Pl();break}catch(l){Tl(t,l)}if(is(),Ra.current=s,La=n,null!==Da?r=0:(Oa=null,Ia=0,r=Ba),0!==(Ua&Ga))Al(t,0);else if(0!==r){if(2===r&&(La|=64,t.hydrate&&(t.hydrate=!1,Yr(t.containerInfo)),0!==(i=Ne(t))&&(r=Ml(t,i))),1===r)throw e=Na,Al(t,0),gl(t,i),vl(t,Vn()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=i,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ll(t);break;case 3:if(gl(t,i),(62914560&i)===i&&10<(r=Wa+500-Vn())){if(0!==Be(t,0))break;if(((n=t.suspendedLanes)&i)!==i){dl(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Hr(Ll.bind(null,t),r);break}Ll(t);break;case 4:if(gl(t,i),(4186112&i)===i)break;for(r=t.eventTimes,n=-1;0<i;){var a=31-He(i);s=1<<a,(a=r[a])>n&&(n=a),i&=~s}if(i=n,10<(i=(120>(i=Vn()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Pa(i/1960))-i)){t.timeoutHandle=Hr(Ll.bind(null,t),i);break}Ll(t);break;default:throw Error(o(329))}}return vl(t,Vn()),t.callbackNode===e?yl.bind(null,t):null}function gl(t,e){for(e&=~Va,e&=~Ga,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-He(e),r=1<<i;t[i]=-1,e&=~r}}function xl(t){if(0!==(48&La))throw Error(o(327));if(Il(),t===Oa&&0!==(t.expiredLanes&Ia)){var e=Ia,i=Ml(t,e);0!==(Ua&Ga)&&(i=Ml(t,e=Be(t,e)))}else i=Ml(t,e=Be(t,0));if(0!==t.tag&&2===i&&(La|=64,t.hydrate&&(t.hydrate=!1,Yr(t.containerInfo)),0!==(e=Ne(t))&&(i=Ml(t,e))),1===i)throw i=Na,Al(t,0),gl(t,e),vl(t,Vn()),i;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ll(t),vl(t,Vn()),null}function bl(t,e){var i=La;La|=1;try{return t(e)}finally{0===(La=i)&&(Xa(),Zn())}}function wl(t,e){var i=La;La&=-2,La|=8;try{return t(e)}finally{0===(La=i)&&(Xa(),Zn())}}function _l(t,e){cn(ja,Fa),Fa|=e,Ua|=e}function Sl(){Fa=ja.current,hn(ja)}function Al(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,Wr(i)),null!==Da)for(i=Da.return;null!==i;){var r=i;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gn();break;case 3:Ds(),hn(pn),hn(fn),qs();break;case 5:Fs(r);break;case 4:Ds();break;case 13:case 19:hn(js);break;case 10:rs(r);break;case 23:case 24:Sl()}i=i.return}Oa=t,Da=Yl(t.current,null),Ia=Fa=Ua=e,Ba=0,Na=null,Va=Ga=za=0}function Tl(t,e){for(;;){var i=Da;try{if(is(),Qs.current=Lo,io){for(var r=$s.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}io=!1}if(Js=0,eo=to=$s=null,ro=!1,ka.current=null,null===i||null===i.return){Ba=1,Na=e,Da=null;break}t:{var s=t,o=i.return,a=i,l=e;if(e=Ia,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&a.mode)){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.lanes=h.lanes):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&js.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!c)}}if(f){var v=d.updateQueue;if(null===v){var y=new Set;y.add(u),d.updateQueue=y}else v.add(u);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=hs(-1,1);g.tag=2,cs(a,g)}a.lanes|=1;break t}l=void 0,a=e;var x=s.pingCache;if(null===x?(x=s.pingCache=new ca,l=new Set,x.set(u,l)):void 0===(l=x.get(u))&&(l=new Set,x.set(u,l)),!l.has(a)){l.add(a);var b=zl.bind(null,s,u,a);u.then(b,b)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);l=Error((X(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ba&&(Ba=2),l=ua(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,e&=-e,d.lanes|=e,ds(d,da(0,s,e));break t;case 1:s=l;var w=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ja||!Ja.has(_)))){d.flags|=4096,e&=-e,d.lanes|=e,ds(d,fa(d,s,e));break t}}d=d.return}while(null!==d)}kl(i)}catch(S){e=S,Da===i&&null!==i&&(Da=i=i.return);continue}break}}function El(){var t=Ra.current;return Ra.current=Lo,null===t?Lo:t}function Ml(t,e){var i=La;La|=16;var r=El();for(Oa===t&&Ia===e||Al(t,e);;)try{Cl();break}catch(n){Tl(t,n)}if(is(),La=i,Ra.current=r,null!==Da)throw Error(o(261));return Oa=null,Ia=0,Ba}function Cl(){for(;null!==Da;)Rl(Da)}function Pl(){for(;null!==Da&&!Cn();)Rl(Da)}function Rl(t){var e=Za(t.alternate,t,Fa);t.memoizedProps=t.pendingProps,null===e?kl(t):Da=e,ka.current=null}function kl(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(i=aa(i,e,Fa)))return void(Da=i);if(24!==(i=e).tag&&23!==i.tag||null===i.memoizedState||0!==(1073741824&Fa)||0===(4&i.mode)){for(var r=0,n=i.child;null!==n;)r|=n.lanes|n.childLanes,n=n.sibling;i.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(i=la(e)))return i.flags&=2047,void(Da=i);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Da=e);Da=e=t}while(null!==e);0===Ba&&(Ba=5)}function Ll(t){var e=Hn();return Yn(99,Ol.bind(null,t,e)),null}function Ol(t,e){do{Il()}while(null!==tl);if(0!==(48&La))throw Error(o(327));var i=t.finishedWork;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null;var r=i.lanes|i.childLanes,n=r,s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<s;){var u=31-He(s),h=1<<u;n[u]=0,a[u]=-1,l[u]=-1,s&=~h}if(null!==nl&&0===(24&r)&&nl.has(t)&&nl.delete(t),t===Oa&&(Da=Oa=null,Ia=0),1<i.flags?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){if(n=La,La|=32,ka.current=null,Ur=qe,vr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else t:if(l=(l=a.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&0!==h.rangeCount){l=h.anchorNode,s=h.anchorOffset,u=h.focusNode,h=h.focusOffset;try{l.nodeType,u.nodeType}catch(E){l=null;break t}var c=0,d=-1,f=-1,p=0,m=0,v=a,y=null;e:for(;;){for(var g;v!==l||0!==s&&3!==v.nodeType||(d=c+s),v!==u||0!==h&&3!==v.nodeType||(f=c+h),3===v.nodeType&&(c+=v.nodeValue.length),null!==(g=v.firstChild);)y=v,v=g;for(;;){if(v===a)break e;if(y===l&&++p===s&&(d=c),y===u&&++m===h&&(f=c),null!==(g=v.nextSibling))break;y=(v=y).parentNode}v=g}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:a,selectionRange:l},qe=!1,hl=null,cl=!1,qa=r;do{try{Dl()}catch(E){if(null===qa)throw Error(o(330));Ul(qa,E),qa=qa.nextEffect}}while(null!==qa);hl=null,qa=r;do{try{for(a=t;null!==qa;){var x=qa.flags;if(16&x&&gt(qa.stateNode,""),128&x){var b=qa.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&x){case 2:_a(qa),qa.flags&=-3;break;case 6:_a(qa),qa.flags&=-3,Ea(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,Ea(qa.alternate,qa);break;case 4:Ea(qa.alternate,qa);break;case 8:Ta(a,l=qa);var _=l.alternate;ba(l),null!==_&&ba(_)}qa=qa.nextEffect}}catch(E){if(null===qa)throw Error(o(330));Ul(qa,E),qa=qa.nextEffect}}while(null!==qa);if(w=zr,b=mr(),x=w.focusedElem,a=w.selectionRange,b!==x&&x&&x.ownerDocument&&pr(x.ownerDocument.documentElement,x)){null!==a&&vr(x)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=x.textContent.length,_=Math.min(a.start,l),a=void 0===a.end?_:Math.min(a.end,l),!w.extend&&_>a&&(l=a,a=_,_=l),l=fr(x,_),s=fr(x,a),l&&s&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==s.node||w.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),_>a?(w.addRange(b),w.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qe=!!Ur,zr=Ur=null,t.current=i,qa=r;do{try{for(x=t;null!==qa;){var S=qa.flags;if(36&S&&ya(x,qa.alternate,qa),128&S){b=void 0;var A=qa.ref;if(null!==A){var T=qa.stateNode;qa.tag,b=T,"function"===typeof A?A(b):A.current=b}}qa=qa.nextEffect}}catch(E){if(null===qa)throw Error(o(330));Ul(qa,E),qa=qa.nextEffect}}while(null!==qa);qa=null,Bn(),La=n}else t.current=i;if($a)$a=!1,tl=t,el=e;else for(qa=r;null!==qa;)e=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((S=qa).sibling=null,S.stateNode=null),qa=e;if(0===(r=t.pendingLanes)&&(Ja=null),1===r?t===ol?sl++:(sl=0,ol=t):sl=0,i=i.stateNode,An&&"function"===typeof An.onCommitFiberRoot)try{An.onCommitFiberRoot(Sn,i,void 0,64===(64&i.current.flags))}catch(E){}if(vl(t,Vn()),Qa)throw Qa=!1,t=Ka,Ka=null,t;return 0!==(8&La)||Zn(),null}function Dl(){for(;null!==qa;){var t=qa.alternate;cl||null===hl||(0!==(8&qa.flags)?te(qa,hl)&&(cl=!0):13===qa.tag&&Ca(t,qa)&&te(qa,hl)&&(cl=!0));var e=qa.flags;0!==(256&e)&&va(t,qa),0===(512&e)||$a||($a=!0,Xn(97,(function(){return Il(),null}))),qa=qa.nextEffect}}function Il(){if(90!==el){var t=97<el?97:el;return el=90,Yn(t,Bl)}return!1}function Fl(t,e){il.push(e,t),$a||($a=!0,Xn(97,(function(){return Il(),null})))}function jl(t,e){rl.push(e,t),$a||($a=!0,Xn(97,(function(){return Il(),null})))}function Bl(){if(null===tl)return!1;var t=tl;if(tl=null,0!==(48&La))throw Error(o(331));var e=La;La|=32;var i=rl;rl=[];for(var r=0;r<i.length;r+=2){var n=i[r],s=i[r+1],a=n.destroy;if(n.destroy=void 0,"function"===typeof a)try{a()}catch(u){if(null===s)throw Error(o(330));Ul(s,u)}}for(i=il,il=[],r=0;r<i.length;r+=2){n=i[r],s=i[r+1];try{var l=n.create;n.destroy=l()}catch(u){if(null===s)throw Error(o(330));Ul(s,u)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return La=e,Zn(),!0}function Nl(t,e,i){cs(t,e=da(0,e=ua(i,e),1)),e=dl(),null!==(t=ml(t,1))&&(Ve(t,1,e),vl(t,e))}function Ul(t,e){if(3===t.tag)Nl(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Nl(i,t,e);break}if(1===i.tag){var r=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r))){var n=fa(i,t=ua(e,t),1);if(cs(i,n),n=dl(),null!==(i=ml(i,1)))Ve(i,1,n),vl(i,n);else if("function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r)))try{r.componentDidCatch(e,t)}catch(s){}break}}i=i.return}}function zl(t,e,i){var r=t.pingCache;null!==r&&r.delete(e),e=dl(),t.pingedLanes|=t.suspendedLanes&i,Oa===t&&(Ia&i)===i&&(4===Ba||3===Ba&&(62914560&Ia)===Ia&&500>Vn()-Wa?Al(t,0):Va|=i),vl(t,e)}function Gl(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Hn()?1:2:(0===ll&&(ll=Ua),0===(e=ze(62914560&~ll))&&(e=4194304))),i=dl(),null!==(t=ml(t,e))&&(Ve(t,e,i),vl(t,i))}function Vl(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(t,e,i,r){return new Vl(t,e,i,r)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Yl(t,e){var i=t.alternate;return null===i?((i=Hl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Xl(t,e,i,r,n,s){var a=2;if(r=t,"function"===typeof t)Wl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case A:return Zl(i.children,n,s,e);case F:a=8,n|=16;break;case T:a=8,n|=1;break;case E:return(t=Hl(12,i,e,8|n)).elementType=E,t.type=E,t.lanes=s,t;case R:return(t=Hl(13,i,e,n)).type=R,t.elementType=R,t.lanes=s,t;case k:return(t=Hl(19,i,e,n)).elementType=k,t.lanes=s,t;case j:return ql(i,n,s,e);case B:return(t=Hl(24,i,e,n)).elementType=B,t.lanes=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case M:a=10;break t;case C:a=9;break t;case P:a=11;break t;case L:a=14;break t;case O:a=16,r=null;break t;case D:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Hl(a,i,e,n)).elementType=t,e.type=r,e.lanes=s,e}function Zl(t,e,i,r){return(t=Hl(7,t,r,e)).lanes=i,t}function ql(t,e,i,r){return(t=Hl(23,t,r,e)).elementType=j,t.lanes=i,t}function Ql(t,e,i){return(t=Hl(6,t,null,e)).lanes=i,t}function Kl(t,e,i){return(e=Hl(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jl(t,e,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ge(0),this.expirationTimes=Ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.mutableSourceEagerHydrationData=null}function $l(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:i}}function tu(t,e,i,r){var n=e.current,s=dl(),a=fl(n);t:if(i){e:{if(Qt(i=i._reactInternals)!==i||1!==i.tag)throw Error(o(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===i.tag){var u=i.type;if(yn(u)){i=bn(i,u,l);break t}}i=l}else i=dn;return null===e.context?e.context=i:e.pendingContext=i,(e=hs(s,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),cs(n,e),pl(n,a,s),a}function eu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function iu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function ru(t,e){iu(t,e),(t=t.alternate)&&iu(t,e)}function nu(t,e,i){var r=null!=i&&null!=i.hydrationOptions&&i.hydrationOptions.mutableSources||null;if(i=new Jl(t,e,null!=i&&!0===i.hydrate),e=Hl(3,null,null,2===e?7:1===e?3:0),i.current=e,e.stateNode=i,ls(e),t[$r]=i.current,kr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var n=(e=r[t])._getVersion;n=n(e._source),null==i.mutableSourceEagerHydrationData?i.mutableSourceEagerHydrationData=[e,n]:i.mutableSourceEagerHydrationData.push(e,n)}this._internalRoot=i}function su(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ou(t,e,i,r,n){var s=i._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof n){var a=n;n=function(){var t=eu(o);a.call(t)}}tu(e,o,t,n)}else{if(s=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new nu(t,0,e?{hydrate:!0}:void 0)}(i,r),o=s._internalRoot,"function"===typeof n){var l=n;n=function(){var t=eu(o);l.call(t)}}wl((function(){tu(e,o,t,n)}))}return eu(o)}function au(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(e))throw Error(o(200));return $l(t,e,null,i)}Za=function(t,e,i){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pn.current)jo=!0;else{if(0===(i&r)){switch(jo=!1,e.tag){case 3:Xo(e),Xs();break;case 5:Is(e);break;case 1:yn(e.type)&&wn(e);break;case 4:Os(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var n=e.type._context;cn(Jn,n._currentValue),n._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(i&e.child.childLanes)?Jo(t,e,i):(cn(js,1&js.current),null!==(e=sa(t,e,i))?e.sibling:null);cn(js,1&js.current);break;case 19:if(r=0!==(i&e.childLanes),0!==(64&t.flags)){if(r)return na(t,e,i);e.flags|=64}if(null!==(n=e.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),cn(js,js.current),r)break;return null;case 23:case 24:return e.lanes=0,Go(t,e,i)}return sa(t,e,i)}jo=0!==(16384&t.flags)}else jo=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,n=vn(e,fn.current),ss(e,i),n=oo(null,e,r,t,n,i),e.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)){var s=!0;wn(e)}else s=!1;e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,ls(e);var a=r.getDerivedStateFromProps;"function"===typeof a&&vs(e,r,a,t),n.updater=ys,e.stateNode=n,n._reactInternals=e,ws(e,r,t,i),e=Yo(null,e,r,!0,s,i)}else e.tag=0,Bo(null,e,n,i),e=e.child;return e;case 16:n=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,n=(s=n._init)(n._payload),e.type=n,s=e.tag=function(t){if("function"===typeof t)return Wl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===P)return 11;if(t===L)return 14}return 2}(n),t=Kn(n,t),s){case 0:e=Ho(null,e,n,t,i);break t;case 1:e=Wo(null,e,n,t,i);break t;case 11:e=No(null,e,n,t,i);break t;case 14:e=Uo(null,e,n,Kn(n.type,t),r,i);break t}throw Error(o(306,n,""))}return e;case 0:return r=e.type,n=e.pendingProps,Ho(t,e,r,n=e.elementType===r?n:Kn(r,n),i);case 1:return r=e.type,n=e.pendingProps,Wo(t,e,r,n=e.elementType===r?n:Kn(r,n),i);case 3:if(Xo(e),r=e.updateQueue,null===t||null===r)throw Error(o(282));if(r=e.pendingProps,n=null!==(n=e.memoizedState)?n.element:null,us(t,e),fs(e,r,null,i),(r=e.memoizedState.element)===n)Xs(),e=sa(t,e,i);else{if((s=(n=e.stateNode).hydrate)&&(Us=Xr(e.stateNode.containerInfo.firstChild),Ns=e,s=zs=!0),s){if(null!=(t=n.mutableSourceEagerHydrationData))for(n=0;n<t.length;n+=2)(s=t[n])._workInProgressVersionPrimary=t[n+1],Zs.push(s);for(i=Ms(e,null,r,i),e.child=i;i;)i.flags=-3&i.flags|1024,i=i.sibling}else Bo(t,e,r,i),Xs();e=e.child}return e;case 5:return Is(e),null===t&&Hs(e),r=e.type,n=e.pendingProps,s=null!==t?t.memoizedProps:null,a=n.children,Vr(r,n)?a=null:null!==s&&Vr(r,s)&&(e.flags|=16),Vo(t,e),Bo(t,e,a,i),e.child;case 6:return null===t&&Hs(e),null;case 13:return Jo(t,e,i);case 4:return Os(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Es(e,null,r,i):Bo(t,e,r,i),e.child;case 11:return r=e.type,n=e.pendingProps,No(t,e,r,n=e.elementType===r?n:Kn(r,n),i);case 7:return Bo(t,e,e.pendingProps,i),e.child;case 8:case 12:return Bo(t,e,e.pendingProps.children,i),e.child;case 10:t:{r=e.type._context,n=e.pendingProps,a=e.memoizedProps,s=n.value;var l=e.type._context;if(cn(Jn,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=ur(l,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===n.children&&!pn.current){e=sa(t,e,i);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var h=u.firstContext;null!==h;){if(h.context===r&&0!==(h.observedBits&s)){1===l.tag&&((h=hs(-1,i&-i)).tag=2,cs(l,h)),l.lanes|=i,null!==(h=l.alternate)&&(h.lanes|=i),ns(l.return,i),u.lanes|=i;break}h=h.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Bo(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,r=(s=e.pendingProps).children,ss(e,i),r=r(n=os(n,s.unstable_observedBits)),e.flags|=1,Bo(t,e,r,i),e.child;case 14:return s=Kn(n=e.type,e.pendingProps),Uo(t,e,n,s=Kn(n.type,s),r,i);case 15:return zo(t,e,e.type,e.pendingProps,r,i);case 17:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:Kn(r,n),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,yn(r)?(t=!0,wn(e)):t=!1,ss(e,i),xs(e,r,n),ws(e,r,n,i),Yo(null,e,r,!0,t,i);case 19:return na(t,e,i);case 23:case 24:return Go(t,e,i)}throw Error(o(156,e.tag))},nu.prototype.render=function(t){tu(t,this._internalRoot,null,null)},nu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tu(null,t,null,(function(){e[$r]=null}))},ee=function(t){13===t.tag&&(pl(t,4,dl()),ru(t,4))},ie=function(t){13===t.tag&&(pl(t,67108864,dl()),ru(t,67108864))},re=function(t){if(13===t.tag){var e=dl(),i=fl(t);pl(t,i,e),ru(t,i)}},ne=function(t,e){return e()},Mt=function(t,e,i){switch(e){case"input":if(it(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var n=sn(r);if(!n)throw Error(o(90));K(r),it(r,n)}}}break;case"textarea":ut(t,i);break;case"select":null!=(e=i.value)&&ot(t,!!i.multiple,e,!1)}},Ot=bl,Dt=function(t,e,i,r,n){var s=La;La|=4;try{return Yn(98,t.bind(null,e,i,r,n))}finally{0===(La=s)&&(Xa(),Zn())}},It=function(){0===(49&La)&&(function(){if(null!==nl){var t=nl;nl=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,vl(t,Vn())}))}Zn()}(),Il())},Ft=function(t,e){var i=La;La|=2;try{return t(e)}finally{0===(La=i)&&(Xa(),Zn())}};var lu={Events:[rn,nn,sn,kt,Lt,Il,{current:!1}]},uu={findFiberByHostInstance:en,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},hu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Sn=cu.inject(hu),An=cu}catch(vt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,e.createPortal=au,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t,e){var i=La;if(0!==(48&i))return t(e);La|=1;try{if(t)return Yn(99,t.bind(null,e))}finally{La=i,Zn()}},e.hydrate=function(t,e,i){if(!su(e))throw Error(o(200));return ou(null,t,e,!0,i)},e.render=function(t,e,i){if(!su(e))throw Error(o(200));return ou(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!su(t))throw Error(o(40));return!!t._reactRootContainer&&(wl((function(){ou(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=bl,e.unstable_createPortal=function(t,e){return au(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!su(i))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return ou(t,e,i,!1,r)},e.version="17.0.2"},4164:function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(4463)},77:function(t){var e="undefined"!==typeof Element,i="function"===typeof Map,r="function"===typeof Set,n="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var a,l,u,h;if(Array.isArray(t)){if((a=t.length)!=o.length)return!1;for(l=a;0!==l--;)if(!s(t[l],o[l]))return!1;return!0}if(i&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(h=t.entries();!(l=h.next()).done;)if(!o.has(l.value[0]))return!1;for(h=t.entries();!(l=h.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(h=t.entries();!(l=h.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((a=t.length)!=o.length)return!1;for(l=a;0!==l--;)if(t[l]!==o[l])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"===typeof t.valueOf&&"function"===typeof o.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString&&"function"===typeof t.toString&&"function"===typeof o.toString)return t.toString()===o.toString();if((a=(u=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(e&&t instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!s(t[u[l]],o[u[l]]))return!1;return!0}return t!==t&&o!==o}t.exports=function(t,e){try{return s(t,e)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}}},7721:function(t,e,i){var r;t.exports=(r=i(2791),function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){t.exports=r},function(t,e,i){(function(e){t.exports=function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};e[o][0].call(u.exports,(function(t){return n(e[o][1][t]||t)}),u,u.exports,t,e,i,r)}return i[o].exports}for(var s=!1,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){"use strict";i.byteLength=function(t){var e=u(t),i=e[0],r=e[1];return 3*(i+r)/4-r},i.toByteArray=function(t){var e,i,r=u(t),o=r[0],a=r[1],l=new s(function(t,e){return 3*(t+e)/4-e}(o,a)),h=0,c=0<a?o-4:o;for(i=0;i<c;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],l[h++]=e>>16&255,l[h++]=e>>8&255,l[h++]=255&e;return 2===a&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,l[h++]=255&e),1===a&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,l[h++]=e>>8&255,l[h++]=255&e),l},i.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=0,a=i-n;o<a;o+=16383)s.push(h(t,o,a<o+16383?a:o+16383));return 1==n?(e=t[i-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2==n&&(e=(t[i-2]<<8)+t[i-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function h(t,e,i){for(var n,s,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],4:[function(t,e,i){(function(e){"use strict";var r=t("base64-js"),n=t("ieee754"),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=e,i.SlowBuffer=function(t){return+t!=t&&(t=0),e.alloc(+t)},i.INSPECT_MAX_BYTES=50;var o=2147483647;function a(t){if(o<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=new Uint8Array(t);return Object.setPrototypeOf(i,e.prototype),i}function e(t,e,i){if("number"!=typeof t)return l(t,e,i);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}function l(t,i,r){if("string"==typeof t)return function(t,i){if("string"==typeof i&&""!==i||(i="utf8"),!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var r=0|f(t,i),n=a(r),s=n.write(t,i);return s!==r&&(n=n.slice(0,s)),n}(t,i);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return function(t,i,r){if(i<0||t.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<i+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r),Object.setPrototypeOf(n,e.prototype),n}(t,i,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return e.from(n,i,r);var s=function(t){if(e.isBuffer(t)){var i=0|d(t.length),r=a(i);return 0===r.length||t.copy(r,0,0,i),r}return void 0!==t.length?"number"!=typeof t.length||j(t.length)?a(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return e.from(t[Symbol.toPrimitive]("string"),i,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),a(t<0?0:0|d(t))}function c(t){for(var e=t.length<0?0:0|d(t.length),i=a(e),r=0;r<e;r+=1)i[r]=255&t[r];return i}function d(t){if(o<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function f(t,i){if(e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(i){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return O(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(t).length;default:if(s)return n?-1:O(t).length;i=(""+i).toLowerCase(),s=!0}}function p(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function m(t,i,r,n,s){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),j(r=+r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof i&&(i=e.from(i,n)),e.isBuffer(i))return 0===i.length?-1:v(t,i,r,n,s);if("number"==typeof i)return i&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,i,r):Uint8Array.prototype.lastIndexOf.call(t,i,r):v(t,[i],r,n,s);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,r,n){var s,o=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a/=o=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var h=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===l)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(a<i+l&&(i=a-l),s=i;0<=s;s--){for(var c=!0,d=0;d<l;d++)if(u(t,s+d)!==u(e,d)){c=!1;break}if(c)return s}return-1}function y(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?n<(r=Number(r))&&(r=n):r=n;var s=e.length;s/2<r&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(j(a))return o;t[i+o]=a}return o}function g(t,e,i,r){return I(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function x(t,e,i,r){return I(function(t,e){for(var i,r,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(i=t.charCodeAt(o))>>8,n=i%256,s.push(n),s.push(r);return s}(e,t.length-i),t,i,r)}function b(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function w(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var s,o,a,l,u=t[n],h=null,c=239<u?4:223<u?3:191<u?2:1;if(n+c<=i)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(s=t[n+1]))&&127<(l=(31&u)<<6|63&s)&&(h=l);break;case 3:s=t[n+1],o=t[n+2],128==(192&s)&&128==(192&o)&&2047<(l=(15&u)<<12|(63&s)<<6|63&o)&&(l<55296||57343<l)&&(h=l);break;case 4:s=t[n+1],o=t[n+2],a=t[n+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)&&l<1114112&&(h=l)}null===h?(h=65533,c=1):65535<h&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),n+=c}return function(t){var e=t.length;if(e<=_)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=_));return i}(r)}i.kMaxLength=o,(e.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(t,e,i){return l(t,e,i)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array),e.alloc=function(t,e,i){return n=e,s=i,u(r=t),r<=0?a(r):void 0!==n?"string"==typeof s?a(r).fill(n,s):a(r).fill(n):a(r);var r,n,s},e.allocUnsafe=function(t){return h(t)},e.allocUnsafeSlow=function(t){return h(t)},e.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==e.prototype},e.compare=function(t,i){if(F(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),F(i,Uint8Array)&&(i=e.from(i,i.offset,i.byteLength)),!e.isBuffer(t)||!e.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;for(var r=t.length,n=i.length,s=0,o=Math.min(r,n);s<o;++s)if(t[s]!==i[s]){r=t[s],n=i[s];break}return r<n?-1:n<r?1:0},e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===i)for(r=i=0;r<t.length;++r)i+=t[r].length;var n=e.allocUnsafe(i),s=0;for(r=0;r<t.length;++r){var o=t[r];if(F(o,Uint8Array)&&(o=e.from(o)),!e.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,s),s+=o.length}return n},e.byteLength=f,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},e.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},e.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},e.prototype.toLocaleString=e.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?w(this,0,t):function(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return T(this,e,i);case"utf8":case"utf-8":return w(this,e,i);case"ascii":return S(this,e,i);case"latin1":case"binary":return A(this,e,i);case"base64":return b(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},s&&(e.prototype[s]=e.prototype.inspect),e.prototype.compare=function(t,i,r,n,s){if(F(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===i&&(i=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),i<0||r>t.length||n<0||s>this.length)throw new RangeError("out of range index");if(s<=n&&r<=i)return 0;if(s<=n)return-1;if(r<=i)return 1;if(this===t)return 0;for(var o=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(i>>>=0),l=Math.min(o,a),u=this.slice(n,s),h=t.slice(i,r),c=0;c<l;++c)if(u[c]!==h[c]){o=u[c],a=h[c];break}return o<a?-1:a<o?1:0},e.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},e.prototype.indexOf=function(t,e,i){return m(this,t,e,i,!0)},e.prototype.lastIndexOf=function(t,e,i){return m(this,t,e,i,!1)},e.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||n<i)&&(i=n),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var s,o,a,l,u=!1;;)switch(r){case"hex":return y(this,t,e,i);case"utf8":case"utf-8":return a=e,l=i,I(O(t,this.length-a),this,a,l);case"ascii":case"latin1":case"binary":return g(this,t,e,i);case"base64":return s=e,o=i,I(D(t),this,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function S(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function A(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function T(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||r<i)&&(i=r);for(var n="",s=e;s<i;++s)n+=B[t[s]];return n}function E(t,e,i){for(var r=t.slice(e,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}function M(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function C(t,i,r,n,s,o){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(s<i||i<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,i,r){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,r,s){return e=+e,i>>>=0,s||P(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function k(t,e,i,r,s){return e=+e,i>>>=0,s||P(t,0,i,8),n.write(t,e,i,r,52,8),i+8}e.prototype.slice=function(t,i){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(i=void 0===i?r:~~i)<0?(i+=r)<0&&(i=0):r<i&&(i=r),i<t&&(i=t);var n=this.subarray(t,i);return Object.setPrototypeOf(n,e.prototype),n},e.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||M(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r},e.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||M(t,e,this.length);for(var r=this[t+--e],n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},e.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},e.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},e.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},e.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},e.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},e.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||M(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return(n*=128)<=r&&(r-=Math.pow(2,8*e)),r},e.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||M(t,e,this.length);for(var r=e,n=1,s=this[t+--r];0<r&&(n*=256);)s+=this[t+--r]*n;return(n*=128)<=s&&(s-=Math.pow(2,8*e)),s},e.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},e.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},e.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},e.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},e.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},e.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),n.read(this,t,!0,23,4)},e.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),n.read(this,t,!1,23,4)},e.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),n.read(this,t,!0,52,8)},e.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),n.read(this,t,!1,52,8)},e.prototype.writeUIntLE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||C(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},e.prototype.writeUIntBE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||C(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[e+n]=255&t;0<=--n&&(s*=256);)this[e+n]=t/s&255;return e+i},e.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,1,255,0),this[e]=255&t,e+1},e.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},e.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);C(this,t,e,i,n-1,-n)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},e.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);C(this,t,e,i,n-1,-n)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;0<=--s&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},e.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},e.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},e.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},e.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},e.prototype.writeDoubleLE=function(t,e,i){return k(this,t,e,!0,i)},e.prototype.writeDoubleBE=function(t,e,i){return k(this,t,e,!1,i)},e.prototype.copy=function(t,i,r,n){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),i>=t.length&&(i=t.length),i=i||0,0<n&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-i<n-r&&(n=t.length-i+r);var s=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(i,r,n);else if(this===t&&r<i&&i<n)for(var o=s-1;0<=o;--o)t[o+i]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),i);return s},e.prototype.fill=function(t,i,r,n){if("string"==typeof t){if("string"==typeof i?(n=i,i=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var s=t.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(t=s)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(i<0||this.length<i||this.length<r)throw new RangeError("Out of range index");if(r<=i)return this;var o;if(i>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(o=i;o<r;++o)this[o]=t;else{var a=e.isBuffer(t)?t:e.from(t,n),l=a.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-i;++o)this[o+i]=a[o%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function O(t,e){var i;e=e||1/0;for(var r=t.length,n=null,s=[],o=0;o<r;++o){if(55295<(i=t.charCodeAt(o))&&i<57344){if(!n){if(56319<i){-1<(e-=3)&&s.push(239,191,189);continue}if(o+1===r){-1<(e-=3)&&s.push(239,191,189);continue}n=i;continue}if(i<56320){-1<(e-=3)&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&-1<(e-=3)&&s.push(239,191,189);if(n=null,i<128){if(--e<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function D(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function I(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function F(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function j(t){return t!=t}var B=function(){for(var t="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var r=16*i,n=0;n<16;++n)e[r+n]=t[i]+t[n];return e}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:233}],5:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},{}],6:[function(t,e,i){var r=t("../internals/is-object");e.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":73}],7:[function(t,e,i){var r=t("../internals/well-known-symbol"),n=t("../internals/object-create"),s=t("../internals/object-define-property"),o=r("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:n(null)}),e.exports=function(t){a[o][t]=!0}},{"../internals/object-create":89,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],8:[function(t,e,i){"use strict";var r=t("../internals/string-multibyte").charAt;e.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},{"../internals/string-multibyte":122}],9:[function(t,e,i){e.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},{}],10:[function(t,e,i){var r=t("../internals/is-object");e.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":73}],11:[function(t,e,i){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(t,e,i){"use strict";function r(t){return l(t)&&u(R,h(t))}var n,s=t("../internals/array-buffer-native"),o=t("../internals/descriptors"),a=t("../internals/global"),l=t("../internals/is-object"),u=t("../internals/has"),h=t("../internals/classof"),c=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),f=t("../internals/object-define-property").f,p=t("../internals/object-get-prototype-of"),m=t("../internals/object-set-prototype-of"),v=t("../internals/well-known-symbol"),y=t("../internals/uid"),g=a.Int8Array,x=g&&g.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,_=g&&p(g),S=x&&p(x),A=Object.prototype,T=A.isPrototypeOf,E=v("toStringTag"),M=y("TYPED_ARRAY_TAG"),C=s&&!!m&&"Opera"!==h(a.opera),P=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(n in R)a[n]||(C=!1);if((!C||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},C))for(n in R)a[n]&&m(a[n],_);if((!C||!S||S===A)&&(S=_.prototype,C))for(n in R)a[n]&&m(a[n].prototype,S);if(C&&p(w)!==S&&m(w,S),o&&!u(S,E))for(n in P=!0,f(S,E,{get:function(){return l(this)?this[M]:void 0}}),R)a[n]&&c(a[n],M,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:P&&M,aTypedArray:function(t){if(r(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(m){if(T.call(_,t))return t}else for(var e in R)if(u(R,n)){var i=a[e];if(i&&(t===i||T.call(i,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,i){if(o){if(i)for(var r in R){var n=a[r];n&&u(n.prototype,t)&&delete n.prototype[t]}S[t]&&!i||d(S,t,i?e:C&&x[t]||e)}},exportTypedArrayStaticMethod:function(t,e,i){var r,n;if(o){if(m){if(i)for(r in R)(n=a[r])&&u(n,t)&&delete n[t];if(_[t]&&!i)return;try{return d(_,t,i?e:C&&g[t]||e)}catch(t){}}for(r in R)!(n=a[r])||n[t]&&!i||d(n,t,e)}},isView:function(t){var e=h(t);return"DataView"===e||u(R,e)},isTypedArray:r,TypedArray:_,TypedArrayPrototype:S}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/uid":142,"../internals/well-known-symbol":145}],13:[function(t,e,i){"use strict";function r(t){return[255&t]}function n(t){return[255&t,t>>8&255]}function s(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return G(t,23,4)}function l(t){return G(t,52,8)}function u(t,e){E(t[D],e,{get:function(){return R(this)[e]}})}function h(t,e,i,r){var n=w(i),s=R(t);if(n+e>s.byteLength)throw z(I);var o=R(s.buffer).bytes,a=n+s.byteOffset,l=o.slice(a,a+e);return r?l:l.reverse()}function c(t,e,i,r,n,s){var o=w(i),a=R(t);if(o+e>a.byteLength)throw z(I);for(var l=R(a.buffer).bytes,u=o+a.byteOffset,h=r(+n),c=0;c<e;c++)l[u+c]=h[s?c:e-c-1]}var d=t("../internals/global"),f=t("../internals/descriptors"),p=t("../internals/array-buffer-native"),m=t("../internals/create-non-enumerable-property"),v=t("../internals/redefine-all"),y=t("../internals/fails"),g=t("../internals/an-instance"),x=t("../internals/to-integer"),b=t("../internals/to-length"),w=t("../internals/to-index"),_=t("../internals/ieee754"),S=t("../internals/object-get-prototype-of"),A=t("../internals/object-set-prototype-of"),T=t("../internals/object-get-own-property-names").f,E=t("../internals/object-define-property").f,M=t("../internals/array-fill"),C=t("../internals/set-to-string-tag"),P=t("../internals/internal-state"),R=P.get,k=P.set,L="ArrayBuffer",O="DataView",D="prototype",I="Wrong index",F=d[L],j=F,B=d[O],N=B&&B[D],U=Object.prototype,z=d.RangeError,G=_.pack,V=_.unpack;if(p){if(!y((function(){F(1)}))||!y((function(){new F(-1)}))||y((function(){return new F,new F(1.5),new F(NaN),F.name!=L}))){for(var H,W=(j=function(t){return g(this,j),new F(w(t))})[D]=F[D],Y=T(F),X=0;Y.length>X;)(H=Y[X++])in j||m(j,H,F[H]);W.constructor=j}A&&S(N)!==U&&A(N,U);var Z=new B(new j(2)),q=N.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||v(N,{setInt8:function(t,e){q.call(this,t,e<<24>>24)},setUint8:function(t,e){q.call(this,t,e<<24>>24)}},{unsafe:!0})}else j=function(t){g(this,j,L);var e=w(t);k(this,{bytes:M.call(new Array(e),0),byteLength:e}),f||(this.byteLength=e)},B=function(t,e,i){g(this,B,O),g(t,j,O);var r=R(t).byteLength,n=x(e);if(n<0||r<n)throw z("Wrong offset");if(r<n+(i=void 0===i?r-n:b(i)))throw z("Wrong length");k(this,{buffer:t,byteLength:i,byteOffset:n}),f||(this.buffer=t,this.byteLength=i,this.byteOffset=n)},f&&(u(j,"byteLength"),u(B,"buffer"),u(B,"byteLength"),u(B,"byteOffset")),v(B[D],{getInt8:function(t){return h(this,1,t)[0]<<24>>24},getUint8:function(t){return h(this,1,t)[0]},getInt16:function(t,e){var i=h(this,2,t,1<arguments.length?e:void 0);return(i[1]<<8|i[0])<<16>>16},getUint16:function(t,e){var i=h(this,2,t,1<arguments.length?e:void 0);return i[1]<<8|i[0]},getInt32:function(t,e){return o(h(this,4,t,1<arguments.length?e:void 0))},getUint32:function(t,e){return o(h(this,4,t,1<arguments.length?e:void 0))>>>0},getFloat32:function(t,e){return V(h(this,4,t,1<arguments.length?e:void 0),23)},getFloat64:function(t,e){return V(h(this,8,t,1<arguments.length?e:void 0),52)},setInt8:function(t,e){c(this,1,t,r,e)},setUint8:function(t,e){c(this,1,t,r,e)},setInt16:function(t,e,i){c(this,2,t,n,e,2<arguments.length?i:void 0)},setUint16:function(t,e,i){c(this,2,t,n,e,2<arguments.length?i:void 0)},setInt32:function(t,e,i){c(this,4,t,s,e,2<arguments.length?i:void 0)},setUint32:function(t,e,i){c(this,4,t,s,e,2<arguments.length?i:void 0)},setFloat32:function(t,e,i){c(this,4,t,a,e,2<arguments.length?i:void 0)},setFloat64:function(t,e,i){c(this,8,t,l,e,2<arguments.length?i:void 0)}});C(j,L),C(B,O),e.exports={ArrayBuffer:j,DataView:B}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/ieee754":64,"../internals/internal-state":69,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/to-index":130,"../internals/to-integer":132,"../internals/to-length":133}],14:[function(t,e,i){"use strict";var r=t("../internals/to-object"),n=t("../internals/to-absolute-index"),s=t("../internals/to-length"),o=Math.min;e.exports=[].copyWithin||function(t,e,i){var a=r(this),l=s(a.length),u=n(t,l),h=n(e,l),c=2<arguments.length?i:void 0,d=o((void 0===c?l:n(c,l))-h,l-u),f=1;for(h<u&&u<h+d&&(f=-1,h+=d-1,u+=d-1);0<d--;)h in a?a[u]=a[h]:delete a[u],u+=f,h+=f;return a}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],15:[function(t,e,i){"use strict";var r=t("../internals/to-object"),n=t("../internals/to-absolute-index"),s=t("../internals/to-length");e.exports=function(t,e,i){for(var o=r(this),a=s(o.length),l=arguments.length,u=n(1<l?e:void 0,a),h=2<l?i:void 0,c=void 0===h?a:n(h,a);u<c;)o[u++]=t;return o}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],16:[function(t,e,i){"use strict";var r=t("../internals/array-iteration").forEach,n=t("../internals/array-method-is-strict"),s=t("../internals/array-method-uses-to-length"),o=n("forEach"),a=s("forEach");e.exports=o&&a?[].forEach:function(t,e){return r(this,t,1<arguments.length?e:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,e,i){"use strict";var r=t("../internals/function-bind-context"),n=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),o=t("../internals/is-array-iterator-method"),a=t("../internals/to-length"),l=t("../internals/create-property"),u=t("../internals/get-iterator-method");e.exports=function(t,e,i){var h,c,d,f,p,m,v=n(t),y="function"==typeof this?this:Array,g=arguments.length,x=1<g?e:void 0,b=void 0!==x,w=u(v),_=0;if(b&&(x=r(x,2<g?i:void 0,2)),null==w||y==Array&&o(w))for(c=new y(h=a(v.length));_<h;_++)m=b?x(v[_],_):v[_],l(c,_,m);else for(p=(f=w.call(v)).next,c=new y;!(d=p.call(f)).done;_++)m=b?s(f,x,[d.value,_],!0):d.value,l(c,_,m);return c.length=_,c}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],18:[function(t,e,i){function r(t){return function(e,i,r){var a,l=n(e),u=s(l.length),h=o(r,u);if(t&&i!=i){for(;h<u;)if((a=l[h++])!=a)return!0}else for(;h<u;h++)if((t||h in l)&&l[h]===i)return t||h||0;return!t&&-1}}var n=t("../internals/to-indexed-object"),s=t("../internals/to-length"),o=t("../internals/to-absolute-index");e.exports={includes:r(!0),indexOf:r(!1)}},{"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133}],19:[function(t,e,i){function r(t){var e=1==t,i=2==t,r=3==t,h=4==t,c=6==t,d=5==t||c;return function(f,p,m,v){for(var y,g,x=o(f),b=s(x),w=n(p,m,3),_=a(b.length),S=0,A=v||l,T=e?A(f,_):i?A(f,0):void 0;S<_;S++)if((d||S in b)&&(g=w(y=b[S],S,x),t))if(e)T[S]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:u.call(T,y)}else if(h)return!1;return c?-1:r||h?h:T}}var n=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),o=t("../internals/to-object"),a=t("../internals/to-length"),l=t("../internals/array-species-create"),u=[].push;e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":53,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],20:[function(t,e,i){"use strict";var r=t("../internals/to-indexed-object"),n=t("../internals/to-integer"),s=t("../internals/to-length"),o=t("../internals/array-method-is-strict"),a=t("../internals/array-method-uses-to-length"),l=Math.min,u=[].lastIndexOf,h=!!u&&1/[1].lastIndexOf(1,-0)<0,c=o("lastIndexOf"),d=a("indexOf",{ACCESSORS:!0,1:0}),f=h||!c||!d;e.exports=f?function(t,e){if(h)return u.apply(this,arguments)||0;var i=r(this),o=s(i.length),a=o-1;for(1<arguments.length&&(a=l(a,n(e))),a<0&&(a=o+a);0<=a;a--)if(a in i&&i[a]===t)return a||0;return-1}:u},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":131,"../internals/to-integer":132,"../internals/to-length":133}],21:[function(t,e,i){var r=t("../internals/fails"),n=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),o=n("species");e.exports=function(t){return 51<=s||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":145}],22:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=function(t,e){var i=[][t];return!!i&&r((function(){i.call(null,e||function(){throw 1},1)}))}},{"../internals/fails":50}],23:[function(t,e,i){function r(t){throw t}var n=t("../internals/descriptors"),s=t("../internals/fails"),o=t("../internals/has"),a=Object.defineProperty,l={};e.exports=function(t,e){if(o(l,t))return l[t];var i=[][t],u=!!o(e=e||{},"ACCESSORS")&&e.ACCESSORS,h=o(e,0)?e[0]:r,c=o(e,1)?e[1]:void 0;return l[t]=!!i&&!s((function(){if(u&&!n)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:r}):t[1]=1,i.call(t,h,c)}))}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":59}],24:[function(t,e,i){function r(t){return function(e,i,r,l){n(i);var u=s(e),h=o(u),c=a(u.length),d=t?c-1:0,f=t?-1:1;if(r<2)for(;;){if(d in h){l=h[d],d+=f;break}if(d+=f,t?d<0:c<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?0<=d:d<c;d+=f)d in h&&(l=i(l,h[d],d,u));return l}}var n=t("../internals/a-function"),s=t("../internals/to-object"),o=t("../internals/indexed-object"),a=t("../internals/to-length");e.exports={left:r(!1),right:r(!0)}},{"../internals/a-function":5,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],25:[function(t,e,i){var r=t("../internals/is-object"),n=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var i;return n(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!n(i.prototype)?r(i)&&null===(i=i[s])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},{"../internals/is-array":71,"../internals/is-object":73,"../internals/well-known-symbol":145}],26:[function(t,e,i){var r=t("../internals/an-object");e.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){var s=t.return;throw void 0!==s&&r(s.call(t)),e}}},{"../internals/an-object":10}],27:[function(t,e,i){var r=t("../internals/well-known-symbol")("iterator"),n=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){n=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}e.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var s={};s[r]=function(){return{next:function(){return{done:i=!0}}}},t(s)}catch(t){}return i}},{"../internals/well-known-symbol":145}],28:[function(t,e,i){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],29:[function(t,e,i){var r=t("../internals/to-string-tag-support"),n=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=r?n:function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:o?n(e):"Object"==(r=n(e))&&"function"==typeof e.callee?"Arguments":r}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":138,"../internals/well-known-symbol":145}],30:[function(t,e,i){"use strict";var r=t("../internals/object-define-property").f,n=t("../internals/object-create"),s=t("../internals/redefine-all"),o=t("../internals/function-bind-context"),a=t("../internals/an-instance"),l=t("../internals/iterate"),u=t("../internals/define-iterator"),h=t("../internals/set-species"),c=t("../internals/descriptors"),d=t("../internals/internal-metadata").fastKey,f=t("../internals/internal-state"),p=f.set,m=f.getterFor;e.exports={getConstructor:function(t,e,i,u){function h(t,e,i){var r,n,s=v(t),o=y(t,e);return o?o.value=i:(s.last=o={index:n=d(e,!0),key:e,value:i,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=o),r&&(r.next=o),c?s.size++:t.size++,"F"!==n&&(s.index[n]=o)),t}var f=t((function(t,r){a(t,f,e),p(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),c||(t.size=0),null!=r&&l(r,t[u],t,i)})),v=m(e),y=function(t,e){var i,r=v(t),n=d(e);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==e)return i};return s(f.prototype,{clear:function(){for(var t=v(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,c?t.size=0:this.size=0},delete:function(t){var e=v(this),i=y(this,t);if(i){var r=i.next,n=i.previous;delete e.index[i.index],i.removed=!0,n&&(n.next=r),r&&(r.previous=n),e.first==i&&(e.first=r),e.last==i&&(e.last=n),c?e.size--:this.size--}return!!i},forEach:function(t,e){for(var i,r=v(this),n=o(t,1<arguments.length?e:void 0,3);i=i?i.next:r.first;)for(n(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function(t){return!!y(this,t)}}),s(f.prototype,i?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return h(this,0===t?0:t,e)}}:{add:function(t){return h(this,t=0===t?0:t,t)}}),c&&r(f.prototype,"size",{get:function(){return v(this).size}}),f},setStrong:function(t,e,i){var r=e+" Iterator",n=m(e),s=m(r);u(t,e,(function(t,e){p(this,{type:r,target:t,state:n(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:{value:t.target=void 0,done:!0}}),i?"entries":"values",!i,!0),h(e)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":53,"../internals/internal-metadata":68,"../internals/internal-state":69,"../internals/iterate":76,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/redefine-all":106,"../internals/set-species":115}],31:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/global"),s=t("../internals/is-forced"),o=t("../internals/redefine"),a=t("../internals/internal-metadata"),l=t("../internals/iterate"),u=t("../internals/an-instance"),h=t("../internals/is-object"),c=t("../internals/fails"),d=t("../internals/check-correctness-of-iteration"),f=t("../internals/set-to-string-tag"),p=t("../internals/inherit-if-required");e.exports=function(t,e,i){function m(t){var e=b[t];o(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!h(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!h(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})}var v=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),g=v?"set":"add",x=n[t],b=x&&x.prototype,w=x,_={};if(s(t,"function"!=typeof x||!(y||b.forEach&&!c((function(){(new x).entries().next()})))))w=i.getConstructor(e,t,v,g),a.REQUIRED=!0;else if(s(t,!0)){var S=new w,A=S[g](y?{}:-0,1)!=S,T=c((function(){S.has(1)})),E=d((function(t){new x(t)})),M=!y&&c((function(){for(var t=new x,e=5;e--;)t[g](e,e);return!t.has(-0)}));E||(((w=e((function(e,i){u(e,w,t);var r=p(new x,e,w);return null!=i&&l(i,r[g],r,v),r}))).prototype=b).constructor=w),(T||M)&&(m("delete"),m("has"),v&&m("get")),(M||A)&&m(g),y&&b.clear&&delete b.clear}return _[t]=w,r({global:!0,forced:w!=x},_),f(w,t),y||i.setStrong(w,t,v),w}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-metadata":68,"../internals/is-forced":72,"../internals/is-object":73,"../internals/iterate":76,"../internals/redefine":107,"../internals/set-to-string-tag":116}],32:[function(t,e,i){var r=t("../internals/has"),n=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),o=t("../internals/object-define-property");e.exports=function(t,e){for(var i=n(e),a=o.f,l=s.f,u=0;u<i.length;u++){var h=i[u];r(t,h)||a(t,h,l(e,h))}}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/own-keys":102}],33:[function(t,e,i){var r=t("../internals/well-known-symbol")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},{"../internals/well-known-symbol":145}],34:[function(t,e,i){var r=t("../internals/fails");e.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},{"../internals/fails":50}],35:[function(t,e,i){var r=t("../internals/require-object-coercible"),n=/"/g;e.exports=function(t,e,i,s){var o=String(r(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(s).replace(n,"&quot;")+'"'),a+">"+o+"</"+e+">"}},{"../internals/require-object-coercible":112}],36:[function(t,e,i){"use strict";function r(){return this}var n=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),a=t("../internals/set-to-string-tag"),l=t("../internals/iterators");e.exports=function(t,e,i){var u=e+" Iterator";return t.prototype=s(n,{next:o(1,i)}),a(t,u,!1,!0),l[u]=r,t}},{"../internals/create-property-descriptor":38,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-create":89,"../internals/set-to-string-tag":116}],37:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");e.exports=r?function(t,e,i){return n.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":91}],38:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],39:[function(t,e,i){"use strict";var r=t("../internals/to-primitive"),n=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");e.exports=function(t,e,i){var o=r(e);o in t?n.f(t,o,s(0,i)):t[o]=i}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":91,"../internals/to-primitive":137}],40:[function(t,e,i){"use strict";function r(){return this}var n=t("../internals/export"),s=t("../internals/create-iterator-constructor"),o=t("../internals/object-get-prototype-of"),a=t("../internals/object-set-prototype-of"),l=t("../internals/set-to-string-tag"),u=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),c=t("../internals/well-known-symbol"),d=t("../internals/is-pure"),f=t("../internals/iterators"),p=t("../internals/iterators-core"),m=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=c("iterator"),g="values",x="entries";e.exports=function(t,e,i,c,p,b,w){function _(t){if(t===p&&R)return R;if(!v&&t in C)return C[t];switch(t){case"keys":case g:case x:return function(){return new i(this,t)}}return function(){return new i(this)}}s(i,e,c);var S,A,T,E=e+" Iterator",M=!1,C=t.prototype,P=C[y]||C["@@iterator"]||p&&C[p],R=!v&&P||_(p),k="Array"==e&&C.entries||P;if(k&&(S=o(k.call(new t)),m!==Object.prototype&&S.next&&(d||o(S)===m||(a?a(S,m):"function"!=typeof S[y]&&u(S,y,r)),l(S,E,!0,!0),d&&(f[E]=r))),p==g&&P&&P.name!==g&&(M=!0,R=function(){return P.call(this)}),d&&!w||C[y]===R||u(C,y,R),f[e]=R,p)if(A={values:_(g),keys:b?R:_("keys"),entries:_(x)},w)for(T in A)!v&&!M&&T in C||h(C,T,A[T]);else n({target:e,proto:!0,forced:v||M},A);return A}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":74,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145}],41:[function(t,e,i){var r=t("../internals/path"),n=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),o=t("../internals/object-define-property").f;e.exports=function(t){var e=r.Symbol||(r.Symbol={});n(e,t)||o(e,t,{value:s.f(t)})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/path":103,"../internals/well-known-symbol-wrapped":144}],42:[function(t,e,i){var r=t("../internals/fails");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":50}],43:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/is-object"),s=r.document,o=n(s)&&n(s.createElement);e.exports=function(t){return o?s.createElement(t):{}}},{"../internals/global":58,"../internals/is-object":73}],44:[function(t,e,i){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(t,e,i){var r=t("../internals/engine-user-agent");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/engine-user-agent":46}],46:[function(t,e,i){var r=t("../internals/get-built-in");e.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":55}],47:[function(t,e,i){var r,n,s=t("../internals/global"),o=t("../internals/engine-user-agent"),a=s.process,l=a&&a.versions,u=l&&l.v8;u?n=(r=u.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||74<=r[1])&&(r=o.match(/Chrome\/(\d+)/))&&(n=r[1]),e.exports=n&&+n},{"../internals/engine-user-agent":46,"../internals/global":58}],48:[function(t,e,i){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),o=t("../internals/redefine"),a=t("../internals/set-global"),l=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");e.exports=function(t,e){var i,h,c,d,f,p=t.target,m=t.global,v=t.stat;if(i=m?r:v?r[p]||a(p,{}):(r[p]||{}).prototype)for(h in e){if(d=e[h],c=t.noTargetGet?(f=n(i,h))&&f.value:i[h],!u(m?h:p+(v?".":"#")+h,t.forced)&&void 0!==c){if(typeof d==typeof c)continue;l(d,c)}(t.sham||c&&c.sham)&&s(d,"sham",!0),o(i,h,d,t)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/is-forced":72,"../internals/object-get-own-property-descriptor":92,"../internals/redefine":107,"../internals/set-global":114}],50:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],51:[function(t,e,i){"use strict";t("../modules/es.regexp.exec");var r=t("../internals/redefine"),n=t("../internals/fails"),s=t("../internals/well-known-symbol"),o=t("../internals/regexp-exec"),a=t("../internals/create-non-enumerable-property"),l=s("species"),u=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h="$0"==="a".replace(/./,"$0"),c=s("replace"),d=!!/./[c]&&""===/./[c]("a","$0"),f=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(t,e,i,c){var p=s(t),m=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=m&&!n((function(){var e=!1,i=/a/;return"split"===t&&((i={constructor:{}}).constructor[l]=function(){return i},i.flags="",i[p]=/./[p]),i.exec=function(){return e=!0,null},i[p](""),!e}));if(!m||!v||"replace"===t&&(!u||!h||d)||"split"===t&&!f){var y=/./[p],g=i(p,""[t],(function(t,e,i,r,n){return e.exec===o?m&&!n?{done:!0,value:y.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),x=g[0],b=g[1];r(String.prototype,t,x),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}c&&a(RegExp.prototype[p],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-exec":109,"../internals/well-known-symbol":145,"../modules/es.regexp.exec":178}],52:[function(t,e,i){var r=t("../internals/fails");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":50}],53:[function(t,e,i){var r=t("../internals/a-function");e.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},{"../internals/a-function":5}],54:[function(t,e,i){"use strict";var r=t("../internals/a-function"),n=t("../internals/is-object"),s=[].slice,o={};e.exports=Function.bind||function(t){var e=r(this),i=s.call(arguments,1),a=function r(){var n=i.concat(s.call(arguments));return this instanceof r?function(t,e,i){if(!(e in o)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";o[e]=Function("C,a","return new C("+r.join(",")+")")}return o[e](t,i)}(e,n.length,n):e.apply(t,n)};return n(e.prototype)&&(a.prototype=e.prototype),a}},{"../internals/a-function":5,"../internals/is-object":73}],55:[function(t,e,i){function r(t){return"function"==typeof t?t:void 0}var n=t("../internals/path"),s=t("../internals/global");e.exports=function(t,e){return arguments.length<2?r(n[t])||r(s[t]):n[t]&&n[t][e]||s[t]&&s[t][e]}},{"../internals/global":58,"../internals/path":103}],56:[function(t,e,i){var r=t("../internals/classof"),n=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");e.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||n[r(t)]}},{"../internals/classof":29,"../internals/iterators":78,"../internals/well-known-symbol":145}],57:[function(t,e,i){var r=t("../internals/an-object"),n=t("../internals/get-iterator-method");e.exports=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},{"../internals/an-object":10,"../internals/get-iterator-method":56}],58:[function(t,i,r){(function(t){function e(t){return t&&t.Math==Math&&t}i.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(t,e,i){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],60:[function(t,e,i){e.exports={}},{}],61:[function(t,e,i){var r=t("../internals/global");e.exports=function(t,e){var i=r.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},{"../internals/global":58}],62:[function(t,e,i){var r=t("../internals/get-built-in");e.exports=r("document","documentElement")},{"../internals/get-built-in":55}],63:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/fails"),s=t("../internals/document-create-element");e.exports=!r&&!n((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],64:[function(t,e,i){var r=Math.abs,n=Math.pow,s=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(t,e,i){var l,u,h,c=new Array(i),d=8*i-e-1,f=(1<<d)-1,p=f>>1,m=23===e?n(2,-24)-n(2,-77):0,v=t<0||0===t&&1/t<0?1:0,y=0;for((t=r(t))!=t||t===1/0?(u=t!=t?1:0,l=f):(l=s(o(t)/a),t*(h=n(2,-l))<1&&(l--,h*=2),2<=(t+=1<=l+p?m/h:m*n(2,1-p))*h&&(l++,h/=2),f<=l+p?(u=0,l=f):1<=l+p?(u=(t*h-1)*n(2,e),l+=p):(u=t*n(2,p-1)*n(2,e),l=0));8<=e;c[y++]=255&u,u/=256,e-=8);for(l=l<<e|u,d+=e;0<d;c[y++]=255&l,l/=256,d-=8);return c[--y]|=128*v,c},unpack:function(t,e){var i,r=t.length,s=8*r-e-1,o=(1<<s)-1,a=o>>1,l=s-7,u=r-1,h=t[u--],c=127&h;for(h>>=7;0<l;c=256*c+t[u],u--,l-=8);for(i=c&(1<<-l)-1,c>>=-l,l+=e;0<l;i=256*i+t[u],u--,l-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:h?-1/0:1/0;i+=n(2,e),c-=a}return(h?-1:1)*i*n(2,c-e)}}},{}],65:[function(t,e,i){var r=t("../internals/fails"),n=t("../internals/classof-raw"),s="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?s.call(t,""):Object(t)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],66:[function(t,e,i){var r=t("../internals/is-object"),n=t("../internals/object-set-prototype-of");e.exports=function(t,e,i){var s,o;return n&&"function"==typeof(s=e.constructor)&&s!==i&&r(o=s.prototype)&&o!==i.prototype&&n(t,o),t}},{"../internals/is-object":73,"../internals/object-set-prototype-of":100}],67:[function(t,e,i){var r=t("../internals/shared-store"),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return n.call(t)}),e.exports=r.inspectSource},{"../internals/shared-store":118}],68:[function(t,e,i){function r(t){a(t,h,{value:{objectID:"O"+ ++c,weakData:{}}})}var n=t("../internals/hidden-keys"),s=t("../internals/is-object"),o=t("../internals/has"),a=t("../internals/object-define-property").f,l=t("../internals/uid"),u=t("../internals/freezing"),h=l("meta"),c=0,d=Object.isExtensible||function(){return!0},f=e.exports={REQUIRED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,h)){if(!d(t))return"F";if(!e)return"E";r(t)}return t[h].objectID},getWeakData:function(t,e){if(!o(t,h)){if(!d(t))return!0;if(!e)return!1;r(t)}return t[h].weakData},onFreeze:function(t){return u&&f.REQUIRED&&d(t)&&!o(t,h)&&r(t),t}};n[h]=!0},{"../internals/freezing":52,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/uid":142}],69:[function(t,e,i){var r,n,s,o=t("../internals/native-weak-map"),a=t("../internals/global"),l=t("../internals/is-object"),u=t("../internals/create-non-enumerable-property"),h=t("../internals/has"),c=t("../internals/shared-key"),d=t("../internals/hidden-keys"),f=a.WeakMap;if(o){var p=new f,m=p.get,v=p.has,y=p.set;r=function(t,e){return y.call(p,t,e),e},n=function(t){return m.call(p,t)||{}},s=function(t){return v.call(p,t)}}else{var g=c("state");d[g]=!0,r=function(t,e){return u(t,g,e),e},n=function(t){return h(t,g)?t[g]:{}},s=function(t){return h(t,g)}}e.exports={set:r,get:n,has:s,enforce:function(t){return s(t)?n(t):r(t,{})},getterFor:function(t){return function(e){var i;if(!l(e)||(i=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/native-weak-map":84,"../internals/shared-key":117}],70:[function(t,e,i){var r=t("../internals/well-known-symbol"),n=t("../internals/iterators"),s=r("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||o[s]===t)}},{"../internals/iterators":78,"../internals/well-known-symbol":145}],71:[function(t,e,i){var r=t("../internals/classof-raw");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"../internals/classof-raw":28}],72:[function(t,e,i){function r(t,e){var i=a[o(t)];return i==u||i!=l&&("function"==typeof e?n(e):!!e)}var n=t("../internals/fails"),s=/#|\.prototype\./,o=r.normalize=function(t){return String(t).replace(s,".").toLowerCase()},a=r.data={},l=r.NATIVE="N",u=r.POLYFILL="P";e.exports=r},{"../internals/fails":50}],73:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],74:[function(t,e,i){e.exports=!1},{}],75:[function(t,e,i){var r=t("../internals/is-object"),n=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");e.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},{"../internals/classof-raw":28,"../internals/is-object":73,"../internals/well-known-symbol":145}],76:[function(t,e,i){function r(t,e){this.stopped=t,this.result=e}var n=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),o=t("../internals/to-length"),a=t("../internals/function-bind-context"),l=t("../internals/get-iterator-method"),u=t("../internals/call-with-safe-iteration-closing");(e.exports=function(t,e,i,h,c){var d,f,p,m,v,y,g,x=a(e,i,h?2:1);if(c)d=t;else{if("function"!=typeof(f=l(t)))throw TypeError("Target is not iterable");if(s(f)){for(p=0,m=o(t.length);p<m;p++)if((v=h?x(n(g=t[p])[0],g[1]):x(t[p]))&&v instanceof r)return v;return new r(!1)}d=f.call(t)}for(y=d.next;!(g=y.call(d)).done;)if("object"==typeof(v=u(d,x,g.value,h))&&v&&v instanceof r)return v;return new r(!1)}).stop=function(t){return new r(!0,t)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133}],77:[function(t,e,i){"use strict";var r,n,s,o=t("../internals/object-get-prototype-of"),a=t("../internals/create-non-enumerable-property"),l=t("../internals/has"),u=t("../internals/well-known-symbol"),h=t("../internals/is-pure"),c=u("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(n=o(o(s)))!==Object.prototype&&(r=n):d=!0),null==r&&(r={}),h||l(r,c)||a(r,c,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},{"../internals/create-non-enumerable-property":37,"../internals/has":59,"../internals/is-pure":74,"../internals/object-get-prototype-of":96,"../internals/well-known-symbol":145}],78:[function(t,e,i){arguments[4][60][0].apply(i,arguments)},{dup:60}],79:[function(t,e,i){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],80:[function(t,e,i){var r,n,s,o,a,l,u,h,c=t("../internals/global"),d=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/classof-raw"),p=t("../internals/task").set,m=t("../internals/engine-is-ios"),v=c.MutationObserver||c.WebKitMutationObserver,y=c.process,g=c.Promise,x="process"==f(y),b=d(c,"queueMicrotask"),w=b&&b.value;w||(r=function(){var t,e;for(x&&(t=y.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():s=void 0,t}}s=void 0,t&&t.enter()},o=x?function(){y.nextTick(r)}:v&&!m?(a=!0,l=document.createTextNode(""),new v(r).observe(l,{characterData:!0}),function(){l.data=a=!a}):g&&g.resolve?(u=g.resolve(void 0),h=u.then,function(){h.call(u,r)}):function(){p.call(c,r)}),e.exports=w||function(t){var e={fn:t,next:void 0};s&&(s.next=e),n||(n=e,o()),s=e}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":58,"../internals/object-get-own-property-descriptor":92,"../internals/task":127}],81:[function(t,e,i){var r=t("../internals/global");e.exports=r.Promise},{"../internals/global":58}],82:[function(t,e,i){var r=t("../internals/fails");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},{"../internals/fails":50}],83:[function(t,e,i){var r=t("../internals/fails"),n=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),o=n("iterator");e.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,i="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),i+=r+t})),s&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},{"../internals/fails":50,"../internals/is-pure":74,"../internals/well-known-symbol":145}],84:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/inspect-source"),s=r.WeakMap;e.exports="function"==typeof s&&/native code/.test(n(s))},{"../internals/global":58,"../internals/inspect-source":67}],85:[function(t,e,i){"use strict";function r(t){var e,i;this.promise=new t((function(t,r){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=r})),this.resolve=n(e),this.reject=n(i)}var n=t("../internals/a-function");e.exports.f=function(t){return new r(t)}},{"../internals/a-function":5}],86:[function(t,e,i){var r=t("../internals/is-regexp");e.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":75}],87:[function(t,e,i){var r=t("../internals/global").isFinite;e.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},{"../internals/global":58}],88:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),n=t("../internals/fails"),s=t("../internals/object-keys"),o=t("../internals/object-get-own-property-symbols"),a=t("../internals/object-property-is-enumerable"),l=t("../internals/to-object"),u=t("../internals/indexed-object"),h=Object.assign,c=Object.defineProperty;e.exports=!h||n((function(){if(r&&1!==h({b:1},h(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=h({},t)[i]||s(h({},e)).join("")!=n}))?function(t,e){for(var i=l(t),n=arguments.length,h=1,c=o.f,d=a.f;h<n;)for(var f,p=u(arguments[h++]),m=c?s(p).concat(c(p)):s(p),v=m.length,y=0;y<v;)f=m[y++],r&&!d.call(p,f)||(i[f]=p[f]);return i}:h},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":65,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/to-object":134}],89:[function(t,e,i){function r(){}function n(t){return"<script>"+t+"</"+p+">"}var s,o=t("../internals/an-object"),a=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),u=t("../internals/hidden-keys"),h=t("../internals/html"),c=t("../internals/document-create-element"),d=t("../internals/shared-key"),f="prototype",p="script",m=d("IE_PROTO"),v=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;v=s?function(t){t.write(n("")),t.close();var e=t.parentWindow.Object;return t=null,e}(s):((e=c("iframe")).style.display="none",h.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(n("document.F=Object")),t.close(),t.F);for(var i=l.length;i--;)delete v[f][l[i]];return v()};u[m]=!0,e.exports=Object.create||function(t,e){var i;return null!==t?(r[f]=o(t),i=new r,r[f]=null,i[m]=t):i=v(),void 0===e?i:a(i,e)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":60,"../internals/html":62,"../internals/object-define-properties":90,"../internals/shared-key":117}],90:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/object-define-property"),s=t("../internals/an-object"),o=t("../internals/object-keys");e.exports=r?Object.defineProperties:function(t,e){s(t);for(var i,r=o(e),a=r.length,l=0;l<a;)n.f(t,i=r[l++],e[i]);return t}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":91,"../internals/object-keys":98}],91:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),o=t("../internals/to-primitive"),a=Object.defineProperty;i.f=r?a:function(t,e,i){if(s(t),e=o(e,!0),s(i),n)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":63,"../internals/to-primitive":137}],92:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),o=t("../internals/to-indexed-object"),a=t("../internals/to-primitive"),l=t("../internals/has"),u=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=r?h:function(t,e){if(t=o(t),e=a(e,!0),u)try{return h(t,e)}catch(t){}if(l(t,e))return s(!n.f.call(t,e),t[e])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":59,"../internals/ie8-dom-define":63,"../internals/object-property-is-enumerable":99,"../internals/to-indexed-object":131,"../internals/to-primitive":137}],93:[function(t,e,i){var r=t("../internals/to-indexed-object"),n=t("../internals/object-get-own-property-names").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(r(t))}},{"../internals/object-get-own-property-names":94,"../internals/to-indexed-object":131}],94:[function(t,e,i){var r=t("../internals/object-keys-internal"),n=t("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],95:[function(t,e,i){i.f=Object.getOwnPropertySymbols},{}],96:[function(t,e,i){var r=t("../internals/has"),n=t("../internals/to-object"),s=t("../internals/shared-key"),o=t("../internals/correct-prototype-getter"),a=s("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(t){return t=n(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},{"../internals/correct-prototype-getter":34,"../internals/has":59,"../internals/shared-key":117,"../internals/to-object":134}],97:[function(t,e,i){var r=t("../internals/has"),n=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,o=t("../internals/hidden-keys");e.exports=function(t,e){var i,a=n(t),l=0,u=[];for(i in a)!r(o,i)&&r(a,i)&&u.push(i);for(;e.length>l;)r(a,i=e[l++])&&(~s(u,i)||u.push(i));return u}},{"../internals/array-includes":18,"../internals/has":59,"../internals/hidden-keys":60,"../internals/to-indexed-object":131}],98:[function(t,e,i){var r=t("../internals/object-keys-internal"),n=t("../internals/enum-bug-keys");e.exports=Object.keys||function(t){return r(t,n)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],99:[function(t,e,i){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!r.call({1:2},1);i.f=s?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},{}],100:[function(t,e,i){var r=t("../internals/an-object"),n=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(i){}return function(i,s){return r(i),n(s),e?t.call(i,s):i.__proto__=s,i}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],101:[function(t,e,i){"use strict";var r=t("../internals/to-string-tag-support"),n=t("../internals/classof");e.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":138}],102:[function(t,e,i){var r=t("../internals/get-built-in"),n=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),o=t("../internals/an-object");e.exports=r("Reflect","ownKeys")||function(t){var e=n.f(o(t)),i=s.f;return i?e.concat(i(t)):e}},{"../internals/an-object":10,"../internals/get-built-in":55,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-symbols":95}],103:[function(t,e,i){var r=t("../internals/global");e.exports=r},{"../internals/global":58}],104:[function(t,e,i){e.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},{}],105:[function(t,e,i){var r=t("../internals/an-object"),n=t("../internals/is-object"),s=t("../internals/new-promise-capability");e.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=s.f(t);return(0,i.resolve)(e),i.promise}},{"../internals/an-object":10,"../internals/is-object":73,"../internals/new-promise-capability":85}],106:[function(t,e,i){var r=t("../internals/redefine");e.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},{"../internals/redefine":107}],107:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/create-non-enumerable-property"),s=t("../internals/has"),o=t("../internals/set-global"),a=t("../internals/inspect-source"),l=t("../internals/internal-state"),u=l.get,h=l.enforce,c=String(String).split("String");(e.exports=function(t,e,i,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||s(i,"name")||n(i,"name",e),h(i).source=c.join("string"==typeof e?e:"")),t!==r?(l?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=i:n(t,e,i)):u?t[e]=i:o(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/set-global":114}],108:[function(t,e,i){var r=t("./classof-raw"),n=t("./regexp-exec");e.exports=function(t,e){var i=t.exec;if("function"==typeof i){var s=i.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},{"./classof-raw":28,"./regexp-exec":109}],109:[function(t,e,i){"use strict";var r,n,s=t("./regexp-flags"),o=t("./regexp-sticky-helpers"),a=RegExp.prototype.exec,l=String.prototype.replace,u=a,h=(r=/a/,n=/b*/g,a.call(r,"a"),a.call(n,"a"),0!==r.lastIndex||0!==n.lastIndex),c=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(h||d||c)&&(u=function(t){var e,i,r,n,o=this,u=c&&o.sticky,f=s.call(o),p=o.source,m=0,v=t;return u&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),v=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),i=new RegExp("^(?:"+p+")",f)),d&&(i=new RegExp("^"+p+"$(?!\\s)",f)),h&&(e=o.lastIndex),r=a.call(u?i:o,v),u?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:h&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),d&&r&&1<r.length&&l.call(r[0],i,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(r[n]=void 0)})),r}),e.exports=u},{"./regexp-flags":110,"./regexp-sticky-helpers":111}],110:[function(t,e,i){"use strict";var r=t("../internals/an-object");e.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"../internals/an-object":10}],111:[function(t,e,i){"use strict";var r=t("./fails");function n(t,e){return RegExp(t,e)}i.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),i.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},{"./fails":50}],112:[function(t,e,i){e.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},{}],113:[function(t,e,i){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],114:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/create-non-enumerable-property");e.exports=function(t,e){try{n(r,t,e)}catch(i){r[t]=e}return e}},{"../internals/create-non-enumerable-property":37,"../internals/global":58}],115:[function(t,e,i){"use strict";var r=t("../internals/get-built-in"),n=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),o=t("../internals/descriptors"),a=s("species");e.exports=function(t){var e=r(t),i=n.f;o&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":55,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],116:[function(t,e,i){var r=t("../internals/object-define-property").f,n=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");e.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],117:[function(t,e,i){var r=t("../internals/shared"),n=t("../internals/uid"),s=r("keys");e.exports=function(t){return s[t]||(s[t]=n(t))}},{"../internals/shared":119,"../internals/uid":142}],118:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/set-global"),s="__core-js_shared__",o=r[s]||n(s,{});e.exports=o},{"../internals/global":58,"../internals/set-global":114}],119:[function(t,e,i){var r=t("../internals/is-pure"),n=t("../internals/shared-store");(e.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":74,"../internals/shared-store":118}],120:[function(t,e,i){var r=t("../internals/an-object"),n=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var i,o=r(t).constructor;return void 0===o||null==(i=r(o)[s])?e:n(i)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":145}],121:[function(t,e,i){var r=t("../internals/fails");e.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}))}},{"../internals/fails":50}],122:[function(t,e,i){function r(t){return function(e,i){var r,o,a=String(s(e)),l=n(i),u=a.length;return l<0||u<=l?t?"":void 0:(r=a.charCodeAt(l))<55296||56319<r||l+1===u||(o=a.charCodeAt(l+1))<56320||57343<o?t?a.charAt(l):r:t?a.slice(l,l+2):o-56320+(r-55296<<10)+65536}}var n=t("../internals/to-integer"),s=t("../internals/require-object-coercible");e.exports={codeAt:r(!1),charAt:r(!0)}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],123:[function(t,e,i){"use strict";function r(t){return t+22+75*(t<26)}function n(t,e,i){var r=0;for(t=i?h(t/700):t>>1,t+=h(t/e);455<t;r+=36)t=h(t/35);return h(r+36*t/(t+38))}function s(t){var e,i,s=[],a=(t=function(t){for(var e=[],i=0,r=t.length;i<r;){var n=t.charCodeAt(i++);if(55296<=n&&n<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?e.push(((1023&n)<<10)+(1023&s)+65536):(e.push(n),i--)}else e.push(n)}return e}(t)).length,l=128,d=0,f=72;for(e=0;e<t.length;e++)(i=t[e])<128&&s.push(c(i));var p=s.length,m=p;for(p&&s.push("-");m<a;){var v=o;for(e=0;e<t.length;e++)l<=(i=t[e])&&i<v&&(v=i);var y=m+1;if(v-l>h((o-d)/y))throw RangeError(u);for(d+=(v-l)*y,l=v,e=0;e<t.length;e++){if((i=t[e])<l&&++d>o)throw RangeError(u);if(i==l){for(var g=d,x=36;;x+=36){var b=x<=f?1:f+26<=x?26:x-f;if(g<b)break;var w=g-b,_=36-b;s.push(c(r(b+w%_))),g=h(w/_)}s.push(c(r(g))),f=n(d,y,m==p),d=0,++m}}++d,++l}return s.join("")}var o=2147483647,a=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",h=Math.floor,c=String.fromCharCode;e.exports=function(t){var e,i,r=[],n=t.toLowerCase().replace(l,".").split(".");for(e=0;e<n.length;e++)i=n[e],r.push(a.test(i)?"xn--"+s(i):i);return r.join(".")}},{}],124:[function(t,e,i){"use strict";var r=t("../internals/to-integer"),n=t("../internals/require-object-coercible");e.exports="".repeat||function(t){var e=String(n(this)),i="",s=r(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;0<s;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],125:[function(t,e,i){var r=t("../internals/fails"),n=t("../internals/whitespaces");e.exports=function(t){return r((function(){return!!n[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||n[t].name!==t}))}},{"../internals/fails":50,"../internals/whitespaces":146}],126:[function(t,e,i){function r(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(a,"")),i}}var n=t("../internals/require-object-coercible"),s="["+t("../internals/whitespaces")+"]",o=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$");e.exports={start:r(1),end:r(2),trim:r(3)}},{"../internals/require-object-coercible":112,"../internals/whitespaces":146}],127:[function(t,e,i){function r(t){if(A.hasOwnProperty(t)){var e=A[t];delete A[t],e()}}function n(t){return function(){r(t)}}function s(t){r(t.data)}function o(t){h.postMessage(t+"",y.protocol+"//"+y.host)}var a,l,u,h=t("../internals/global"),c=t("../internals/fails"),d=t("../internals/classof-raw"),f=t("../internals/function-bind-context"),p=t("../internals/html"),m=t("../internals/document-create-element"),v=t("../internals/engine-is-ios"),y=h.location,g=h.setImmediate,x=h.clearImmediate,b=h.process,w=h.MessageChannel,_=h.Dispatch,S=0,A={},T="onreadystatechange";g&&x||(g=function(t){for(var e=[],i=1;i<arguments.length;)e.push(arguments[i++]);return A[++S]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(S),S},x=function(t){delete A[t]},"process"==d(b)?a=function(t){b.nextTick(n(t))}:_&&_.now?a=function(t){_.now(n(t))}:w&&!v?(u=(l=new w).port2,l.port1.onmessage=s,a=f(u.postMessage,u,1)):!h.addEventListener||"function"!=typeof postMessage||h.importScripts||c(o)||"file:"===y.protocol?a=T in m("script")?function(t){p.appendChild(m("script"))[T]=function(){p.removeChild(this),r(t)}}:function(t){setTimeout(n(t),0)}:(a=o,h.addEventListener("message",s,!1))),e.exports={set:g,clear:x}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":53,"../internals/global":58,"../internals/html":62}],128:[function(t,e,i){var r=t("../internals/classof-raw");e.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":28}],129:[function(t,e,i){var r=t("../internals/to-integer"),n=Math.max,s=Math.min;e.exports=function(t,e){var i=r(t);return i<0?n(i+e,0):s(i,e)}},{"../internals/to-integer":132}],130:[function(t,e,i){var r=t("../internals/to-integer"),n=t("../internals/to-length");e.exports=function(t){if(void 0===t)return 0;var e=r(t),i=n(e);if(e!==i)throw RangeError("Wrong length or index");return i}},{"../internals/to-integer":132,"../internals/to-length":133}],131:[function(t,e,i){var r=t("../internals/indexed-object"),n=t("../internals/require-object-coercible");e.exports=function(t){return r(n(t))}},{"../internals/indexed-object":65,"../internals/require-object-coercible":112}],132:[function(t,e,i){var r=Math.ceil,n=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?n:r)(t)}},{}],133:[function(t,e,i){var r=t("../internals/to-integer"),n=Math.min;e.exports=function(t){return 0<t?n(r(t),9007199254740991):0}},{"../internals/to-integer":132}],134:[function(t,e,i){var r=t("../internals/require-object-coercible");e.exports=function(t){return Object(r(t))}},{"../internals/require-object-coercible":112}],135:[function(t,e,i){var r=t("../internals/to-positive-integer");e.exports=function(t,e){var i=r(t);if(i%e)throw RangeError("Wrong offset");return i}},{"../internals/to-positive-integer":136}],136:[function(t,e,i){var r=t("../internals/to-integer");e.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},{"../internals/to-integer":132}],137:[function(t,e,i){var r=t("../internals/is-object");e.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":73}],138:[function(t,e,i){var r={};r[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports="[object z]"===String(r)},{"../internals/well-known-symbol":145}],139:[function(t,e,i){"use strict";function r(t,e){for(var i=0,r=e.length,n=new(X(t))(r);i<r;)n[i]=e[i++];return n}function n(t,e){j(t,e,{get:function(){return I(this)[e]}})}function s(t){var e;return t instanceof z||"ArrayBuffer"==(e=S(t))||"SharedArrayBuffer"==e}function o(t,e){return Z(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)}function a(t,e){return o(t,e=w(e,!0))?v(2,t[e]):B(t,e)}function l(t,e,i){return!(o(t,e=w(e,!0))&&A(i)&&_(i,"value"))||_(i,"get")||_(i,"set")||i.configurable||_(i,"writable")&&!i.writable||_(i,"enumerable")&&!i.enumerable?j(t,e,i):(t[e]=i.value,t)}var u=t("../internals/export"),h=t("../internals/global"),c=t("../internals/descriptors"),d=t("../internals/typed-array-constructors-require-wrappers"),f=t("../internals/array-buffer-view-core"),p=t("../internals/array-buffer"),m=t("../internals/an-instance"),v=t("../internals/create-property-descriptor"),y=t("../internals/create-non-enumerable-property"),g=t("../internals/to-length"),x=t("../internals/to-index"),b=t("../internals/to-offset"),w=t("../internals/to-primitive"),_=t("../internals/has"),S=t("../internals/classof"),A=t("../internals/is-object"),T=t("../internals/object-create"),E=t("../internals/object-set-prototype-of"),M=t("../internals/object-get-own-property-names").f,C=t("../internals/typed-array-from"),P=t("../internals/array-iteration").forEach,R=t("../internals/set-species"),k=t("../internals/object-define-property"),L=t("../internals/object-get-own-property-descriptor"),O=t("../internals/internal-state"),D=t("../internals/inherit-if-required"),I=O.get,F=O.set,j=k.f,B=L.f,N=Math.round,U=h.RangeError,z=p.ArrayBuffer,G=p.DataView,V=f.NATIVE_ARRAY_BUFFER_VIEWS,H=f.TYPED_ARRAY_TAG,W=f.TypedArray,Y=f.TypedArrayPrototype,X=f.aTypedArrayConstructor,Z=f.isTypedArray,q="BYTES_PER_ELEMENT",Q="Wrong length";c?(V||(L.f=a,k.f=l,n(Y,"buffer"),n(Y,"byteOffset"),n(Y,"byteLength"),n(Y,"length")),u({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:a,defineProperty:l}),e.exports=function(t,e,i){function n(t,e){j(t,e,{get:function(){return t=e,(i=I(this)).view[l](t*o+i.byteOffset,!0);var t,i},set:function(t){return r=e,n=t,s=I(this),i&&(n=(n=N(n))<0?0:255<n?255:255&n),void s.view[c](r*o+s.byteOffset,n,!0);var r,n,s},enumerable:!0})}var o=t.match(/\d+$/)[0]/8,a=t+(i?"Clamped":"")+"Array",l="get"+t,c="set"+t,f=h[a],p=f,v=p&&p.prototype,w={};V?d&&(p=e((function(t,e,i,n){return m(t,p,a),D(A(e)?s(e)?void 0!==n?new f(e,b(i,o),n):void 0!==i?new f(e,b(i,o)):new f(e):Z(e)?r(p,e):C.call(p,e):new f(x(e)),t,p)})),E&&E(p,W),P(M(f),(function(t){t in p||y(p,t,f[t])})),p.prototype=v):(p=e((function(t,e,i,l){m(t,p,a);var u,h,c,d=0,f=0;if(A(e)){if(!s(e))return Z(e)?r(p,e):C.call(p,e);u=e,f=b(i,o);var v=e.byteLength;if(void 0===l){if(v%o)throw U(Q);if((h=v-f)<0)throw U(Q)}else if(v<(h=g(l)*o)+f)throw U(Q);c=h/o}else c=x(e),u=new z(h=c*o);for(F(t,{buffer:u,byteOffset:f,byteLength:h,length:c,view:new G(u)});d<c;)n(t,d++)})),E&&E(p,W),v=p.prototype=T(Y)),v.constructor!==p&&y(v,"constructor",p),H&&y(v,H,a),w[a]=p,u({global:!0,forced:p!=f,sham:!V},w),q in p||y(p,q,o),q in v||y(v,q,o),R(a)}):e.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-object":73,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-set-prototype-of":100,"../internals/set-species":115,"../internals/to-index":130,"../internals/to-length":133,"../internals/to-offset":135,"../internals/to-primitive":137,"../internals/typed-array-constructors-require-wrappers":140,"../internals/typed-array-from":141}],140:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/fails"),s=t("../internals/check-correctness-of-iteration"),o=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,l=r.Int8Array;e.exports=!o||!n((function(){l(1)}))||!n((function(){new l(-1)}))||!s((function(t){new l,new l(null),new l(1.5),new l(t)}),!0)||n((function(){return 1!==new l(new a(2),1,void 0).length}))},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":58}],141:[function(t,e,i){var r=t("../internals/to-object"),n=t("../internals/to-length"),s=t("../internals/get-iterator-method"),o=t("../internals/is-array-iterator-method"),a=t("../internals/function-bind-context"),l=t("../internals/array-buffer-view-core").aTypedArrayConstructor;e.exports=function(t,e,i){var u,h,c,d,f,p,m=r(t),v=arguments.length,y=1<v?e:void 0,g=void 0!==y,x=s(m);if(null!=x&&!o(x))for(p=(f=x.call(m)).next,m=[];!(d=p.call(f)).done;)m.push(d.value);for(g&&2<v&&(y=a(y,i,2)),h=n(m.length),c=new(l(this))(h),u=0;u<h;u++)c[u]=g?y(m[u],u):m[u];return c}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],142:[function(t,e,i){var r=0,n=Math.random();e.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},{}],143:[function(t,e,i){var r=t("../internals/native-symbol");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":82}],144:[function(t,e,i){var r=t("../internals/well-known-symbol");i.f=r},{"../internals/well-known-symbol":145}],145:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/shared"),s=t("../internals/has"),o=t("../internals/uid"),a=t("../internals/native-symbol"),l=t("../internals/use-symbol-as-uid"),u=n("wks"),h=r.Symbol,c=l?h:h&&h.withoutSetter||o;e.exports=function(t){return s(u,t)||(a&&s(h,t)?u[t]=h[t]:u[t]=c("Symbol."+t)),u[t]}},{"../internals/global":58,"../internals/has":59,"../internals/native-symbol":82,"../internals/shared":119,"../internals/uid":142,"../internals/use-symbol-as-uid":143}],146:[function(t,e,i){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],147:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/global"),s=t("../internals/array-buffer"),o=t("../internals/set-species"),a="ArrayBuffer",l=s[a];r({global:!0,forced:n[a]!==l},{ArrayBuffer:l}),o(a)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":58,"../internals/set-species":115}],148:[function(t,e,i){"use strict";function r(t){if(!a(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)}var n=t("../internals/export"),s=t("../internals/fails"),o=t("../internals/is-array"),a=t("../internals/is-object"),l=t("../internals/to-object"),u=t("../internals/to-length"),h=t("../internals/create-property"),c=t("../internals/array-species-create"),d=t("../internals/array-method-has-species-support"),f=t("../internals/well-known-symbol"),p=t("../internals/engine-v8-version"),m=f("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=51<=p||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),x=d("concat");n({target:"Array",proto:!0,forced:!g||!x},{concat:function(t){var e,i,n,s,o,a=l(this),d=c(a,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(r(o=-1===e?a:arguments[e])){if(s=u(o.length),v<f+s)throw TypeError(y);for(i=0;i<s;i++,f++)i in o&&h(d,f,o[i])}else{if(v<=f)throw TypeError(y);h(d,f++,o)}return d.length=f,d}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-length":133,"../internals/to-object":134,"../internals/well-known-symbol":145}],149:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-iteration").every,s=t("../internals/array-method-is-strict"),o=t("../internals/array-method-uses-to-length"),a=s("every"),l=o("every");r({target:"Array",proto:!0,forced:!a||!l},{every:function(t,e){return n(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],150:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/array-fill"),s=t("../internals/add-to-unscopables");r({target:"Array",proto:!0},{fill:n}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],151:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-iteration").filter,s=t("../internals/array-method-has-species-support"),o=t("../internals/array-method-uses-to-length"),a=s("filter"),l=o("filter");r({target:"Array",proto:!0,forced:!a||!l},{filter:function(t,e){return n(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],152:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-for-each");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},{"../internals/array-for-each":16,"../internals/export":49}],153:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/array-from");r({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")((function(t){Array.from(t)}))},{from:n})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],154:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t,e){return n(this,t,1<arguments.length?e:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],155:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-includes").indexOf,s=t("../internals/array-method-is-strict"),o=t("../internals/array-method-uses-to-length"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,u=s("indexOf"),h=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!u||!h},{indexOf:function(t,e){return l?a.apply(this,arguments)||0:n(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],156:[function(t,e,i){"use strict";var r=t("../internals/to-indexed-object"),n=t("../internals/add-to-unscopables"),s=t("../internals/iterators"),o=t("../internals/internal-state"),a=t("../internals/define-iterator"),l="Array Iterator",u=o.set,h=o.getterFor(l);e.exports=a(Array,"Array",(function(t,e){u(this,{type:l,target:r(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,i=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==i?{value:r,done:!1}:"values"==i?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/iterators":78,"../internals/to-indexed-object":131}],157:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/indexed-object"),s=t("../internals/to-indexed-object"),o=t("../internals/array-method-is-strict"),a=[].join,l=n!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(t){return a.call(s(this),void 0===t?",":t)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":65,"../internals/to-indexed-object":131}],158:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/array-last-index-of");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},{"../internals/array-last-index-of":20,"../internals/export":49}],159:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-iteration").map,s=t("../internals/array-method-has-species-support"),o=t("../internals/array-method-uses-to-length"),a=s("map"),l=o("map");r({target:"Array",proto:!0,forced:!a||!l},{map:function(t,e){return n(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],160:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/is-object"),s=t("../internals/is-array"),o=t("../internals/to-absolute-index"),a=t("../internals/to-length"),l=t("../internals/to-indexed-object"),u=t("../internals/create-property"),h=t("../internals/well-known-symbol"),c=t("../internals/array-method-has-species-support"),d=t("../internals/array-method-uses-to-length"),f=c("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),v=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var i,r,h,c=l(this),d=a(c.length),f=o(t,d),p=o(void 0===e?d:e,d);if(s(c)&&("function"!=typeof(i=c.constructor)||i!==Array&&!s(i.prototype)?n(i)&&null===(i=i[m])&&(i=void 0):i=void 0,i===Array||void 0===i))return v.call(c,f,p);for(r=new(void 0===i?Array:i)(y(p-f,0)),h=0;f<p;f++,h++)f in c&&u(r,h,c[f]);return r.length=h,r}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133,"../internals/well-known-symbol":145}],161:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/array-iteration").some,s=t("../internals/array-method-is-strict"),o=t("../internals/array-method-uses-to-length"),a=s("some"),l=o("some");r({target:"Array",proto:!0,forced:!a||!l},{some:function(t,e){return n(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/to-absolute-index"),s=t("../internals/to-integer"),o=t("../internals/to-length"),a=t("../internals/to-object"),l=t("../internals/array-species-create"),u=t("../internals/create-property"),h=t("../internals/array-method-has-species-support"),c=t("../internals/array-method-uses-to-length"),d=h("splice"),f=c("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!d||!f},{splice:function(t,e){var i,r,h,c,d,f,v=a(this),y=o(v.length),g=n(t,y),x=arguments.length;if(0===x?i=r=0:r=1===x?(i=0,y-g):(i=x-2,m(p(s(e),0),y-g)),9007199254740991<y+i-r)throw TypeError("Maximum allowed length exceeded");for(h=l(v,r),c=0;c<r;c++)(d=g+c)in v&&u(h,c,v[d]);if(i<(h.length=r)){for(c=g;c<y-r;c++)f=c+i,(d=c+r)in v?v[f]=v[d]:delete v[f];for(c=y;y-r+i<c;c--)delete v[c-1]}else if(r<i)for(c=y-r;g<c;c--)f=c+i-1,(d=c+r-1)in v?v[f]=v[d]:delete v[f];for(c=0;c<i;c++)v[c+g]=arguments[c+2];return v.length=y-r+i,h}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":129,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],163:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/object-define-property").f,s=Function.prototype,o=s.toString,a=/^\s*function ([^ (]*)/;!r||"name"in s||n(s,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(t){return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":91}],164:[function(t,e,i){"use strict";var r=t("../internals/collection"),n=t("../internals/collection-strong");e.exports=r("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),n)},{"../internals/collection":31,"../internals/collection-strong":30}],165:[function(t,e,i){var r=t("../internals/export"),n=Math.hypot,s=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,r,n=0,a=0,l=arguments.length,u=0;a<l;)u<(i=s(arguments[a++]))?(n=n*(r=u/i)*r+1,u=i):n+=0<i?(r=i/u)*r:i;return u===1/0?1/0:u*o(n)}})},{"../internals/export":49}],166:[function(t,e,i){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":79}],167:[function(t,e,i){"use strict";function r(t){var e,i,r,n,s,o,a,l,u=c(t,!1);if("string"==typeof u&&2<u.length)if(43===(e=(u=y(u)).charCodeAt(0))||45===e){if(88===(i=u.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+u}for(o=(s=u.slice(2)).length,a=0;a<o;a++)if((l=s.charCodeAt(a))<48||n<l)return NaN;return parseInt(s,r)}return+u}var n=t("../internals/descriptors"),s=t("../internals/global"),o=t("../internals/is-forced"),a=t("../internals/redefine"),l=t("../internals/has"),u=t("../internals/classof-raw"),h=t("../internals/inherit-if-required"),c=t("../internals/to-primitive"),d=t("../internals/fails"),f=t("../internals/object-create"),p=t("../internals/object-get-own-property-names").f,m=t("../internals/object-get-own-property-descriptor").f,v=t("../internals/object-define-property").f,y=t("../internals/string-trim").trim,g="Number",x=s[g],b=x.prototype,w=u(f(b))==g;if(o(g,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var _,S=function t(e){var i=arguments.length<1?0:e,n=this;return n instanceof t&&(w?d((function(){b.valueOf.call(n)})):u(n)!=g)?h(new x(r(i)),n,t):r(i)},A=n?p(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;A.length>T;T++)l(x,_=A[T])&&!l(S,_)&&v(S,_,m(x,_));(S.prototype=b).constructor=S,a(s,g,S)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/is-forced":72,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/string-trim":126,"../internals/to-primitive":137}],168:[function(t,e,i){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":87}],169:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/to-integer"),s=t("../internals/this-number-value"),o=t("../internals/string-repeat"),a=t("../internals/fails"),l=1..toFixed,u=Math.floor,h=function t(e,i,r){return 0===i?r:i%2==1?t(e,i-1,r*e):t(e*e,i/2,r)};r({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){l.call({})}))},{toFixed:function(t){function e(t,e){for(var i=-1,r=e;++i<6;)r+=t*m[i],m[i]=r%1e7,r=u(r/1e7)}function i(t){for(var e=6,i=0;0<=--e;)i+=m[e],m[e]=u(i/t),i=i%t*1e7}function r(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==m[t]){var i=String(m[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e}var a,l,c,d,f=s(this),p=n(t),m=[0,0,0,0,0,0],v="",y="0";if(p<0||20<p)throw RangeError("Incorrect fraction digits");if(f!=f)return"NaN";if(f<=-1e21||1e21<=f)return String(f);if(f<0&&(v="-",f=-f),1e-21<f)if(l=(a=function(t){for(var e=0,i=t;4096<=i;)e+=12,i/=4096;for(;2<=i;)e+=1,i/=2;return e}(f*h(2,69,1))-69)<0?f*h(2,-a,1):f/h(2,a,1),l*=4503599627370496,0<(a=52-a)){for(e(0,l),c=p;7<=c;)e(1e7,0),c-=7;for(e(h(10,c,1),0),c=a-1;23<=c;)i(1<<23),c-=23;i(1<<c),e(1,1),i(2),y=r()}else e(0,l),e(1<<-a,0),y=r()+o.call("0",p);return 0<p?v+((d=y.length)<=p?"0."+o.call("0",p-d)+y:y.slice(0,d-p)+"."+y.slice(d-p)):v+y}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":124,"../internals/this-number-value":128,"../internals/to-integer":132}],170:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/object-assign");r({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},{"../internals/export":49,"../internals/object-assign":88}],171:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/fails"),s=t("../internals/object-get-own-property-names-external").f;r({target:"Object",stat:!0,forced:n((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:s})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":93}],172:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/fails"),s=t("../internals/to-object"),o=t("../internals/object-get-prototype-of"),a=t("../internals/correct-prototype-getter");r({target:"Object",stat:!0,forced:n((function(){o(1)})),sham:!a},{getPrototypeOf:function(t){return o(s(t))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":96,"../internals/to-object":134}],173:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/to-object"),s=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")((function(){s(1)}))},{keys:function(t){return s(n(t))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":98,"../internals/to-object":134}],174:[function(t,e,i){var r=t("../internals/to-string-tag-support"),n=t("../internals/redefine"),s=t("../internals/object-to-string");r||n(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":101,"../internals/redefine":107,"../internals/to-string-tag-support":138}],175:[function(t,e,i){"use strict";function r(t){var e;return!(!w(t)||"function"!=typeof(e=t.then))&&e}function n(t,e,i){if(!e.notified){e.notified=!0;var n=e.reactions;R((function(){for(var s=e.value,o=1==e.state,a=0;n.length>a;){var l,u,h,c=n[a++],d=o?c.ok:c.fail,f=c.resolve,p=c.reject,m=c.domain;try{d?(o||(2===e.rejection&&nt(t,e),e.rejection=1),!0===d?l=s:(m&&m.enter(),l=d(s),m&&(m.exit(),h=!0)),l===c.promise?p(W("Promise-chain cycle")):(u=r(l))?u.call(l,f,p):f(l)):p(s)}catch(s){m&&!h&&m.exit(),p(s)}}e.reactions=[],e.notified=!1,i&&!e.rejection&&it(t,e)}))}}function s(t,e,i){var r,n;J?((r=Y.createEvent("Event")).promise=e,r.reason=i,r.initEvent(t,!1,!0),p.dispatchEvent(r)):r={promise:e,reason:i},(n=p["on"+t])?n(r):t===$&&L("Unhandled promise rejection",i)}function o(t,e,i,r){return function(n){t(e,i,n,r)}}function a(t,e,i,r){e.done||(e.done=!0,r&&(e=r),e.value=i,e.state=2,n(t,e,!0))}var l,u,h,c,d=t("../internals/export"),f=t("../internals/is-pure"),p=t("../internals/global"),m=t("../internals/get-built-in"),v=t("../internals/native-promise-constructor"),y=t("../internals/redefine"),g=t("../internals/redefine-all"),x=t("../internals/set-to-string-tag"),b=t("../internals/set-species"),w=t("../internals/is-object"),_=t("../internals/a-function"),S=t("../internals/an-instance"),A=t("../internals/classof-raw"),T=t("../internals/inspect-source"),E=t("../internals/iterate"),M=t("../internals/check-correctness-of-iteration"),C=t("../internals/species-constructor"),P=t("../internals/task").set,R=t("../internals/microtask"),k=t("../internals/promise-resolve"),L=t("../internals/host-report-errors"),O=t("../internals/new-promise-capability"),D=t("../internals/perform"),I=t("../internals/internal-state"),F=t("../internals/is-forced"),j=t("../internals/well-known-symbol"),B=t("../internals/engine-v8-version"),N=j("species"),U="Promise",z=I.get,G=I.set,V=I.getterFor(U),H=v,W=p.TypeError,Y=p.document,X=p.process,Z=m("fetch"),q=O.f,Q=q,K="process"==A(X),J=!!(Y&&Y.createEvent&&p.dispatchEvent),$="unhandledrejection",tt=F(U,(function(){if(T(H)===String(H)){if(66===B)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!H.prototype.finally)return!0;if(51<=B&&/native code/.test(H))return!1;function t(t){t((function(){}),(function(){}))}var e=H.resolve(1);return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),et=tt||!M((function(t){H.all(t).catch((function(){}))})),it=function(t,e){P.call(p,(function(){var i,r=e.value;if(rt(e)&&(i=D((function(){K?X.emit("unhandledRejection",r,t):s($,t,r)})),e.rejection=K||rt(e)?2:1,i.error))throw i.value}))},rt=function(t){return 1!==t.rejection&&!t.parent},nt=function(t,e){P.call(p,(function(){K?X.emit("rejectionHandled",t):s("rejectionhandled",t,e.value)}))},st=function t(e,i,s,l){if(!i.done){i.done=!0,l&&(i=l);try{if(e===s)throw W("Promise can't be resolved itself");var u=r(s);u?R((function(){var r={done:!1};try{u.call(s,o(t,e,r,i),o(a,e,r,i))}catch(s){a(e,r,s,i)}})):(i.value=s,i.state=1,n(e,i,!1))}catch(s){a(e,{done:!1},s,i)}}};tt&&(H=function(t){S(this,H,U),_(t),l.call(this);var e=z(this);try{t(o(st,this,e),o(a,this,e))}catch(t){a(this,e,t)}},(l=function(){G(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(H.prototype,{then:function(t,e){var i=V(this),r=q(C(this,H));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=K?X.domain:void 0,i.parent=!0,i.reactions.push(r),0!=i.state&&n(this,i,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new l,e=z(t);this.promise=t,this.resolve=o(st,t,e),this.reject=o(a,t,e)},O.f=q=function(t){return t===H||t===h?new u(t):Q(t)},f||"function"!=typeof v||(c=v.prototype.then,y(v.prototype,"then",(function(t,e){var i=this;return new H((function(t,e){c.call(i,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Z&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return k(H,Z.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:tt},{Promise:H}),x(H,U,!1,!0),b(U),h=m(U),d({target:U,stat:!0,forced:tt},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),d({target:U,stat:!0,forced:f||tt},{resolve:function(t){return k(f&&this===h?H:this,t)}}),d({target:U,stat:!0,forced:et},{all:function(t){var e=this,i=q(e),r=i.resolve,n=i.reject,s=D((function(){var i=_(e.resolve),s=[],o=0,a=1;E(t,(function(t){var l=o++,u=!1;s.push(void 0),a++,i.call(e,t).then((function(t){u||(u=!0,s[l]=t,--a||r(s))}),n)})),--a||r(s)}));return s.error&&n(s.value),i.promise},race:function(t){var e=this,i=q(e),r=i.reject,n=D((function(){var n=_(e.resolve);E(t,(function(t){n.call(e,t).then(i.resolve,r)}))}));return n.error&&r(n.value),i.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":55,"../internals/global":58,"../internals/host-report-errors":61,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-object":73,"../internals/is-pure":74,"../internals/iterate":76,"../internals/microtask":80,"../internals/native-promise-constructor":81,"../internals/new-promise-capability":85,"../internals/perform":104,"../internals/promise-resolve":105,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-species":115,"../internals/set-to-string-tag":116,"../internals/species-constructor":120,"../internals/task":127,"../internals/well-known-symbol":145}],176:[function(t,e,i){var r=t("../internals/export"),n=t("../internals/get-built-in"),s=t("../internals/a-function"),o=t("../internals/an-object"),a=t("../internals/is-object"),l=t("../internals/object-create"),u=t("../internals/function-bind"),h=t("../internals/fails"),c=n("Reflect","construct"),d=h((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),f=!h((function(){c((function(){}))})),p=d||f;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e,i){s(t),o(e);var r=arguments.length<3?t:s(i);if(f&&!d)return c(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(u.apply(t,n))}var h=r.prototype,p=l(a(h)?h:Object.prototype),m=Function.apply.call(t,p,e);return a(m)?m:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":54,"../internals/get-built-in":55,"../internals/is-object":73,"../internals/object-create":89}],177:[function(t,e,i){var r=t("../internals/descriptors"),n=t("../internals/global"),s=t("../internals/is-forced"),o=t("../internals/inherit-if-required"),a=t("../internals/object-define-property").f,l=t("../internals/object-get-own-property-names").f,u=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),c=t("../internals/regexp-sticky-helpers"),d=t("../internals/redefine"),f=t("../internals/fails"),p=t("../internals/internal-state").set,m=t("../internals/set-species"),v=t("../internals/well-known-symbol")("match"),y=n.RegExp,g=y.prototype,x=/a/g,b=/a/g,w=new y(x)!==x,_=c.UNSUPPORTED_Y;if(r&&s("RegExp",!w||_||f((function(){return b[v]=!1,y(x)!=x||y(b)==b||"/a/i"!=y(x,"i")})))){for(var S=function(t){t in A||a(A,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},A=function t(e,i){var r,n=this instanceof t,s=u(e),a=void 0===i;if(!n&&s&&e.constructor===t&&a)return e;w?s&&!a&&(e=e.source):e instanceof t&&(a&&(i=h.call(e)),e=e.source),_&&(r=!!i&&-1<i.indexOf("y"))&&(i=i.replace(/y/g,""));var l=o(w?new y(e,i):y(e,i),n?this:g,t);return _&&r&&p(l,{sticky:r}),l},T=l(y),E=0;T.length>E;)S(T[E++]);(g.constructor=A).prototype=g,d(n,"RegExp",A)}m("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-regexp":75,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/regexp-flags":110,"../internals/regexp-sticky-helpers":111,"../internals/set-species":115,"../internals/well-known-symbol":145}],178:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/regexp-exec");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},{"../internals/export":49,"../internals/regexp-exec":109}],179:[function(t,e,i){"use strict";var r=t("../internals/redefine"),n=t("../internals/an-object"),s=t("../internals/fails"),o=t("../internals/regexp-flags"),a="toString",l=RegExp.prototype,u=l[a],h=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c=u.name!=a;(h||c)&&r(RegExp.prototype,a,(function(){var t=n(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in l)?o.call(t):i)}),{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-flags":110}],180:[function(t,e,i){"use strict";var r=t("../internals/collection"),n=t("../internals/collection-strong");e.exports=r("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),n)},{"../internals/collection":31,"../internals/collection-strong":30}],181:[function(t,e,i){"use strict";var r,n=t("../internals/export"),s=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/to-length"),a=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),u=t("../internals/correct-is-regexp-logic"),h=t("../internals/is-pure"),c="".endsWith,d=Math.min,f=u("endsWith");n({target:"String",proto:!0,forced:!(!h&&!f&&(r=s(String.prototype,"endsWith"))&&!r.writable||f)},{endsWith:function(t,e){var i=String(l(this));a(t);var r=1<arguments.length?e:void 0,n=o(i.length),s=void 0===r?n:d(o(r),n),u=String(t);return c?c.call(i,u,s):i.slice(s-u.length,s)===u}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":74,"../internals/not-a-regexp":86,"../internals/object-get-own-property-descriptor":92,"../internals/require-object-coercible":112,"../internals/to-length":133}],182:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");r({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(t,e){return!!~String(s(this)).indexOf(n(t),1<arguments.length?e:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":86,"../internals/require-object-coercible":112}],183:[function(t,e,i){"use strict";var r=t("../internals/string-multibyte").charAt,n=t("../internals/internal-state"),s=t("../internals/define-iterator"),o="String Iterator",a=n.set,l=n.getterFor(o);s(String,"String",(function(t){a(this,{type:o,string:String(t),index:0})}),(function(){var t,e=l(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=r(i,n),e.index+=t.length,{value:t,done:!1})}))},{"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/string-multibyte":122}],184:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),s=t("../internals/to-length"),o=t("../internals/require-object-coercible"),a=t("../internals/advance-string-index"),l=t("../internals/regexp-exec-abstract");r("match",1,(function(t,e,i){return[function(e){var i=o(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,t,this);if(r.done)return r.value;var o=n(t),u=String(this);if(!o.global)return l(o,u);for(var h,c=o.unicode,d=[],f=o.lastIndex=0;null!==(h=l(o,u));){var p=String(h[0]);""===(d[f]=p)&&(o.lastIndex=a(u,s(o.lastIndex),c)),f++}return 0===f?null:d}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-length":133}],185:[function(t,e,i){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":124}],186:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),s=t("../internals/to-object"),o=t("../internals/to-length"),a=t("../internals/to-integer"),l=t("../internals/require-object-coercible"),u=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract"),c=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,i,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(i,r){var n=l(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,n,r):e.call(String(n),i,r)},function(t,r){if(!v&&y||"string"==typeof r&&-1===r.indexOf(g)){var s=i(e,t,this,r);if(s.done)return s.value}var l=n(t),f=String(this),p="function"==typeof r;p||(r=String(r));var m=l.global;if(m){var b=l.unicode;l.lastIndex=0}for(var w=[];;){var _=h(l,f);if(null===_)break;if(w.push(_),!m)break;""===String(_[0])&&(l.lastIndex=u(f,o(l.lastIndex),b))}for(var S,A="",T=0,E=0;E<w.length;E++){_=w[E];for(var M=String(_[0]),C=c(d(a(_.index),f.length),0),P=[],R=1;R<_.length;R++)P.push(void 0===(S=_[R])?S:String(S));var k=_.groups;if(p){var L=[M].concat(P,C,f);void 0!==k&&L.push(k);var O=String(r.apply(void 0,L))}else O=x(M,f,C,P,k,r);T<=C&&(A+=f.slice(T,C)+O,T=C+M.length)}return A+f.slice(T)}];function x(t,i,r,n,o,a){var l=r+t.length,u=n.length,h=m;return void 0!==o&&(o=s(o),h=p),e.call(a,h,(function(e,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,r);case"'":return i.slice(l);case"<":a=o[s.slice(1,-1)];break;default:var h=+s;if(0==h)return e;if(u<h){var c=f(h/10);return 0===c?e:c<=u?void 0===n[c-1]?s.charAt(1):n[c-1]+s.charAt(1):e}a=n[h-1]}return void 0===a?"":a}))}}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],187:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/an-object"),s=t("../internals/require-object-coercible"),o=t("../internals/same-value"),a=t("../internals/regexp-exec-abstract");r("search",1,(function(t,e,i){return[function(e){var i=s(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,t,this);if(r.done)return r.value;var s=n(t),l=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var h=a(s,l);return o(s.lastIndex,u)||(s.lastIndex=u),null===h?-1:h.index}]}))},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/same-value":113}],188:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),n=t("../internals/is-regexp"),s=t("../internals/an-object"),o=t("../internals/require-object-coercible"),a=t("../internals/species-constructor"),l=t("../internals/advance-string-index"),u=t("../internals/to-length"),h=t("../internals/regexp-exec-abstract"),c=t("../internals/regexp-exec"),d=t("../internals/fails"),f=[].push,p=Math.min,m=4294967295,v=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(t,e,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,i){var r=String(o(this)),s=void 0===i?m:i>>>0;if(0==s)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,s);for(var a,l,u,h=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,d+"g");(a=c.call(v,r))&&!(p<(l=v.lastIndex)&&(h.push(r.slice(p,a.index)),1<a.length&&a.index<r.length&&f.apply(h,a.slice(1)),u=a[0].length,p=l,h.length>=s));)v.lastIndex===a.index&&v.lastIndex++;return p===r.length?!u&&v.test("")||h.push(""):h.push(r.slice(p)),h.length>s?h.slice(0,s):h}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=o(this),s=null==e?void 0:e[t];return void 0!==s?s.call(e,n,i):r.call(String(n),e,i)},function(t,n){var o=i(r,t,this,n,r!==e);if(o.done)return o.value;var c=s(t),d=String(this),f=a(c,RegExp),y=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),x=new f(v?c:"^(?:"+c.source+")",g),b=void 0===n?m:n>>>0;if(0==b)return[];if(0===d.length)return null===h(x,d)?[d]:[];for(var w=0,_=0,S=[];_<d.length;){x.lastIndex=v?_:0;var A,T=h(x,v?d:d.slice(_));if(null===T||(A=p(u(x.lastIndex+(v?0:_)),d.length))===w)_=l(d,_,y);else{if(S.push(d.slice(w,_)),S.length===b)return S;for(var E=1;E<=T.length-1;E++)if(S.push(T[E]),S.length===b)return S;_=w=A}}return S.push(d.slice(w)),S}]}),!v)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":75,"../internals/regexp-exec":109,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/species-constructor":120,"../internals/to-length":133}],189:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return n(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":121}],190:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/string-trim").trim;r({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return n(this)}})},{"../internals/export":49,"../internals/string-trim":126,"../internals/string-trim-forced":125}],191:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/descriptors"),s=t("../internals/global"),o=t("../internals/has"),a=t("../internals/is-object"),l=t("../internals/object-define-property").f,u=t("../internals/copy-constructor-properties"),h=s.Symbol;if(n&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var c={},d=function t(e){var i=arguments.length<1||void 0===e?void 0:String(e),r=this instanceof t?new h(i):void 0===i?h():h(i);return""===i&&(c[r]=!0),r};u(d,h);var f=d.prototype=h.prototype;f.constructor=d;var p=f.toString,m="Symbol(test)"==String(h("test")),v=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=p.call(t);if(o(c,t))return"";var i=m?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:d})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91}],192:[function(t,e,i){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],193:[function(t,e,i){"use strict";function r(t,e){var i=it[t]=S(Q[W]);return X(i,{type:H,tag:t,description:e}),c||(i.description=e),i}function n(t,e){g(t);var i=b(e),r=A(i).concat(ft(i));return G(r,(function(e){c&&!dt.call(i,e)||ct(t,e,i[e])})),t}function s(t,e){var i=b(t),r=w(e,!0);if(i!==q||!m(it,r)||m(rt,r)){var n=J(i,r);return!n||!m(it,r)||m(i,V)&&i[V][r]||(n.enumerable=!0),n}}function o(t){var e=tt(b(t)),i=[];return G(e,(function(t){m(it,t)||m(I,t)||i.push(t)})),i}var a=t("../internals/export"),l=t("../internals/global"),u=t("../internals/get-built-in"),h=t("../internals/is-pure"),c=t("../internals/descriptors"),d=t("../internals/native-symbol"),f=t("../internals/use-symbol-as-uid"),p=t("../internals/fails"),m=t("../internals/has"),v=t("../internals/is-array"),y=t("../internals/is-object"),g=t("../internals/an-object"),x=t("../internals/to-object"),b=t("../internals/to-indexed-object"),w=t("../internals/to-primitive"),_=t("../internals/create-property-descriptor"),S=t("../internals/object-create"),A=t("../internals/object-keys"),T=t("../internals/object-get-own-property-names"),E=t("../internals/object-get-own-property-names-external"),M=t("../internals/object-get-own-property-symbols"),C=t("../internals/object-get-own-property-descriptor"),P=t("../internals/object-define-property"),R=t("../internals/object-property-is-enumerable"),k=t("../internals/create-non-enumerable-property"),L=t("../internals/redefine"),O=t("../internals/shared"),D=t("../internals/shared-key"),I=t("../internals/hidden-keys"),F=t("../internals/uid"),j=t("../internals/well-known-symbol"),B=t("../internals/well-known-symbol-wrapped"),N=t("../internals/define-well-known-symbol"),U=t("../internals/set-to-string-tag"),z=t("../internals/internal-state"),G=t("../internals/array-iteration").forEach,V=D("hidden"),H="Symbol",W="prototype",Y=j("toPrimitive"),X=z.set,Z=z.getterFor(H),q=Object[W],Q=l.Symbol,K=u("JSON","stringify"),J=C.f,$=P.f,tt=E.f,et=R.f,it=O("symbols"),rt=O("op-symbols"),nt=O("string-to-symbol-registry"),st=O("symbol-to-string-registry"),ot=O("wks"),at=l.QObject,lt=!at||!at[W]||!at[W].findChild,ut=c&&p((function(){return 7!=S($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,i){var r=J(q,e);r&&delete q[e],$(t,e,i),r&&t!==q&&$(q,e,r)}:$,ht=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},ct=function t(e,i,r){e===q&&t(rt,i,r),g(e);var n=w(i,!0);return g(r),m(it,n)?(r.enumerable?(m(e,V)&&e[V][n]&&(e[V][n]=!1),r=S(r,{enumerable:_(0,!1)})):(m(e,V)||$(e,V,_(1,{})),e[V][n]=!0),ut(e,n,r)):$(e,n,r)},dt=function(t){var e=w(t,!0),i=et.call(this,e);return!(this===q&&m(it,e)&&!m(rt,e))&&(!(i||!m(this,e)||!m(it,e)||m(this,V)&&this[V][e])||i)},ft=function(t){var e=t===q,i=tt(e?rt:b(t)),r=[];return G(i,(function(t){!m(it,t)||e&&!m(q,t)||r.push(it[t])})),r};d||(L((Q=function(t){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==t?String(t):void 0,i=F(e),n=function t(e){this===q&&t.call(rt,e),m(this,V)&&m(this[V],i)&&(this[V][i]=!1),ut(this,i,_(1,e))};return c&&lt&&ut(q,i,{configurable:!0,set:n}),r(i,e)})[W],"toString",(function(){return Z(this).tag})),L(Q,"withoutSetter",(function(t){return r(F(t),t)})),R.f=dt,P.f=ct,C.f=s,T.f=E.f=o,M.f=ft,B.f=function(t){return r(j(t),t)},c&&($(Q[W],"description",{configurable:!0,get:function(){return Z(this).description}}),h||L(q,"propertyIsEnumerable",dt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Q}),G(A(ot),(function(t){N(t)})),a({target:H,stat:!0,forced:!d},{for:function(t){var e=String(t);if(m(nt,e))return nt[e];var i=Q(e);return nt[e]=i,st[i]=e,i},keyFor:function(t){if(!ht(t))throw TypeError(t+" is not a symbol");if(m(st,t))return st[t]},useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!c},{create:function(t,e){return void 0===e?S(t):n(S(t),e)},defineProperty:ct,defineProperties:n,getOwnPropertyDescriptor:s}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:o,getOwnPropertySymbols:ft}),a({target:"Object",stat:!0,forced:p((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(x(t))}}),K&&a({target:"JSON",stat:!0,forced:!d||p((function(){var t=Q();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}))},{stringify:function(t,e,i){for(var r,n=[t],s=1;s<arguments.length;)n.push(arguments[s++]);if((y(r=e)||void 0!==t)&&!ht(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ht(e))return e}),n[1]=e,K.apply(null,n)}}),Q[W][Y]||k(Q[W],Y,Q[W].valueOf),U(Q,H),I[V]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":55,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/internal-state":69,"../internals/is-array":71,"../internals/is-object":73,"../internals/is-pure":74,"../internals/native-symbol":82,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-names-external":93,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/shared":119,"../internals/shared-key":117,"../internals/to-indexed-object":131,"../internals/to-object":134,"../internals/to-primitive":137,"../internals/uid":142,"../internals/use-symbol-as-uid":143,"../internals/well-known-symbol":145,"../internals/well-known-symbol-wrapped":144}],194:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-copy-within"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e,i){return n.call(s(this),t,e,2<arguments.length?i:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],195:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").every,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t,e){return n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],196:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-fill"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return n.apply(s(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],197:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),o=r.aTypedArray,a=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t,e){for(var i=n(o(this),t,1<arguments.length?e:void 0),r=s(this,this.constructor),l=0,u=i.length,h=new(a(r))(u);l<u;)h[l]=i[l++];return h}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],198:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").findIndex,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t,e){return n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").find,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t,e){return n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],200:[function(t,e,i){t("../internals/typed-array-constructor")("Float32",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],201:[function(t,e,i){t("../internals/typed-array-constructor")("Float64",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],202:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").forEach,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t,e){n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-includes").includes,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t,e){return n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],204:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-includes").indexOf,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t,e){return n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],205:[function(t,e,i){t("../internals/typed-array-constructor")("Int16",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],206:[function(t,e,i){t("../internals/typed-array-constructor")("Int32",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],207:[function(t,e,i){"use strict";function r(){return u.call(d(this))}var n=t("../internals/global"),s=t("../internals/array-buffer-view-core"),o=t("../modules/es.array.iterator"),a=t("../internals/well-known-symbol")("iterator"),l=n.Uint8Array,u=o.values,h=o.keys,c=o.entries,d=s.aTypedArray,f=s.exportTypedArrayMethod,p=l&&l.prototype[a],m=!!p&&("values"==p.name||null==p.name);f("entries",(function(){return c.call(d(this))})),f("keys",(function(){return h.call(d(this))})),f("values",r,!m),f(a,r,!m)},{"../internals/array-buffer-view-core":12,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],208:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=r.aTypedArray,s=r.exportTypedArrayMethod,o=[].join;s("join",(function(t){return o.apply(n(this),arguments)}))},{"../internals/array-buffer-view-core":12}],209:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-last-index-of"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return n.apply(s(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],210:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),o=r.aTypedArray,a=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t,e){return n(o(this),t,1<arguments.length?e:void 0,(function(t,e){return new(a(s(t,t.constructor)))(e)}))}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],211:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-reduce").right,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t,e){return n(s(this),t,arguments.length,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],212:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-reduce").left,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t,e){return n(s(this),t,arguments.length,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],213:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=r.aTypedArray,s=r.exportTypedArrayMethod,o=Math.floor;s("reverse",(function(){for(var t,e=n(this).length,i=o(e/2),r=0;r<i;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},{"../internals/array-buffer-view-core":12}],214:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/to-length"),s=t("../internals/to-offset"),o=t("../internals/to-object"),a=t("../internals/fails"),l=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t,e){l(this);var i=s(1<arguments.length?e:void 0,1),r=this.length,a=o(t),u=n(a.length),h=0;if(r<u+i)throw RangeError("Wrong length");for(;h<u;)this[i+h]=a[h++]}),a((function(){new Int8Array(1).set({})})))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":133,"../internals/to-object":134,"../internals/to-offset":135}],215:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/species-constructor"),s=t("../internals/fails"),o=r.aTypedArray,a=r.aTypedArrayConstructor,l=r.exportTypedArrayMethod,u=[].slice;l("slice",(function(t,e){for(var i=u.call(o(this),t,e),r=n(this,this.constructor),s=0,l=i.length,h=new(a(r))(l);s<l;)h[s]=i[s++];return h}),s((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":120}],216:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/array-iteration").some,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t,e){return n(s(this),t,1<arguments.length?e:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],217:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=r.aTypedArray,s=r.exportTypedArrayMethod,o=[].sort;s("sort",(function(t){return o.call(n(this),t)}))},{"../internals/array-buffer-view-core":12}],218:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/to-length"),s=t("../internals/to-absolute-index"),o=t("../internals/species-constructor"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var i=a(this),r=i.length,l=s(t,r);return new(o(i,i.constructor))(i.buffer,i.byteOffset+l*i.BYTES_PER_ELEMENT,n((void 0===e?r:s(e,r))-l))}))},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":120,"../internals/to-absolute-index":129,"../internals/to-length":133}],219:[function(t,e,i){"use strict";var r=t("../internals/global"),n=t("../internals/array-buffer-view-core"),s=t("../internals/fails"),o=r.Int8Array,a=n.aTypedArray,l=n.exportTypedArrayMethod,u=[].toLocaleString,h=[].slice,c=!!o&&s((function(){u.call(new o(1))}));l("toLocaleString",(function(){return u.apply(c?h.call(a(this)):a(this),arguments)}),s((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!s((function(){o.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],220:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core").exportTypedArrayMethod,n=t("../internals/fails"),s=t("../internals/global").Uint8Array,o=s&&s.prototype||{},a=[].toString,l=[].join;n((function(){a.call({})}))&&(a=function(){return l.call(this)}),r("toString",a,o.toString!=a)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],221:[function(t,e,i){t("../internals/typed-array-constructor")("Uint16",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],222:[function(t,e,i){t("../internals/typed-array-constructor")("Uint32",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],223:[function(t,e,i){t("../internals/typed-array-constructor")("Uint8",(function(t){return function(e,i,r){return t(this,e,i,r)}}))},{"../internals/typed-array-constructor":139}],224:[function(t,e,i){t("../internals/typed-array-constructor")("Uint8",(function(t){return function(e,i,r){return t(this,e,i,r)}}),!0)},{"../internals/typed-array-constructor":139}],225:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/dom-iterables"),s=t("../internals/array-for-each"),o=t("../internals/create-non-enumerable-property");for(var a in n){var l=r[a],u=l&&l.prototype;if(u&&u.forEach!==s)try{o(u,"forEach",s)}catch(t){u.forEach=s}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58}],226:[function(t,e,i){var r=t("../internals/global"),n=t("../internals/dom-iterables"),s=t("../modules/es.array.iterator"),o=t("../internals/create-non-enumerable-property"),a=t("../internals/well-known-symbol"),l=a("iterator"),u=a("toStringTag"),h=s.values;for(var c in n){var d=r[c],f=d&&d.prototype;if(f){if(f[l]!==h)try{o(f,l,h)}catch(t){f[l]=h}if(f[u]||o(f,u,c),n[c])for(var p in s)if(f[p]!==s[p])try{o(f,p,s[p])}catch(t){f[p]=s[p]}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],227:[function(t,e,i){"use strict";function r(t){try{return decodeURIComponent(t)}catch(e){return t}}function n(t){var e,i=t.replace(j," "),n=4;try{return decodeURIComponent(i)}catch(t){for(;n;)i=i.replace((e=n--,B[e-1]||(B[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),r);return i}}function s(t){return U[t]}function o(t){return encodeURIComponent(t).replace(N,s)}function a(t,e){if(e)for(var i,r,s=e.split("&"),o=0;o<s.length;)(i=s[o++]).length&&(r=i.split("="),t.push({key:n(r.shift()),value:n(r.join("="))}))}function l(t){this.entries.length=0,a(this.entries,t)}function u(t,e){if(t<e)throw TypeError("Not enough arguments")}t("../modules/es.array.iterator");var h=t("../internals/export"),c=t("../internals/get-built-in"),d=t("../internals/native-url"),f=t("../internals/redefine"),p=t("../internals/redefine-all"),m=t("../internals/set-to-string-tag"),v=t("../internals/create-iterator-constructor"),y=t("../internals/internal-state"),g=t("../internals/an-instance"),x=t("../internals/has"),b=t("../internals/function-bind-context"),w=t("../internals/classof"),_=t("../internals/an-object"),S=t("../internals/is-object"),A=t("../internals/object-create"),T=t("../internals/create-property-descriptor"),E=t("../internals/get-iterator"),M=t("../internals/get-iterator-method"),C=t("../internals/well-known-symbol"),P=c("fetch"),R=c("Headers"),k=C("iterator"),L="URLSearchParams",O=L+"Iterator",D=y.set,I=y.getterFor(L),F=y.getterFor(O),j=/\+/g,B=Array(4),N=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=v((function(t,e){D(this,{type:O,iterator:E(I(t).entries),kind:e})}),"Iterator",(function(){var t=F(this),e=t.kind,i=t.iterator.next(),r=i.value;return i.done||(i.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),i})),G=function t(e){g(this,t,L);var i,r,n,s,o,u,h,c,d,f=0<arguments.length?e:void 0,p=[];if(D(this,{type:L,entries:p,updateURL:function(){},updateSearchParams:l}),void 0!==f)if(S(f))if("function"==typeof(i=M(f)))for(n=(r=i.call(f)).next;!(s=n.call(r)).done;){if((h=(u=(o=E(_(s.value))).next).call(o)).done||(c=u.call(o)).done||!u.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:h.value+"",value:c.value+""})}else for(d in f)x(f,d)&&p.push({key:d,value:f[d]+""});else a(p,"string"==typeof f?"?"===f.charAt(0)?f.slice(1):f:f+"")},V=G.prototype;p(V,{append:function(t,e){u(arguments.length,2);var i=I(this);i.entries.push({key:t+"",value:e+""}),i.updateURL()},delete:function(t){u(arguments.length,1);for(var e=I(this),i=e.entries,r=t+"",n=0;n<i.length;)i[n].key===r?i.splice(n,1):n++;e.updateURL()},get:function(t){u(arguments.length,1);for(var e=I(this).entries,i=t+"",r=0;r<e.length;r++)if(e[r].key===i)return e[r].value;return null},getAll:function(t){u(arguments.length,1);for(var e=I(this).entries,i=t+"",r=[],n=0;n<e.length;n++)e[n].key===i&&r.push(e[n].value);return r},has:function(t){u(arguments.length,1);for(var e=I(this).entries,i=t+"",r=0;r<e.length;)if(e[r++].key===i)return!0;return!1},set:function(t,e){u(arguments.length,1);for(var i,r=I(this),n=r.entries,s=!1,o=t+"",a=e+"",l=0;l<n.length;l++)(i=n[l]).key===o&&(s?n.splice(l--,1):(s=!0,i.value=a));s||n.push({key:o,value:a}),r.updateURL()},sort:function(){var t,e,i,r=I(this),n=r.entries,s=n.slice();for(i=n.length=0;i<s.length;i++){for(t=s[i],e=0;e<i;e++)if(n[e].key>t.key){n.splice(e,0,t);break}e===i&&n.push(t)}r.updateURL()},forEach:function(t,e){for(var i,r=I(this).entries,n=b(t,1<arguments.length?e:void 0,3),s=0;s<r.length;)n((i=r[s++]).value,i.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),f(V,k,V.entries),f(V,"toString",(function(){for(var t,e=I(this).entries,i=[],r=0;r<e.length;)t=e[r++],i.push(o(t.key)+"="+o(t.value));return i.join("&")}),{enumerable:!0}),m(G,L),h({global:!0,forced:!d},{URLSearchParams:G}),d||"function"!=typeof P||"function"!=typeof R||h({global:!0,enumerable:!0,forced:!0},{fetch:function(t,e){var i,r,n,s=[t];return 1<arguments.length&&(S(i=e)&&(r=i.body,w(r)===L&&((n=i.headers?new R(i.headers):new R).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),i=A(i,{body:T(0,String(r)),headers:T(0,n)}))),s.push(i)),P.apply(this,s)}}),e.exports={URLSearchParams:G,getState:I}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":53,"../internals/get-built-in":55,"../internals/get-iterator":57,"../internals/get-iterator-method":56,"../internals/has":59,"../internals/internal-state":69,"../internals/is-object":73,"../internals/native-url":83,"../internals/object-create":89,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],228:[function(t,e,i){"use strict";function r(t,e){var i,r,n;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return F;if(!(i=Q(e.slice(1,-1))))return F;t.host=i}else if(rt(t)){if(e=A(e),W.test(e))return F;if(null===(i=q(e)))return F;t.host=i}else{if(Y.test(e))return F;for(i="",r=_(e),n=0;n<r.length;n++)i+=et(r[n],K);t.host=i}}function n(t){var e,i,r,n;if("number"==typeof t){for(e=[],i=0;i<4;i++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",r=function(t){for(var e=null,i=1,r=null,n=0,s=0;s<8;s++)0!==t[s]?(i<n&&(e=r,i=n),r=null,n=0):(null===r&&(r=s),++n);return i<n&&(e=r,i=n),e}(t),i=0;i<8;i++)n&&0===t[i]||(n=n&&!1,r===i?(e+=i?":":"::",n=!0):(e+=t[i].toString(16),i<7&&(e+=":")));return"["+e+"]"}function s(t){return""!=t.username||""!=t.password}function o(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme}function a(t,e){var i;return 2==t.length&&B.test(t.charAt(0))&&(":"==(i=t.charAt(1))||!e&&"|"==i)}function l(t){var e;return 1<t.length&&a(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)}function u(t){var e=t.path,i=e.length;!i||"file"==t.scheme&&1==i&&a(e[0],!0)||e.pop()}function h(t,e,i,n){var o,h,c,f,p,m,v=i||nt,y=0,g="",x=!1,w=!1,S=!1;for(i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(X,"")),e=e.replace(Z,""),o=_(e);y<=o.length;){switch(h=o[y],v){case nt:if(!h||!B.test(h)){if(i)return I;v=ot;continue}g+=h.toLowerCase(),v=st;break;case st:if(h&&(N.test(h)||"+"==h||"-"==h||"."==h))g+=h.toLowerCase();else{if(":"!=h){if(i)return I;g="",v=ot,y=0;continue}if(i&&(rt(t)!=b(it,g)||"file"==g&&(s(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=g,i)return void(rt(t)&&it[t.scheme]==t.port&&(t.port=null));g="","file"==t.scheme?v=yt:rt(t)&&n&&n.scheme==t.scheme?v=at:rt(t)?v=ct:"/"==o[y+1]?(v=lt,y++):(t.cannotBeABaseURL=!0,t.path.push(""),v=_t)}break;case ot:if(!n||n.cannotBeABaseURL&&"#"!=h)return I;if(n.cannotBeABaseURL&&"#"==h){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,v=At;break}v="file"==n.scheme?yt:ut;continue;case at:if("/"!=h||"/"!=o[y+1]){v=ut;continue}v=dt,y++;break;case lt:if("/"==h){v=ft;break}v=wt;continue;case ut:if(t.scheme=n.scheme,h==d)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==h||"\\"==h&&rt(t))v=ht;else if("?"==h)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",v=St;else{if("#"!=h){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),v=wt;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",v=At}break;case ht:if(!rt(t)||"/"!=h&&"\\"!=h){if("/"!=h){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,v=wt;continue}v=ft}else v=dt;break;case ct:if(v=dt,"/"!=h||"/"!=g.charAt(y+1))continue;y++;break;case dt:if("/"==h||"\\"==h)break;v=ft;continue;case ft:if("@"==h){x&&(g="%40"+g),x=!0,c=_(g);for(var A=0;A<c.length;A++){var T=c[A];if(":"!=T||S){var E=et(T,tt);S?t.password+=E:t.username+=E}else S=!0}g=""}else if(h==d||"/"==h||"?"==h||"#"==h||"\\"==h&&rt(t)){if(x&&""==g)return"Invalid authority";y-=_(g).length+1,g="",v=pt}else g+=h;break;case pt:case mt:if(i&&"file"==t.scheme){v=xt;continue}if(":"!=h||w){if(h==d||"/"==h||"?"==h||"#"==h||"\\"==h&&rt(t)){if(rt(t)&&""==g)return F;if(i&&""==g&&(s(t)||null!==t.port))return;if(f=r(t,g))return f;if(g="",v=bt,i)return;continue}"["==h?w=!0:"]"==h&&(w=!1),g+=h}else{if(""==g)return F;if(f=r(t,g))return f;if(g="",v=vt,i==mt)return}break;case vt:if(!U.test(h)){if(h==d||"/"==h||"?"==h||"#"==h||"\\"==h&&rt(t)||i){if(""!=g){var M=parseInt(g,10);if(65535<M)return j;t.port=rt(t)&&M===it[t.scheme]?null:M,g=""}if(i)return;v=bt;continue}return j}g+=h;break;case yt:if(t.scheme="file","/"==h||"\\"==h)v=gt;else{if(!n||"file"!=n.scheme){v=wt;continue}if(h==d)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==h)t.host=n.host,t.path=n.path.slice(),t.query="",v=St;else{if("#"!=h){l(o.slice(y).join(""))||(t.host=n.host,t.path=n.path.slice(),u(t)),v=wt;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",v=At}}break;case gt:if("/"==h||"\\"==h){v=xt;break}n&&"file"==n.scheme&&!l(o.slice(y).join(""))&&(a(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),v=wt;continue;case xt:if(h==d||"/"==h||"\\"==h||"?"==h||"#"==h){if(!i&&a(g))v=wt;else if(""==g){if(t.host="",i)return;v=bt}else{if(f=r(t,g))return f;if("localhost"==t.host&&(t.host=""),i)return;g="",v=bt}continue}g+=h;break;case bt:if(rt(t)){if(v=wt,"/"!=h&&"\\"!=h)continue}else if(i||"?"!=h)if(i||"#"!=h){if(h!=d&&(v=wt,"/"!=h))continue}else t.fragment="",v=At;else t.query="",v=St;break;case wt:if(h==d||"/"==h||"\\"==h&&rt(t)||!i&&("?"==h||"#"==h)){if(".."===(m=(m=g).toLowerCase())||"%2e."===m||".%2e"===m||"%2e%2e"===m?(u(t),"/"==h||"\\"==h&&rt(t)||t.path.push("")):"."===(p=g)||"%2e"===p.toLowerCase()?"/"==h||"\\"==h&&rt(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&a(g)&&(t.host&&(t.host=""),g=g.charAt(0)+":"),t.path.push(g)),g="","file"==t.scheme&&(h==d||"?"==h||"#"==h))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==h?(t.query="",v=St):"#"==h&&(t.fragment="",v=At)}else g+=et(h,$);break;case _t:"?"==h?(t.query="",v=St):"#"==h?(t.fragment="",v=At):h!=d&&(t.path[0]+=et(h,K));break;case St:i||"#"!=h?h!=d&&("'"==h&&rt(t)?t.query+="%27":t.query+="#"==h?"%23":et(h,K)):(t.fragment="",v=At);break;case At:h!=d&&(t.fragment+=et(h,J))}y++}}function c(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}}t("../modules/es.string.iterator");var d,f=t("../internals/export"),p=t("../internals/descriptors"),m=t("../internals/native-url"),v=t("../internals/global"),y=t("../internals/object-define-properties"),g=t("../internals/redefine"),x=t("../internals/an-instance"),b=t("../internals/has"),w=t("../internals/object-assign"),_=t("../internals/array-from"),S=t("../internals/string-multibyte").codeAt,A=t("../internals/string-punycode-to-ascii"),T=t("../internals/set-to-string-tag"),E=t("../modules/web.url-search-params"),M=t("../internals/internal-state"),C=v.URL,P=E.URLSearchParams,R=E.getState,k=M.set,L=M.getterFor("URL"),O=Math.floor,D=Math.pow,I="Invalid scheme",F="Invalid host",j="Invalid port",B=/[A-Za-z]/,N=/[\d+-.A-Za-z]/,U=/\d/,z=/^(0x|0X)/,G=/^[0-7]+$/,V=/^\d+$/,H=/^[\dA-Fa-f]+$/,W=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Y=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,X=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Z=/[\u0009\u000A\u000D]/g,q=function(t){var e,i,r,n,s,o,a,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(e=l.length))return t;for(i=[],r=0;r<e;r++){if(""==(n=l[r]))return t;if(s=10,1<n.length&&"0"==n.charAt(0)&&(s=z.test(n)?16:8,n=n.slice(8==s?1:2)),""===n)o=0;else{if(!(10==s?V:8==s?G:H).test(n))return t;o=parseInt(n,s)}i.push(o)}for(r=0;r<e;r++)if(o=i[r],r==e-1){if(o>=D(256,5-e))return null}else if(255<o)return null;for(a=i.pop(),r=0;r<i.length;r++)a+=i[r]*D(256,3-r);return a},Q=function(t){function e(){return t.charAt(d)}var i,r,n,s,o,a,l,u=[0,0,0,0,0,0,0,0],h=0,c=null,d=0;if(":"==e()){if(":"!=t.charAt(1))return;d+=2,c=++h}for(;e();){if(8==h)return;if(":"!=e()){for(i=r=0;r<4&&H.test(e());)i=16*i+parseInt(e(),16),d++,r++;if("."==e()){if(0==r)return;if(d-=r,6<h)return;for(n=0;e();){if(s=null,0<n){if(!("."==e()&&n<4))return;d++}if(!U.test(e()))return;for(;U.test(e());){if(o=parseInt(e(),10),null===s)s=o;else{if(0==s)return;s=10*s+o}if(255<s)return;d++}u[h]=256*u[h]+s,2!=++n&&4!=n||h++}if(4!=n)return;break}if(":"==e()){if(d++,!e())return}else if(e())return;u[h++]=i}else{if(null!==c)return;d++,c=++h}}if(null!==c)for(a=h-c,h=7;0!=h&&0<a;)l=u[h],u[h--]=u[c+a-1],u[c+--a]=l;else if(8!=h)return;return u},K={},J=w({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),$=w({},J,{"#":1,"?":1,"{":1,"}":1}),tt=w({},$,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),et=function(t,e){var i=S(t,0);return 32<i&&i<127&&!b(e,t)?t:encodeURIComponent(t)},it={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rt=function(t){return b(it,t.scheme)},nt={},st={},ot={},at={},lt={},ut={},ht={},ct={},dt={},ft={},pt={},mt={},vt={},yt={},gt={},xt={},bt={},wt={},_t={},St={},At={},Tt=function t(e,i){var r,n,s=x(this,t,"URL"),o=1<arguments.length?i:void 0,a=String(e),l=k(s,{type:"URL"});if(void 0!==o)if(o instanceof t)r=L(o);else if(n=h(r={},String(o)))throw TypeError(n);if(n=h(l,a,null,r))throw TypeError(n);var u=l.searchParams=new P,c=R(u);c.updateSearchParams(l.query),c.updateURL=function(){l.query=String(u)||null},p||(s.href=Mt.call(s),s.origin=Ct.call(s),s.protocol=Pt.call(s),s.username=Rt.call(s),s.password=kt.call(s),s.host=Lt.call(s),s.hostname=Ot.call(s),s.port=Dt.call(s),s.pathname=It.call(s),s.search=Ft.call(s),s.searchParams=jt.call(s),s.hash=Bt.call(s))},Et=Tt.prototype,Mt=function(){var t=L(this),e=t.scheme,i=t.username,r=t.password,o=t.host,a=t.port,l=t.path,u=t.query,h=t.fragment,c=e+":";return null!==o?(c+="//",s(t)&&(c+=i+(r?":"+r:"")+"@"),c+=n(o),null!==a&&(c+=":"+a)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?l[0]:l.length?"/"+l.join("/"):"",null!==u&&(c+="?"+u),null!==h&&(c+="#"+h),c},Ct=function(){var t=L(this),e=t.scheme,i=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&rt(t)?e+"://"+n(t.host)+(null!==i?":"+i:""):"null"},Pt=function(){return L(this).scheme+":"},Rt=function(){return L(this).username},kt=function(){return L(this).password},Lt=function(){var t=L(this),e=t.host,i=t.port;return null===e?"":null===i?n(e):n(e)+":"+i},Ot=function(){var t=L(this).host;return null===t?"":n(t)},Dt=function(){var t=L(this).port;return null===t?"":String(t)},It=function(){var t=L(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ft=function(){var t=L(this).query;return t?"?"+t:""},jt=function(){return L(this).searchParams},Bt=function(){var t=L(this).fragment;return t?"#"+t:""};if(p&&y(Et,{href:c(Mt,(function(t){var e=L(this),i=h(e,String(t));if(i)throw TypeError(i);R(e.searchParams).updateSearchParams(e.query)})),origin:c(Ct),protocol:c(Pt,(function(t){h(L(this),String(t)+":",nt)})),username:c(Rt,(function(t){var e=L(this),i=_(String(t));if(!o(e)){e.username="";for(var r=0;r<i.length;r++)e.username+=et(i[r],tt)}})),password:c(kt,(function(t){var e=L(this),i=_(String(t));if(!o(e)){e.password="";for(var r=0;r<i.length;r++)e.password+=et(i[r],tt)}})),host:c(Lt,(function(t){var e=L(this);e.cannotBeABaseURL||h(e,String(t),pt)})),hostname:c(Ot,(function(t){var e=L(this);e.cannotBeABaseURL||h(e,String(t),mt)})),port:c(Dt,(function(t){var e=L(this);o(e)||(""==(t=String(t))?e.port=null:h(e,t,vt))})),pathname:c(It,(function(t){var e=L(this);e.cannotBeABaseURL||(e.path=[],h(e,t+"",bt))})),search:c(Ft,(function(t){var e=L(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",h(e,t,St)),R(e.searchParams).updateSearchParams(e.query)})),searchParams:c(jt),hash:c(Bt,(function(t){var e=L(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",h(e,t,At)):e.fragment=null}))}),g(Et,"toJSON",(function(){return Mt.call(this)}),{enumerable:!0}),g(Et,"toString",(function(){return Mt.call(this)}),{enumerable:!0}),C){var Nt=C.createObjectURL,Ut=C.revokeObjectURL;Nt&&g(Tt,"createObjectURL",(function(t){return Nt.apply(C,arguments)})),Ut&&g(Tt,"revokeObjectURL",(function(t){return Ut.apply(C,arguments)}))}T(Tt,"URL"),f({global:!0,forced:!m,sham:!p},{URL:Tt})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/internal-state":69,"../internals/native-url":83,"../internals/object-assign":88,"../internals/object-define-properties":90,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/string-multibyte":122,"../internals/string-punycode-to-ascii":123,"../modules/es.string.iterator":183,"../modules/web.url-search-params":227}],229:[function(t,e,i){"use strict";e.exports=t("./").polyfill()},{"./":230}],230:[function(t,i,r){(function(e,n){var s;s=function(){"use strict";function i(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=0,o=void 0,a=void 0,l=function(t,e){m[s]=t,m[s+1]=e,2===(s+=2)&&(a?a(v):w())},u="undefined"!=typeof window?window:void 0,h=u||{},c=h.MutationObserver||h.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(v,1)}}var m=new Array(1e3);function v(){for(var t=0;t<s;t+=2)(0,m[t])(m[t+1]),m[t]=void 0,m[t+1]=void 0;s=0}var y,g,x,b,w=void 0;function _(t,e){var i=this,r=new this.constructor(T);void 0===r[A]&&F(r);var n=i._state;if(n){var s=arguments[n-1];l((function(){return D(n,r,s,i._result)}))}else L(i,r,t,e);return r}function S(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(T);return C(e,t),e}w=d?function(){return e.nextTick(v)}:c?(g=0,x=new c(v),b=document.createTextNode(""),x.observe(b,{characterData:!0}),function(){b.data=g=++g%2}):f?((y=new MessageChannel).port1.onmessage=v,function(){return y.port2.postMessage(0)}):void 0===u&&"function"==typeof t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:p()}catch(t){return p()}}():p();var A=Math.random().toString(36).substring(2);function T(){}var E=void 0;function M(t,e,r){var n,s;e.constructor===t.constructor&&r===_&&e.constructor.resolve===S?(n=t,1===(s=e)._state?R(n,s._result):2===s._state?k(n,s._result):L(s,void 0,(function(t){return C(n,t)}),(function(t){return k(n,t)}))):void 0===r?R(t,e):i(r)?function(t,e,i){l((function(t){var r=!1,n=function(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}(i,e,(function(i){r||(r=!0,e!==i?C(t,i):R(t,i))}),(function(e){r||(r=!0,k(t,e))}),t._label);!r&&n&&(r=!0,k(t,n))}),t)}(t,e,r):R(t,e)}function C(t,e){if(t===e)k(t,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(r=e),null===r||"object"!=n&&"function"!=n)R(t,e);else{var i=void 0;try{i=e.then}catch(e){return void k(t,e)}M(t,e,i)}var r,n}function P(t){t._onerror&&t._onerror(t._result),O(t)}function R(t,e){t._state===E&&(t._result=e,t._state=1,0!==t._subscribers.length&&l(O,t))}function k(t,e){t._state===E&&(t._state=2,t._result=e,l(P,t))}function L(t,e,i,r){var n=t._subscribers,s=n.length;t._onerror=null,n[s]=e,n[s+1]=i,n[s+2]=r,0===s&&t._state&&l(O,t)}function O(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r=void 0,n=void 0,s=t._result,o=0;o<e.length;o+=3)r=e[o],n=e[o+i],r?D(i,r,n,s):n(s);t._subscribers.length=0}}function D(t,e,r,n){var s=i(r),o=void 0,a=void 0,l=!0;if(s){try{o=r(n)}catch(t){l=!1,a=t}if(e===o)return void k(e,new TypeError("A promises callback cannot return that same promise."))}else o=n;e._state!==E||(s&&l?C(e,o):!1===l?k(e,a):1===t?R(e,o):2===t&&k(e,o))}var I=0;function F(t){t[A]=I++,t._state=void 0,t._result=void 0,t._subscribers=[]}var j=(B.prototype._enumerate=function(t){for(var e=0;this._state===E&&e<t.length;e++)this._eachEntry(t[e],e)},B.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,r=i.resolve;if(r===S){var n=void 0,s=void 0,o=!1;try{n=t.then}catch(e){o=!0,s=e}if(n===_&&t._state!==E)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(i===N){var a=new i(T);o?k(a,s):M(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new i((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},B.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===E&&(this._remaining--,2===t?k(r,i):this._result[e]=i),0===this._remaining&&R(r,this._result)},B.prototype._willSettleAt=function(t,e){var i=this;L(t,void 0,(function(t){return i._settledAt(1,e,t)}),(function(t){return i._settledAt(2,e,t)}))},B);function B(t,e){this._instanceConstructor=t,this.promise=new t(T),this.promise[A]||F(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&R(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}var N=(U.prototype.catch=function(t){return this.then(null,t)},U.prototype.finally=function(t){var e=this.constructor;return i(t)?this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))})):this.then(t,t)},U);function U(t){this[A]=I++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U?function(t,e){try{e((function(e){C(t,e)}),(function(e){k(t,e)}))}catch(e){k(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return N.prototype.then=_,N.all=function(t){return new j(this,t).promise},N.race=function(t){var e=this;return r(t)?new e((function(i,r){for(var n=t.length,s=0;s<n;s++)e.resolve(t[s]).then(i,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},N.resolve=S,N.reject=function(t){var e=new this(T);return k(e,t),e},N._setScheduler=function(t){a=t},N._setAsap=function(t){l=t},N._asap=l,N.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=N},N.Promise=N},"object"==typeof r&&void 0!==i?i.exports=s():this.ES6Promise=s()}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:238}],231:[function(t,e,i){!function(t,r){if(void 0!==i&&void 0!==e)r(0,e);else{var n={exports:{}};r(0,n),t.fetchJsonp=n.exports}}(this,(function(t,e){"use strict";var i="callback";function r(t){try{delete window[t]}catch(e){window[t]=void 0}}function n(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}e.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=t,o=e.timeout||5e3,a=e.jsonpCallback||i,l=void 0;return new Promise((function(i,u){var h=e.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),c=a+"_"+h;window[h]=function(t){i({ok:!0,json:function(){return Promise.resolve(t)}}),l&&clearTimeout(l),n(c),r(h)},s+=-1===s.indexOf("?")?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+s+a+"="+h),e.charset&&d.setAttribute("charset",e.charset),d.id=c,document.getElementsByTagName("head")[0].appendChild(d),l=setTimeout((function(){u(new Error("JSONP request to "+t+" timed out")),r(h),n(c),window[h]=function(){r(h)}}),o),d.onerror=function(){u(new Error("JSONP request to "+t+" failed")),r(h),n(c),l&&clearTimeout(l)}}))}}))},{}],232:[function(t,e,i){var r=r||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,s=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},l=function(t){setTimeout((function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()}),4e4)},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,h,c){function d(){!function(t,e,i){for(var r=(e=[].concat(e)).length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,t)}catch(t){a(t)}}}(p,"writestart progress write writeend".split(" "))}c||(e=u(e));var f,p=this,m="application/octet-stream"===e.type;if(p.readyState=p.INIT,n)return f=i().createObjectURL(e),void setTimeout((function(){var t,e;r.href=f,r.download=h,t=r,e=new MouseEvent("click"),t.dispatchEvent(e),d(),l(f),p.readyState=p.DONE}));!function(){if((o||m&&s)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=o?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,d()},r.readAsDataURL(e),p.readyState=p.INIT}f=f||i().createObjectURL(e),m?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),p.readyState=p.DONE,d(),l(f)}()},c=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(t,e,i){return new h(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports&&(e.exports.saveAs=r)},{}],233:[function(t,e,i){i.read=function(t,e,i,r,n){var s,o,a=8*n-r-1,l=(1<<a)-1,u=l>>1,h=-7,c=i?n-1:0,d=i?-1:1,f=t[e+c];for(c+=d,s=f&(1<<-h)-1,f>>=-h,h+=a;0<h;s=256*s+t[e+c],c+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;0<h;o=256*o+t[e+c],c+=d,h-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},i.write=function(t,e,i,r,n,s){var o,a,l,u=8*s-n-1,h=(1<<u)-1,c=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(e+=1<=o+c?d/l:d*Math.pow(2,1-c))*l&&(o++,l/=2),h<=o+c?(a=0,o=h):1<=o+c?(a=(e*l-1)*Math.pow(2,n),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,n),o=0));8<=n;t[i+f]=255&a,f+=p,a/=256,n-=8);for(o=o<<n|a,u+=n;0<u;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}},{}],234:[function(t,e,i){"use strict";var r;function n(t,e){return t.b===e.b&&t.a===e.a}function s(t,e){return t.b<e.b||t.b===e.b&&t.a<=e.a}function o(t,e,i){var r=e.b-t.b,n=i.b-e.b;return 0<r+n?r<n?e.a-t.a+r/(r+n)*(t.a-i.a):e.a-i.a+n/(r+n)*(i.a-t.a):0}function a(t,e,i){var r=e.b-t.b,n=i.b-e.b;return 0<r+n?(e.a-i.a)*r+(e.a-t.a)*n:0}function l(t,e){return t.a<e.a||t.a===e.a&&t.b<=e.b}function u(t,e,i){var r=e.a-t.a,n=i.a-e.a;return 0<r+n?r<n?e.b-t.b+r/(r+n)*(t.b-i.b):e.b-i.b+n/(r+n)*(i.b-t.b):0}function h(t,e,i){var r=e.a-t.a,n=i.a-e.a;return 0<r+n?(e.b-i.b)*r+(e.b-t.b)*n:0}function c(t,e,i,r){return(t=t<0?0:t)<=(i=i<0?0:i)?0===i?(e+r)/2:e+t/(t+i)*(r-e):r+i/(t+i)*(e-r)}function d(t){var e=y(t.b);return x(e,t.c),x(e.b,t.c),b(e,t.a),e}function f(t,e){var i=!1,r=!1;t!==e&&(e.a!==t.a&&(r=!0,_(e.a,t.a)),e.d!==t.d&&(i=!0,S(e.d,t.d)),g(e,t),r||(x(e,t.a),t.a.c=t),i||(b(e,t.d),t.d.a=t))}function p(t){var e=t.b,i=!1;t.d!==t.b.d&&(i=!0,S(t.d,t.b.d)),t.c===t?_(t.a,null):(t.b.d.a=K(t),t.a.c=t.c,g(t,K(t)),i||b(t,t.d)),e.c===e?(_(e.a,null),S(e.d,null)):(t.d.a=K(e),e.a.c=e.c,g(e,K(e))),w(t)}function m(t){var e=y(t),i=e.b;return g(e,t.e),e.a=t.b.a,x(i,e.a),e.d=i.d=t.d,e=e.b,g(t.b,K(t.b)),g(t.b,e),t.b.a=e.a,e.b.a.c=e.b,e.b.d=t.b.d,e.f=t.f,e.b.f=t.b.f,e}function v(t,e){var i=!1,r=y(t),n=r.b;return e.d!==t.d&&(i=!0,S(e.d,t.d)),g(r,t.e),g(n,e),r.a=t.b.a,n.a=e.a,r.d=n.d=t.d,t.d.a=n,i||b(r,t.d),r}function y(t){var e=new Q,i=new Q,r=t.b.h;return(((i.h=r).b.h=e).h=t).b.h=i,e.b=i,((e.c=e).e=i).b=e,(i.c=i).e=e}function g(t,e){var i=t.c,r=e.c;i.b.e=e,(r.b.e=t).c=r,e.c=i}function x(t,e){var i=e.f,r=new $(e,i);for(i.e=r,i=(e.f=r).c=t;i.a=r,(i=i.c)!==t;);}function b(t,e){var i=e.d,r=new q(e,i);for(i.b=r,(e.d=r).a=t,r.c=e.c,i=t;i.d=r,(i=i.e)!==t;);}function w(t){var e=t.h;t=t.b.h,(e.b.h=t).b.h=e}function _(t,e){for(var i=t.c,r=i;r.a=e,(r=r.c)!==i;);i=t.f,((r=t.e).f=i).e=r}function S(t,e){for(var i=t.a,r=i;r.d=e,(r=r.e)!==i;);i=t.d,((r=t.b).d=i).b=r}function A(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e}function T(t,e){t.f+=e.f,t.b.f+=e.b.f}function E(t,e,i){return t=t.a,e=e.a,i=i.a,e.b.a===t?i.b.a===t?s(e.a,i.a)?a(i.b.a,e.a,i.a)<=0:0<=a(e.b.a,i.a,e.a):a(i.b.a,t,i.a)<=0:i.b.a===t?0<=a(e.b.a,t,e.a):(e=o(e.b.a,t,e.a),(t=o(i.b.a,t,i.a))<=e)}function M(t){t.a.i=null;var e=t.e;e.a.c=e.c,e.c.a=e.a,t.e=null}function C(t,e){p(t.a),t.c=!1,(t.a=e).i=t}function P(t){for(var e=t.a.a;(t=ct(t)).a.a===e;);return t.c&&(C(t,e=v(ht(t).a.b,t.a.e)),t=ct(t)),t}function R(t,e,i){var r=new ut;return r.a=i,r.e=H(t.f,e.e,r),i.i=r}function k(t,e){switch(t.s){case 100130:return 0!=(1&e);case 100131:return 0!==e;case 100132:return 0<e;case 100133:return e<0;case 100134:return 2<=e||e<=-2}return!1}function L(t){var e=t.a,i=e.d;i.c=t.d,i.a=e,M(t)}function O(t,e,i){for(e=(t=e).a;t!==i;){t.c=!1;var r=ht(t),n=r.a;if(n.a!==e.a){if(!r.c){L(t);break}C(r,n=v(e.c.b,n.b))}e.c!==n&&(f(K(n),n),f(e,n)),L(t),e=r.a,t=r}return e}function D(t,e,i,r,n,s){for(var o=!0;R(t,e,i.b),(i=i.c)!==r;);for(null===n&&(n=ht(e).a.b.c);(i=(r=ht(e)).a.b).a===n.a;)i.c!==n&&(f(K(i),i),f(K(n),i)),r.f=e.f-i.f,r.d=k(t,r.f),e.b=!0,!o&&B(t,e)&&(T(i,n),M(e),p(n)),o=!1,e=r,n=i;e.b=!0,s&&U(t,e)}function I(t,e,i,r,n){var s=[e.g[0],e.g[1],e.g[2]];e.d=null,e.d=t.o&&t.o(s,i,r,t.c)||null,null===e.d&&(n?t.n||(Z(t,100156),t.n=!0):e.d=i[0])}function F(t,e,i){var r=[null,null,null,null];r[0]=e.a.d,r[1]=i.a.d,I(t,e.a,r,[.5,.5,0,0],!1),f(e,i)}function j(t,e,i,r,n){var s=Math.abs(e.b-t.b)+Math.abs(e.a-t.a),o=Math.abs(i.b-t.b)+Math.abs(i.a-t.a),a=n+1;r[n]=.5*o/(s+o),r[a]=.5*s/(s+o),t.g[0]+=r[n]*e.g[0]+r[a]*i.g[0],t.g[1]+=r[n]*e.g[1]+r[a]*i.g[1],t.g[2]+=r[n]*e.g[2]+r[a]*i.g[2]}function B(t,e){var i=ht(e),r=e.a,o=i.a;if(s(r.a,o.a)){if(0<a(o.b.a,r.a,o.a))return!1;if(n(r.a,o.a)){if(r.a!==o.a){i=t.e;var l=r.a.h;if(0<=l){var u=(i=i.b).d,h=i.e,c=i.c,d=c[l];u[d]=u[i.a],(c[u[d]]=d)<=--i.a&&(d<=1||s(h[u[d>>1]],h[u[d]])?at(i,d):lt(i,d)),h[l]=null,c[l]=i.b,i.b=l}else for(i.c[-(l+1)]=null;0<i.a&&null===i.c[i.d[i.a-1]];)--i.a;F(t,K(o),r)}}else m(o.b),f(r,K(o)),e.b=i.b=!0}else{if(a(r.b.a,o.a,r.a)<0)return!1;ct(e).b=e.b=!0,m(r.b),f(K(o),r)}return!0}function N(t,e){var i=ht(e),r=e.a,d=i.a,p=r.a,v=d.a,y=r.b.a,g=d.b.a,x=new $;if(a(y,t.a,p),a(g,t.a,v),p===v||Math.min(p.a,y.a)>Math.max(v.a,g.a))return!1;if(s(p,v)){if(0<a(g,p,v))return!1}else if(a(y,v,p)<0)return!1;var b,w,_=y,S=p,A=g,T=v;if(s(_,S)||(b=_,_=S,S=b),s(A,T)||(b=A,A=T,T=b),s(_,A)||(b=_,_=A,A=b,b=S,S=T,T=b),s(A,S)?s(S,T)?((b=o(_,A,S))+(w=o(A,S,T))<0&&(b=-b,w=-w),x.b=c(b,A.b,w,S.b)):((b=a(_,A,S))+(w=-a(_,T,S))<0&&(b=-b,w=-w),x.b=c(b,A.b,w,T.b)):x.b=(A.b+S.b)/2,l(_,S)||(b=_,_=S,S=b),l(A,T)||(b=A,A=T,T=b),l(_,A)||(b=_,_=A,A=b,b=S,S=T,T=b),l(A,S)?l(S,T)?((b=u(_,A,S))+(w=u(A,S,T))<0&&(b=-b,w=-w),x.a=c(b,A.a,w,S.a)):((b=h(_,A,S))+(w=-h(_,T,S))<0&&(b=-b,w=-w),x.a=c(b,A.a,w,T.a)):x.a=(A.a+S.a)/2,s(x,t.a)&&(x.b=t.a.b,x.a=t.a.a),_=s(p,v)?p:v,s(_,x)&&(x.b=_.b,x.a=_.a),n(x,p)||n(x,v))return B(t,e),!1;if(!n(y,t.a)&&0<=a(y,t.a,x)||!n(g,t.a)&&a(g,t.a,x)<=0){if(g===t.a)return m(r.b),f(d.b,r),r=ht(e=P(e)).a,O(t,ht(e),i),D(t,e,K(r),r,r,!0),!0;if(y!==t.a)return 0<=a(y,t.a,x)&&(ct(e).b=e.b=!0,m(r.b),r.a.b=t.a.b,r.a.a=t.a.a),a(g,t.a,x)<=0&&(e.b=i.b=!0,m(d.b),d.a.b=t.a.b,d.a.a=t.a.a),!1;for(m(d.b),f(r.e,K(d)),v=(p=i=e).a.b.a;(p=ct(p)).a.b.a===v;);return p=ht(e=p).a.b.c,i.a=K(d),D(t,e,(d=O(t,i,null)).c,r.b.c,p,!0),!0}return m(r.b),m(d.b),f(K(d),r),r.a.b=x.b,r.a.a=x.a,r.a.h=et(t.e,r.a),r=r.a,d=[0,0,0,0],x=[p.d,y.d,v.d,g.d],r.g[0]=r.g[1]=r.g[2]=0,j(r,p,y,d,0),j(r,v,g,d,2),I(t,r,x,d,!0),ct(e).b=e.b=i.b=!0,!1}function U(t,e){for(var i=ht(e);;){for(;i.b;)i=ht(e=i);if(!(e.b||null!==(e=ct(i=e))&&e.b))break;e.b=!1;var r,n=e.a,o=i.a;if(r=n.b.a!==o.b.a)t:{var l=ht(r=e),u=r.a,h=l.a,c=void 0;if(s(u.b.a,h.b.a)){if(a(u.b.a,h.b.a,u.a)<0){r=!1;break t}ct(r).b=r.b=!0,c=m(u),f(h.b,c),c.d.c=r.d}else{if(0<a(h.b.a,u.b.a,h.a)){r=!1;break t}r.b=l.b=!0,c=m(h),f(u.e,h.b),c.b.d.c=r.d}r=!0}if(r&&(i.c?(M(i),p(o),o=(i=ht(e)).a):e.c&&(M(e),p(n),n=(e=ct(i)).a)),n.a!==o.a)if(n.b.a===o.b.a||e.c||i.c||n.b.a!==t.a&&o.b.a!==t.a)B(t,e);else if(N(t,e))break;n.a===o.a&&n.b.a===o.b.a&&(T(o,n),M(e),p(n),e=ct(i))}}function z(t,e){for(var i=(t.a=e).c;null===i.i;)if((i=i.c)===e.c){i=t;var r=e;(u=new ut).a=r.c.b;for(var o=(c=i.f).a;null!==(o=o.a).b&&!c.c(c.b,u,o.b););var l=ht(c=o.b),u=c.a;if(o=l.a,0===a(u.b.a,r,u.a))n((u=c.a).a,r)||n(u.b.a,r)||(m(u.b),c.c&&(p(u.c),c.c=!1),f(r.c,u),z(i,r));else{var h=s(o.b.a,u.b.a)?c:l;l=void 0,c.d||h.c?(l=h===c?v(r.c.b,u.e):v(o.b.c.b,r.c).b,h.c?C(h,l):((c=R(u=i,c,l)).f=ct(c).f+c.a.f,c.d=k(u,c.f)),z(i,r)):D(i,c,r.c,r.c,null,!0)}return}if(c=(u=ht(i=P(i.i))).a,(u=O(t,u,null)).c===c){u=(c=u).c,o=ht(i),l=i.a,h=o.a;var c,d=!1;l.b.a!==h.b.a&&N(t,i),n(l.a,t.a)&&(f(K(u),l),u=ht(i=P(i)).a,O(t,ht(i),o),d=!0),n(h.a,t.a)&&(f(c,K(h)),c=O(t,o,null),d=!0),d?D(t,i,c.c,u,u,!0):(r=s(h.a,l.a)?K(h):l,D(t,i,r=v(c.c.b,r),r.c,r.c,!1),r.b.i.c=!0,U(t,i))}else D(t,i,u.c,c,c,!0)}function G(t,e){var i=new ut,r=d(t.b);r.a.b=4e150,r.a.a=e,r.b.a.b=-4e150,r.b.a.a=e,t.a=r.b.a,i.a=r,i.f=0,i.d=!1,i.c=!1,i.h=!0,i.b=!1,r=H(r=t.f,r.a,i),i.e=r}function V(t){this.a=new W,this.b=t,this.c=E}function H(t,e,i){for(;null!==(e=e.c).b&&!t.c(t.b,e.b,i););return t=new W(i,e.a,e),e.a.c=t,e.a=t}function W(t,e,i){this.b=t||null,this.a=e||this,this.c=i||this}function Y(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function X(t,e){if(t.d!==e)for(;t.d!==e;)if(t.d<e)switch(t.d){case 0:Z(t,100151),t.u(null);break;case 1:Z(t,100152),t.t()}else switch(t.d){case 2:Z(t,100154),t.v();break;case 1:Z(t,100153),t.w()}}function Z(t,e){t.p&&t.p(e,t.c)}function q(t,e){this.b=t||this,this.d=e||this,this.a=null,this.c=!1}function Q(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function K(t){return t.b.e}function J(){this.c=new $,this.a=new q,this.b=new Q,this.d=new Q,this.b.b=this.d,this.d.b=this.b}function $(t,e){this.e=t||this,this.f=e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function tt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new rt}function et(t,e){if(t.e){var i,r=t.b,n=++r.a;return 2*n>r.f&&(r.f*=2,r.c=nt(r.c,r.f+1)),0===r.b?i=n:(i=r.b,r.b=r.c[r.b]),r.e[i]=e,r.c[i]=n,r.d[n]=i,r.h&&lt(r,n),i}return r=t.a++,t.c[r]=e,-(r+1)}function it(t){if(0===t.a)return ot(t.b);var e=t.c[t.d[t.a-1]];if(0!==t.b.a&&s(st(t.b),e))return ot(t.b);for(;--t.a,0<t.a&&null===t.c[t.d[t.a-1]];);return e}function rt(){this.d=nt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function nt(t,e){for(var i=Array(e),r=0;r<t.length;r++)i[r]=t[r];for(;r<e;r++)i[r]=0;return i}function st(t){return t.e[t.d[1]]}function ot(t){var e=t.d,i=t.e,r=t.c,n=e[1],s=i[n];return 0<t.a&&(e[1]=e[t.a],r[e[1]]=1,i[n]=null,r[n]=t.b,t.b=n,0<--t.a&&at(t,1)),s}function at(t,e){for(var i=t.d,r=t.e,n=t.c,o=e,a=i[o];;){var l=o<<1;l<t.a&&s(r[i[l+1]],r[i[l]])&&(l+=1);var u=i[l];if(l>t.a||s(r[a],r[u])){n[i[o]=a]=o;break}n[i[o]=u]=o,o=l}}function lt(t,e){for(var i=t.d,r=t.e,n=t.c,o=e,a=i[o];;){var l=o>>1,u=i[l];if(0==l||s(r[u],r[a])){n[i[o]=a]=o;break}n[i[o]=u]=o,o=l}}function ut(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ht(t){return t.e.c.b}function ct(t){return t.e.a.b}(r=Y.prototype).x=function(){X(this,0)},r.B=function(t,e){switch(t){case 100142:return;case 100140:switch(e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=e)}break;case 100141:return void(this.m=!!e);default:return void Z(this,100900)}Z(this,100901)},r.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},r.A=function(t,e,i){this.j[0]=t,this.j[1]=e,this.j[2]=i},r.z=function(t,e){var i=e||null;switch(t){case 100100:case 100106:this.h=i;break;case 100104:case 100110:this.l=i;break;case 100101:case 100107:this.k=i;break;case 100102:case 100108:this.i=i;break;case 100103:case 100109:this.p=i;break;case 100105:case 100111:this.o=i;break;case 100112:this.r=i;break;default:Z(this,100900)}},r.C=function(t,e){var i=!1,r=[0,0,0];X(this,2);for(var n=0;n<3;++n){var s=t[n];s<-1e150&&(s=-1e150,i=!0),1e150<s&&(s=1e150,i=!0),r[n]=s}i&&Z(this,100155),null===(i=this.q)?f(i=d(this.b),i.b):(m(i),i=i.e),i.a.d=e,i.a.g[0]=r[0],i.a.g[1]=r[1],i.a.g[2]=r[2],i.f=1,i.b.f=-1,this.q=i},r.u=function(t){X(this,0),this.d=1,this.b=new J,this.c=t},r.t=function(){X(this,1),this.d=2,this.q=null},r.v=function(){X(this,2),this.d=1},r.w=function(){X(this,1),this.d=0;var t,e,i=!1,r=[c=this.j[0],o=this.j[1],u=this.j[2]];if(0===c&&0===o&&0===u){for(var o=[-2e150,-2e150,-2e150],l=[2e150,2e150,2e150],u=[],h=[],c=(i=this.b.c).e;c!==i;c=c.e)for(var d=0;d<3;++d){var f=c.g[d];f<l[d]&&(l[d]=f,h[d]=c),f>o[d]&&(o[d]=f,u[d]=c)}if(c=0,o[1]-l[1]>o[0]-l[0]&&(c=1),o[2]-l[2]>o[c]-l[c]&&(c=2),l[c]>=o[c])r[0]=0,r[1]=0,r[2]=1;else{for(o=0,l=h[c],u=u[c],h=[0,0,0],l=[l.g[0]-u.g[0],l.g[1]-u.g[1],l.g[2]-u.g[2]],d=[0,0,0],c=i.e;c!==i;c=c.e)d[0]=c.g[0]-u.g[0],d[1]=c.g[1]-u.g[1],d[2]=c.g[2]-u.g[2],h[0]=l[1]*d[2]-l[2]*d[1],h[1]=l[2]*d[0]-l[0]*d[2],h[2]=l[0]*d[1]-l[1]*d[0],o<(f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])&&(o=f,r[0]=h[0],r[1]=h[1],r[2]=h[2]);o<=0&&(r[0]=r[1]=r[2]=0,r[A(l)]=1)}i=!0}for(h=A(r),c=this.b.c,o=(h+1)%3,u=(h+2)%3,h=0<r[h]?1:-1,r=c.e;r!==c;r=r.e)r.b=r.g[o],r.a=h*r.g[u];if(i){for(r=0,c=(i=this.b.a).b;c!==i;c=c.b)if(!((o=c.a).f<=0))for(;r+=(o.a.b-o.b.a.b)*(o.a.a+o.b.a.a),(o=o.e)!==c.a;);if(r<0)for(i=(r=this.b.c).e;i!==r;i=i.e)i.a=-i.a}for(this.n=!1,c=(r=this.b.b).h;c!==r;c=i)i=c.h,o=c.e,n(c.a,c.b.a)&&c.e.e!==c&&(F(this,o,c),p(c),o=(c=o).e),o.e===c&&(o!==c&&(o!==i&&o!==i.b||(i=i.h),p(o)),c!==i&&c!==i.b||(i=i.h),p(c));for(this.e=r=new tt,c=(i=this.b.c).e;c!==i;c=c.e)c.h=et(r,c);for(function(t){t.d=[];for(var e=0;e<t.a;e++)t.d[e]=e;t.d.sort(function(t){return function(e,i){return s(t[e],t[i])?1:-1}}(t.c)),t.e=!0,function(t){for(var e=t.a;1<=e;--e)at(t,e);t.h=!0}(t.b)}(r),this.f=new V(this),G(this,-4e150),G(this,4e150);null!==(r=it(this.e));){for(;;){t:if(c=this.e,0===c.a)i=st(c.b);else if(i=c.c[c.d[c.a-1]],0!==c.b.a&&(c=st(c.b),s(c,i))){i=c;break t}if(null===i||!n(i,r))break;i=it(this.e),F(this,r.c,i.c)}z(this,r)}for(this.a=this.f.a.a.b.a.a,r=0;null!==(i=this.f.a.a.b);)i.h||++r,M(i);for(this.f=null,(r=this.e).b=null,r.d=null,this.e=r.c=null,c=(r=this.b).a.b;c!==r.a;c=i)i=c.b,(c=c.a).e.e===c&&(T(c.c,c),p(c));if(!this.n){if(r=this.b,this.m)for(c=r.b.h;c!==r.b;c=i)i=c.h,c.b.d.c!==c.d.c?c.f=c.d.c?1:-1:p(c);else for(c=r.a.b;c!==r.a;c=i)if(i=c.b,c.c){for(c=c.a;s(c.b.a,c.a);c=c.c.b);for(;s(c.a,c.b.a);c=c.e);for(o=c.c.b,u=void 0;c.e!==o;)if(s(c.b.a,o.a)){for(;o.e!==c&&(s((e=o.e).b.a,e.a)||a(o.a,o.b.a,o.e.b.a)<=0);)o=(u=v(o.e,o)).b;o=o.c.b}else{for(;o.e!==c&&(s((t=c.c.b).a,t.b.a)||0<=a(c.b.a,c.a,c.c.b.a));)c=(u=v(c,c.c.b)).b;c=c.e}for(;o.e.e!==c;)o=(u=v(o.e,o)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(i=(r=this.b).a.b;i!==r.a;i=i.b)if(i.c){for(this.h&&this.h(2,this.c),c=i.a;this.k&&this.k(c.a.d,this.c),(c=c.e)!==i.a;);this.i&&this.i(this.c)}}else{for(r=this.b,i=!!this.l,c=!1,o=-1,u=r.a.d;u!==r.a;u=u.d)if(u.c)for(c||(this.h&&this.h(4,this.c),c=!0),h=u.a;i&&o!==(l=h.b.d.c?0:1)&&(o=l,this.l&&this.l(!!o,this.c)),this.k&&this.k(h.a.d,this.c),(h=h.e)!==u.a;);c&&this.i&&this.i(this.c)}if(this.r){for(c=(r=this.b).a.b;c!==r.a;c=i)if(i=c.b,!c.c){for(u=(o=c.a).e,h=void 0;u=(h=u).e,(h.d=null)===h.b.d&&(h.c===h?_(h.a,null):(h.a.c=h.c,g(h,K(h))),(l=h.b).c===l?_(l.a,null):(l.a.c=l.c,g(l,K(l))),w(h)),h!==o;);o=c.d,((c=c.b).d=o).b=c}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Y,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Y.prototype.gluDeleteTess=Y.prototype.x,Y.prototype.gluTessProperty=Y.prototype.B,Y.prototype.gluGetTessProperty=Y.prototype.y,Y.prototype.gluTessNormal=Y.prototype.A,Y.prototype.gluTessCallback=Y.prototype.z,Y.prototype.gluTessVertex=Y.prototype.C,Y.prototype.gluTessBeginPolygon=Y.prototype.u,Y.prototype.gluTessBeginContour=Y.prototype.t,Y.prototype.gluTessEndContour=Y.prototype.v,Y.prototype.gluTessEndPolygon=Y.prototype.w,void 0!==e&&(e.exports=this.libtess)},{}],235:[function(t,e,i){"use strict";function r(t,e,i,r){for(var n=t[e++],s=1<<n,o=1+s,a=1+o,l=n+1,u=(1<<l)-1,h=0,c=0,d=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;h<16&&0!==f;)c|=t[e++]<<h,h+=8,1===f?f=t[e++]:--f;if(h<l)break;var v=c&u;if(c>>=l,h-=l,v!=s){if(v==o)break;for(var y=v<a?v:m,g=0,x=y;s<x;)x=p[x]>>8,++g;var b=x;if(r<d+g+(y!==v?1:0))return void console.log("Warning, gif stream longer than expected.");i[d++]=b;var w=d+=g;for(y!==v&&(i[d++]=b),x=y;g--;)x=p[x],i[--w]=255&x,x>>=8;null!==m&&a<4096&&(p[a++]=m<<8|b,u+1<=a&&l<12&&(++l,u=u<<1|1)),m=v}else a=1+o,u=(1<<(l=n+1))-1,m=null}return d!==r&&console.log("Warning, gif stream shorter than expected."),i}try{i.GifWriter=function(t,e,i,r){var n=0,s=void 0===(r=void 0===r?{}:r).loop?null:r.loop,o=void 0===r.palette?null:r.palette;if(e<=0||i<=0||65535<e||65535<i)throw new Error("Width/Height invalid.");function a(t){var e=t.length;if(e<2||256<e||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[n++]=71,t[n++]=73,t[n++]=70,t[n++]=56,t[n++]=57,t[n++]=97;var l=0,u=0;if(null!==o){for(var h=a(o);h>>=1;)++l;if(h=1<<l,--l,void 0!==r.background){if(h<=(u=r.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&i,t[n++]=i>>8&255,t[n++]=(null!==o?128:0)|l,t[n++]=u,t[n++]=0,null!==o)for(var c=0,d=o.length;c<d;++c){var f=o[c];t[n++]=f>>16&255,t[n++]=f>>8&255,t[n++]=255&f}if(null!==s){if(s<0||65535<s)throw new Error("Loop count invalid.");t[n++]=33,t[n++]=255,t[n++]=11,t[n++]=78,t[n++]=69,t[n++]=84,t[n++]=83,t[n++]=67,t[n++]=65,t[n++]=80,t[n++]=69,t[n++]=50,t[n++]=46,t[n++]=48,t[n++]=3,t[n++]=1,t[n++]=255&s,t[n++]=s>>8&255,t[n++]=0}var p=!1;this.addFrame=function(e,i,r,s,l,u){if(!0===p&&(--n,p=!1),u=void 0===u?{}:u,e<0||i<0||65535<e||65535<i)throw new Error("x/y invalid.");if(r<=0||s<=0||65535<r||65535<s)throw new Error("Width/Height invalid.");if(l.length<r*s)throw new Error("Not enough pixels for the frame size.");var h=!0,c=u.palette;if(null==c&&(h=!1,c=o),null==c)throw new Error("Must supply either a local or global palette.");for(var d=a(c),f=0;d>>=1;)++f;d=1<<f;var m=void 0===u.delay?0:u.delay,v=void 0===u.disposal?0:u.disposal;if(v<0||3<v)throw new Error("Disposal out of range.");var y=!1,g=0;if(void 0!==u.transparent&&null!==u.transparent&&(y=!0,(g=u.transparent)<0||d<=g))throw new Error("Transparent color index.");if(0===v&&!y&&0===m||(t[n++]=33,t[n++]=249,t[n++]=4,t[n++]=v<<2|(!0===y?1:0),t[n++]=255&m,t[n++]=m>>8&255,t[n++]=g,t[n++]=0),t[n++]=44,t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&i,t[n++]=i>>8&255,t[n++]=255&r,t[n++]=r>>8&255,t[n++]=255&s,t[n++]=s>>8&255,t[n++]=!0===h?128|f-1:0,!0===h)for(var x=0,b=c.length;x<b;++x){var w=c[x];t[n++]=w>>16&255,t[n++]=w>>8&255,t[n++]=255&w}return n=function(t,e,i,r){t[e++]=i;var n=e++,s=1<<i,o=s-1,a=1+s,l=1+a,u=i+1,h=0,c=0;function d(i){for(;i<=h;)t[e++]=255&c,c>>=8,h-=8,e===n+256&&(t[n]=255,n=e++)}function f(t){c|=t<<h,h+=u,d(8)}var p=r[0]&o,m={};f(s);for(var v=1,y=r.length;v<y;++v){var g=r[v]&o,x=p<<8|g,b=m[x];if(void 0===b){for(c|=p<<h,h+=u;8<=h;)t[e++]=255&c,c>>=8,h-=8,e===n+256&&(t[n]=255,n=e++);4096===l?(f(s),l=1+a,u=i+1,m={}):(1<<u<=l&&++u,m[x]=l++),p=g}else p=b}return f(p),f(a),d(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}(t,n,f<2?2:f,l)},this.end=function(){return!1===p&&(t[n++]=59,p=!0),n},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(t){n=t}},i.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,a=1<<1+(7&s);t[e++],t[e++];var l=null,u=null;o&&(l=e,e+=3*(u=a));var h=!0,c=[],d=0,f=null,p=0,m=null;for(this.width=i,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!(0<=(M=t[e++])))throw Error("Invalid block size");if(0===M)break;e+=M}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var v=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],0==(1&v)&&(f=null),p=v>>2&7,e++;break;case 254:for(;;){if(!(0<=(M=t[e++])))throw Error("Invalid block size");if(0===M)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],_=w>>6&1,S=l,A=u,T=!1;w>>7&&(T=!0,S=e,e+=3*(A=1<<1+(7&w)));var E=e;for(e++;;){var M;if(!(0<=(M=t[e++])))throw Error("Invalid block size");if(0===M)break;e+=M}c.push({x:y,y:g,width:x,height:b,has_local_palette:T,palette_offset:S,palette_size:A,data_offset:E,data_length:e-E,transparent_index:f,interlaced:!!_,delay:d,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return m},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,n){var s=this.frameInfo(e),o=s.width*s.height,a=new Uint8Array(o);r(t,s.data_offset,a,o);var l=s.palette_offset,u=s.transparent_index;null===u&&(u=256);var h=s.width,c=i-h,d=h,f=4*(s.y*i+s.x),p=4*((s.y+s.height)*i+s.x),m=f,v=4*c;!0===s.interlaced&&(v+=4*i*7);for(var y=8,g=0,x=a.length;g<x;++g){var b=a[g];if(0===d&&(d=h,p<=(m+=v)&&(v=4*c+4*i*(y-1),m=f+(h+c)*(y<<1),y>>=1)),b===u)m+=4;else{var w=t[l+3*b],_=t[l+3*b+1],S=t[l+3*b+2];n[m++]=S,n[m++]=_,n[m++]=w,n[m++]=255}--d}},this.decodeAndBlitFrameRGBA=function(e,n){var s=this.frameInfo(e),o=s.width*s.height,a=new Uint8Array(o);r(t,s.data_offset,a,o);var l=s.palette_offset,u=s.transparent_index;null===u&&(u=256);var h=s.width,c=i-h,d=h,f=4*(s.y*i+s.x),p=4*((s.y+s.height)*i+s.x),m=f,v=4*c;!0===s.interlaced&&(v+=4*i*7);for(var y=8,g=0,x=a.length;g<x;++g){var b=a[g];if(0===d&&(d=h,p<=(m+=v)&&(v=4*c+4*i*(y-1),m=f+(h+c)*(y<<1),y>>=1)),b===u)m+=4;else{var w=t[l+3*b],_=t[l+3*b+1],S=t[l+3*b+2];n[m++]=w,n[m++]=_,n[m++]=S,n[m++]=255}--d}}}}catch(t){}},{}],236:[function(t,e,i){(function(r){!function(e){"use strict";function i(t){if(null==this)throw TypeError();var e=String(this),i=e.length,r=t?Number(t):0;if(r!=r&&(r=0),!(r<0||i<=r)){var n,s=e.charCodeAt(r);return 55296<=s&&s<=56319&&r+1<i&&56320<=(n=e.charCodeAt(r+1))&&n<=57343?1024*(s-55296)+n-56320+65536:s}}var n;function s(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function o(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new s,this.dtree=new s}String.prototype.codePointAt||((n=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}())?n(String.prototype,"codePointAt",{value:i,configurable:!0,writable:!0}):String.prototype.codePointAt=i);var a=new s,l=new s,u=new Uint8Array(30),h=new Uint16Array(30),c=new Uint8Array(30),d=new Uint16Array(30),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new s,m=new Uint8Array(320);function v(t,e,i,r){var n,s;for(n=0;n<i;++n)t[n]=0;for(n=0;n<30-i;++n)t[n+i]=n/i|0;for(s=r,n=0;n<30;++n)e[n]=s,s+=1<<t[n]}var y=new Uint16Array(16);function g(t,e,i,r){var n,s;for(n=0;n<16;++n)t.table[n]=0;for(n=0;n<r;++n)t.table[e[i+n]]++;for(n=s=t.table[0]=0;n<16;++n)y[n]=s,s+=t.table[n];for(n=0;n<r;++n)e[i+n]&&(t.trans[y[e[i+n]]++]=n)}function x(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function b(t,e,i){if(!e)return i;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+i}function w(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;for(var i=0,r=0,n=0,s=t.tag;r=2*r+(1&s),s>>>=1,++n,i+=e.table[n],0<=(r-=e.table[n]););return t.tag=s,t.bitcount-=n,e.trans[i+r]}function _(t,e,i){var r,n,s,o,a,l;for(r=b(t,5,257),n=b(t,5,1),s=b(t,4,4),o=0;o<19;++o)m[o]=0;for(o=0;o<s;++o){var u=b(t,3,0);m[f[o]]=u}for(g(p,m,0,19),a=0;a<r+n;){var h=w(t,p);switch(h){case 16:var c=m[a-1];for(l=b(t,2,3);l;--l)m[a++]=c;break;case 17:for(l=b(t,3,3);l;--l)m[a++]=0;break;case 18:for(l=b(t,7,11);l;--l)m[a++]=0;break;default:m[a++]=h}}g(e,m,0,r),g(i,m,r,n)}function S(t,e,i){for(;;){var r,n,s,o,a=w(t,e);if(256===a)return 0;if(a<256)t.dest[t.destLen++]=a;else for(r=b(t,u[a-=257],h[a]),n=w(t,i),o=s=t.destLen-b(t,c[n],d[n]);o<s+r;++o)t.dest[t.destLen++]=t.dest[o]}}function A(t){for(var e,i;8<t.bitcount;)t.sourceIndex--,t.bitcount-=8;if((e=256*(e=t.source[t.sourceIndex+1])+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return-3;for(t.sourceIndex+=4,i=e;i;--i)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,0}function T(t,e,i,r,n){return Math.pow(1-n,3)*t+3*Math.pow(1-n,2)*n*e+3*(1-n)*Math.pow(n,2)*i+Math.pow(n,3)*r}function E(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function M(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function C(t){throw new Error(t)}function P(t,e){t||C(e)}!function(t,e){var i;for(i=0;i<7;++i)t.table[i]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,i=0;i<24;++i)t.trans[i]=256+i;for(i=0;i<144;++i)t.trans[24+i]=i;for(i=0;i<8;++i)t.trans[168+i]=280+i;for(i=0;i<112;++i)t.trans[176+i]=144+i;for(i=0;i<5;++i)e.table[i]=0;for(e.table[5]=32,i=0;i<32;++i)e.trans[i]=i}(a,l),v(u,h,4,3),v(c,d,2,1),u[28]=0,h[28]=258,E.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},E.prototype.addPoint=function(t,e){"number"==typeof t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),"number"==typeof e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},E.prototype.addX=function(t){this.addPoint(t,null)},E.prototype.addY=function(t){this.addPoint(null,t)},E.prototype.addBezier=function(t,e,i,r,n,s,o,a){var l=[t,e],u=[i,r],h=[n,s],c=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var d=0;d<=1;d++){var f=6*l[d]-12*u[d]+6*h[d],p=-3*l[d]+9*u[d]-9*h[d]+3*c[d],m=3*u[d]-3*l[d];if(0!=p){var v=Math.pow(f,2)-4*m*p;if(!(v<0)){var y=(-f+Math.sqrt(v))/(2*p);0<y&&y<1&&(0===d&&this.addX(T(l[d],u[d],h[d],c[d],y)),1===d&&this.addY(T(l[d],u[d],h[d],c[d],y)));var g=(-f-Math.sqrt(v))/(2*p);0<g&&g<1&&(0===d&&this.addX(T(l[d],u[d],h[d],c[d],g)),1===d&&this.addY(T(l[d],u[d],h[d],c[d],g)))}}else{if(0==f)continue;var x=-m/f;0<x&&x<1&&(0===d&&this.addX(T(l[d],u[d],h[d],c[d],x)),1===d&&this.addY(T(l[d],u[d],h[d],c[d],x)))}}},E.prototype.addQuad=function(t,e,i,r,n,s){var o=t+2/3*(i-t),a=e+2/3*(r-e),l=o+1/3*(n-t),u=a+1/3*(s-e);this.addBezier(t,e,o,a,l,u,n,s)},M.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})},M.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})},M.prototype.curveTo=M.prototype.bezierCurveTo=function(t,e,i,r,n,s){this.commands.push({type:"C",x1:t,y1:e,x2:i,y2:r,x:n,y:s})},M.prototype.quadTo=M.prototype.quadraticCurveTo=function(t,e,i,r){this.commands.push({type:"Q",x1:t,y1:e,x:i,y:r})},M.prototype.close=M.prototype.closePath=function(){this.commands.push({type:"Z"})},M.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof E){var e=t;return this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),void this.close()}Array.prototype.push.apply(this.commands,t)},M.prototype.getBoundingBox=function(){for(var t=new E,e=0,i=0,r=0,n=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=r=o.x,i=n=o.y;break;case"L":t.addPoint(o.x,o.y),r=o.x,n=o.y;break;case"Q":t.addQuad(r,n,o.x1,o.y1,o.x,o.y),r=o.x,n=o.y;break;case"C":t.addBezier(r,n,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,n=o.y;break;case"Z":r=e,n=i;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t},M.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var i=this.commands[e];"M"===i.type?t.moveTo(i.x,i.y):"L"===i.type?t.lineTo(i.x,i.y):"C"===i.type?t.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?t.quadraticCurveTo(i.x1,i.y1,i.x,i.y):"Z"===i.type&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())},M.prototype.toPathData=function(t){function e(){for(var e,i=arguments,r="",n=0;n<arguments.length;n+=1){var s=i[n];0<=s&&0<n&&(r+=" "),r+=(e=s,Math.round(e)===e?""+Math.round(e):e.toFixed(t))}return r}t=void 0!==t?t:2;for(var i="",r=0;r<this.commands.length;r+=1){var n=this.commands[r];"M"===n.type?i+="M"+e(n.x,n.y):"L"===n.type?i+="L"+e(n.x,n.y):"C"===n.type?i+="C"+e(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?i+="Q"+e(n.x1,n.y1,n.x,n.y):"Z"===n.type&&(i+="Z")}return i},M.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&"black"!==this.fill&&(null===this.fill?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+"/>"},M.prototype.toDOMElement=function(t){var e=this.toPathData(t),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),i};var R={fail:C,argument:P,assert:P},k={},L={},O={};function D(t){return function(){return t}}L.BYTE=function(t){return R.argument(0<=t&&t<=255,"Byte value should be between 0 and 255."),[t]},O.BYTE=D(1),L.CHAR=function(t){return[t.charCodeAt(0)]},O.CHAR=D(1),L.CHARARRAY=function(t){for(var e=[],i=0;i<t.length;i+=1)e[i]=t.charCodeAt(i);return e},O.CHARARRAY=function(t){return t.length},L.USHORT=function(t){return[t>>8&255,255&t]},O.USHORT=D(2),L.SHORT=function(t){return 32768<=t&&(t=-(65536-t)),[t>>8&255,255&t]},O.SHORT=D(2),L.UINT24=function(t){return[t>>16&255,t>>8&255,255&t]},O.UINT24=D(3),L.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},O.ULONG=D(4),L.LONG=function(t){return 2147483648<=t&&(t=-(4294967296-t)),[t>>24&255,t>>16&255,t>>8&255,255&t]},O.LONG=D(4),L.FIXED=L.ULONG,O.FIXED=O.ULONG,L.FWORD=L.SHORT,O.FWORD=O.SHORT,L.UFWORD=L.USHORT,O.UFWORD=O.USHORT,L.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t]},O.LONGDATETIME=D(8),L.TAG=function(t){return R.argument(4===t.length,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]},O.TAG=D(4),L.Card8=L.BYTE,O.Card8=O.BYTE,L.Card16=L.USHORT,O.Card16=O.USHORT,L.OffSize=L.BYTE,O.OffSize=O.BYTE,L.SID=L.USHORT,O.SID=O.USHORT,L.NUMBER=function(t){return-107<=t&&t<=107?[t+139]:108<=t&&t<=1131?[247+((t-=108)>>8),255&t]:-1131<=t&&t<=-108?[251+((t=-t-108)>>8),255&t]:-32768<=t&&t<=32767?L.NUMBER16(t):L.NUMBER32(t)},O.NUMBER=function(t){return L.NUMBER(t).length},L.NUMBER16=function(t){return[28,t>>8&255,255&t]},O.NUMBER16=D(3),L.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,255&t]},O.NUMBER32=D(5),L.REAL=function(t){var e=t.toString(),i=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(i){var r=parseFloat("1e"+((i[2]?+i[2]:0)+i[1].length));e=(Math.round(t*r)/r).toString()}for(var n="",s=0,o=e.length;s<o;s+=1){var a=e[s];n+="e"===a?"-"===e[++s]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var l=[30],u=0,h=(n+=1&n.length?"f":"ff").length;u<h;u+=2)l.push(parseInt(n.substr(u,2),16));return l},O.REAL=function(t){return L.REAL(t).length},L.NAME=L.CHARARRAY,O.NAME=O.CHARARRAY,L.STRING=L.CHARARRAY,O.STRING=O.CHARARRAY,k.UTF8=function(t,e,i){for(var r=[],n=i,s=0;s<n;s++,e+=1)r[s]=t.getUint8(e);return String.fromCharCode.apply(null,r)},k.UTF16=function(t,e,i){for(var r=[],n=i/2,s=0;s<n;s++,e+=2)r[s]=t.getUint16(e);return String.fromCharCode.apply(null,r)},L.UTF16=function(t){for(var e=[],i=0;i<t.length;i+=1){var r=t.charCodeAt(i);e[e.length]=r>>8&255,e[e.length]=255&r}return e},O.UTF16=function(t){return 2*t.length};var I={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};k.MACSTRING=function(t,e,i,r){var n=I[r];if(void 0!==n){for(var s="",o=0;o<i;o++){var a=t.getUint8(e+o);s+=a<=127?String.fromCharCode(a):n[127&a]}return s}};var F,j="function"==typeof WeakMap&&new WeakMap;function B(t){return-128<=t&&t<=127}function N(t,e,i){for(var r=0,n=t.length;e<n&&r<64&&0===t[e];)++e,++r;return i.push(128|r-1),e}function U(t,e,i){for(var r=0,n=t.length,s=e;s<n&&r<64;){var o=t[s];if(!B(o))break;if(0===o&&s+1<n&&0===t[s+1])break;++s,++r}i.push(r-1);for(var a=e;a<s;++a)i.push(t[a]+256&255);return s}function z(t,e,i){for(var r=0,n=t.length,s=e;s<n&&r<64;){var o=t[s];if(0===o)break;if(B(o)&&s+1<n&&B(t[s+1]))break;++s,++r}i.push(64|r-1);for(var a=e;a<s;++a){var l=t[a];i.push(l+65536>>8&255,l+256&255)}return s}L.MACSTRING=function(t,e){var i=function(t){if(!F)for(var e in F={},I)F[e]=new String(e);var i=F[t];if(void 0!==i){if(j){var r=j.get(i);if(void 0!==r)return r}var n=I[t];if(void 0!==n){for(var s={},o=0;o<n.length;o++)s[n.charCodeAt(o)]=o+128;return j&&j.set(i,s),s}}}(e);if(void 0!==i){for(var r=[],n=0;n<t.length;n++){var s=t.charCodeAt(n);if(128<=s&&void 0===(s=i[s]))return;r[n]=s}return r}},O.MACSTRING=function(t,e){var i=L.MACSTRING(t,e);return void 0!==i?i.length:0},L.VARDELTAS=function(t){for(var e=0,i=[];e<t.length;){var r=t[e];e=0===r?N(t,e,i):-128<=r&&r<=127?U(t,e,i):z(t,e,i)}return i},L.INDEX=function(t){for(var e=1,i=[e],r=[],n=0;n<t.length;n+=1){var s=L.OBJECT(t[n]);Array.prototype.push.apply(r,s),e+=s.length,i.push(e)}if(0===r.length)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,L.BYTE,L.USHORT,L.UINT24,L.ULONG][a],u=0;u<i.length;u+=1){var h=l(i[u]);Array.prototype.push.apply(o,h)}return Array.prototype.concat(L.Card16(t.length),L.OffSize(a),o,r)},O.INDEX=function(t){return L.INDEX(t).length},L.DICT=function(t){for(var e=[],i=Object.keys(t),r=i.length,n=0;n<r;n+=1){var s=parseInt(i[n],0),o=t[s];e=(e=e.concat(L.OPERAND(o.value,o.type))).concat(L.OPERATOR(s))}return e},O.DICT=function(t){return L.DICT(t).length},L.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]},L.OPERAND=function(t,e){var i=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)R.argument(t.length===e.length,"Not enough arguments given for type"+e),i=i.concat(L.OPERAND(t[r],e[r]));else if("SID"===e)i=i.concat(L.NUMBER(t));else if("offset"===e)i=i.concat(L.NUMBER32(t));else if("number"===e)i=i.concat(L.NUMBER(t));else{if("real"!==e)throw new Error("Unknown operand type "+e);i=i.concat(L.REAL(t))}return i},L.OP=L.BYTE,O.OP=O.BYTE;var G="function"==typeof WeakMap&&new WeakMap;function V(t,e,i){for(var r=0;r<e.length;r+=1){var n=e[r];this[n.name]=n.value}if(this.tableName=t,this.fields=e,i)for(var s=Object.keys(i),o=0;o<s.length;o+=1){var a=s[o],l=i[a];void 0!==this[a]&&(this[a]=l)}}function H(t,e,i){void 0===i&&(i=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:i};for(var n=0;n<e.length;n++)r[n+1]={name:t+n,type:"USHORT",value:e[n]};return r}function W(t,e,i){var r=e.length,n=new Array(r+1);n[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)n[s+1]={name:t+s,type:"TABLE",value:i(e[s],s)};return n}function Y(t,e,i){var r=e.length,n=[];n[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)n=n.concat(i(e[s],s));return n}function X(t){1===t.format?V.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(H("glyph",t.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function Z(t){V.call(this,"scriptListTable",Y("scriptRecord",t,(function(t,e){var i=t.script,r=i.defaultLangSys;return R.assert(!!r,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+e,type:"TAG",value:t.tag},{name:"script"+e,type:"TABLE",value:new V("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new V("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(H("featureIndex",r.featureIndexes)))}].concat(Y("langSys",i.langSysRecords,(function(t,e){var i=t.langSys;return[{name:"langSysTag"+e,type:"TAG",value:t.tag},{name:"langSys"+e,type:"TABLE",value:new V("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(H("featureIndex",i.featureIndexes)))}]}))))}]})))}function q(t){V.call(this,"featureListTable",Y("featureRecord",t,(function(t,e){var i=t.feature;return[{name:"featureTag"+e,type:"TAG",value:t.tag},{name:"feature"+e,type:"TABLE",value:new V("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat(H("lookupListIndex",i.lookupListIndexes)))}]})))}function Q(t,e){V.call(this,"lookupListTable",W("lookup",t,(function(t){var i=e[t.lookupType];return R.assert(!!i,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new V("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(W("subtable",t.subtables,i)))})))}L.CHARSTRING=function(t){if(G){var e=G.get(t);if(void 0!==e)return e}for(var i=[],r=t.length,n=0;n<r;n+=1){var s=t[n];i=i.concat(L[s.type](s.value))}return G&&G.set(t,i),i},O.CHARSTRING=function(t){return L.CHARSTRING(t).length},L.OBJECT=function(t){var e=L[t.type];return R.argument(void 0!==e,"No encoding function for type "+t.type),e(t.value)},O.OBJECT=function(t){var e=O[t.type];return R.argument(void 0!==e,"No sizeOf function for type "+t.type),e(t.value)},L.TABLE=function(t){for(var e=[],i=t.fields.length,r=[],n=[],s=0;s<i;s+=1){var o=t.fields[s],a=L[o.type];R.argument(void 0!==a,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];void 0===l&&(l=o.value);var u=a(l);"TABLE"===o.type?(n.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var h=0;h<r.length;h+=1){var c=n[h],d=e.length;R.argument(d<65536,"Table "+t.tableName+" too big."),e[c]=d>>8,e[c+1]=255&d,e=e.concat(r[h])}return e},O.TABLE=function(t){for(var e=0,i=t.fields.length,r=0;r<i;r+=1){var n=t.fields[r],s=O[n.type];R.argument(void 0!==s,"No sizeOf function for field type "+n.type+" ("+n.name+")");var o=t[n.name];void 0===o&&(o=n.value),e+=s(o),"TABLE"===n.type&&(e+=2)}return e},L.RECORD=L.TABLE,O.RECORD=O.TABLE,L.LITERAL=function(t){return t},O.LITERAL=function(t){return t.length},V.prototype.encode=function(){return L.TABLE(this)},V.prototype.sizeOf=function(){return O.TABLE(this)};var K={Table:V,Record:V,Coverage:(X.prototype=Object.create(V.prototype)).constructor=X,ScriptList:(Z.prototype=Object.create(V.prototype)).constructor=Z,FeatureList:(q.prototype=Object.create(V.prototype)).constructor=q,LookupList:(Q.prototype=Object.create(V.prototype)).constructor=Q,ushortList:H,tableList:W,recordList:Y};function J(t,e){return t.getUint8(e)}function $(t,e){return t.getUint16(e,!1)}function tt(t,e){return t.getUint32(e,!1)}function et(t,e){return t.getInt16(e,!1)+t.getUint16(e+2,!1)/65535}var it={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function rt(t,e){this.data=t,this.offset=e,this.relativeOffset=0}rt.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},rt.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},rt.prototype.parseCard8=rt.prototype.parseByte,rt.prototype.parseCard16=rt.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},rt.prototype.parseSID=rt.prototype.parseUShort,rt.prototype.parseOffset16=rt.prototype.parseUShort,rt.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},rt.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t},rt.prototype.parseOffset32=rt.prototype.parseULong=function(){var t=tt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},rt.prototype.parseFixed=function(){var t=et(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},rt.prototype.parseString=function(t){var e=this.data,i=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var n=0;n<t;n++)r+=String.fromCharCode(e.getUint8(i+n));return r},rt.prototype.parseTag=function(){return this.parseString(4)},rt.prototype.parseLongDateTime=function(){var t=tt(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t},rt.prototype.parseVersion=function(t){var e=$(this.data,this.offset+this.relativeOffset),i=$(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===t&&(t=4096),e+i/t/10},rt.prototype.skip=function(t,e){void 0===e&&(e=1),this.relativeOffset+=it[t]*e},rt.prototype.parseULongList=function(t){void 0===t&&(t=this.parseULong());for(var e=new Array(t),i=this.data,r=this.offset+this.relativeOffset,n=0;n<t;n++)e[n]=i.getUint32(r),r+=4;return this.relativeOffset+=4*t,e},rt.prototype.parseOffset16List=rt.prototype.parseUShortList=function(t){void 0===t&&(t=this.parseUShort());for(var e=new Array(t),i=this.data,r=this.offset+this.relativeOffset,n=0;n<t;n++)e[n]=i.getUint16(r),r+=2;return this.relativeOffset+=2*t,e},rt.prototype.parseShortList=function(t){for(var e=new Array(t),i=this.data,r=this.offset+this.relativeOffset,n=0;n<t;n++)e[n]=i.getInt16(r),r+=2;return this.relativeOffset+=2*t,e},rt.prototype.parseByteList=function(t){for(var e=new Array(t),i=this.data,r=this.offset+this.relativeOffset,n=0;n<t;n++)e[n]=i.getUint8(r++);return this.relativeOffset+=t,e},rt.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var i=new Array(t),r=0;r<t;r++)i[r]=e.call(this);return i},rt.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var i=new Array(t),r=0;r<t;r++)i[r]=e.call(this);return i},rt.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var i=new Array(t),r=Object.keys(e),n=0;n<t;n++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}i[n]=s}return i},rt.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var i=new Array(t),r=Object.keys(e),n=0;n<t;n++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}i[n]=s}return i},rt.prototype.parseStruct=function(t){if("function"==typeof t)return t.call(this);for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var n=e[r],s=t[n];i[n]=s.call(this)}return i},rt.prototype.parseValueRecord=function(t){if(void 0===t&&(t=this.parseUShort()),0!==t){var e={};return 1&t&&(e.xPlacement=this.parseShort()),2&t&&(e.yPlacement=this.parseShort()),4&t&&(e.xAdvance=this.parseShort()),8&t&&(e.yAdvance=this.parseShort()),16&t&&(e.xPlaDevice=void 0,this.parseShort()),32&t&&(e.yPlaDevice=void 0,this.parseShort()),64&t&&(e.xAdvDevice=void 0,this.parseShort()),128&t&&(e.yAdvDevice=void 0,this.parseShort()),e}},rt.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),i=new Array(e),r=0;r<e;r++)i[r]=this.parseValueRecord(t);return i},rt.prototype.parsePointer=function(t){var e=this.parseOffset16();if(0<e)return new rt(this.data,this.offset+e).parseStruct(t)},rt.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(0<e)return new rt(this.data,this.offset+e).parseStruct(t)},rt.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),i=e.length,r=this.relativeOffset,n=new Array(i),s=0;s<i;s++){var o=e[s];if(0!==o)if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=o+a[u],l[u]=t.call(this);n[s]=l}else n[s]=this.parseUShortList();else n[s]=void 0}return this.relativeOffset=r,n},rt.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),i=this.parseUShort();if(1===e)return{format:1,glyphs:this.parseUShortList(i)};if(2!==e)throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.");for(var r=new Array(i),n=0;n<i;n++)r[n]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}},rt.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===e)return{format:2,ranges:this.parseRecordList({start:rt.uShort,end:rt.uShort,classId:rt.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")},rt.list=function(t,e){return function(){return this.parseList(t,e)}},rt.list32=function(t,e){return function(){return this.parseList32(t,e)}},rt.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}},rt.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}},rt.pointer=function(t){return function(){return this.parsePointer(t)}},rt.pointer32=function(t){return function(){return this.parsePointer32(t)}},rt.tag=rt.prototype.parseTag,rt.byte=rt.prototype.parseByte,rt.uShort=rt.offset16=rt.prototype.parseUShort,rt.uShortList=rt.prototype.parseUShortList,rt.uLong=rt.offset32=rt.prototype.parseULong,rt.uLongList=rt.prototype.parseULongList,rt.struct=rt.prototype.parseStruct,rt.coverage=rt.prototype.parseCoverage,rt.classDef=rt.prototype.parseClassDef;var nt={reserved:rt.uShort,reqFeatureIndex:rt.uShort,featureIndexes:rt.uShortList};rt.prototype.parseScriptList=function(){return this.parsePointer(rt.recordList({tag:rt.tag,script:rt.pointer({defaultLangSys:rt.pointer(nt),langSysRecords:rt.recordList({tag:rt.tag,langSys:rt.pointer(nt)})})}))||[]},rt.prototype.parseFeatureList=function(){return this.parsePointer(rt.recordList({tag:rt.tag,feature:rt.pointer({featureParams:rt.offset16,lookupListIndexes:rt.uShortList})}))||[]},rt.prototype.parseLookupList=function(t){return this.parsePointer(rt.list(rt.pointer((function(){var e=this.parseUShort();R.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var i=this.parseUShort(),r=16&i;return{lookupType:e,lookupFlag:i,subtables:this.parseList(rt.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},rt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var t=this.parseUShort(),e=this.parseUShort();return R.argument(1===t&&e<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:rt.offset32,featureTableSubstitutionOffset:rt.offset32})}))||[]};var st={getByte:J,getCard8:J,getUShort:$,getCard16:$,getShort:function(t,e){return t.getInt16(e,!1)},getULong:tt,getFixed:et,getTag:function(t,e){for(var i="",r=e;r<e+4;r+=1)i+=String.fromCharCode(t.getInt8(r));return i},getOffset:function(t,e,i){for(var r=0,n=0;n<i;n+=1)r<<=8,r+=t.getUint8(e+n);return r},getBytes:function(t,e,i){for(var r=[],n=e;n<i;n+=1)r.push(t.getUint8(n));return r},bytesToString:function(t){for(var e="",i=0;i<t.length;i+=1)e+=String.fromCharCode(t[i]);return e},Parser:rt},ot=function(t,e){var i={};i.version=st.getUShort(t,e),R.argument(0===i.version,"cmap table version should be 0."),i.numTables=st.getUShort(t,e+2);for(var r=-1,n=i.numTables-1;0<=n;--n){var s=st.getUShort(t,e+4+8*n),o=st.getUShort(t,e+4+8*n+2);if(3===s&&(0===o||1===o||10===o)||0===s&&(0===o||1===o||2===o||3===o||4===o)){r=st.getULong(t,e+4+8*n+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var a=new st.Parser(t,e+r);if(i.format=a.parseUShort(),12===i.format)!function(t,e){var i;e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong(),t.groupCount=i=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<i;r+=1)for(var n=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=n;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}(i,a);else{if(4!==i.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+i.format+").");!function(t,e,i,r,n){var s;t.length=e.parseUShort(),t.language=e.parseUShort(),t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new st.Parser(i,r+n+14),a=new st.Parser(i,r+n+16+2*s),l=new st.Parser(i,r+n+16+4*s),u=new st.Parser(i,r+n+16+6*s),h=r+n+16+8*s,c=0;c<s-1;c+=1)for(var d=void 0,f=o.parseUShort(),p=a.parseUShort(),m=l.parseShort(),v=u.parseUShort(),y=p;y<=f;y+=1)0!==v?(h=u.offset+u.relativeOffset-2,h+=v,h+=2*(y-p),0!==(d=st.getUShort(i,h))&&(d=d+m&65535)):d=y+m&65535,t.glyphIndexMap[y]=d}(i,a,t,e,r)}return i},at=function(t){var e,i=!0;for(e=t.length-1;0<e;--e)if(65535<t.get(e).unicode){console.log("Adding CMAP format 12 (needed!)"),i=!1;break}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:i?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:i?12:20}];i||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var n,s,o,a=new K.Table("cmap",r);for(a.segments=[],e=0;e<t.length;e+=1){for(var l=t.get(e),u=0;u<l.unicodes.length;u+=1)n=a,s=l.unicodes[u],o=e,n.segments.push({end:s,start:s,delta:-(s-o),offset:0,glyphIndex:o});a.segments=a.segments.sort((function(t,e){return t.start-e.start}))}a.segments.push({end:65535,start:65535,delta:1,offset:0});var h=a.segments.length,c=0,d=[],f=[],p=[],m=[],v=[],y=[];for(e=0;e<h;e+=1){var g=a.segments[e];g.end<=65535&&g.start<=65535?(d=d.concat({name:"end_"+e,type:"USHORT",value:g.end}),f=f.concat({name:"start_"+e,type:"USHORT",value:g.start}),p=p.concat({name:"idDelta_"+e,type:"SHORT",value:g.delta}),m=m.concat({name:"idRangeOffset_"+e,type:"USHORT",value:g.offset}),void 0!==g.glyphId&&(v=v.concat({name:"glyph_"+e,type:"USHORT",value:g.glyphId}))):c+=1,i||void 0===g.glyphIndex||(y=(y=(y=y.concat({name:"cmap12Start_"+e,type:"ULONG",value:g.start})).concat({name:"cmap12End_"+e,type:"ULONG",value:g.end})).concat({name:"cmap12Glyph_"+e,type:"ULONG",value:g.glyphIndex}))}if(a.segCountX2=2*(h-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(h-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(d),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(f),a.fields=a.fields.concat(p),a.fields=a.fields.concat(m),a.fields=a.fields.concat(v),a.cmap4Length=14+2*d.length+2+2*f.length+2*p.length+2*m.length+2*v.length,!i){var x=16+4*y.length;a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:x},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:y.length/3}]),a.fields=a.fields.concat(y)}return a},lt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ut=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ht=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ct=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function dt(t){this.font=t}function ft(t){this.cmap=t}function pt(t,e){this.encoding=t,this.charset=e}function mt(t){switch(t.version){case 1:this.names=ct.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<ct.length?this.names[e]=ct[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-ct.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var i=0;i<t.numberOfGlyphs;i++)this.names[i]=ct[i+t.glyphNameIndex[i]];break;default:this.names=[]}}dt.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),i=this.font.glyphs;if(i)for(var r=0;r<i.length;r+=1)for(var n=i.get(r),s=0;s<n.unicodes.length;s+=1)if(n.unicodes[s]===e)return r;return null},ft.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0},pt.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),i=this.encoding[e];return this.charset.indexOf(i)},mt.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)},mt.prototype.glyphIndexToName=function(t){return this.names[t]};var vt=function(t,e,i,r,n){t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.stroke()};function yt(t){this.bindConstructorValues(t)}function gt(t,e,i){Object.defineProperty(t,e,{get:function(){return t.path,t[i]},set:function(e){t[i]=e},enumerable:!0,configurable:!0})}function xt(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var i=0;i<e.length;i++)this.glyphs[i]=e[i];this.length=e&&e.length||0}yt.prototype.bindConstructorValues=function(t){var e,i;this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||void 0!==t.unicode?[t.unicode]:[],t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",(e=t.path,i=e||new M,{configurable:!0,get:function(){return"function"==typeof i&&(i=i()),i},set:function(t){i=t}}))},yt.prototype.addUnicode=function(t){0===this.unicodes.length&&(this.unicode=t),this.unicodes.push(t)},yt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},yt.prototype.getPath=function(t,e,i,r,n){var s,o;t=void 0!==t?t:0,e=void 0!==e?e:0,i=void 0!==i?i:72;var a=(r=r||{}).xScale,l=r.yScale;if(r.hinting&&n&&n.hinting&&(o=this.path&&n.hinting.exec(this,i)),o)s=n.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var u=1/this.path.unitsPerEm*i;void 0===a&&(a=u),void 0===l&&(l=u)}for(var h=new M,c=0;c<s.length;c+=1){var d=s[c];"M"===d.type?h.moveTo(t+d.x*a,e+-d.y*l):"L"===d.type?h.lineTo(t+d.x*a,e+-d.y*l):"Q"===d.type?h.quadraticCurveTo(t+d.x1*a,e+-d.y1*l,t+d.x*a,e+-d.y*l):"C"===d.type?h.curveTo(t+d.x1*a,e+-d.y1*l,t+d.x2*a,e+-d.y2*l,t+d.x*a,e+-d.y*l):"Z"===d.type&&h.closePath()}return h},yt.prototype.getContours=function(){if(void 0===this.points)return[];for(var t=[],e=[],i=0;i<this.points.length;i+=1){var r=this.points[i];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return R.argument(0===e.length,"There are still points left in the current contour."),t},yt.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],i=[],r=0;r<t.length;r+=1){var n=t[r];"Z"!==n.type&&(e.push(n.x),i.push(n.y)),"Q"!==n.type&&"C"!==n.type||(e.push(n.x1),i.push(n.y1)),"C"===n.type&&(e.push(n.x2),i.push(n.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,i),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s},yt.prototype.draw=function(t,e,i,r,n){this.getPath(e,i,r,n).draw(t)},yt.prototype.drawPoints=function(t,e,i,r){function n(e,i,r,n){var s=2*Math.PI;t.beginPath();for(var o=0;o<e.length;o+=1)t.moveTo(i+e[o].x*n,r+e[o].y*n),t.arc(i+e[o].x*n,r+e[o].y*n,2,0,s,!1);t.closePath(),t.fill()}e=void 0!==e?e:0,i=void 0!==i?i:0,r=void 0!==r?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var h=l.commands[u];void 0!==h.x&&o.push({x:h.x,y:-h.y}),void 0!==h.x1&&a.push({x:h.x1,y:-h.y1}),void 0!==h.x2&&a.push({x:h.x2,y:-h.y2})}t.fillStyle="blue",n(o,e,i,s),t.fillStyle="red",n(a,e,i,s)},yt.prototype.drawMetrics=function(t,e,i,r){var n;e=void 0!==e?e:0,i=void 0!==i?i:0,r=void 0!==r?r:24,n=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",vt(t,e,-1e4,e,1e4),vt(t,-1e4,i,1e4,i);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",vt(t,e+s*n,-1e4,e+s*n,1e4),vt(t,e+a*n,-1e4,e+a*n,1e4),vt(t,-1e4,i+-o*n,1e4,i+-o*n),vt(t,-1e4,i+-l*n,1e4,i+-l*n),t.strokeStyle="green",vt(t,e+u*n,-1e4,e+u*n,1e4)},xt.prototype.get=function(t){return"function"==typeof this.glyphs[t]&&(this.glyphs[t]=this.glyphs[t]()),this.glyphs[t]},xt.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};var bt={GlyphSet:xt,glyphLoader:function(t,e){return new yt({index:e,font:t})},ttfGlyphLoader:function(t,e,i,r,n,s){return function(){var o=new yt({index:e,font:t});return o.path=function(){i(o,r,n);var e=s(t.glyphs,o);return e.unitsPerEm=t.unitsPerEm,e},gt(o,"xMin","_xMin"),gt(o,"xMax","_xMax"),gt(o,"yMin","_yMin"),gt(o,"yMax","_yMax"),o}},cffGlyphLoader:function(t,e,i,r){return function(){var n=new yt({index:e,font:t});return n.path=function(){var e=i(t,n,r);return e.unitsPerEm=t.unitsPerEm,e},n}}};function wt(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i+=1)if(!wt(t[i],e[i]))return!1;return!0}return!1}function _t(t){return t.length<1240?107:t.length<33900?1131:32768}function St(t,e,i){var r,n,s=[],o=[],a=st.getCard16(t,e);if(0!==a){var l=st.getByte(t,e+2);r=e+(a+1)*l+2;for(var u=e+3,h=0;h<a+1;h+=1)s.push(st.getOffset(t,u,l)),u+=l;n=r+s[a]}else n=e+2;for(var c=0;c<s.length-1;c+=1){var d=st.getBytes(t,r+s[c],r+s[c+1]);i&&(d=i(d)),o.push(d)}return{objects:o,startOffset:e,endOffset:n}}function At(t,e){if(28===e)return t.parseByte()<<8|t.parseByte();if(29===e)return t.parseByte()<<24|t.parseByte()<<16|t.parseByte()<<8|t.parseByte();if(30===e)return function(t){for(var e="",i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=t.parseByte(),n=r>>4,s=15&r;if(15==n)break;if(e+=i[n],15==s)break;e+=i[s]}return parseFloat(e)}(t);if(32<=e&&e<=246)return e-139;if(247<=e&&e<=250)return 256*(e-247)+t.parseByte()+108;if(251<=e&&e<=254)return 256*-(e-251)-t.parseByte()-108;throw new Error("Invalid b0 "+e)}function Tt(t,e,i){e=void 0!==e?e:0;var r=new st.Parser(t,e),n=[],s=[];for(i=void 0!==i?i:t.length;r.relativeOffset<i;){var o=r.parseByte();o<=21?(12===o&&(o=1200+r.parseByte()),n.push([o,s]),s=[]):s.push(At(r,o))}return function(t){for(var e={},i=0;i<t.length;i+=1){var r,n=t[i][0],s=t[i][1];if(r=1===s.length?s[0]:s,e.hasOwnProperty(n)&&!isNaN(e[n]))throw new Error("Object "+e+" already has key "+n);e[n]=r}return e}(n)}function Et(t,e){return e<=390?lt[e]:t[e-391]}function Mt(t,e,i){for(var r,n={},s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)void 0===(r=void 0!==t[o.op]?t[o.op][l]:void 0)&&(r=void 0!==o.value&&void 0!==o.value[l]?o.value[l]:null),"SID"===o.type[l]&&(r=Et(i,r)),a[l]=r;n[o.name]=a}else void 0===(r=t[o.op])&&(r=void 0!==o.value?o.value:null),"SID"===o.type&&(r=Et(i,r)),n[o.name]=r}return n}var Ct=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Pt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Rt(t,e,i,r){return Mt(Tt(t,e,i),Pt,r)}function kt(t,e,i,r){for(var n,s,o=[],a=0;a<i.length;a+=1){var l=(s=r,Mt(Tt(n=new DataView(new Uint8Array(i[a]).buffer),0,n.byteLength),Ct,s));l._subrs=[],l._subrsBias=0;var u=l.private[0],h=l.private[1];if(0!==u&&0!==h){var c=Rt(t,h+e,u,r);if(l._defaultWidthX=c.defaultWidthX,l._nominalWidthX=c.nominalWidthX,0!==c.subrs){var d=St(t,h+c.subrs+e);l._subrs=d.objects,l._subrsBias=_t(l._subrs)}l._privateDict=c}o.push(l)}return o}function Lt(t,e,i){var r,n,s,o,a,l,u,h,c=new M,d=[],f=0,p=!1,m=!1,v=0,y=0;if(t.isCIDFont){var g=t.tables.cff.topDict._fdSelect[e.index],x=t.tables.cff.topDict._fdArray[g];a=x._subrs,l=x._subrsBias,u=x._defaultWidthX,h=x._nominalWidthX}else a=t.tables.cff.topDict._subrs,l=t.tables.cff.topDict._subrsBias,u=t.tables.cff.topDict._defaultWidthX,h=t.tables.cff.topDict._nominalWidthX;var b=u;function w(t,e){m&&c.closePath(),c.moveTo(t,e),m=!0}function _(){d.length%2==0||p||(b=d.shift()+h),f+=d.length>>1,d.length=0,p=!0}return function i(u){for(var g,x,S,A,T,E,M,C,P,R,k,L,O=0;O<u.length;){var D=u[O];switch(O+=1,D){case 1:case 3:case 18:case 23:_();break;case 4:1<d.length&&!p&&(b=d.shift()+h,p=!0),y+=d.pop(),w(v,y);break;case 5:for(;0<d.length;)v+=d.shift(),y+=d.shift(),c.lineTo(v,y);break;case 6:for(;0<d.length&&(v+=d.shift(),c.lineTo(v,y),0!==d.length);)y+=d.shift(),c.lineTo(v,y);break;case 7:for(;0<d.length&&(y+=d.shift(),c.lineTo(v,y),0!==d.length);)v+=d.shift(),c.lineTo(v,y);break;case 8:for(;0<d.length;)r=v+d.shift(),n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),v=s+d.shift(),y=o+d.shift(),c.curveTo(r,n,s,o,v,y);break;case 10:T=d.pop()+l,(E=a[T])&&i(E);break;case 11:return;case 12:switch(D=u[O],O+=1,D){case 35:r=v+d.shift(),n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),M=s+d.shift(),C=o+d.shift(),P=M+d.shift(),R=C+d.shift(),k=P+d.shift(),L=R+d.shift(),v=k+d.shift(),y=L+d.shift(),d.shift(),c.curveTo(r,n,s,o,M,C),c.curveTo(P,R,k,L,v,y);break;case 34:r=v+d.shift(),n=y,s=r+d.shift(),o=n+d.shift(),M=s+d.shift(),C=o,P=M+d.shift(),R=o,k=P+d.shift(),L=y,v=k+d.shift(),c.curveTo(r,n,s,o,M,C),c.curveTo(P,R,k,L,v,y);break;case 36:r=v+d.shift(),n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),M=s+d.shift(),C=o,P=M+d.shift(),R=o,k=P+d.shift(),L=R+d.shift(),v=k+d.shift(),c.curveTo(r,n,s,o,M,C),c.curveTo(P,R,k,L,v,y);break;case 37:r=v+d.shift(),n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),M=s+d.shift(),C=o+d.shift(),P=M+d.shift(),R=C+d.shift(),k=P+d.shift(),L=R+d.shift(),Math.abs(k-v)>Math.abs(L-y)?v=k+d.shift():y=L+d.shift(),c.curveTo(r,n,s,o,M,C),c.curveTo(P,R,k,L,v,y);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+D),d.length=0}break;case 14:0<d.length&&!p&&(b=d.shift()+h,p=!0),m&&(c.closePath(),m=!1);break;case 19:case 20:_(),O+=f+7>>3;break;case 21:2<d.length&&!p&&(b=d.shift()+h,p=!0),y+=d.pop(),w(v+=d.pop(),y);break;case 22:1<d.length&&!p&&(b=d.shift()+h,p=!0),w(v+=d.pop(),y);break;case 24:for(;2<d.length;)r=v+d.shift(),n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),v=s+d.shift(),y=o+d.shift(),c.curveTo(r,n,s,o,v,y);v+=d.shift(),y+=d.shift(),c.lineTo(v,y);break;case 25:for(;6<d.length;)v+=d.shift(),y+=d.shift(),c.lineTo(v,y);r=v+d.shift(),n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),v=s+d.shift(),y=o+d.shift(),c.curveTo(r,n,s,o,v,y);break;case 26:for(d.length%2&&(v+=d.shift());0<d.length;)r=v,n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),v=s,y=o+d.shift(),c.curveTo(r,n,s,o,v,y);break;case 27:for(d.length%2&&(y+=d.shift());0<d.length;)r=v+d.shift(),n=y,s=r+d.shift(),o=n+d.shift(),v=s+d.shift(),y=o,c.curveTo(r,n,s,o,v,y);break;case 28:g=u[O],x=u[O+1],d.push((g<<24|x<<16)>>16),O+=2;break;case 29:T=d.pop()+t.gsubrsBias,(E=t.gsubrs[T])&&i(E);break;case 30:for(;0<d.length&&(r=v,n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),v=s+d.shift(),y=o+(1===d.length?d.shift():0),c.curveTo(r,n,s,o,v,y),0!==d.length);)r=v+d.shift(),n=y,s=r+d.shift(),o=n+d.shift(),y=o+d.shift(),v=s+(1===d.length?d.shift():0),c.curveTo(r,n,s,o,v,y);break;case 31:for(;0<d.length&&(r=v+d.shift(),n=y,s=r+d.shift(),o=n+d.shift(),y=o+d.shift(),v=s+(1===d.length?d.shift():0),c.curveTo(r,n,s,o,v,y),0!==d.length);)r=v,n=y+d.shift(),s=r+d.shift(),o=n+d.shift(),v=s+d.shift(),y=o+(1===d.length?d.shift():0),c.curveTo(r,n,s,o,v,y);break;default:D<32?console.log("Glyph "+e.index+": unknown operator "+D):D<247?d.push(D-139):D<251?(g=u[O],O+=1,d.push(256*(D-247)+g+108)):D<255?(g=u[O],O+=1,d.push(256*-(D-251)-g-108)):(g=u[O],x=u[O+1],S=u[O+2],A=u[O+3],O+=4,d.push((g<<24|x<<16|S<<8|A)/65536))}}}(i),e.advanceWidth=b,c}function Ot(t,e){var i,r=lt.indexOf(t);return 0<=r&&(i=r),0<=(r=e.indexOf(t))?i=r+lt.length:(i=lt.length+e.length,e.push(t)),i}function Dt(t,e,i){for(var r={},n=0;n<t.length;n+=1){var s=t[n],o=e[s.name];void 0===o||wt(o,s.value)||("SID"===s.type&&(o=Ot(o,i)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function It(t,e){var i=new K.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return i.dict=Dt(Ct,t,e),i}function Ft(t){var e=new K.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function jt(t){var e=[],i=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,n=0,s=0;s<i.commands.length;s+=1){var o=void 0,a=void 0,l=i.commands[s];if("Q"===l.type&&(l={type:"C",x:l.x,y:l.y,x1:1/3*r+2/3*l.x1,y1:1/3*n+2/3*l.y1,x2:1/3*l.x+2/3*l.x1,y2:1/3*l.y+2/3*l.y1}),"M"===l.type)o=Math.round(l.x-r),a=Math.round(l.y-n),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),n=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-r),a=Math.round(l.y-n),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),n=Math.round(l.y);else if("C"===l.type){var u=Math.round(l.x1-r),h=Math.round(l.y1-n),c=Math.round(l.x2-l.x1),d=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:u}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:c}),e.push({name:"dy2",type:"NUMBER",value:d}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),n=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}var Bt=function(t,e,i){i.tables.cff={};var r,n,s,o=St(t,(r=t,n=e,(s={}).formatMajor=st.getCard8(r,n),s.formatMinor=st.getCard8(r,n+1),s.size=st.getCard8(r,n+2),s.offsetSize=st.getCard8(r,n+3),s.startOffset=n,s.endOffset=n+4,s).endOffset,st.bytesToString),a=St(t,o.endOffset),l=St(t,a.endOffset,st.bytesToString),u=St(t,l.endOffset);i.gsubrs=u.objects,i.gsubrsBias=_t(i.gsubrs);var h=kt(t,e,a.objects,l.objects);if(1!==h.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+h.length);var c=h[0];if((i.tables.cff.topDict=c)._privateDict&&(i.defaultWidthX=c._privateDict.defaultWidthX,i.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(i.isCIDFont=!0),i.isCIDFont){var d=c.fdArray,f=c.fdSelect;if(0===d||0===f)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var p=kt(t,e,St(t,d+=e).objects,l.objects);c._fdArray=p,f+=e,c._fdSelect=function(t,e,i,r){var n,s=[],o=new st.Parser(t,e),a=o.parseCard8();if(0===a)for(var l=0;l<i;l++){if(r<=(n=o.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+r+")");s.push(n)}else{if(3!==a)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);var u,h=o.parseCard16(),c=o.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d=0;d<h;d++){if(n=o.parseCard8(),u=o.parseCard16(),r<=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+r+")");if(i<u)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;c<u;c++)s.push(n);c=u}if(u!==i)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return s}(t,f,i.numGlyphs,p.length)}var m=e+c.private[1],v=Rt(t,m,c.private[0],l.objects);if(i.defaultWidthX=v.defaultWidthX,i.nominalWidthX=v.nominalWidthX,0!==v.subrs){var y=St(t,m+v.subrs);i.subrs=y.objects,i.subrsBias=_t(i.subrs)}else i.subrs=[],i.subrsBias=0;var g=St(t,e+c.charStrings);i.nGlyphs=g.objects.length;var x=function(t,e,i,r){var n,s,o=new st.Parser(t,e);--i;var a=[".notdef"],l=o.parseCard8();if(0===l)for(var u=0;u<i;u+=1)n=o.parseSID(),a.push(Et(r,n));else if(1===l)for(;a.length<=i;){n=o.parseSID(),s=o.parseCard8();for(var h=0;h<=s;h+=1)a.push(Et(r,n)),n+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;a.length<=i;){n=o.parseSID(),s=o.parseCard16();for(var c=0;c<=s;c+=1)a.push(Et(r,n)),n+=1}}return a}(t,e+c.charset,i.nGlyphs,l.objects);0===c.encoding?i.cffEncoding=new pt(ut,x):1===c.encoding?i.cffEncoding=new pt(ht,x):i.cffEncoding=function(t,e,i){var r,n={},s=new st.Parser(t,e),o=s.parseCard8();if(0===o)for(var a=s.parseCard8(),l=0;l<a;l+=1)n[r=s.parseCard8()]=l;else{if(1!==o)throw new Error("Unknown encoding format "+o);var u=s.parseCard8();r=1;for(var h=0;h<u;h+=1)for(var c=s.parseCard8(),d=s.parseCard8(),f=c;f<=c+d;f+=1)n[f]=r,r+=1}return new pt(n,i)}(t,e+c.encoding,x),i.encoding=i.encoding||i.cffEncoding,i.glyphs=new bt.GlyphSet(i);for(var b=0;b<i.nGlyphs;b+=1){var w=g.objects[b];i.glyphs.push(b,bt.cffGlyphLoader(i,b,Lt,w))}},Nt=function(t,e){for(var i,r=new K.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/e.unitsPerEm,s={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],a=1;a<t.length;a+=1)i=t.get(a),o.push(i.name);var l=[];r.header=new K.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(t){var e=new K.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var i=0;i<t.length;i+=1)e.names.push({name:"name_"+i,type:"NAME",value:t[i]});return e}([e.postScriptName]);var u,h,c,d=It(s,l);r.topDictIndex=Ft(d),r.globalSubrIndex=new K.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(t,e){for(var i=new K.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var n=Ot(t[r],e);i.fields.push({name:"glyph_"+r,type:"SID",value:n})}return i}(o,l),r.charStringsIndex=function(t){for(var e=new K.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),i=0;i<t.length;i+=1){var r=t.get(i),n=jt(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:n})}return e}(t),r.privateDict=(u={},h=l,(c=new K.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Dt(Pt,u,h),c),r.stringIndex=function(t){var e=new K.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var i=0;i<t.length;i+=1)e.strings.push({name:"string_"+i,type:"STRING",value:t[i]});return e}(l);var f=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return s.charset=f,s.encoding=0,s.charStrings=s.charset+r.charsets.sizeOf(),s.private[1]=s.charStrings+r.charStringsIndex.sizeOf(),d=It(s,l),r.topDictIndex=Ft(d),r},Ut=function(t,e){var i={},r=new st.Parser(t,e);return i.version=r.parseVersion(),i.fontRevision=Math.round(1e3*r.parseFixed())/1e3,i.checkSumAdjustment=r.parseULong(),i.magicNumber=r.parseULong(),R.argument(1594834165===i.magicNumber,"Font header has wrong magic number."),i.flags=r.parseUShort(),i.unitsPerEm=r.parseUShort(),i.created=r.parseLongDateTime(),i.modified=r.parseLongDateTime(),i.xMin=r.parseShort(),i.yMin=r.parseShort(),i.xMax=r.parseShort(),i.yMax=r.parseShort(),i.macStyle=r.parseUShort(),i.lowestRecPPEM=r.parseUShort(),i.fontDirectionHint=r.parseShort(),i.indexToLocFormat=r.parseShort(),i.glyphDataFormat=r.parseShort(),i},zt=function(t){var e=Math.round((new Date).getTime()/1e3)+2082844800,i=e;return t.createdTimestamp&&(i=t.createdTimestamp+2082844800),new K.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:i},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)},Gt=function(t,e){var i={},r=new st.Parser(t,e);return i.version=r.parseVersion(),i.ascender=r.parseShort(),i.descender=r.parseShort(),i.lineGap=r.parseShort(),i.advanceWidthMax=r.parseUShort(),i.minLeftSideBearing=r.parseShort(),i.minRightSideBearing=r.parseShort(),i.xMaxExtent=r.parseShort(),i.caretSlopeRise=r.parseShort(),i.caretSlopeRun=r.parseShort(),i.caretOffset=r.parseShort(),r.relativeOffset+=8,i.metricDataFormat=r.parseShort(),i.numberOfHMetrics=r.parseUShort(),i},Vt=function(t){return new K.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)},Ht=function(t,e,i,r,n){for(var s,o,a=new st.Parser(t,e),l=0;l<r;l+=1){l<i&&(s=a.parseUShort(),o=a.parseShort());var u=n.get(l);u.advanceWidth=s,u.leftSideBearing=o}},Wt=function(t){for(var e=new K.Table("hmtx",[]),i=0;i<t.length;i+=1){var r=t.get(i),n=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+i,type:"USHORT",value:n}),e.fields.push({name:"leftSideBearing_"+i,type:"SHORT",value:s})}return e},Yt=function(t){for(var e=new K.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),i="",r=12+4*t.length,n=0;n<t.length;++n){var s=i.indexOf(t[n]);s<0&&(s=i.length,i+=t[n]),e.fields.push({name:"offset "+n,type:"USHORT",value:r+s}),e.fields.push({name:"length "+n,type:"USHORT",value:t[n].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:i}),e},Xt=function(t,e){var i=new st.Parser(t,e),r=i.parseULong();R.argument(1===r,"Unsupported ltag table version."),i.skip("uLong",1);for(var n=i.parseULong(),s=[],o=0;o<n;o++){for(var a="",l=e+i.parseUShort(),u=i.parseUShort(),h=l;h<l+u;++h)a+=String.fromCharCode(t.getInt8(h));s.push(a)}return s},Zt=function(t,e){var i={},r=new st.Parser(t,e);return i.version=r.parseVersion(),i.numGlyphs=r.parseUShort(),1===i.version&&(i.maxPoints=r.parseUShort(),i.maxContours=r.parseUShort(),i.maxCompositePoints=r.parseUShort(),i.maxCompositeContours=r.parseUShort(),i.maxZones=r.parseUShort(),i.maxTwilightPoints=r.parseUShort(),i.maxStorage=r.parseUShort(),i.maxFunctionDefs=r.parseUShort(),i.maxInstructionDefs=r.parseUShort(),i.maxStackElements=r.parseUShort(),i.maxSizeOfInstructions=r.parseUShort(),i.maxComponentElements=r.parseUShort(),i.maxComponentDepth=r.parseUShort()),i},qt=function(t){return new K.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])},Qt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Kt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Jt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},$t={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function te(t,e,i){switch(t){case 0:if(65535===e)return"und";if(i)return i[e];break;case 1:return Kt[e];case 3:return $t[e]}}var ee="utf-16",ie={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},re={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ne(t,e,i){switch(t){case 0:return ee;case 1:return re[i]||ie[e];case 3:if(1===e||10===e)return ee}}function se(t){var e={};for(var i in t)e[t[i]]=parseInt(i);return e}function oe(t,e,i,r,n,s){return new K.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:i},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:n},{name:"offset",type:"USHORT",value:s}])}function ae(t,e){var i=function(t,e){var i=t.length,r=e.length-i+1;t:for(var n=0;n<r;n++)for(;n<r;n++){for(var s=0;s<i;s++)if(e[n+s]!==t[s])continue t;return n}return-1}(t,e);if(i<0){i=e.length;for(var r=0,n=t.length;r<n;++r)e.push(t[r])}return i}var le=function(t,e,i){for(var r={},n=new st.Parser(t,e),s=n.parseUShort(),o=n.parseUShort(),a=n.offset+n.parseUShort(),l=0;l<o;l++){var u,h=n.parseUShort(),c=n.parseUShort(),d=n.parseUShort(),f=n.parseUShort(),p=Qt[f]||f,m=n.parseUShort(),v=n.parseUShort(),y=te(h,d,i),g=ne(h,c,d);if(void 0!==g&&void 0!==y&&(u=g===ee?k.UTF16(t,a+v,m):k.MACSTRING(t,a+v,m,g))){var x=r[p];void 0===x&&(x=r[p]={}),x[y]=u}}return 1===s&&n.parseUShort(),r},ue=function(t,e){var i,r=[],n={},s=se(Qt);for(var o in t){var a=s[o];if(void 0===a&&(a=o),i=parseInt(a),isNaN(i))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');n[i]=t[o],r.push(i)}for(var l=se(Kt),u=se($t),h=[],c=[],d=0;d<r.length;d++){var f=n[i=r[d]];for(var p in f){var m=f[p],v=1,y=l[p],g=Jt[y],x=ne(v,g,y),b=L.MACSTRING(m,x);void 0===b&&(v=0,(y=e.indexOf(p))<0&&(y=e.length,e.push(p)),g=4,b=L.UTF16(m));var w=ae(b,c);h.push(oe(v,g,y,i,b.length,w));var _=u[p];if(void 0!==_){var S=L.UTF16(m),A=ae(S,c);h.push(oe(3,1,_,i,S.length,A))}}}h.sort((function(t,e){return t.platformID-e.platformID||t.encodingID-e.encodingID||t.languageID-e.languageID||t.nameID-e.nameID}));for(var T=new K.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:h.length},{name:"stringOffset",type:"USHORT",value:6+12*h.length}]),E=0;E<h.length;E++)T.fields.push({name:"record_"+E,type:"RECORD",value:h[E]});return T.fields.push({name:"strings",type:"LITERAL",value:c}),T},he=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],ce=function(t,e){var i={},r=new st.Parser(t,e);i.version=r.parseUShort(),i.xAvgCharWidth=r.parseShort(),i.usWeightClass=r.parseUShort(),i.usWidthClass=r.parseUShort(),i.fsType=r.parseUShort(),i.ySubscriptXSize=r.parseShort(),i.ySubscriptYSize=r.parseShort(),i.ySubscriptXOffset=r.parseShort(),i.ySubscriptYOffset=r.parseShort(),i.ySuperscriptXSize=r.parseShort(),i.ySuperscriptYSize=r.parseShort(),i.ySuperscriptXOffset=r.parseShort(),i.ySuperscriptYOffset=r.parseShort(),i.yStrikeoutSize=r.parseShort(),i.yStrikeoutPosition=r.parseShort(),i.sFamilyClass=r.parseShort(),i.panose=[];for(var n=0;n<10;n++)i.panose[n]=r.parseByte();return i.ulUnicodeRange1=r.parseULong(),i.ulUnicodeRange2=r.parseULong(),i.ulUnicodeRange3=r.parseULong(),i.ulUnicodeRange4=r.parseULong(),i.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),i.fsSelection=r.parseUShort(),i.usFirstCharIndex=r.parseUShort(),i.usLastCharIndex=r.parseUShort(),i.sTypoAscender=r.parseShort(),i.sTypoDescender=r.parseShort(),i.sTypoLineGap=r.parseShort(),i.usWinAscent=r.parseUShort(),i.usWinDescent=r.parseUShort(),1<=i.version&&(i.ulCodePageRange1=r.parseULong(),i.ulCodePageRange2=r.parseULong()),2<=i.version&&(i.sxHeight=r.parseShort(),i.sCapHeight=r.parseShort(),i.usDefaultChar=r.parseUShort(),i.usBreakChar=r.parseUShort(),i.usMaxContent=r.parseUShort()),i},de=function(t){return new K.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)},fe=function(t){for(var e=0;e<he.length;e+=1){var i=he[e];if(t>=i.begin&&t<i.end)return e}return-1},pe=function(t,e){var i={},r=new st.Parser(t,e);switch(i.version=r.parseVersion(),i.italicAngle=r.parseFixed(),i.underlinePosition=r.parseShort(),i.underlineThickness=r.parseShort(),i.isFixedPitch=r.parseULong(),i.minMemType42=r.parseULong(),i.maxMemType42=r.parseULong(),i.minMemType1=r.parseULong(),i.maxMemType1=r.parseULong(),i.version){case 1:i.names=ct.slice();break;case 2:i.numberOfGlyphs=r.parseUShort(),i.glyphNameIndex=new Array(i.numberOfGlyphs);for(var n=0;n<i.numberOfGlyphs;n++)i.glyphNameIndex[n]=r.parseUShort();i.names=[];for(var s=0;s<i.numberOfGlyphs;s++)if(i.glyphNameIndex[s]>=ct.length){var o=r.parseChar();i.names.push(r.parseString(o))}break;case 2.5:i.numberOfGlyphs=r.parseUShort(),i.offset=new Array(i.numberOfGlyphs);for(var a=0;a<i.numberOfGlyphs;a++)i.offset[a]=r.parseChar()}return i},me=function(){return new K.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},ve=new Array(9);ve[1]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(rt.coverage),deltaGlyphId:this.parseUShort()}:2===e?{substFormat:2,coverage:this.parsePointer(rt.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")},ve[2]=function(){var t=this.parseUShort();return R.argument(1===t,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(rt.coverage),sequences:this.parseListOfLists()}},ve[3]=function(){var t=this.parseUShort();return R.argument(1===t,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(rt.coverage),alternateSets:this.parseListOfLists()}},ve[4]=function(){var t=this.parseUShort();return R.argument(1===t,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(rt.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var ye={sequenceIndex:rt.uShort,lookupListIndex:rt.uShort};ve[5]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{substFormat:e,coverage:this.parsePointer(rt.coverage),ruleSets:this.parseListOfLists((function(){var t=this.parseUShort(),e=this.parseUShort();return{input:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,ye)}}))};if(2===e)return{substFormat:e,coverage:this.parsePointer(rt.coverage),classDef:this.parsePointer(rt.classDef),classSets:this.parseListOfLists((function(){var t=this.parseUShort(),e=this.parseUShort();return{classes:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,ye)}}))};if(3===e){var i=this.parseUShort(),r=this.parseUShort();return{substFormat:e,coverages:this.parseList(i,rt.pointer(rt.coverage)),lookupRecords:this.parseRecordList(r,ye)}}R.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},ve[6]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(rt.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ye)}}))}:2===e?{substFormat:2,coverage:this.parsePointer(rt.coverage),backtrackClassDef:this.parsePointer(rt.classDef),inputClassDef:this.parsePointer(rt.classDef),lookaheadClassDef:this.parsePointer(rt.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ye)}}))}:3===e?{substFormat:3,backtrackCoverage:this.parseList(rt.pointer(rt.coverage)),inputCoverage:this.parseList(rt.pointer(rt.coverage)),lookaheadCoverage:this.parseList(rt.pointer(rt.coverage)),lookupRecords:this.parseRecordList(ye)}:void R.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},ve[7]=function(){var t=this.parseUShort();R.argument(1===t,"GSUB Extension Substitution subtable identifier-format must be 1");var e=this.parseUShort(),i=new rt(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:ve[e].call(i)}},ve[8]=function(){var t=this.parseUShort();return R.argument(1===t,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(rt.coverage),backtrackCoverage:this.parseList(rt.pointer(rt.coverage)),lookaheadCoverage:this.parseList(rt.pointer(rt.coverage)),substitutes:this.parseUShortList()}};var ge=new Array(9);ge[1]=function(t){return 1===t.substFormat?new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new K.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new K.Coverage(t.coverage)}].concat(K.ushortList("substitute",t.substitute)))},ge[3]=function(t){return R.assert(1===t.substFormat,"Lookup type 3 substFormat must be 1."),new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new K.Coverage(t.coverage)}].concat(K.tableList("altSet",t.alternateSets,(function(t){return new K.Table("alternateSetTable",K.ushortList("alternate",t))}))))},ge[4]=function(t){return R.assert(1===t.substFormat,"Lookup type 4 substFormat must be 1."),new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new K.Coverage(t.coverage)}].concat(K.tableList("ligSet",t.ligatureSets,(function(t){return new K.Table("ligatureSetTable",K.tableList("ligature",t,(function(t){return new K.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:t.ligGlyph}].concat(K.ushortList("component",t.components,t.components.length+1)))})))}))))};var xe=function(t,e){var i=new rt(t,e=e||0),r=i.parseVersion(1);return R.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(ve)}:{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(ve),variations:i.parseFeatureVariationsList()}},be=function(t){return new K.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new K.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new K.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new K.LookupList(t.lookups,ge)}])},we=function(t,e){var i=new st.Parser(t,e),r=i.parseULong();R.argument(1===r,"Unsupported META table version."),i.parseULong(),i.parseULong();for(var n=i.parseULong(),s={},o=0;o<n;o++){var a=i.parseTag(),l=i.parseULong(),u=i.parseULong(),h=k.UTF8(t,e+l,u);s[a]=h}return s},_e=function(t){var e=Object.keys(t).length,i="",r=16+12*e,n=new K.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=i.length;i+=t[s],n.fields.push({name:"tag "+s,type:"TAG",value:s}),n.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),n.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return n.fields.push({name:"stringPool",type:"CHARARRAY",value:i}),n};function Se(t){return Math.log(t)/Math.log(2)|0}function Ae(t){for(;t.length%4!=0;)t.push(0);for(var e=0,i=0;i<t.length;i+=4)e+=(t[i]<<24)+(t[i+1]<<16)+(t[i+2]<<8)+t[i+3];return e%Math.pow(2,32)}function Te(t,e,i,r){return new K.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==t?t:""},{name:"checkSum",type:"ULONG",value:void 0!==e?e:0},{name:"offset",type:"ULONG",value:void 0!==i?i:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function Ee(t){var e=new K.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var i=Math.pow(2,Se(e.numTables));e.searchRange=16*i,e.entrySelector=Se(i),e.rangeShift=16*e.numTables-e.searchRange;for(var r=[],n=[],s=e.sizeOf()+Te().sizeOf()*e.numTables;s%4!=0;)s+=1,n.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];R.argument(4===a.tableName.length,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=Te(a.tableName,Ae(a.encode()),s,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),n.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,R.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!=0;)s+=1,n.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(t,e){return t.value.tag>e.value.tag?1:-1})),e.fields=e.fields.concat(r),e.fields=e.fields.concat(n),e}function Me(t,e,i){for(var r=0;r<e.length;r+=1){var n=t.charToGlyphIndex(e[r]);if(0<n)return t.glyphs.get(n).getMetrics()}return i}var Ce=function(t){for(var e,i=[],r=[],n=[],s=[],o=[],a=[],l=[],u=0,h=0,c=0,d=0,f=0,p=0;p<t.glyphs.length;p+=1){var m=t.glyphs.get(p),v=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+p+"): advanceWidth is not a number.");(v<e||void 0===e)&&0<v&&(e=v),u<v&&(u=v);var y=fe(v);if(y<32)h|=1<<y;else if(y<64)c|=1<<y-32;else if(y<96)d|=1<<y-64;else{if(!(y<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");f|=1<<y-96}if(".notdef"!==m.name){var g=m.getMetrics();i.push(g.xMin),r.push(g.yMin),n.push(g.xMax),s.push(g.yMax),a.push(g.leftSideBearing),l.push(g.rightSideBearing),o.push(m.advanceWidth)}}var x={xMin:Math.min.apply(null,i),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:function(t){for(var e=0,i=0;i<t.length;i+=1)e+=t[i];return e/t.length}(o),minLeftSideBearing:Math.min.apply(null,a),maxLeftSideBearing:Math.max.apply(null,a),minRightSideBearing:Math.min.apply(null,l)};x.ascender=t.ascender,x.descender=t.descender;var b=zt({flags:3,unitsPerEm:t.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),w=Vt({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:t.glyphs.length}),_=qt(t.glyphs.length),S=de({xAvgCharWidth:Math.round(x.advanceWidthAvg),usWeightClass:t.tables.os2.usWeightClass,usWidthClass:t.tables.os2.usWidthClass,usFirstCharIndex:e,usLastCharIndex:u,ulUnicodeRange1:h,ulUnicodeRange2:c,ulUnicodeRange3:d,ulUnicodeRange4:f,fsSelection:t.tables.os2.fsSelection,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:Me(t,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:Me(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0}),A=Wt(t.glyphs),T=at(t.glyphs),E=t.getEnglishName("fontFamily"),M=t.getEnglishName("fontSubfamily"),C=E+" "+M,P=t.getEnglishName("postScriptName");P=P||E.replace(/\s/g,"")+"-"+M;var R={};for(var k in t.names)R[k]=t.names[k];R.uniqueID||(R.uniqueID={en:t.getEnglishName("manufacturer")+":"+C}),R.postScriptName||(R.postScriptName={en:P}),R.preferredFamily||(R.preferredFamily=t.names.fontFamily),R.preferredSubfamily||(R.preferredSubfamily=t.names.fontSubfamily);var L=[],O=ue(R,L),D=0<L.length?Yt(L):void 0,I=me(),F=Nt(t.glyphs,{version:t.getEnglishName("version"),fullName:C,familyName:E,weightName:M,postScriptName:P,unitsPerEm:t.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax]}),j=t.metas&&0<Object.keys(t.metas).length?_e(t.metas):void 0,B=[b,w,_,S,O,T,I,F,A];D&&B.push(D),t.tables.gsub&&B.push(be(t.tables.gsub)),j&&B.push(j);for(var N=Ee(B),U=Ae(N.encode()),z=N.fields,G=!1,V=0;V<z.length;V+=1)if("head table"===z[V].name){z[V].value.checkSumAdjustment=2981146554-U,G=!0;break}if(!G)throw new Error("Could not find head table with checkSum to adjust.");return N};function Pe(t,e){for(var i=0,r=t.length-1;i<=r;){var n=i+r>>>1,s=t[n].tag;if(s===e)return n;s<e?i=1+n:r=n-1}return-i-1}function Re(t,e){for(var i=0,r=t.length-1;i<=r;){var n=i+r>>>1,s=t[n];if(s===e)return n;s<e?i=1+n:r=n-1}return-i-1}function ke(t,e){for(var i,r=0,n=t.length-1;r<=n;){var s=r+n>>>1,o=(i=t[s]).start;if(o===e)return i;o<e?r=1+s:n=s-1}if(0<r)return e>(i=t[r-1]).end?0:i}function Le(t,e){this.font=t,this.tableName=e}function Oe(t){Le.call(this,t,"gpos")}function De(t){Le.call(this,t,"gsub")}function Ie(t,e){var i=t.length;if(i!==e.length)return!1;for(var r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}function Fe(t,e,i){for(var r=t.subtables,n=0;n<r.length;n++){var s=r[n];if(s.substFormat===e)return s}if(i)return r.push(i),i}function je(t){for(var e=new ArrayBuffer(t.length),i=new Uint8Array(e),r=0;r<t.length;++r)i[r]=t[r];return e}function Be(t,e){if(!t)throw e}function Ne(t,e,i,r,n){var s;return 0<(e&r)?(s=t.parseByte(),0==(e&n)&&(s=-s),i+s):0<(e&n)?i:i+t.parseShort()}function Ue(t,e,i){var r,n,s=new st.Parser(e,i);if(t.numberOfContours=s.parseShort(),t._xMin=s.parseShort(),t._yMin=s.parseShort(),t._xMax=s.parseShort(),t._yMax=s.parseShort(),0<t.numberOfContours){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(s.parseUShort());t.instructionLength=s.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(s.parseByte());var u=o[o.length-1]+1;r=[];for(var h=0;h<u;h+=1)if(n=s.parseByte(),r.push(n),0<(8&n))for(var c=s.parseByte(),d=0;d<c;d+=1)r.push(n),h+=1;if(R.argument(r.length===u,"Bad flags."),0<o.length){var f,p=[];if(0<u){for(var m=0;m<u;m+=1)n=r[m],(f={}).onCurve=!!(1&n),f.lastPointOfContour=0<=o.indexOf(m),p.push(f);for(var v=0,y=0;y<u;y+=1)n=r[y],(f=p[y]).x=Ne(s,n,v,2,16),v=f.x;for(var g=0,x=0;x<u;x+=1)n=r[x],(f=p[x]).y=Ne(s,n,g,4,32),g=f.y}t.points=p}else t.points=[]}else if(0===t.numberOfContours)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var b=!0;b;){r=s.parseUShort();var w={glyphIndex:s.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&r)?0<(2&r)?(w.dx=s.parseShort(),w.dy=s.parseShort()):w.matchedPoints=[s.parseUShort(),s.parseUShort()]:0<(2&r)?(w.dx=s.parseChar(),w.dy=s.parseChar()):w.matchedPoints=[s.parseByte(),s.parseByte()],0<(8&r)?w.xScale=w.yScale=s.parseF2Dot14():0<(64&r)?(w.xScale=s.parseF2Dot14(),w.yScale=s.parseF2Dot14()):0<(128&r)&&(w.xScale=s.parseF2Dot14(),w.scale01=s.parseF2Dot14(),w.scale10=s.parseF2Dot14(),w.yScale=s.parseF2Dot14()),t.components.push(w),b=!!(32&r)}if(256&r){t.instructionLength=s.parseUShort(),t.instructions=[];for(var _=0;_<t.instructionLength;_+=1)t.instructions.push(s.parseByte())}}}function ze(t,e){for(var i=[],r=0;r<t.length;r+=1){var n=t[r],s={x:e.xScale*n.x+e.scale01*n.y+e.dx,y:e.scale10*n.x+e.yScale*n.y+e.dy,onCurve:n.onCurve,lastPointOfContour:n.lastPointOfContour};i.push(s)}return i}function Ge(t){var e=new M;if(!t)return e;for(var i=function(t){for(var e=[],i=[],r=0;r<t.length;r+=1){var n=t[r];i.push(n),n.lastPointOfContour&&(e.push(i),i=[])}return R.argument(0===i.length,"There are still points left in the current contour."),e}(t),r=0;r<i.length;++r){var n=i[r],s=null,o=n[n.length-1],a=n[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:.5*(o.x+a.x),y:.5*(o.y+a.y)};e.moveTo(l.x,l.y)}for(var u=0;u<n.length;++u)if(s=o,o=a,a=n[(u+1)%n.length],o.onCurve)e.lineTo(o.x,o.y);else{var h=a;s.onCurve||(o.x,s.x,o.y,s.y),a.onCurve||(h={x:.5*(o.x+a.x),y:.5*(o.y+a.y)}),e.quadraticCurveTo(o.x,o.y,h.x,h.y)}e.closePath()}return e}function Ve(t,e){if(e.isComposite)for(var i=0;i<e.components.length;i+=1){var r=e.components[i],n=t.get(r.glyphIndex);if(n.getPath(),n.points){var s=void 0;if(void 0===r.matchedPoints)s=ze(n.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>n.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=n.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=ze([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=ze(n.points,l)}e.points=e.points.concat(s)}}return Ge(e.points)}(Oe.prototype=Le.prototype={searchTag:Pe,binSearch:Re,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map((function(t){return t.tag})):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,i=0;i<t.scripts.length;i++){var r=t.scripts[i].tag;if("DFLT"===r)return r;"latn"===r&&(e=!0)}return e?"latn":void 0}},getScriptTable:function(t,e){var i=this.getTable(e);if(i){t=t||"DFLT";var r=i.scripts,n=Pe(i.scripts,t);if(0<=n)return r[n].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-n,0,s),s.script}}},getLangSysTable:function(t,e,i){var r=this.getScriptTable(t,i);if(r){if(!e||"dflt"===e||"DFLT"===e)return r.defaultLangSys;var n=Pe(r.langSysRecords,e);if(0<=n)return r.langSysRecords[n].langSys;if(i){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-n,0,s),s.langSys}}},getFeatureTable:function(t,e,i,r){var n=this.getLangSysTable(t,e,r);if(n){for(var s,o=n.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if((s=a[o[l]]).tag===i)return s.feature;if(r){var u=a.length;return R.assert(0===u||i>=a[u-1].tag,"Features must be added in alphabetical order."),s={tag:i,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(u),s.feature}}},getLookupTables:function(t,e,i,r,n){var s=this.getFeatureTable(t,e,i,n),o=[];if(s){for(var a,l=s.lookupListIndexes,u=this.font.tables[this.tableName].lookups,h=0;h<l.length;h++)(a=u[l[h]]).lookupType===r&&o.push(a);if(0===o.length&&n){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var c=u.length;return u.push(a),l.push(c),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var i=ke(t.ranges,e);return i?i.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var i=Re(t.glyphs,e);return 0<=i?i:-1;case 2:var r=ke(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(1===t.format)return t.glyphs;for(var e=[],i=t.ranges,r=0;r<i.length;r++)for(var n=i[r],s=n.start,o=n.end,a=s;a<=o;a++)e.push(a);return e}}).init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)},Oe.prototype.getKerningValue=function(t,e,i){for(var r=0;r<t.length;r++)for(var n=t[r].subtables,s=0;s<n.length;s++){var o=n[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],u=0;u<l.length;u++){var h=l[u];if(h.secondGlyph===i)return h.value1&&h.value1.xAdvance||0}break;case 2:var c=this.getGlyphClass(o.classDef1,e),d=this.getGlyphClass(o.classDef2,i),f=o.classRecords[c][d];return f.value1&&f.value1.xAdvance||0}}return 0},Oe.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)},(De.prototype=Le.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},De.prototype.getSingle=function(t,e,i){for(var r=[],n=this.getLookupTables(e,i,t,1),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),h=void 0;if(1===l.substFormat){var c=l.deltaGlyphId;for(h=0;h<u.length;h++){var d=u[h];r.push({sub:d,by:d+c})}}else{var f=l.substitute;for(h=0;h<u.length;h++)r.push({sub:u[h],by:f[h]})}}return r},De.prototype.getAlternates=function(t,e,i){for(var r=[],n=this.getLookupTables(e,i,t,3),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),h=l.alternateSets,c=0;c<u.length;c++)r.push({sub:u[c],by:h[c]});return r},De.prototype.getLigatures=function(t,e,i){for(var r=[],n=this.getLookupTables(e,i,t,4),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),h=l.ligatureSets,c=0;c<u.length;c++)for(var d=u[c],f=h[c],p=0;p<f.length;p++){var m=f[p];r.push({sub:[d].concat(m.components),by:m.ligGlyph})}return r},De.prototype.addSingle=function(t,e,i,r){var n=Fe(this.getLookupTables(i,r,t,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});R.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format);var s=e.sub,o=this.binSearch(n.coverage.glyphs,s);o<0&&(o=-1-o,n.coverage.glyphs.splice(o,0,s),n.substitute.splice(o,0,0)),n.substitute[o]=e.by},De.prototype.addAlternate=function(t,e,i,r){var n=Fe(this.getLookupTables(i,r,t,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});R.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format);var s=e.sub,o=this.binSearch(n.coverage.glyphs,s);o<0&&(o=-1-o,n.coverage.glyphs.splice(o,0,s),n.alternateSets.splice(o,0,0)),n.alternateSets[o]=e.by},De.prototype.addLigature=function(t,e,i,r){var n=this.getLookupTables(i,r,t,4,!0)[0],s=n.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},n.subtables[0]=s),R.assert(1===s.coverage.format,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(s.coverage.glyphs,o);if(0<=u){for(var h=s.ligatureSets[u],c=0;c<h.length;c++)if(Ie(h[c].components,a))return;h.push(l)}else u=-1-u,s.coverage.glyphs.splice(u,0,o),s.ligatureSets.splice(u,0,[l])},De.prototype.getFeature=function(t,e,i){if(/ss\d\d/.test(t))return this.getSingle(t,e,i);switch(t){case"aalt":case"salt":return this.getSingle(t,e,i).concat(this.getAlternates(t,e,i));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,i)}},De.prototype.add=function(t,e,i,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,i,r);switch(t){case"aalt":case"salt":return"number"==typeof e.by?this.addSingle(t,e,i,r):this.addAlternate(t,e,i,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,i,r)}};var He,We,Ye,Xe,Ze={getPath:Ge,parse:function(t,e,i,r){for(var n=new bt.GlyphSet(r),s=0;s<i.length-1;s+=1){var o=i[s];o!==i[s+1]?n.push(s,bt.ttfGlyphLoader(r,s,Ue,t,e+o,Ve)):n.push(s,bt.glyphLoader(r,s))}return n}};function qe(t){this.font=t,this.getCommands=function(t){return Ze.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Qe(t){return t}function Ke(t){return Math.sign(t)*Math.round(Math.abs(t))}function Je(t){return Math.sign(t)*Math.round(Math.abs(2*t))/2}function $e(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function ti(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function ei(t){return Math.sign(t)*Math.floor(Math.abs(t))}function ii(t){var e=this.srPeriod,i=this.srPhase,r=1;return t<0&&(t=-t,r=-1),t+=this.srThreshold-i,t=Math.trunc(t/e)*e,(t+=i)<0?i*r:t*r}var ri={x:1,y:0,axis:"x",distance:function(t,e,i,r){return(i?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,i,r){var n,s,o,a,l,u,h;if(!r||r===this)return n=t.xo-e.xo,s=t.xo-i.xo,l=e.x-e.xo,u=i.x-i.xo,0===(h=(o=Math.abs(n))+(a=Math.abs(s)))?void(t.x=t.xo+(l+u)/2):void(t.x=t.xo+(l*a+u*o)/h);n=r.distance(t,e,!0,!0),s=r.distance(t,i,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(i,i,!1,!0),0!==(h=(o=Math.abs(n))+(a=Math.abs(s)))?ri.setRelative(t,t,(l*a+u*o)/h,r,!0):ri.setRelative(t,t,(l+u)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,i,r,n){if(r&&r!==this){var s=n?e.xo:e.x,o=n?e.yo:e.y,a=s+i*r.x,l=o+i*r.y;t.x=a+(t.y-l)/r.normalSlope}else t.x=(n?e.xo:e.x)+i},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},ni={x:0,y:1,axis:"y",distance:function(t,e,i,r){return(i?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,i,r){var n,s,o,a,l,u,h;if(!r||r===this)return n=t.yo-e.yo,s=t.yo-i.yo,l=e.y-e.yo,u=i.y-i.yo,0===(h=(o=Math.abs(n))+(a=Math.abs(s)))?void(t.y=t.yo+(l+u)/2):void(t.y=t.yo+(l*a+u*o)/h);n=r.distance(t,e,!0,!0),s=r.distance(t,i,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(i,i,!1,!0),0!==(h=(o=Math.abs(n))+(a=Math.abs(s)))?ni.setRelative(t,t,(l*a+u*o)/h,r,!0):ni.setRelative(t,t,(l+u)/2,r,!0)},normalSlope:0,setRelative:function(t,e,i,r,n){if(r&&r!==this){var s=n?e.xo:e.x,o=n?e.yo:e.y,a=s+i*r.x,l=o+i*r.y;t.y=l+r.normalSlope*(t.x-a)}else t.y=(n?e.yo:e.y)+i},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};function si(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}function oi(t,e){var i=Math.sqrt(t*t+e*e);return e/=i,1==(t/=i)&&0===e?ri:0===t&&1===e?ni:new si(t,e)}function ai(t,e,i,r){this.x=this.xo=Math.round(64*t)/64,this.y=this.yo=Math.round(64*e)/64,this.lastPointOfContour=i,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(ri),Object.freeze(ni),si.prototype.distance=function(t,e,i,r){return this.x*ri.distance(t,e,i,r)+this.y*ni.distance(t,e,i,r)},si.prototype.interpolate=function(t,e,i,r){var n,s,o,a,l,u,h;o=r.distance(t,e,!0,!0),a=r.distance(t,i,!0,!0),n=r.distance(e,e,!1,!0),s=r.distance(i,i,!1,!0),0!==(h=(l=Math.abs(o))+(u=Math.abs(a)))?this.setRelative(t,t,(n*u+s*l)/h,r,!0):this.setRelative(t,t,(n+s)/2,r,!0)},si.prototype.setRelative=function(t,e,i,r,n){r=r||this;var s=n?e.xo:e.x,o=n?e.yo:e.y,a=s+i*r.x,l=o+i*r.y,u=r.normalSlope,h=this.slope,c=t.x,d=t.y;t.x=(h*c-u*a+l-d)/(h-u),t.y=h*(t.x-c)+d},si.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0},ai.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e},ai.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var li=Object.freeze(new ai(0,0)),ui={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function hi(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=ri,this.round=Ke}}function ci(t){for(var e=t.tZone=new Array(t.gZone.length),i=0;i<e.length;i++)e[i]=new ai(0,0)}function di(t,e){var i,r=t.prog,n=t.ip,s=1;do{if(88===(i=r[++n]))s++;else if(89===i)s--;else if(64===i)n+=r[n+1]+1;else if(65===i)n+=2*r[n+1]+1;else if(176<=i&&i<=183)n+=i-176+1;else if(184<=i&&i<=191)n+=2*(i-184+1);else if(e&&1===s&&27===i)break}while(0<s);t.ip=n}function fi(t,i){e.DEBUG&&console.log(i.step,"SVTCA["+t.axis+"]"),i.fv=i.pv=i.dpv=t}function pi(t,i){e.DEBUG&&console.log(i.step,"SPVTCA["+t.axis+"]"),i.pv=i.dpv=t}function mi(t,i){e.DEBUG&&console.log(i.step,"SFVTCA["+t.axis+"]"),i.fv=t}function vi(t,i){var r,n,s=i.stack,o=s.pop(),a=s.pop(),l=i.z2[o],u=i.z1[a];e.DEBUG&&console.log("SPVTL["+t+"]",o,a),n=t?(r=l.y-u.y,u.x-l.x):(r=u.x-l.x,u.y-l.y),i.pv=i.dpv=oi(r,n)}function yi(t,i){var r,n,s=i.stack,o=s.pop(),a=s.pop(),l=i.z2[o],u=i.z1[a];e.DEBUG&&console.log("SFVTL["+t+"]",o,a),n=t?(r=l.y-u.y,u.x-l.x):(r=u.x-l.x,u.y-l.y),i.fv=oi(r,n)}function gi(t){e.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function xi(t,i){var r=i.stack.pop(),n=i.z0[r],s=i.fv,o=i.pv;e.DEBUG&&console.log(i.step,"MDAP["+t+"]",r);var a=o.distance(n,li);t&&(a=i.round(a)),s.setRelative(n,li,a,o),s.touch(n),i.rp0=i.rp1=r}function bi(t,i){var r,n,s,o=i.z2,a=o.length-2;e.DEBUG&&console.log(i.step,"IUP["+t.axis+"]");for(var l=0;l<a;l++)r=o[l],t.touched(r)||(n=r.prevTouched(t))!==r&&(n===(s=r.nextTouched(t))&&t.setRelative(r,r,t.distance(n,n,!1,!0),t,!0),t.interpolate(r,n,s,t))}function wi(t,i){for(var r=i.stack,n=t?i.rp1:i.rp2,s=(t?i.z0:i.z1)[n],o=i.fv,a=i.pv,l=i.loop,u=i.z2;l--;){var h=r.pop(),c=u[h],d=a.distance(s,s,!1,!0);o.setRelative(c,c,d,a),o.touch(c),e.DEBUG&&console.log(i.step,(1<i.loop?"loop "+(i.loop-l)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",h)}i.loop=1}function _i(t,i){var r=i.stack,n=t?i.rp1:i.rp2,s=(t?i.z0:i.z1)[n],o=i.fv,a=i.pv,l=r.pop(),u=i.z2[i.contours[l]],h=u;e.DEBUG&&console.log(i.step,"SHC["+t+"]",l);for(var c=a.distance(s,s,!1,!0);h!==s&&o.setRelative(h,h,c,a),(h=h.nextPointOnContour)!==u;);}function Si(t,i){var r,n,s=i.stack,o=t?i.rp1:i.rp2,a=(t?i.z0:i.z1)[o],l=i.fv,u=i.pv,h=s.pop();switch(e.DEBUG&&console.log(i.step,"SHZ["+t+"]",h),h){case 0:r=i.tZone;break;case 1:r=i.gZone;break;default:throw new Error("Invalid zone")}for(var c=u.distance(a,a,!1,!0),d=r.length-2,f=0;f<d;f++)n=r[f],l.setRelative(n,n,c,u)}function Ai(t,i){var r=i.stack,n=r.pop()/64,s=r.pop(),o=i.z1[s],a=i.z0[i.rp0],l=i.fv,u=i.pv;l.setRelative(o,a,n,u),l.touch(o),e.DEBUG&&console.log(i.step,"MSIRP["+t+"]",n,s),i.rp1=i.rp0,i.rp2=s,t&&(i.rp0=s)}function Ti(t,i){var r=i.stack,n=r.pop(),s=r.pop(),o=i.z0[s],a=i.fv,l=i.pv,u=i.cvt[n];e.DEBUG&&console.log(i.step,"MIAP["+t+"]",n,"(",u,")",s);var h=l.distance(o,li);t&&(Math.abs(h-u)<i.cvCutIn&&(h=u),h=i.round(h)),a.setRelative(o,li,h,l),0===i.zp0&&(o.xo=o.x,o.yo=o.y),a.touch(o),i.rp0=i.rp1=s}function Ei(t,i){var r=i.stack,n=r.pop(),s=i.z2[n];e.DEBUG&&console.log(i.step,"GC["+t+"]",n),r.push(64*i.dpv.distance(s,li,t,!1))}function Mi(t,i){var r=i.stack,n=r.pop(),s=r.pop(),o=i.z1[n],a=i.z0[s],l=i.dpv.distance(a,o,t,t);e.DEBUG&&console.log(i.step,"MD["+t+"]",n,s,"->",l),i.stack.push(Math.round(64*l))}function Ci(t,i){var r=i.stack,n=r.pop(),s=i.fv,o=i.pv,a=i.ppem,l=i.deltaBase+16*(t-1),u=i.deltaShift,h=i.z0;e.DEBUG&&console.log(i.step,"DELTAP["+t+"]",n,r);for(var c=0;c<n;c++){var d=r.pop(),f=r.pop();if(l+((240&f)>>4)===a){var p=(15&f)-8;0<=p&&p++,e.DEBUG&&console.log(i.step,"DELTAPFIX",d,"by",p*u);var m=h[d];s.setRelative(m,m,p*u,o)}}}function Pi(t,i){var r=i.stack,n=r.pop();e.DEBUG&&console.log(i.step,"ROUND[]"),r.push(64*i.round(n/64))}function Ri(t,i){var r=i.stack,n=r.pop(),s=i.ppem,o=i.deltaBase+16*(t-1),a=i.deltaShift;e.DEBUG&&console.log(i.step,"DELTAC["+t+"]",n,r);for(var l=0;l<n;l++){var u=r.pop(),h=r.pop();if(o+((240&h)>>4)===s){var c=(15&h)-8;0<=c&&c++;var d=c*a;e.DEBUG&&console.log(i.step,"DELTACFIX",u,"by",d),i.cvt[u]+=d}}}function ki(t,i){var r,n,s=i.stack,o=s.pop(),a=s.pop(),l=i.z2[o],u=i.z1[a];e.DEBUG&&console.log(i.step,"SDPVTL["+t+"]",o,a),n=t?(r=l.y-u.y,u.x-l.x):(r=u.x-l.x,u.y-l.y),i.dpv=oi(r,n)}function Li(t,i){var r=i.stack,n=i.prog,s=i.ip;e.DEBUG&&console.log(i.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)r.push(n[++s]);i.ip=s}function Oi(t,i){var r=i.ip,n=i.prog,s=i.stack;e.DEBUG&&console.log(i.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var a=n[++r]<<8|n[++r];32768&a&&(a=-(1+(65535^a))),s.push(a)}i.ip=r}function Di(t,i,r,n,s,o){var a,l,u,h,c=o.stack,d=t&&c.pop(),f=c.pop(),p=o.rp0,m=o.z0[p],v=o.z1[f],y=o.minDis,g=o.fv,x=o.dpv;u=0<=(l=a=x.distance(v,m,!0,!0))?1:-1,l=Math.abs(l),t&&(h=o.cvt[d],n&&Math.abs(l-h)<o.cvCutIn&&(l=h)),r&&l<y&&(l=y),n&&(l=o.round(l)),g.setRelative(v,m,u*l,x),g.touch(v),e.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(i?"M":"m")+(r?">":"_")+(n?"R":"_")+(0===s?"Gr":1===s?"Bl":2===s?"Wh":"")+"]",t?d+"("+o.cvt[d]+","+h+")":"",f,"(d =",a,"->",u*l,")"),o.rp1=o.rp0,o.rp2=f,i&&(o.rp0=f)}qe.prototype.exec=function(t,i){if("number"!=typeof i)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var r=this.font,n=this._prepState;if(!n||n.ppem!==i){var s=this._fpgmState;if(!s){hi.prototype=ui,(s=this._fpgmState=new hi("fpgm",r.tables.fpgm)).funcs=[],s.font=r,e.DEBUG&&(console.log("---EXEC FPGM---"),s.step=-1);try{We(s)}catch(t){return console.log("Hinting error in FPGM:"+t),void(this._errorState=3)}}hi.prototype=s,(n=this._prepState=new hi("prep",r.tables.prep)).ppem=i;var o=r.tables.cvt;if(o)for(var a=n.cvt=new Array(o.length),l=i/r.unitsPerEm,u=0;u<o.length;u++)a[u]=o[u]*l;else n.cvt=[];e.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{We(n)}catch(t){this._errorState<2&&console.log("Hinting error in PREP:"+t),this._errorState=2}}if(!(1<this._errorState))try{return Ye(t,n)}catch(t){return this._errorState<1&&(console.log("Hinting error:"+t),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Ye=function(t,i){var r,n,s,o=i.ppem/i.font.unitsPerEm,a=o,l=t.components;if(hi.prototype=i,l){var u=i.font;n=[],r=[];for(var h=0;h<l.length;h++){var c=l[h],d=u.glyphs.get(c.glyphIndex);s=new hi("glyf",d.instructions),e.DEBUG&&(console.log("---EXEC COMP "+h+"---"),s.step=-1),Xe(d,s,o,a);for(var f=Math.round(c.dx*o),p=Math.round(c.dy*a),m=s.gZone,v=s.contours,y=0;y<m.length;y++){var g=m[y];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+f,g.yo=g.y=g.y+p}var x=n.length;n.push.apply(n,m);for(var b=0;b<v.length;b++)r.push(v[b]+x)}t.instructions&&!s.inhibitGridFit&&((s=new hi("glyf",t.instructions)).gZone=s.z0=s.z1=s.z2=n,s.contours=r,n.push(new ai(0,0),new ai(Math.round(t.advanceWidth*o),0)),e.DEBUG&&(console.log("---EXEC COMPOSITE---"),s.step=-1),We(s),n.length-=2)}else s=new hi("glyf",t.instructions),e.DEBUG&&(console.log("---EXEC GLYPH---"),s.step=-1),Xe(t,s,o,a),n=s.gZone;return n},Xe=function(t,i,r,n){for(var s,o,a,l=t.points||[],u=l.length,h=i.gZone=i.z0=i.z1=i.z2=[],c=i.contours=[],d=0;d<u;d++)s=l[d],h[d]=new ai(s.x*r,s.y*n,s.lastPointOfContour,s.onCurve);for(var f=0;f<u;f++)s=h[f],o||(o=s,c.push(f)),s.lastPointOfContour?((s.nextPointOnContour=o).prevPointOnContour=s,o=void 0):(a=h[f+1],(s.nextPointOnContour=a).prevPointOnContour=s);if(!i.inhibitGridFit){if(e.DEBUG){console.log("PROCESSING GLYPH",i.stack);for(var p=0;p<u;p++)console.log(p,h[p].x,h[p].y)}if(h.push(new ai(0,0),new ai(Math.round(t.advanceWidth*r),0)),We(i),h.length-=2,e.DEBUG){console.log("FINISHED GLYPH",i.stack);for(var m=0;m<u;m++)console.log(m,h[m].x,h[m].y)}}},We=function(t){var i=t.prog;if(i){var r,n=i.length;for(t.ip=0;t.ip<n;t.ip++){if(e.DEBUG&&t.step++,!(r=He[i[t.ip]]))throw new Error("unknown instruction: 0x"+Number(i[t.ip]).toString(16));r(t)}}},He=[fi.bind(void 0,ni),fi.bind(void 0,ri),pi.bind(void 0,ni),pi.bind(void 0,ri),mi.bind(void 0,ni),mi.bind(void 0,ri),vi.bind(void 0,0),vi.bind(void 0,1),yi.bind(void 0,0),yi.bind(void 0,1),function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,n),t.pv=t.dpv=oi(n,r)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,n),t.fv=oi(n,r)},function(t){var i=t.stack,r=t.pv;e.DEBUG&&console.log(t.step,"GPV[]"),i.push(16384*r.x),i.push(16384*r.y)},function(t){var i=t.stack,r=t.fv;e.DEBUG&&console.log(t.step,"GFV[]"),i.push(16384*r.x),i.push(16384*r.y)},function(t){t.fv=t.pv,e.DEBUG&&console.log(t.step,"SFVTPV[]")},function(t){var i=t.stack,r=i.pop(),n=i.pop(),s=i.pop(),o=i.pop(),a=i.pop(),l=t.z0,u=t.z1,h=l[r],c=l[n],d=u[s],f=u[o],p=t.z2[a];e.DEBUG&&console.log("ISECT[], ",r,n,s,o,a);var m=h.x,v=h.y,y=c.x,g=c.y,x=d.x,b=d.y,w=f.x,_=f.y,S=(m-y)*(b-_)-(v-g)*(x-w),A=m*g-v*y,T=x*_-b*w;p.x=(A*(x-w)-T*(m-y))/S,p.y=(A*(b-_)-T*(v-g))/S},function(t){t.rp0=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)},function(t){t.rp1=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)},function(t){t.rp2=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)},function(t){var i=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP0[]",i),t.zp0=i){case 0:t.tZone||ci(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var i=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP1[]",i),t.zp1=i){case 0:t.tZone||ci(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var i=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP2[]",i),t.zp2=i){case 0:t.tZone||ci(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var i=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZPS[]",i),t.zp0=t.zp1=t.zp2=i,i){case 0:t.tZone||ci(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){t.loop=t.stack.pop(),e.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)},function(t){e.DEBUG&&console.log(t.step,"RTG[]"),t.round=Ke},function(t){e.DEBUG&&console.log(t.step,"RTHG[]"),t.round=$e},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"SMD[]",i),t.minDis=i/64},function(t){e.DEBUG&&console.log(t.step,"ELSE[]"),di(t,!1)},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"JMPR[]",i),t.ip+=i-1},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"SCVTCI[]",i),t.cvCutIn=i/64},void 0,void 0,function(t){var i=t.stack;e.DEBUG&&console.log(t.step,"DUP[]"),i.push(i[i.length-1])},gi,function(t){e.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"SWAP[]"),i.push(r),i.push(n)},function(t){var i=t.stack;e.DEBUG&&console.log(t.step,"DEPTH[]"),i.push(i.length)},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"CINDEX[]",r),i.push(i[i.length-r])},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"MINDEX[]",r),i.push(i.splice(i.length-r,1)[0])},void 0,void 0,void 0,function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"LOOPCALL[]",r,n);var s=t.ip,o=t.prog;t.prog=t.funcs[r];for(var a=0;a<n;a++)We(t),e.DEBUG&&console.log(++t.step,a+1<n?"next loopcall":"done loopcall",a);t.ip=s,t.prog=o},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"CALL[]",i);var r=t.ip,n=t.prog;t.prog=t.funcs[i],We(t),t.ip=r,t.prog=n,e.DEBUG&&console.log(++t.step,"returning from",i)},function(t){if("fpgm"!==t.env)throw new Error("FDEF not allowed here");var i=t.stack,r=t.prog,n=t.ip,s=i.pop(),o=n;for(e.DEBUG&&console.log(t.step,"FDEF[]",s);45!==r[++n];);t.ip=n,t.funcs[s]=r.slice(o+1,n)},void 0,xi.bind(void 0,0),xi.bind(void 0,1),bi.bind(void 0,ni),bi.bind(void 0,ri),wi.bind(void 0,0),wi.bind(void 0,1),_i.bind(void 0,0),_i.bind(void 0,1),Si.bind(void 0,0),Si.bind(void 0,1),function(t){for(var i=t.stack,r=t.loop,n=t.fv,s=i.pop()/64,o=t.z2;r--;){var a=i.pop(),l=o[a];e.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-r)+": ":"")+"SHPIX[]",a,s),n.setRelative(l,l,s),n.touch(l)}t.loop=1},function(t){for(var i=t.stack,r=t.rp1,n=t.rp2,s=t.loop,o=t.z0[r],a=t.z1[n],l=t.fv,u=t.dpv,h=t.z2;s--;){var c=i.pop(),d=h[c];e.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-s)+": ":"")+"IP[]",c,r,"<->",n),l.interpolate(d,o,a,u),l.touch(d)}t.loop=1},Ai.bind(void 0,0),Ai.bind(void 0,1),function(t){for(var i=t.stack,r=t.rp0,n=t.z0[r],s=t.loop,o=t.fv,a=t.pv,l=t.z1;s--;){var u=i.pop(),h=l[u];e.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-s)+": ":"")+"ALIGNRP[]",u),o.setRelative(h,n,0,a),o.touch(h)}t.loop=1},function(t){e.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Je},Ti.bind(void 0,0),Ti.bind(void 0,1),function(t){var i=t.prog,r=t.ip,n=t.stack,s=i[++r];e.DEBUG&&console.log(t.step,"NPUSHB[]",s);for(var o=0;o<s;o++)n.push(i[++r]);t.ip=r},function(t){var i=t.ip,r=t.prog,n=t.stack,s=r[++i];e.DEBUG&&console.log(t.step,"NPUSHW[]",s);for(var o=0;o<s;o++){var a=r[++i]<<8|r[++i];32768&a&&(a=-(1+(65535^a))),n.push(a)}t.ip=i},function(t){var i=t.stack,r=t.store;r=r||(t.store=[]);var n=i.pop(),s=i.pop();e.DEBUG&&console.log(t.step,"WS",n,s),r[s]=n},function(t){var i=t.stack,r=t.store,n=i.pop();e.DEBUG&&console.log(t.step,"RS",n);var s=r&&r[n]||0;i.push(s)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"WCVTP",r,n),t.cvt[n]=r/64},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"RCVT",r),i.push(64*t.cvt[r])},Ei.bind(void 0,0),Ei.bind(void 0,1),void 0,Mi.bind(void 0,0),Mi.bind(void 0,1),function(t){e.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)},void 0,function(t){e.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0},void 0,void 0,function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"LT[]",r,n),i.push(n<r?1:0)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"LTEQ[]",r,n),i.push(n<=r?1:0)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"GT[]",r,n),i.push(r<n?1:0)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"GTEQ[]",r,n),i.push(r<=n?1:0)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"EQ[]",r,n),i.push(r===n?1:0)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"NEQ[]",r,n),i.push(r!==n?1:0)},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"ODD[]",r),i.push(Math.trunc(r)%2?1:0)},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"EVEN[]",r),i.push(Math.trunc(r)%2?0:1)},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"IF[]",i),i||(di(t,!0),e.DEBUG&&console.log(t.step,"EIF[]"))},function(t){e.DEBUG&&console.log(t.step,"EIF[]")},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"AND[]",r,n),i.push(r&&n?1:0)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"OR[]",r,n),i.push(r||n?1:0)},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"NOT[]",r),i.push(r?0:1)},Ci.bind(void 0,1),function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"SDB[]",i),t.deltaBase=i},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"SDS[]",i),t.deltaShift=Math.pow(.5,i)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"ADD[]",r,n),i.push(n+r)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"SUB[]",r,n),i.push(n-r)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"DIV[]",r,n),i.push(64*n/r)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"MUL[]",r,n),i.push(n*r/64)},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"ABS[]",r),i.push(Math.abs(r))},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"NEG[]",r),i.push(-r)},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"FLOOR[]",r),i.push(64*Math.floor(r/64))},function(t){var i=t.stack,r=i.pop();e.DEBUG&&console.log(t.step,"CEILING[]",r),i.push(64*Math.ceil(r/64))},Pi.bind(void 0,0),Pi.bind(void 0,1),Pi.bind(void 0,2),Pi.bind(void 0,3),void 0,void 0,void 0,void 0,function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"WCVTF[]",r,n),t.cvt[n]=r*t.ppem/t.font.unitsPerEm},Ci.bind(void 0,2),Ci.bind(void 0,3),Ri.bind(void 0,1),Ri.bind(void 0,2),Ri.bind(void 0,3),function(t){var i,r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SROUND[]",r),t.round=ii,192&r){case 0:i=.5;break;case 64:i=1;break;case 128:i=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=i,48&r){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*i;break;case 32:t.srPhase=.5*i;break;case 48:t.srPhase=.75*i;break;default:throw new Error("invalid SROUND value")}r&=15,t.srThreshold=0===r?0:(r/8-.5)*i},function(t){var i,r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"S45ROUND[]",r),t.round=ii,192&r){case 0:i=Math.sqrt(2)/2;break;case 64:i=Math.sqrt(2);break;case 128:i=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=i,48&r){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*i;break;case 32:t.srPhase=.5*i;break;case 48:t.srPhase=.75*i;break;default:throw new Error("invalid S45ROUND value")}r&=15,t.srThreshold=0===r?0:(r/8-.5)*i},void 0,void 0,function(t){e.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Qe},void 0,function(t){e.DEBUG&&console.log(t.step,"RUTG[]"),t.round=ti},function(t){e.DEBUG&&console.log(t.step,"RDTG[]"),t.round=ei},gi,gi,void 0,void 0,void 0,void 0,void 0,function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANCTRL[]",i)},ki.bind(void 0,0),ki.bind(void 0,1),function(t){var i=t.stack,r=i.pop(),n=0;e.DEBUG&&console.log(t.step,"GETINFO[]",r),1&r&&(n=35),32&r&&(n|=4096),i.push(n)},void 0,function(t){var i=t.stack,r=i.pop(),n=i.pop(),s=i.pop();e.DEBUG&&console.log(t.step,"ROLL[]"),i.push(n),i.push(r),i.push(s)},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"MAX[]",r,n),i.push(Math.max(n,r))},function(t){var i=t.stack,r=i.pop(),n=i.pop();e.DEBUG&&console.log(t.step,"MIN[]",r,n),i.push(Math.min(n,r))},function(t){var i=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANTYPE[]",i)},function(t){var i=t.stack.pop(),r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"INSTCTRL[]",i,r),i){case 1:return void(t.inhibitGridFit=!!r);case 2:return void(t.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Li.bind(void 0,1),Li.bind(void 0,2),Li.bind(void 0,3),Li.bind(void 0,4),Li.bind(void 0,5),Li.bind(void 0,6),Li.bind(void 0,7),Li.bind(void 0,8),Oi.bind(void 0,1),Oi.bind(void 0,2),Oi.bind(void 0,3),Oi.bind(void 0,4),Oi.bind(void 0,5),Oi.bind(void 0,6),Oi.bind(void 0,7),Oi.bind(void 0,8),Di.bind(void 0,0,0,0,0,0),Di.bind(void 0,0,0,0,0,1),Di.bind(void 0,0,0,0,0,2),Di.bind(void 0,0,0,0,0,3),Di.bind(void 0,0,0,0,1,0),Di.bind(void 0,0,0,0,1,1),Di.bind(void 0,0,0,0,1,2),Di.bind(void 0,0,0,0,1,3),Di.bind(void 0,0,0,1,0,0),Di.bind(void 0,0,0,1,0,1),Di.bind(void 0,0,0,1,0,2),Di.bind(void 0,0,0,1,0,3),Di.bind(void 0,0,0,1,1,0),Di.bind(void 0,0,0,1,1,1),Di.bind(void 0,0,0,1,1,2),Di.bind(void 0,0,0,1,1,3),Di.bind(void 0,0,1,0,0,0),Di.bind(void 0,0,1,0,0,1),Di.bind(void 0,0,1,0,0,2),Di.bind(void 0,0,1,0,0,3),Di.bind(void 0,0,1,0,1,0),Di.bind(void 0,0,1,0,1,1),Di.bind(void 0,0,1,0,1,2),Di.bind(void 0,0,1,0,1,3),Di.bind(void 0,0,1,1,0,0),Di.bind(void 0,0,1,1,0,1),Di.bind(void 0,0,1,1,0,2),Di.bind(void 0,0,1,1,0,3),Di.bind(void 0,0,1,1,1,0),Di.bind(void 0,0,1,1,1,1),Di.bind(void 0,0,1,1,1,2),Di.bind(void 0,0,1,1,1,3),Di.bind(void 0,1,0,0,0,0),Di.bind(void 0,1,0,0,0,1),Di.bind(void 0,1,0,0,0,2),Di.bind(void 0,1,0,0,0,3),Di.bind(void 0,1,0,0,1,0),Di.bind(void 0,1,0,0,1,1),Di.bind(void 0,1,0,0,1,2),Di.bind(void 0,1,0,0,1,3),Di.bind(void 0,1,0,1,0,0),Di.bind(void 0,1,0,1,0,1),Di.bind(void 0,1,0,1,0,2),Di.bind(void 0,1,0,1,0,3),Di.bind(void 0,1,0,1,1,0),Di.bind(void 0,1,0,1,1,1),Di.bind(void 0,1,0,1,1,2),Di.bind(void 0,1,0,1,1,3),Di.bind(void 0,1,1,0,0,0),Di.bind(void 0,1,1,0,0,1),Di.bind(void 0,1,1,0,0,2),Di.bind(void 0,1,1,0,0,3),Di.bind(void 0,1,1,0,1,0),Di.bind(void 0,1,1,0,1,1),Di.bind(void 0,1,1,0,1,2),Di.bind(void 0,1,1,0,1,3),Di.bind(void 0,1,1,1,0,0),Di.bind(void 0,1,1,1,0,1),Di.bind(void 0,1,1,1,0,2),Di.bind(void 0,1,1,1,0,3),Di.bind(void 0,1,1,1,1,0),Di.bind(void 0,1,1,1,1,1),Di.bind(void 0,1,1,1,1,2),Di.bind(void 0,1,1,1,1,3)];var Ii=Array.from||function(t){return t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Fi(t){(t=t||{}).empty||(Be(t.familyName,"When creating a new Font object, familyName is required."),Be(t.styleName,"When creating a new Font object, styleName is required."),Be(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Be(t.ascender,"When creating a new Font object, ascender is required."),Be(t.descender,"When creating a new Font object, descender is required."),Be(t.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables={os2:{usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new bt.GlyphSet(this,t.glyphs||[]),this.encoding=new dt(this),this.position=new Oe(this),this.substitution=new De(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new qe(this):void 0}})}function ji(t,e,i,r){var n={},s=new st.Parser(t,e);n.name=r[s.parseUShort()]||{},s.skip("uShort",1),n.coordinates={};for(var o=0;o<i.length;++o)n.coordinates[i[o].tag]=s.parseFixed();return n}Fi.prototype.hasChar=function(t){return null!==this.encoding.charToGlyphIndex(t)},Fi.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)},Fi.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t);return this.glyphs.get(e)||this.glyphs.get(0)},Fi.prototype.stringToGlyphs=function(t,e){e=e||this.defaultRenderOptions;for(var i=Ii(t),r=[],n=0;n<i.length;n+=1){var s=i[n];r.push(this.charToGlyphIndex(s))}var o=r.length;if(e.features){var a=e.script||this.substitution.getDefaultScriptName(),l=[];e.features.liga&&(l=l.concat(this.substitution.getFeature("liga",a,e.language))),e.features.rlig&&(l=l.concat(this.substitution.getFeature("rlig",a,e.language)));for(var u=0;u<o;u+=1)for(var h=0;h<l.length;h++){for(var c=l[h],d=c.sub,f=d.length,p=0;p<f&&d[p]===r[u+p];)p++;p===f&&(r.splice(u,f,c.by),o=o-f+1)}}for(var m=new Array(o),v=this.glyphs.get(0),y=0;y<o;y+=1)m[y]=this.glyphs.get(r[y])||v;return m},Fi.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)},Fi.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t);return this.glyphs.get(e)||this.glyphs.get(0)},Fi.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""},Fi.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var i=this.position.defaultKerningTables;return i?this.position.getKerningValue(i,t,e):this.kerningPairs[t+","+e]||0},Fi.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Fi.prototype.forEachGlyph=function(t,e,i,r,n,s){e=void 0!==e?e:0,i=void 0!==i?i:0,r=void 0!==r?r:72,n=n||this.defaultRenderOptions;var o,a=1/this.unitsPerEm*r,l=this.stringToGlyphs(t,n);if(n.kerning){var u=n.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(u,n.language)}for(var h=0;h<l.length;h+=1){var c=l[h];s.call(this,c,e,i,r,n),c.advanceWidth&&(e+=c.advanceWidth*a),n.kerning&&h<l.length-1&&(e+=(o?this.position.getKerningValue(o,c.index,l[h+1].index):this.getKerningValue(c,l[h+1]))*a),n.letterSpacing?e+=n.letterSpacing*r:n.tracking&&(e+=n.tracking/1e3*r)}return e},Fi.prototype.getPath=function(t,e,i,r,n){var s=new M;return this.forEachGlyph(t,e,i,r,n,(function(t,e,i,r){var o=t.getPath(e,i,r,n,this);s.extend(o)})),s},Fi.prototype.getPaths=function(t,e,i,r,n){var s=[];return this.forEachGlyph(t,e,i,r,n,(function(t,e,i,r){var o=t.getPath(e,i,r,n,this);s.push(o)})),s},Fi.prototype.getAdvanceWidth=function(t,e,i){return this.forEachGlyph(t,0,0,e,i,(function(){}))},Fi.prototype.draw=function(t,e,i,r,n,s){this.getPath(e,i,r,n,s).draw(t)},Fi.prototype.drawPoints=function(t,e,i,r,n,s){this.forEachGlyph(e,i,r,n,s,(function(e,i,r,n){e.drawPoints(t,i,r,n)}))},Fi.prototype.drawMetrics=function(t,e,i,r,n,s){this.forEachGlyph(e,i,r,n,s,(function(e,i,r,n){e.drawMetrics(t,i,r,n)}))},Fi.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en},Fi.prototype.validate=function(){var t=this;function e(e){var i=t.getEnglishName(e);i&&i.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),this.unitsPerEm},Fi.prototype.toTables=function(){return Ce(this)},Fi.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Fi.prototype.toArrayBuffer=function(){for(var t=this.toTables().encode(),e=new ArrayBuffer(t.length),i=new Uint8Array(e),r=0;r<t.length;r++)i[r]=t[r];return e},Fi.prototype.download=function(e){var i=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");e=e||i.replace(/\s/g,"")+"-"+n+".otf";var s=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,s.byteLength,(function(t){t.root.getFile(e,{create:!0},(function(t){t.createWriter((function(e){var i=new DataView(s),r=new Blob([i],{type:"font/opentype"});e.write(r),e.addEventListener("writeend",(function(){location.href=t.toURL()}),!1)}))}))}),(function(t){throw new Error(t.name+": "+t.message)}));else{var o=t("fs"),a=function(t){for(var e=new r(t.byteLength),i=new Uint8Array(t),n=0;n<e.length;++n)e[n]=i[n];return e}(s);o.writeFileSync(e,a)}},Fi.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Fi.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Fi.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Bi=function(t,e,i){var r=new st.Parser(t,e),n=r.parseULong();R.argument(65536===n,"Unsupported fvar table version.");var s=r.parseOffset16();r.skip("uShort",1);for(var o,a,l,u,h,c=r.parseUShort(),d=r.parseUShort(),f=r.parseUShort(),p=r.parseUShort(),m=[],v=0;v<c;v++)m.push((o=t,a=e+s+v*d,l=i,h=u=void 0,u={},h=new st.Parser(o,a),u.tag=h.parseTag(),u.minValue=h.parseFixed(),u.defaultValue=h.parseFixed(),u.maxValue=h.parseFixed(),h.skip("uShort",1),u.name=l[h.parseUShort()]||{},u));for(var y=[],g=e+s+c*d,x=0;x<f;x++)y.push(ji(t,g+x*p,m,i));return{axes:m,instances:y}},Ni=new Array(10);Ni[1]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{posFormat:1,coverage:this.parsePointer(rt.coverage),value:this.parseValueRecord()}:2===e?{posFormat:2,coverage:this.parsePointer(rt.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ni[2]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();R.assert(1===e||2===e,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(rt.coverage),r=this.parseUShort(),n=this.parseUShort();if(1===e)return{posFormat:e,coverage:i,valueFormat1:r,valueFormat2:n,pairSets:this.parseList(rt.pointer(rt.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(n)}}))))};if(2===e){var s=this.parsePointer(rt.classDef),o=this.parsePointer(rt.classDef),a=this.parseUShort(),l=this.parseUShort();return{posFormat:e,coverage:i,valueFormat1:r,valueFormat2:n,classDef1:s,classDef2:o,class1Count:a,class2Count:l,classRecords:this.parseList(a,rt.list(l,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(n)}})))}}},Ni[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ni[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ni[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ni[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ni[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ni[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ni[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var Ui=function(t,e){var i=new rt(t,e=e||0),r=i.parseVersion(1);return R.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(Ni)}:{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(Ni),variations:i.parseFeatureVariationsList()}},zi=function(t,e){var i=new st.Parser(t,e),r=i.parseUShort();if(0===r)return function(t){var e={};t.skip("uShort");var i=t.parseUShort();R.argument(0===i,"Unsupported kern sub-table version."),t.skip("uShort",2);var r=t.parseUShort();t.skip("uShort",3);for(var n=0;n<r;n+=1){var s=t.parseUShort(),o=t.parseUShort(),a=t.parseShort();e[s+","+o]=a}return e}(i);if(1===r)return function(t){var e={};t.skip("uShort"),1<t.parseULong()&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var i=255&t.parseUShort();if(t.skip("uShort"),0==i){var r=t.parseUShort();t.skip("uShort",3);for(var n=0;n<r;n+=1){var s=t.parseUShort(),o=t.parseUShort(),a=t.parseShort();e[s+","+o]=a}}return e}(i);throw new Error("Unsupported kern table version ("+r+").")},Gi=function(t,e,i,r){for(var n=new st.Parser(t,e),s=r?n.parseUShort:n.parseULong,o=[],a=0;a<i+1;a+=1){var l=s.call(n);r&&(l*=2),o.push(l)}return o};function Vi(e,i){t("fs").readFile(e,(function(t,e){if(t)return i(t.message);i(null,je(e))}))}function Hi(t,e){var i=new XMLHttpRequest;i.open("get",t,!0),i.responseType="arraybuffer",i.onload=function(){return i.response?e(null,i.response):e("Font could not be loaded: "+i.statusText)},i.onerror=function(){e("Font could not be loaded")},i.send()}function Wi(t,e){for(var i=[],r=12,n=0;n<e;n+=1){var s=st.getTag(t,r),o=st.getULong(t,r+4),a=st.getULong(t,r+8),l=st.getULong(t,r+12);i.push({tag:s,checksum:o,offset:a,length:l,compression:!1}),r+=16}return i}function Yi(t,e){if("WOFF"!==e.compression)return{data:t,offset:e.offset};var i=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(function(t,e){var i,r,n=new o(t,e);do{switch(i=x(n),b(n,2,0)){case 0:r=A(n);break;case 1:r=S(n,a,l);break;case 2:_(n,n.ltree,n.dtree),r=S(n,n.ltree,n.dtree);break;default:r=-3}if(0!==r)throw new Error("Data error")}while(!i);n.destLen<n.dest.length?"function"==typeof n.dest.slice?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}(i,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}function Xi(t){var e,i,r,n,s,o,a,l,u,h,c,d,f,p,m=new Fi({empty:!0}),v=new DataView(t,0),y=[],g=st.getTag(v,0);if(g===String.fromCharCode(0,1,0,0)||"true"===g||"typ1"===g)m.outlinesFormat="truetype",y=Wi(v,r=st.getUShort(v,4));else if("OTTO"===g)m.outlinesFormat="cff",y=Wi(v,r=st.getUShort(v,4));else{if("wOFF"!==g)throw new Error("Unsupported OpenType signature "+g);var x=st.getTag(v,4);if(x===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==x)throw new Error("Unsupported OpenType flavor "+g);m.outlinesFormat="cff"}y=function(t,e){for(var i=[],r=44,n=0;n<e;n+=1){var s,o=st.getTag(t,r),a=st.getULong(t,r+4),l=st.getULong(t,r+8),u=st.getULong(t,r+12);s=l<u&&"WOFF",i.push({tag:o,offset:a,compression:s,compressedLength:l,length:u}),r+=20}return i}(v,r=st.getUShort(v,12))}for(var b=0;b<r;b+=1){var w=y[b],_=void 0;switch(w.tag){case"cmap":_=Yi(v,w),m.tables.cmap=ot(_.data,_.offset),m.encoding=new ft(m.tables.cmap);break;case"cvt ":_=Yi(v,w),p=new st.Parser(_.data,_.offset),m.tables.cvt=p.parseShortList(w.length/2);break;case"fvar":s=w;break;case"fpgm":_=Yi(v,w),p=new st.Parser(_.data,_.offset),m.tables.fpgm=p.parseByteList(w.length);break;case"head":_=Yi(v,w),m.tables.head=Ut(_.data,_.offset),m.unitsPerEm=m.tables.head.unitsPerEm,e=m.tables.head.indexToLocFormat;break;case"hhea":_=Yi(v,w),m.tables.hhea=Gt(_.data,_.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":u=w;break;case"ltag":_=Yi(v,w),i=Xt(_.data,_.offset);break;case"maxp":_=Yi(v,w),m.tables.maxp=Zt(_.data,_.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":d=w;break;case"OS/2":_=Yi(v,w),m.tables.os2=ce(_.data,_.offset);break;case"post":_=Yi(v,w),m.tables.post=pe(_.data,_.offset),m.glyphNames=new mt(m.tables.post);break;case"prep":_=Yi(v,w),p=new st.Parser(_.data,_.offset),m.tables.prep=p.parseByteList(w.length);break;case"glyf":o=w;break;case"loca":c=w;break;case"CFF ":n=w;break;case"kern":h=w;break;case"GPOS":a=w;break;case"GSUB":l=w;break;case"meta":f=w}}var S=Yi(v,d);if(m.tables.name=le(S.data,S.offset,i),m.names=m.tables.name,o&&c){var A=0===e,T=Yi(v,c),E=Gi(T.data,T.offset,m.numGlyphs,A),M=Yi(v,o);m.glyphs=Ze.parse(M.data,M.offset,E,m)}else{if(!n)throw new Error("Font doesn't contain TrueType or CFF outlines.");var C=Yi(v,n);Bt(C.data,C.offset,m)}var P=Yi(v,u);if(Ht(P.data,P.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),function(t){for(var e,i=t.tables.cmap.glyphIndexMap,r=Object.keys(i),n=0;n<r.length;n+=1){var s=r[n],o=i[s];(e=t.glyphs.get(o)).addUnicode(parseInt(s))}for(var a=0;a<t.glyphs.length;a+=1)e=t.glyphs.get(a),t.cffEncoding?t.isCIDFont?e.name="gid"+a:e.name=t.cffEncoding.charset[a]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(a))}(m),h){var R=Yi(v,h);m.kerningPairs=zi(R.data,R.offset)}else m.kerningPairs={};if(a){var k=Yi(v,a);m.tables.gpos=Ui(k.data,k.offset),m.position.init()}if(l){var L=Yi(v,l);m.tables.gsub=xe(L.data,L.offset)}if(s){var O=Yi(v,s);m.tables.fvar=Bi(O.data,O.offset,m.names)}if(f){var D=Yi(v,f);m.tables.meta=we(D.data,D.offset),m.metas=m.tables.meta}return m}e.Font=Fi,e.Glyph=yt,e.Path=M,e.BoundingBox=E,e._parse=st,e.parse=Xi,e.load=function(t,e){("undefined"==typeof window?Vi:Hi)(t,(function(t,i){if(t)return e(t);var r;try{r=Xi(i)}catch(t){return e(t,null)}return e(null,r)}))},e.loadSync=function(e){return Xi(je(t("fs").readFileSync(e)))},Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof i&&void 0!==e?i:this.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],237:[function(t,e,i){(function(t){function e(t,e){for(var i=0,r=t.length-1;0<=r;r--){var n=t[r];"."===n?t.splice(r,1):".."===n?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}i.resolve=function(){for(var i="",n=!1,s=arguments.length-1;-1<=s&&!n;s--){var o=0<=s?arguments[s]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(i=o+"/"+i,n="/"===o.charAt(0))}return(n?"/":"")+(i=e(r(i.split("/"),(function(t){return!!t})),!n).join("/"))||"."},i.normalize=function(t){var s=i.isAbsolute(t),o="/"===n(t,-1);return(t=e(r(t.split("/"),(function(t){return!!t})),!s).join("/"))||s||(t="."),t&&o&&(t+="/"),(s?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},i.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<e?[]:t.slice(e,i-e+1)}t=i.resolve(t).substr(1),e=i.resolve(e).substr(1);for(var n=r(t.split("/")),s=r(e.split("/")),o=Math.min(n.length,s.length),a=o,l=0;l<o;l++)if(n[l]!==s[l]){a=l;break}var u=[];for(l=a;l<n.length;l++)u.push("..");return(u=u.concat(s.slice(a))).join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,r=-1,n=!0,s=t.length-1;1<=s;--s)if(47===(e=t.charCodeAt(s))){if(!n){r=s;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":t.slice(0,r)},i.basename=function(t,e){var i=function(t){"string"!=typeof t&&(t+="");var e,i=0,r=-1,n=!0;for(e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!n){i=e+1;break}}else-1===r&&(n=!1,r=e+1);return-1===r?"":t.slice(i,r)}(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},i.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,i=0,r=-1,n=!0,s=0,o=t.length-1;0<=o;--o){var a=t.charCodeAt(o);if(47===a){if(n)continue;i=o+1;break}-1===r&&(n=!1,r=o+1),46===a?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1)}return-1===e||-1===r||0===s||1===s&&e===r-1&&e===i+1?"":t.slice(e,r)};var n=function(t,e,i){return t.substr(e,i)}}).call(this,t("_process"))},{_process:238}],238:[function(t,e,i){var r,n,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,h=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?h=u.concat(h):d=-1,h.length&&p())}function p(){if(!c){var t=l(f);c=!0;for(var e=h.length;e;){for(u=h,h=[];++d<e;)u&&u[d].run();d=-1,e=h.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new m(t,e)),1!==h.length||c||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],239:[function(t,e,i){!function(t){"use strict";if(!t.fetch){var e="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),n="FormData"in t,s="ArrayBuffer"in t;if(s)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(t){return t&&DataView.prototype.isPrototypeOf(t)},l=ArrayBuffer.isView||function(t){return t&&-1<o.indexOf(Object.prototype.toString.call(t))};p.prototype.append=function(t,e){t=c(t),e=d(e);var i=this.map[t];this.map[t]=i?i+","+e:e},p.prototype.delete=function(t){delete this.map[c(t)]},p.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},p.prototype.set=function(t,e){this.map[c(t)]=d(e)},p.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),f(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,i){t.push([i,e])})),f(t)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},x.call(b.prototype),x.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var h=[301,302,303,307,308];_.redirect=function(t,e){if(-1===h.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=p,t.Request=b,t.Response=_,t.fetch=function(t,e){return new Promise((function(i,n){var s=new b(t,e),o=new XMLHttpRequest;o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();e.append(r,n)}})),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var n="response"in o?o.response:o.responseText;i(new _(n,r))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&r&&(o.responseType="blob"),s.headers.forEach((function(t,e){o.setRequestHeader(e,t)})),o.send(void 0===s._bodyInit?null:s._bodyInit)}))},t.fetch.polyfill=!0}function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(t){return new Promise((function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}}))}function y(t){var e=new FileReader,i=v(e);return e.readAsArrayBuffer(t),i}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(r&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(n&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(s&&r&&a(t))this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s||!ArrayBuffer.prototype.isPrototypeOf(t)&&!l(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=g(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,i,r=m(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,i=v(e=new FileReader),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),r=0;r<e.length;r++)i[r]=String.fromCharCode(e[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(t,e){var i,r,n=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(r=(i=e.method||this.method||"GET").toUpperCase(),-1<u.indexOf(r)?r:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(n))}})),e}function _(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},{}],240:[function(t,e,i){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=o(t("../core/main")),s=o(t("../color/color_conversion"));function o(t){return t&&t.__esModule?t:{default:t}}var a=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];n.default.prototype._rgbColorName=function(t){var e=s.default._rgbaToHSBA(t);return function(t){var e;if(0!==t[0]){t[0]=Math.round(100*t[0]);var i=t[0].toString().split(""),n=i.length-1;i[n]=parseInt(i[n]),i[n]<2.5?i[n]=0:2.5<=i[n]&&i[n]<7.5&&(i[n]=5),2===i.length?(i[0]=parseInt(i[0]),7.5<=i[n]&&(i[n]=0,i[0]=i[0]+1),t[0]=10*i[0]+i[1]):7.5<=i[n]?t[0]=10:t[0]=i[n]}t[2]=t[2]/255;for(var s=t.length-1;1<=s;s--)t[s]<=.25?t[s]=0:.25<t[s]&&t[s]<.75?t[s]=.5:t[s]=1;if(0===t[0]&&0===t[1]&&1===t[2]){for(var o=2;0<=o;o--)r[o]=Math.round(1e4*r[o])/1e4;for(var u=0;u<a.length;u++){if(a[u].h===r[0]&&a[u].s===r[1]&&a[u].b===r[2]){e=a[u].name;break}e="white"}}else for(var h=0;h<l.length;h++)if(l[h].h===t[0]&&l[h].s===t[1]&&l[h].b===t[2]){e=l[h].name;break}return e}([(r=e)[0],e[1],e[2]])};var u=n.default;i.default=u},{"../color/color_conversion":246,"../core/main":260,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],241:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r},s="_Description",o="_fallbackDesc",a="_fallbackTable",l="_Label",u="_labelDesc",h="_labelTable";function c(t){if("label"===t||"fallback"===t)throw new Error("description should not be LABEL or FALLBACK");return t.endsWith(".")||t.endsWith(";")||t.endsWith(",")||t.endsWith("?")||t.endsWith("!")||(t+="."),t}n.default.prototype.describe=function(t,e){if(n.default._validateParameters("describe",arguments),"string"==typeof t){var i=this.canvas.id;t=c(t),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==t&&(this.descriptions.fallback.innerHTML=t):this._describeHTML("fallback",t),e===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==t&&(this.descriptions.label.innerHTML=t):this._describeHTML("label",t))}},n.default.prototype.describeElement=function(t,e,i){if(n.default._validateParameters("describeElement",arguments),"string"==typeof e&&"string"==typeof t){var r=this.canvas.id;e=c(e);var s=function(t){if("label"===t||"fallback"===t)throw new Error("element name should not be LABEL or FALLBACK");return t.endsWith(".")||t.endsWith(";")||t.endsWith(",")?t=t.replace(/.$/,":"):t.endsWith(":")||(t+=":"),t}(t);t=t.replace(/[^a-zA-Z0-9 ]/g,"");var o='<th scope="row">'.concat(s,"</th><td>").concat(e,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[t]?this.descriptions.fallbackElements[t].innerHTML!==o&&(this.descriptions.fallbackElements[t].innerHTML=o):this._describeElementHTML("fallback",t,o),i===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[t]?this.descriptions.labelElements[t].innerHTML!==o&&(this.descriptions.labelElements[t].innerHTML=o):this._describeElementHTML("label",t,o))}},n.default.prototype._describeHTML=function(t,e){var i=this.canvas.id;if("fallback"===t){if(this.dummyDOM.querySelector("#".concat(i+s)))this.dummyDOM.querySelector("#"+i+a).insertAdjacentHTML("beforebegin",'<p id="'.concat(i+o,'"></p>'));else{var r='<div id="'.concat(i).concat(s,'" role="region" aria-label="Canvas Description"><p id="').concat(i).concat(o,'"></p></div>');this.dummyDOM.querySelector("#".concat(i,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(i,"accessibleOutput")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(i)).innerHTML=r}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(i).concat(o)),void(this.descriptions.fallback.innerHTML=e)}if("label"===t){if(this.dummyDOM.querySelector("#".concat(i+l)))this.dummyDOM.querySelector("#".concat(i+h))&&this.dummyDOM.querySelector("#".concat(i+h)).insertAdjacentHTML("beforebegin",'<p id="'.concat(i).concat(u,'"></p>'));else{var n='<div id="'.concat(i).concat(l,'" class="p5Label"><p id="').concat(i).concat(u,'"></p></div>');this.dummyDOM.querySelector("#".concat(i,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(i,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+i).insertAdjacentHTML("afterend",n)}return this.descriptions.label=this.dummyDOM.querySelector("#"+i+u),void(this.descriptions.label.innerHTML=e)}},n.default.prototype._describeElementHTML=function(t,e,i){var r=this.canvas.id;if("fallback"===t){if(this.dummyDOM.querySelector("#".concat(r+s)))this.dummyDOM.querySelector("#"+r+a)||this.dummyDOM.querySelector("#"+r+o).insertAdjacentHTML("afterend",'<table id="'.concat(r).concat(a,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var n='<div id="'.concat(r).concat(s,'" role="region" aria-label="Canvas Description"><table id="').concat(r).concat(a,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(r,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutput")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+r).innerHTML=n}var c=document.createElement("tr");return c.id=r+"_fte_"+e,this.dummyDOM.querySelector("#"+r+a).appendChild(c),this.descriptions.fallbackElements[e]=this.dummyDOM.querySelector("#".concat(r).concat("_fte_").concat(e)),void(this.descriptions.fallbackElements[e].innerHTML=i)}if("label"===t){if(this.dummyDOM.querySelector("#".concat(r+l)))this.dummyDOM.querySelector("#".concat(r+h))||this.dummyDOM.querySelector("#"+r+u).insertAdjacentHTML("afterend",'<table id="'.concat(r+h,'"></table>'));else{var d='<div id="'.concat(r).concat(l,'" class="p5Label"><table id="').concat(r).concat(h,'"></table></div>');this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+r).insertAdjacentHTML("afterend",d)}var f=document.createElement("tr");f.id=r+"_lte_"+e,this.dummyDOM.querySelector("#"+r+h).appendChild(f),this.descriptions.labelElements[e]=this.dummyDOM.querySelector("#".concat(r).concat("_lte_").concat(e)),this.descriptions.labelElements[e].innerHTML=i}};var d=n.default;i.default=d},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.replace":186}],242:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype._updateGridOutput=function(t){if(this.dummyDOM.querySelector("#".concat(t,"_summary"))){var e=this._accessibleOutputs[t],i=function(t,e){var i="",r="",n=0;for(var s in e){var o=0;for(var a in e[s]){var l='<li id="'.concat(t,"shape").concat(n,'">').concat(e[s][a].color," ").concat(s,",");"line"===s?l+=" location = ".concat(e[s][a].pos,", length = ").concat(e[s][a].length," pixels"):(l+=" location = ".concat(e[s][a].pos),"point"!==s&&(l+=", area = ".concat(e[s][a].area," %")),l+="</li>"),i+=l,o++,n++}r=1<o?"".concat(r," ").concat(o," ").concat(s,"s"):"".concat(r," ").concat(o," ").concat(s)}return{numShapes:[n,r],details:i}}(t,this.ingredients.shapes),r=function(t,e,i,r){var n="".concat(e," canvas, ").concat(i," by ").concat(r," pixels, contains ").concat(t[0]);return 1===t[0]?"".concat(n," shape: ").concat(t[1]):"".concat(n," shapes: ").concat(t[1])}(i.numShapes,this.ingredients.colors.background,this.width,this.height),n=function(t,e){var i=0,r="",n=Array.apply(null,Array(10)).map((function(){}));for(var s in n)n[s]=Array.apply(null,Array(10)).map((function(){}));for(var o in e)for(var a in e[o]){var l;l="line"!==o?'<a href="#'.concat(t,"shape").concat(i,'">').concat(e[o][a].color," ").concat(o,"</a>"):'<a href="#'.concat(t,"shape").concat(i,'">').concat(e[o][a].color," ").concat(o," midpoint</a>"),n[e[o][a].loc.locY][e[o][a].loc.locX]?n[e[o][a].loc.locY][e[o][a].loc.locX]=n[e[o][a].loc.locY][e[o][a].loc.locX]+"  "+l:n[e[o][a].loc.locY][e[o][a].loc.locX]=l,i++}for(var u in n){var h="<tr>";for(var c in n[u])h+="<td>",void 0!==n[u][c]&&(h+=n[u][c]),h+="</td>";r=r+h+"</tr>"}return r}(t,this.ingredients.shapes);r!==e.summary.innerHTML&&(e.summary.innerHTML=r),n!==e.map.innerHTML&&(e.map.innerHTML=n),i.details!==e.shapeDetails.innerHTML&&(e.shapeDetails.innerHTML=i.details),this._accessibleOutputs[t]=e}};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.map":159}],243:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t,e,i){return t[0]<.4*e?t[1]<.4*i?"top left":t[1]>.6*i?"bottom left":"mid left":t[0]>.6*e?t[1]<.4*i?"top right":t[1]>.6*i?"bottom right":"mid right":t[1]<.4*i?"top middle":t[1]>.6*i?"bottom middle":"middle"}function o(t,e,i){var r=Math.floor(t[0]/e*10),n=Math.floor(t[1]/i*10);return 10===r&&--r,10===n&&--n,{locX:r,locY:n}}n.default.prototype.textOutput=function(t){n.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),t===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},n.default.prototype.gridOutput=function(t){n.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),t===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},n.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},n.default.prototype._createOutput=function(t,e){var i,r,n,s=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode);var o="";"Fallback"===e?(i=s+t,r=s+"accessibleOutput",this.dummyDOM.querySelector("#".concat(r))||(this.dummyDOM.querySelector("#".concat(s,"_Description"))?this.dummyDOM.querySelector("#".concat(s,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(s)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===e&&(i=s+t+(o=e),r=s+"accessibleOutput"+e,this.dummyDOM.querySelector("#".concat(r))||(this.dummyDOM.querySelector("#".concat(s,"_Label"))?this.dummyDOM.querySelector("#".concat(s,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>')):this.dummyDOM.querySelector("#".concat(s)).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>')))),this._accessibleOutputs[i]={},"textOutput"===t?(o="#".concat(s,"gridOutput").concat(o),n='<div id="'.concat(i,'">Text Output<div id="').concat(i,'Summary" aria-label="text output summary"><p id="').concat(i,'_summary"></p><ul id="').concat(i,'_list"></ul></div><table id="').concat(i,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(o)?this.dummyDOM.querySelector(o).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n,this._accessibleOutputs[i].list=this.dummyDOM.querySelector("#".concat(i,"_list"))):"gridOutput"===t&&(o="#".concat(s,"textOutput").concat(o),n='<div id="'.concat(i,'">Grid Output<p id="').concat(i,'_summary" aria-label="grid output summary"><table id="').concat(i,'_map" summary="grid output content"></table><ul id="').concat(i,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(o)?this.dummyDOM.querySelector(o).insertAdjacentHTML("afterend",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n,this._accessibleOutputs[i].map=this.dummyDOM.querySelector("#".concat(i,"_map"))),this._accessibleOutputs[i].shapeDetails=this.dummyDOM.querySelector("#".concat(i,"_shapeDetails")),this._accessibleOutputs[i].summary=this.dummyDOM.querySelector("#".concat(i,"_summary"))},n.default.prototype._updateAccsOutput=function(){var t=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(t+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(t+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(t+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(t+"gridOutputLabel"))},n.default.prototype._accsBackground=function(t){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==t&&(this.ingredients.colors.backgroundRGBA=t,this.ingredients.colors.background=this._rgbColorName(t))},n.default.prototype._accsCanvasColors=function(t,e){"fill"===t?this.ingredients.colors.fillRGBA!==e&&(this.ingredients.colors.fillRGBA=e,this.ingredients.colors.fill=this._rgbColorName(e)):"stroke"===t&&this.ingredients.colors.strokeRGBA!==e&&(this.ingredients.colors.strokeRGBA=e,this.ingredients.colors.stroke=this._rgbColorName(e))},n.default.prototype._accsOutput=function(t,e){"ellipse"===t&&e[2]===e[3]?t="circle":"rectangle"===t&&e[2]===e[3]&&(t="square");var i={},r=!0,n=function(t,e){var i,r;return r="rectangle"===t||"ellipse"===t||"arc"===t||"circle"===t||"square"===t?(i=Math.round(e[0]+e[2]/2),Math.round(e[1]+e[3]/2)):"triangle"===t?(i=(e[0]+e[2]+e[4])/3,(e[1]+e[3]+e[5])/3):"quadrilateral"===t?(i=(e[0]+e[2]+e[4]+e[6])/4,(e[1]+e[3]+e[5]+e[7])/4):"line"===t?(i=(e[0]+e[2])/2,(e[1]+e[3])/2):(i=e[0],e[1]),[i,r]}(t,e);if("line"===t){i.color=this.ingredients.colors.stroke,i.length=Math.round(this.dist(e[0],e[1],e[2],e[3]));var a=s([e[0],[1]],this.width,this.height),l=s([e[2],[3]],this.width,this.height);i.loc=o(n,this.width,this.height),i.pos=a===l?"at ".concat(a):"from ".concat(a," to ").concat(l)}else"point"===t?i.color=this.ingredients.colors.stroke:(i.color=this.ingredients.colors.fill,i.area=function(t,e,i,r){var n=0;if("arc"===t){var s=((e[5]-e[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(n=s*e[2]*e[3]/8,"open"===e[6]||"chord"===e[6]){var o=e[0],a=e[1],l=e[0]+e[2]/2*Math.cos(e[4]).toFixed(2),u=e[1]+e[3]/2*Math.sin(e[4]).toFixed(2),h=e[0]+e[2]/2*Math.cos(e[5]).toFixed(2),c=e[1]+e[3]/2*Math.sin(e[5]).toFixed(2),d=Math.abs(o*(u-c)+l*(c-a)+h*(a-u))/2;s>Math.PI?n+=d:n-=d}}else"ellipse"===t||"circle"===t?n=3.14*e[2]/2*e[3]/2:"line"===t||"point"===t?n=0:"quadrilateral"===t?n=Math.abs((e[6]+e[0])*(e[7]-e[1])+(e[0]+e[2])*(e[1]-e[3])+(e[2]+e[4])*(e[3]-e[5])+(e[4]+e[6])*(e[5]-e[7]))/2:"rectangle"===t||"square"===t?n=e[2]*e[3]:"triangle"===t&&(n=Math.abs(e[0]*(e[3]-e[5])+e[2]*(e[5]-e[1])+e[4]*(e[1]-e[3]))/2);return Math.round(100*n/(i*r))}(t,e,this.width,this.height)),i.pos=s(n,this.width,this.height),i.loc=o(n,this.width,this.height);if(this.ingredients.shapes[t]){if(this.ingredients.shapes[t]!==[i]){for(var u in this.ingredients.shapes[t])JSON.stringify(this.ingredients.shapes[t][u])===JSON.stringify(i)&&(r=!1);!0===r&&this.ingredients.shapes[t].push(i)}}else this.ingredients.shapes[t]=[i]};var a=n.default;i.default=a},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.map":159,"core-js/modules/es.number.to-fixed":169}],244:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype._updateTextOutput=function(t){if(this.dummyDOM.querySelector("#".concat(t,"_summary"))){var e=this._accessibleOutputs[t],i=function(t,e){var i="",r=0;for(var n in e)for(var s in e[n]){var o='<li><a href="#'.concat(t,"shape").concat(r,'">').concat(e[n][s].color," ").concat(n,"</a>");"line"===n?o+=", ".concat(e[n][s].pos,", ").concat(e[n][s].length," pixels long.</li>"):(o+=", at ".concat(e[n][s].pos),"point"!==n&&(o+=", covering ".concat(e[n][s].area,"% of the canvas")),o+=".</li>"),i+=o,r++}return{numShapes:r,listShapes:i}}(t,this.ingredients.shapes),r=function(t,e,i,r){var n="Your output is a, ".concat(i," by ").concat(r," pixels, ").concat(e," canvas containing the following");return 1===t?"".concat(n," shape:"):"".concat(n," ").concat(t," shapes:")}(i.numShapes,this.ingredients.colors.background,this.width,this.height),n=function(t,e){var i="",r=0;for(var n in e)for(var s in e[n]){var o='<tr id="'.concat(t,"shape").concat(r,'"><th>').concat(e[n][s].color," ").concat(n,"</th>");"line"===n?o+="<td>location = ".concat(e[n][s].pos,"</td><td>length = ").concat(e[n][s].length," pixels</td></tr>"):(o+="<td>location = ".concat(e[n][s].pos,"</td>"),"point"!==n&&(o+="<td> area = ".concat(e[n][s].area,"%</td>")),o+="</tr>"),i+=o,r++}return i}(t,this.ingredients.shapes);r!==e.summary.innerHTML&&(e.summary.innerHTML=r),i.listShapes!==e.list.innerHTML&&(e.list.innerHTML=i.listShapes),n!==e.shapeDetails.innerHTML&&(e.shapeDetails.innerHTML=n),this._accessibleOutputs[t]=e}};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array.concat":148}],245:[function(t,e,i){"use strict";var r,n=(r=t("./core/main"))&&r.__esModule?r:{default:r};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),e.exports=n.default},{"./accessibility/color_namer":240,"./accessibility/describe":241,"./accessibility/gridOutput":242,"./accessibility/outputs":243,"./accessibility/textOutput":244,"./color/color_conversion":246,"./color/creating_reading":247,"./color/p5.Color":248,"./color/setting":249,"./core/constants":250,"./core/environment":251,"./core/friendly_errors/fes_core":252,"./core/friendly_errors/file_errors":253,"./core/friendly_errors/stacktrace":254,"./core/friendly_errors/validate_params":255,"./core/helpers":256,"./core/init":257,"./core/legacy":259,"./core/main":260,"./core/p5.Element":261,"./core/p5.Graphics":262,"./core/p5.Renderer":263,"./core/p5.Renderer2D":264,"./core/preload":265,"./core/rendering":266,"./core/shape/2d_primitives":267,"./core/shape/attributes":268,"./core/shape/curves":269,"./core/shape/vertex":270,"./core/shim":271,"./core/structure":272,"./core/transform":273,"./data/local_storage.js":274,"./data/p5.TypedDict":275,"./dom/dom":276,"./events/acceleration":277,"./events/keyboard":278,"./events/mouse":279,"./events/touch":280,"./image/filters":281,"./image/image":282,"./image/loading_displaying":283,"./image/p5.Image":284,"./image/pixels":285,"./io/files":286,"./io/p5.Table":287,"./io/p5.TableRow":288,"./io/p5.XML":289,"./math/calculation":290,"./math/math":291,"./math/noise":292,"./math/p5.Vector":293,"./math/random":294,"./math/trigonometry":295,"./typography/attributes":296,"./typography/loading_displaying":297,"./typography/p5.Font":298,"./utilities/array_functions":299,"./utilities/conversion":300,"./utilities/string_functions":301,"./utilities/time_date":302,"./webgl/3d_primitives":303,"./webgl/interaction":304,"./webgl/light":305,"./webgl/loading":306,"./webgl/material":307,"./webgl/p5.Camera":308,"./webgl/p5.Geometry":309,"./webgl/p5.Matrix":310,"./webgl/p5.RenderBuffer":311,"./webgl/p5.RendererGL":314,"./webgl/p5.RendererGL.Immediate":312,"./webgl/p5.RendererGL.Retained":313,"./webgl/p5.Shader":315,"./webgl/p5.Texture":316,"./webgl/text":317}],246:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.ColorConversion={},n.default.ColorConversion._hsbaToHSLA=function(t){var e=t[0],i=t[1],r=t[2],n=(2-i)*r/2;return 0!=n&&(1==n?i=0:n<.5?i/=2-i:i=i*r/(2-2*n)),[e,i,n,t[3]]},n.default.ColorConversion._hsbaToRGBA=function(t){var e=6*t[0],i=t[1],r=t[2],n=[];if(0===i)n=[r,r,r,t[3]];else{var s,o,a,l=Math.floor(e),u=r*(1-i),h=r*(1-i*(e-l)),c=r*(1-i*(1+l-e));a=1===l?(s=h,o=r,u):2===l?(s=u,o=r,c):3===l?(s=u,o=h,r):4===l?(s=c,o=u,r):5===l?(s=r,o=u,h):(s=r,o=c,u),n=[s,o,a,t[3]]}return n},n.default.ColorConversion._hslaToHSBA=function(t){var e,i=t[0],r=t[1],n=t[2];return[i,r=2*((e=n<.5?(1+r)*n:n+r-n*r)-n)/e,e,t[3]]},n.default.ColorConversion._hslaToRGBA=function(t){var e=6*t[0],i=t[1],r=t[2],n=[];if(0===i)n=[r,r,r,t[3]];else{var s,o=2*r-(s=r<.5?(1+i)*r:r+i-r*i),a=function(t,e,i){return t<0?t+=6:6<=t&&(t-=6),t<1?e+(i-e)*t:t<3?i:t<4?e+(i-e)*(4-t):e};n=[a(2+e,o,s),a(e,o,s),a(e-2,o,s),t[3]]}return n},n.default.ColorConversion._rgbaToHSBA=function(t){var e,i,r=t[0],n=t[1],s=t[2],o=Math.max(r,n,s),a=o-Math.min(r,n,s);return 0==a?i=e=0:(i=a/o,r===o?e=(n-s)/a:n===o?e=2+(s-r)/a:s===o&&(e=4+(r-n)/a),e<0?e+=6:6<=e&&(e-=6)),[e/6,i,o,t[3]]},n.default.ColorConversion._rgbaToHSLA=function(t){var e,i,r=t[0],n=t[1],s=t[2],o=Math.max(r,n,s),a=Math.min(r,n,s),l=o+a,u=o-a;return 0==u?i=e=0:(i=l<1?u/l:u/(2-l),r===o?e=(n-s)/u:n===o?e=2+(s-r)/u:s===o&&(e=4+(r-n)/u),e<0?e+=6:6<=e&&(e-=6)),[e/6,i,l/2,t[3]]};var s=n.default.ColorConversion;i.default=s},{"../core/main":260}],247:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.map"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(t){return s.default._validateParameters("alpha",arguments),this.color(t)._getAlpha()},s.default.prototype.blue=function(t){return s.default._validateParameters("blue",arguments),this.color(t)._getBlue()},s.default.prototype.brightness=function(t){return s.default._validateParameters("brightness",arguments),this.color(t)._getBrightness()},s.default.prototype.color=function(){if(s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color)return arguments[0];var t=arguments[0]instanceof Array?arguments[0]:arguments;return new s.default.Color(this,t)},s.default.prototype.green=function(t){return s.default._validateParameters("green",arguments),this.color(t)._getGreen()},s.default.prototype.hue=function(t){return s.default._validateParameters("hue",arguments),this.color(t)._getHue()},s.default.prototype.lerpColor=function(t,e,i){s.default._validateParameters("lerpColor",arguments);var r,n,a,l,u,h,c=this._colorMode,d=this._colorMaxes;if(c===o.RGB)u=t.levels.map((function(t){return t/255})),h=e.levels.map((function(t){return t/255}));else if(c===o.HSB)t._getBrightness(),e._getBrightness(),u=t.hsba,h=e.hsba;else{if(c!==o.HSL)throw new Error("".concat(c,"cannot be used for interpolation."));t._getLightness(),e._getLightness(),u=t.hsla,h=e.hsla}return i=Math.max(Math.min(i,1),0),void 0===this.lerp&&(this.lerp=function(t,e,i){return i*(e-t)+t}),r=this.lerp(u[0],h[0],i),n=this.lerp(u[1],h[1],i),a=this.lerp(u[2],h[2],i),l=this.lerp(u[3],h[3],i),r*=d[c][0],n*=d[c][1],a*=d[c][2],l*=d[c][3],this.color(r,n,a,l)},s.default.prototype.lightness=function(t){return s.default._validateParameters("lightness",arguments),this.color(t)._getLightness()},s.default.prototype.red=function(t){return s.default._validateParameters("red",arguments),this.color(t)._getRed()},s.default.prototype.saturation=function(t){return s.default._validateParameters("saturation",arguments),this.color(t)._getSaturation()};var a=s.default;i.default=a},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.map":159}],248:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.trim"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(t("../core/main")),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants")),o=a(t("./color_conversion"));function a(t){return t&&t.__esModule?t:{default:t}}n.default.Color=function(t,e){if(this._storeModeAndMaxes(t._colorMode,t._colorMaxes),this.mode!==s.RGB&&this.mode!==s.HSL&&this.mode!==s.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=n.default.Color._parseInputs.apply(this,e),this._calculateLevels(),this},n.default.Color.prototype.toString=function(t){var e=this.levels,i=this._array,r=i[3];switch(t){case"#rrggbb":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16));case"#rrggbbaa":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16),e[3]<16?"0".concat(e[3].toString(16)):e[3].toString(16));case"#rgb":return"#".concat(Math.round(15*i[0]).toString(16),Math.round(15*i[1]).toString(16),Math.round(15*i[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*i[0]).toString(16),Math.round(15*i[1]).toString(16),Math.round(15*i[2]).toString(16),Math.round(15*i[3]).toString(16));case"rgb":return"rgb(".concat(e[0],", ",e[1],", ",e[2],")");case"rgb%":return"rgb(".concat((100*i[0]).toPrecision(3),"%, ",(100*i[1]).toPrecision(3),"%, ",(100*i[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*i[0]).toPrecision(3),"%, ",(100*i[1]).toPrecision(3),"%, ",(100*i[2]).toPrecision(3),"%, ",(100*i[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[s.HSB][0],", ",this.hsba[1]*this.maxes[s.HSB][1],", ",this.hsba[2]*this.maxes[s.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[s.HSB][0],", ",this.hsba[1]*this.maxes[s.HSB][1],", ",this.hsba[2]*this.maxes[s.HSB][2],", ",r,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[s.HSL][0],", ",this.hsla[1]*this.maxes[s.HSL][1],", ",this.hsla[2]*this.maxes[s.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[s.HSL][0],", ",this.hsla[1]*this.maxes[s.HSL][1],", ",this.hsla[2]*this.maxes[s.HSL][2],", ",r,")");case"hsla%":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");default:return"rgba(".concat(e[0],",",e[1],",",e[2],",",r,")")}},n.default.Color.prototype.setRed=function(t){this._array[0]=t/this.maxes[s.RGB][0],this._calculateLevels()},n.default.Color.prototype.setGreen=function(t){this._array[1]=t/this.maxes[s.RGB][1],this._calculateLevels()},n.default.Color.prototype.setBlue=function(t){this._array[2]=t/this.maxes[s.RGB][2],this._calculateLevels()},n.default.Color.prototype.setAlpha=function(t){this._array[3]=t/this.maxes[this.mode][3],this._calculateLevels()},n.default.Color.prototype._calculateLevels=function(){for(var t=this._array,e=this.levels=new Array(t.length),i=t.length-1;0<=i;--i)e[i]=Math.round(255*t[i])},n.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},n.default.Color.prototype._storeModeAndMaxes=function(t,e){this.mode=t,this.maxes=e},n.default.Color.prototype._getMode=function(){return this.mode},n.default.Color.prototype._getMaxes=function(){return this.maxes},n.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[s.RGB][2]},n.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[s.HSB][2]},n.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[s.RGB][1]},n.default.Color.prototype._getHue=function(){return this.mode===s.HSB?(this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[s.HSB][0]):(this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[s.HSL][0])},n.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[s.HSL][2]},n.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[s.RGB][0]},n.default.Color.prototype._getSaturation=function(){return this.mode===s.HSB?(this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[s.HSB][1]):(this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[s.HSL][1])};var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u=/\s*/,h=/(\d{1,3})/,c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(c.source,"%")),f={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",c.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",h.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",h.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",h.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",h.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(u.source),"i")};n.default.Color._parseInputs=function(t,e,i,r){var a,u=arguments.length,h=this.mode,c=this.maxes[h],d=[];if(3<=u){for(d[0]=t/c[0],d[1]=e/c[1],d[2]=i/c[2],d[3]="number"==typeof r?r/c[3]:1,a=d.length-1;0<=a;--a){var p=d[a];p<0?d[a]=0:1<p&&(d[a]=1)}return h===s.HSL?o.default._hslaToRGBA(d):h===s.HSB?o.default._hsbaToRGBA(d):d}if(1===u&&"string"==typeof t){var m=t.trim().toLowerCase();if(l[m])return n.default.Color._parseInputs.call(this,l[m]);if(f.HEX3.test(m))return(d=f.HEX3.exec(m).slice(1).map((function(t){return parseInt(t+t,16)/255})))[3]=1,d;if(f.HEX6.test(m))return(d=f.HEX6.exec(m).slice(1).map((function(t){return parseInt(t,16)/255})))[3]=1,d;if(f.HEX4.test(m))return f.HEX4.exec(m).slice(1).map((function(t){return parseInt(t+t,16)/255}));if(f.HEX8.test(m))return f.HEX8.exec(m).slice(1).map((function(t){return parseInt(t,16)/255}));if(f.RGB.test(m))return(d=f.RGB.exec(m).slice(1).map((function(t){return t/255})))[3]=1,d;if(f.RGB_PERCENT.test(m))return(d=f.RGB_PERCENT.exec(m).slice(1).map((function(t){return parseFloat(t)/100})))[3]=1,d;if(f.RGBA.test(m))return f.RGBA.exec(m).slice(1).map((function(t,e){return 3===e?parseFloat(t):t/255}));if(f.RGBA_PERCENT.test(m))return f.RGBA_PERCENT.exec(m).slice(1).map((function(t,e){return 3===e?parseFloat(t):parseFloat(t)/100}));if(f.HSL.test(m)?(d=f.HSL.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100})))[3]=1:f.HSLA.test(m)&&(d=f.HSLA.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100}))),(d=d.map((function(t){return Math.max(Math.min(t,1),0)}))).length)return o.default._hslaToRGBA(d);if(f.HSB.test(m)?(d=f.HSB.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100})))[3]=1:f.HSBA.test(m)&&(d=f.HSBA.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100}))),d.length){for(a=d.length-1;0<=a;--a)d[a]=Math.max(Math.min(d[a],1),0);return o.default._hsbaToRGBA(d)}d=[1,1,1,1]}else{if(1!==u&&2!==u||"number"!=typeof t)throw new Error("".concat(arguments,"is not a valid color representation."));d[0]=t/c[2],d[1]=t/c[2],d[2]=t/c[2],d[3]="number"==typeof e?e/c[3]:1,d=d.map((function(t){return Math.max(Math.min(t,1),0)}))}return d};var p=n.default.Color;i.default=p},{"../core/constants":250,"../core/main":260,"./color_conversion":246,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.trim":190}],249:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.fill"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));t("./p5.Color"),s.default.prototype.background=function(){var t;return(t=this._renderer).background.apply(t,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear(),this},s.default.prototype.colorMode=function(t,e,i,r,n){if(s.default._validateParameters("colorMode",arguments),t===o.RGB||t===o.HSB||t===o.HSL){this._colorMode=t;var a=this._colorMaxes[t];2===arguments.length?(a[0]=e,a[1]=e,a[2]=e,a[3]=e):4===arguments.length?(a[0]=e,a[1]=i,a[2]=r):5===arguments.length&&(a[0]=e,a[1]=i,a[2]=r,a[3]=n)}return this},s.default.prototype.fill=function(){var t;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(t=this._renderer).fill.apply(t,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var t;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(t=this._renderer).stroke.apply(t,arguments),this},s.default.prototype.erase=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255;return this._renderer.erase(t,e),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var a=s.default;i.default=a},{"../core/constants":250,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.fill":150}],250:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.STROKE=i.CURVE=i.BEZIER=i.QUADRATIC=i.LINEAR=i._CTX_MIDDLE=i._DEFAULT_LEADMULT=i._DEFAULT_TEXT_FILL=i.BOLDITALIC=i.BOLD=i.ITALIC=i.NORMAL=i.BLUR=i.ERODE=i.DILATE=i.POSTERIZE=i.INVERT=i.OPAQUE=i.GRAY=i.THRESHOLD=i.BURN=i.DODGE=i.SOFT_LIGHT=i.HARD_LIGHT=i.OVERLAY=i.REPLACE=i.SCREEN=i.MULTIPLY=i.EXCLUSION=i.SUBTRACT=i.DIFFERENCE=i.LIGHTEST=i.DARKEST=i.ADD=i.REMOVE=i.BLEND=i.UP_ARROW=i.TAB=i.SHIFT=i.RIGHT_ARROW=i.RETURN=i.OPTION=i.LEFT_ARROW=i.ESCAPE=i.ENTER=i.DOWN_ARROW=i.DELETE=i.CONTROL=i.BACKSPACE=i.ALT=i.AUTO=i.HSL=i.HSB=i.RGB=i.MITER=i.BEVEL=i.ROUND=i.SQUARE=i.PROJECT=i.PIE=i.CHORD=i.OPEN=i.CLOSE=i.TESS=i.QUAD_STRIP=i.QUADS=i.TRIANGLE_STRIP=i.TRIANGLE_FAN=i.TRIANGLES=i.LINE_LOOP=i.LINE_STRIP=i.LINES=i.POINTS=i.BASELINE=i.BOTTOM=i.TOP=i.CENTER=i.LEFT=i.RIGHT=i.RADIUS=i.CORNERS=i.CORNER=i.RAD_TO_DEG=i.DEG_TO_RAD=i.RADIANS=i.DEGREES=i.TWO_PI=i.TAU=i.QUARTER_PI=i.PI=i.HALF_PI=i.WAIT=i.TEXT=i.MOVE=i.HAND=i.CROSS=i.ARROW=i.WEBGL=i.P2D=i.VERSION=void 0,i.FALLBACK=i.LABEL=i.AXES=i.GRID=i._DEFAULT_FILL=i._DEFAULT_STROKE=i.PORTRAIT=i.LANDSCAPE=i.MIRROR=i.CLAMP=i.REPEAT=i.NEAREST=i.IMAGE=i.IMMEDIATE=i.TEXTURE=i.FILL=void 0;var r=Math.PI;i.VERSION="1.3.1",i.P2D="p2d",i.WEBGL="webgl",i.ARROW="default",i.CROSS="crosshair",i.HAND="pointer",i.MOVE="move",i.TEXT="text",i.WAIT="wait";var n=r/2;i.HALF_PI=n;var s=r;i.PI=s;var o=r/4;i.QUARTER_PI=o;var a=2*r;i.TAU=a;var l=2*r;i.TWO_PI=l,i.DEGREES="degrees",i.RADIANS="radians";var u=r/180;i.DEG_TO_RAD=u;var h=180/r;i.RAD_TO_DEG=h,i.CORNER="corner",i.CORNERS="corners",i.RADIUS="radius",i.RIGHT="right",i.LEFT="left",i.CENTER="center",i.TOP="top",i.BOTTOM="bottom",i.BASELINE="alphabetic",i.POINTS=0,i.LINES=1,i.LINE_STRIP=3,i.LINE_LOOP=2,i.TRIANGLES=4,i.TRIANGLE_FAN=6,i.TRIANGLE_STRIP=5,i.QUADS="quads",i.QUAD_STRIP="quad_strip",i.TESS="tess",i.CLOSE="close",i.OPEN="open",i.CHORD="chord",i.PIE="pie",i.PROJECT="square",i.SQUARE="butt",i.ROUND="round",i.BEVEL="bevel",i.MITER="miter",i.RGB="rgb",i.HSB="hsb",i.HSL="hsl",i.AUTO="auto",i.ALT=18,i.BACKSPACE=8,i.CONTROL=17,i.DELETE=46,i.DOWN_ARROW=40,i.ENTER=13,i.ESCAPE=27,i.LEFT_ARROW=37,i.OPTION=18,i.RETURN=13,i.RIGHT_ARROW=39,i.SHIFT=16,i.TAB=9,i.UP_ARROW=38,i.BLEND="source-over",i.REMOVE="destination-out",i.ADD="lighter",i.DARKEST="darken",i.LIGHTEST="lighten",i.DIFFERENCE="difference",i.SUBTRACT="subtract",i.EXCLUSION="exclusion",i.MULTIPLY="multiply",i.SCREEN="screen",i.REPLACE="copy",i.OVERLAY="overlay",i.HARD_LIGHT="hard-light",i.SOFT_LIGHT="soft-light",i.DODGE="color-dodge",i.BURN="color-burn",i.THRESHOLD="threshold",i.GRAY="gray",i.OPAQUE="opaque",i.INVERT="invert",i.POSTERIZE="posterize",i.DILATE="dilate",i.ERODE="erode",i.BLUR="blur",i.NORMAL="normal",i.ITALIC="italic",i.BOLD="bold",i.BOLDITALIC="bold italic",i._DEFAULT_TEXT_FILL="#000000",i._DEFAULT_LEADMULT=1.25,i._CTX_MIDDLE="middle",i.LINEAR="linear",i.QUADRATIC="quadratic",i.BEZIER="bezier",i.CURVE="curve",i.STROKE="stroke",i.FILL="fill",i.TEXTURE="texture",i.IMMEDIATE="immediate",i.IMAGE="image",i.NEAREST="nearest",i.REPEAT="repeat",i.CLAMP="clamp",i.MIRROR="mirror",i.LANDSCAPE="landscape",i.PORTRAIT="portrait",i._DEFAULT_STROKE="#000000",i._DEFAULT_FILL="#FFFFFF",i.GRID="grid",i.AXES="axes",i.LABEL="label",i.FALLBACK="fallback"},{}],251:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("./main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("./constants")),a=[o.ARROW,o.CROSS,o.HAND,o.MOVE,o.TEXT,o.WAIT];s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60;var l=window.print;function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var t;arguments.length?(t=console).log.apply(t,arguments):l()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(t,e,i){var r="auto",n=this._curElement.elt;if(a.includes(t))r=t;else if("string"==typeof t){var s="";e&&i&&"number"==typeof e&&"number"==typeof i&&(s="".concat(e," ").concat(i)),r="http://"===t.substring(0,7)||"https://"===t.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?"url(".concat(t,") ").concat(s,", auto"):t}n.style.cursor=r},s.default.prototype.frameRate=function(t){return s.default._validateParameters("frameRate",arguments),"number"!=typeof t||t<0?this._frameRate:(this._setProperty("_targetFrameRate",t),0===t&&this._setProperty("_frameRate",t),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(t){return this.frameRate(t)},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=u(),s.default.prototype.windowHeight=h(),s.default.prototype._onresize=function(t){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",h());var e,i=this._isGlobal?window:this;"function"==typeof i.windowResized&&(void 0===(e=i.windowResized(t))||e||t.preventDefault())},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(t){if(s.default._validateParameters("fullscreen",arguments),void 0===t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t?function(t){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(t){var e;return s.default._validateParameters("pixelDensity",arguments),"number"==typeof t?(t!==this._pixelDensity&&(this._pixelDensity=t),(e=this).resizeCanvas(this.width,this.height,!0)):e=this._pixelDensity,e},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(t){return""!==t}))},s.default.prototype.getURLParams=function(){for(var t,e=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,i={};null!=(t=e.exec(location.search));)t.index===e.lastIndex&&e.lastIndex++,i[t[1]]=t[2];return i};var c=s.default;i.default=c},{"./constants":250,"./main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.includes":154,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188}],252:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../main"))&&r.__esModule?r:{default:r};t("../internationalization");var s,o=null;function a(t,e){e=e||console.log.bind(console),o||s(),o.some((function(i){if(t.message&&null!==t.message.match("\\W?".concat(i.name,"\\W"))){var r="function"===i.type?"".concat(i.name,"()"):i.name;return e("Did you just try to use p5.js's ".concat(r," ").concat(i.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat("https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup")),!0}}))}n.default._friendlyError=n.default._checkForUserDefinedFunctions=n.default._fesErrorMonitor=function(){},o=null,s=function(){function e(t){return Object.getOwnPropertyNames(t).filter((function(t){return"_"!==t[0]&&!(t in i)&&(i[t]=!0)})).map((function(e){var i;return i="function"==typeof t[e]?"function":e===e.toUpperCase()?"constant":"variable",{name:e,type:i}}))}var i={};(o=[].concat(e(n.default.prototype),e(t("../constants")))).sort((function(t,e){return e.name.length-t.name.length}))},n.default.prototype._helpForMisusedAtTopLevelCode=a,"complete"!==document.readyState&&(window.addEventListener("error",a,!1),window.addEventListener("load",(function(){window.removeEventListener("error",a,!1)})));var l=n.default;i.default=l},{"../constants":250,"../internationalization":258,"../main":260,"./browser_errors":void 0,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.function.name":163,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],253:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../main"))&&r.__esModule?r:{default:r};t("../internationalization"),n.default._friendlyFileLoadError=function(){};var s=n.default;i.default=s},{"../internationalization":258,"../main":260}],254:[function(t,e,i){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../main"))&&r.__esModule?r:{default:r};function s(){var t=/(^|@)\S+:\d+/,e=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(t){return void 0!==t.stacktrace||void 0!==t["opera#sourceloc"]?this.parseOpera(t):t.stack&&t.stack.match(e)?this.parseV8OrIE(t):t.stack?this.parseFFOrSafari(t):void 0},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(e)}),this).map((function(t){-1<t.indexOf("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var e=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),i=e.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(e=i?e.replace(i[0],""):e).split(/\s+/).slice(1),n=this.extractLocation(i?i[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0],lineNumber:n[1],columnNumber:n[2],source:t}}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(t){return!t.match(i)}),this).map((function(t){if(-1<t.indexOf(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return{functionName:t};var e=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(e),r=i&&i[1]?i[1]:void 0,n=this.extractLocation(t.replace(e,""));return{functionName:r,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:t}}),this)},parseOpera:function(t){return!t.stacktrace||-1<t.message.indexOf("\n")&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split("\n"),r=[],n=2,s=i.length;n<s;n+=2){var o=e.exec(i[n]);o&&r.push({fileName:o[2],lineNumber:o[1],source:i[n]})}return r},parseOpera10:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split("\n"),r=[],n=0,s=i.length;n<s;n+=2){var o=e.exec(i[n]);o&&r.push({functionName:o[3]||void 0,fileName:o[2],lineNumber:o[1],source:i[n]})}return r},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var e,i=t.split("@"),r=this.extractLocation(i.pop()),n=i.shift()||"",s=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return n.match(/\(([^)]*)\)/)&&(e=n.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:s,args:void 0===e||"[arguments not available]"===e?void 0:e.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t}}),this)}}}n.default._getErrorStackParser=function(){return new s};var o=n.default;i.default=o},{"../main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188}],255:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../main"))&&r.__esModule?r:{default:r};(function(t){if(!(t&&t.__esModule||null===t||"object"!==function(t){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(t)&&"function"!=typeof t)){var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}i.default=t,e&&e.set(t,i)}})(t("../constants")),t("../internationalization"),n.default._validateParameters=n.default._clearValidateParamsCache=function(){};var s=n.default;i.default=s},{"../../../docs/parameterData.json":void 0,"../constants":250,"../internationalization":258,"../main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.map":164,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.reflect.construct":176,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],256:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("./constants")),s={modeAdjust:function(t,e,i,r,s){return s===n.CORNER?{x:t,y:e,w:i,h:r}:s===n.CORNERS?{x:t,y:e,w:i-t,h:r-e}:s===n.RADIUS?{x:t-i,y:e-r,w:2*i,h:2*r}:s===n.CENTER?{x:t-.5*i,y:e-.5*r,w:i,h:r}:void 0}};i.default=s},{"./constants":250}],257:[function(t,e,i){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};t("./internationalization");var s=Promise.resolve();Promise.all([new Promise((function(t,e){"complete"===document.readyState?t():window.addEventListener("load",t,!1)})),s]).then((function(){void 0===window._setupDone?window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!n.default.instance&&new n.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")}))},{"../core/main":260,"./internationalization":258,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/web.dom-collections.iterator":226}],258:[function(t,e,i){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.initialize=i.translator=void 0;var r,n=o(t("i18next")),s=o(t("i18next-browser-languagedetector"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,i)}var e;return(e=[{key:"fetchWithTimeout",value:function(t,e,i){var r=2<arguments.length&&void 0!==i?i:2e3;return Promise.race([fetch(t,e),new Promise((function(t,e){return setTimeout((function(){return e(new Error("timeout"))}),r)}))])}},{key:"init",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:{};this.services=t,this.options=i}},{key:"read",value:function(t,e,i){var n=this.options.loadPath;if(t===this.options.fallback)i(null,r[t][e]);else if((void 0).includes(t)){var s=this.services.interpolator.interpolate(n,{lng:t,ns:e});this.loadUrl(s,i)}else i("Not found",!1)}},{key:"loadUrl",value:function(t,e){this.fetchWithTimeout(t).then((function(e){if(!e.ok)throw new Error("failed loading ".concat(t));return e.json()}),(function(){throw new Error("failed loading ".concat(t))})).then((function(t){return e(null,t)})).catch(e)}}])&&a(t.prototype,e),t}();l.type="backend";var u=function(t,e){console.debug("p5.js translator called before translations were loaded"),n.default.t(t,e)};i.translator=u,i.initialize=function(){return n.default.use(s.default).use(l).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:r}).then((function(t){i.translator=u=t}),(function(t){return console.debug("Translations failed to load (".concat(t,")"))}))}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/web.dom-collections.iterator":226,i18next:3,"i18next-browser-languagedetector":3}],259:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("./main"))&&r.__esModule?r:{default:r};n.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var s=n.default;i.default=s},{"./main":260}],260:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("./shim");var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("./constants"));function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,i,r){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=i,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var s=Object.getOwnPropertyNames(t.prototype._registeredMethods),o=!0,a=!1,l=void 0;try{for(var u,h=s[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var c=u.value;this._registeredMethods[c]=t.prototype._registeredMethods[c].slice()}}catch(e){a=!0,l=e}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){n._userNode&&"string"==typeof n._userNode&&(n._userNode=document.getElementById(n._userNode));var e=n._isGlobal?window:n;if(e.preload){var i=document.getElementById(n._loadingScreenId);i||((i=document.createElement("div")).innerHTML="Loading...",i.style.position="absolute",i.id=n._loadingScreenId,(n._userNode||document.body).appendChild(i));var r=n._preloadMethods;for(var s in r){r[s]=r[s]||t;var o=r[s];o!==t.prototype&&o!==t||(n._isGlobal&&(window[s]=n._wrapPreload(n,s)),o=n),n._registeredPreloadMethods[s]=o[s],o[s]=n._wrapPreload(o,s)}e.preload(),n._runIfPreloadsAreDone()}else n._setup(),n._draw()},this._runIfPreloadsAreDone=function(){var t=this._isGlobal?window:this;if(0===t._preloadCount){var e=document.getElementById(t._loadingScreenId);e&&e.parentNode.removeChild(e),this._setupDone||(this._lastFrameTime=window.performance.now(),t._setup(),t._draw())}},this._decrementPreload=function(){var t=this._isGlobal?window:this;"function"==typeof t.preload&&(t._setProperty("_preloadCount",t._preloadCount-1),t._runIfPreloadsAreDone())},this._wrapPreload=function(t,e){var i=this;return function(){i._incrementPreload();for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i._registeredPreloadMethods[e].apply(t,n)}},this._incrementPreload=function(){var t=this._isGlobal?window:this;t._setProperty("_preloadCount",t._preloadCount+1)},this._setup=function(){n.createCanvas(n._defaultCanvasSize.width,n._defaultCanvasSize.height,"p2d");var t=n._isGlobal?window:n;if("function"==typeof t.preload)for(var e in n._preloadMethods)t[e]=n._preloadMethods[e][e],t[e]&&n&&(t[e]=t[e].bind(n));n._millisStart=window.performance.now(),"function"==typeof t.setup&&t.setup();var i=document.getElementsByTagName("canvas"),r=!0,s=!1,o=void 0;try{for(var a,l=i[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;"true"===u.dataset.hidden&&(u.style.visibility="",delete u.dataset.hidden)}}catch(t){s=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(s)throw o}}n._lastFrameTime=window.performance.now(),n._setupDone=!0,(n._accessibleOutputs.grid||n._accessibleOutputs.text)&&n._updateAccsOutput()},this._draw=function(){var t=window.performance.now(),e=t-n._lastFrameTime,i=1e3/n._targetFrameRate;(!n._loop||i-5<=e)&&(n.redraw(),n._frameRate=1e3/(t-n._lastFrameTime),n.deltaTime=t-n._lastFrameTime,n._setProperty("deltaTime",n.deltaTime),n._lastFrameTime=t,void 0!==n._updateMouseCoords&&(n._updateMouseCoords(),n._setProperty("movedX",0),n._setProperty("movedY",0))),n._loop&&(n._requestAnimId=window.requestAnimationFrame(n._draw))},this._setProperty=function(t,e){n[t]=e,n._isGlobal&&(window[t]=e)},this.remove=function(){var e=document.getElementById(n._loadingScreenId);if(e&&(e.parentNode.removeChild(e),n._incrementPreload()),n._curElement){for(var i in n._loop=!1,n._requestAnimId&&window.cancelAnimationFrame(n._requestAnimId),n._events)window.removeEventListener(i,n._events[i]);var r=!0,s=!1,o=void 0;try{for(var a,l=n._elements[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;for(var h in u.elt&&u.elt.parentNode&&u.elt.parentNode.removeChild(u.elt),u._events)u.elt.removeEventListener(h,u._events[h])}}catch(e){s=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(s)throw o}}var c=n;n._registeredMethods.remove.forEach((function(t){void 0!==t&&t.call(c)}))}if(n._isGlobal){for(var d in t.prototype)try{delete window[d]}catch(e){window[d]=void 0}for(var f in n)if(n.hasOwnProperty(f))try{delete window[f]}catch(e){window[f]=void 0}t.instance=null}},this._registeredMethods.init.forEach((function(t){void 0!==t&&t.call(this)}),this),this._setupPromisePreloads();var d=this._createFriendlyGlobalFunctionBinder();if(e)e(this),t._checkForUserDefinedFunctions(this);else{for(var f in this._isGlobal=!0,t.instance=this,t.prototype)if("function"==typeof t.prototype[f]){var p=f.substring(2);this._events.hasOwnProperty(p)||(Math.hasOwnProperty(f)&&Math[f]===t.prototype[f]?d(f,t.prototype[f]):d(f,t.prototype[f].bind(this)))}else d(f,t.prototype[f]);for(var m in this)this.hasOwnProperty(m)&&d(m,this[m])}for(var v in this._events){var y=this["_on".concat(v)];if(y){var g=y.bind(this);window.addEventListener(v,g,{passive:!1}),this._events[v]=g}}function x(){n._setProperty("focused",!0)}function b(){n._setProperty("focused",!1)}window.addEventListener("focus",x),window.addEventListener("blur",b),this.registerMethod("remove",(function(){window.removeEventListener("focus",x),window.removeEventListener("blur",b)})),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var e;return(e=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=n.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(e,i){t.prototype._preloadMethods.hasOwnProperty(e)||(t.prototype._preloadMethods[e]=i)}},{key:"registerMethod",value:function(e,i){var r=this||t.prototype;r._registeredMethods.hasOwnProperty(e)||(r._registeredMethods[e]=[]),r._registeredMethods[e].push(i)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},i=e.globalObject||window;return e.log||console.log.bind(console),function(t,e){i[t]=e}}}])&&s(t.prototype,e),t}();for(var a in o.instance=null,o.disableFriendlyErrors=!1,n)o.prototype[a]=n[a];o.prototype._preloadMethods={loadJSON:o.prototype,loadImage:o.prototype,loadStrings:o.prototype,loadXML:o.prototype,loadBytes:o.prototype,loadTable:o.prototype,loadFont:o.prototype,loadModel:o.prototype,loadShader:o.prototype},o.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},o.prototype._registeredPreloadMethods={};var l=o;i.default=l},{"./constants":250,"./shim":271,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],261:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("./main"))&&r.__esModule?r:{default:r};n.default.Element=function(t,e){this.elt=t,this._pInst=this._pixelsState=e,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},n.default.Element.prototype.parent=function(t){return void 0===t?this.elt.parentNode:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof n.default.Element&&(t=t.elt),t.appendChild(this.elt),this)},n.default.Element.prototype.id=function(t){return void 0===t?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},n.default.Element.prototype.class=function(t){return void 0===t?this.elt.className:(this.elt.className=t,this)},n.default.Element.prototype.mousePressed=function(t){return n.default.Element._adjustListener("mousedown",(function(e){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(e),t.call(this)}),this),this},n.default.Element.prototype.doubleClicked=function(t){return n.default.Element._adjustListener("dblclick",t,this),this},n.default.Element.prototype.mouseWheel=function(t){return n.default.Element._adjustListener("wheel",t,this),this},n.default.Element.prototype.mouseReleased=function(t){return n.default.Element._adjustListener("mouseup",t,this),this},n.default.Element.prototype.mouseClicked=function(t){return n.default.Element._adjustListener("click",t,this),this},n.default.Element.prototype.mouseMoved=function(t){return n.default.Element._adjustListener("mousemove",t,this),this},n.default.Element.prototype.mouseOver=function(t){return n.default.Element._adjustListener("mouseover",t,this),this},n.default.Element.prototype.mouseOut=function(t){return n.default.Element._adjustListener("mouseout",t,this),this},n.default.Element.prototype.touchStarted=function(t){return n.default.Element._adjustListener("touchstart",t,this),this},n.default.Element.prototype.touchMoved=function(t){return n.default.Element._adjustListener("touchmove",t,this),this},n.default.Element.prototype.touchEnded=function(t){return n.default.Element._adjustListener("touchend",t,this),this},n.default.Element.prototype.dragOver=function(t){return n.default.Element._adjustListener("dragover",t,this),this},n.default.Element.prototype.dragLeave=function(t){return n.default.Element._adjustListener("dragleave",t,this),this},n.default.Element._adjustListener=function(t,e,i){return!1===e?n.default.Element._detachListener(t,i):n.default.Element._attachListener(t,e,i),this},n.default.Element._attachListener=function(t,e,i){i._events[t]&&n.default.Element._detachListener(t,i);var r=e.bind(i);i.elt.addEventListener(t,r,!1),i._events[t]=r},n.default.Element._detachListener=function(t,e){var i=e._events[t];e.elt.removeEventListener(t,i,!1),e._events[t]=null},n.default.Element.prototype._setProperty=function(t,e){this[t]=e};var s=n.default.Element;i.default=s},{"./main":260}],262:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("./main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("./constants"));s.default.Graphics=function(t,e,i,r){var n=i||o.P2D;this.canvas=document.createElement("canvas");var a=r._userNode||document.body;for(var l in a.appendChild(this.canvas),s.default.Element.call(this,this.canvas,r),s.default.prototype)this[l]||("function"==typeof s.default.prototype[l]?this[l]=s.default.prototype[l].bind(this):this[l]=s.default.prototype[l]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=t,this.height=e,this._pixelDensity=r._pixelDensity,n===o.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),r._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(t,e),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var t=this._pInst._elements.indexOf(this);for(var e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])};var a=s.default.Graphics;i.default=a},{"./constants":250,"./main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.splice":162}],263:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("./main"))&&r.__esModule?r:{default:r},s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){var e=0,i=0;if(t.offsetParent)for(;e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;);else e+=t.offsetLeft,i+=t.offsetTop;return[e,i]}n.default.Renderer=function(t,e,i){n.default.Element.call(this,t,e),this.canvas=t,this._pixelsState=e,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},n.default.Renderer.prototype=Object.create(n.default.Element.prototype),n.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},n.default.Renderer.prototype.pop=function(t){t.properties&&Object.assign(this,t.properties)},n.default.Renderer.prototype.resize=function(t,e){this.width=t,this.height=e,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=e*this._pInst._pixelDensity,this.elt.style.width="".concat(t,"px"),this.elt.style.height="".concat(e,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},n.default.Renderer.prototype.get=function(t,e,i,r){var s=this._pixelsState,o=s._pixelDensity,a=this.canvas;if(void 0===t&&void 0===e)t=e=0,i=s.width,r=s.height;else if(t*=o,e*=o,void 0===i&&void 0===r)return t<0||e<0||t>=a.width||e>=a.height?[0,0,0,0]:this._getPixel(t,e);var l=new n.default.Image(i,r);return l.canvas.getContext("2d").drawImage(a,t,e,i*o,r*o,0,0,i,r),l},n.default.Renderer.prototype.textLeading=function(t){return"number"==typeof t?(this._setProperty("_textLeading",t),this._pInst):this._textLeading},n.default.Renderer.prototype.textSize=function(t){return"number"==typeof t?(this._setProperty("_textSize",t),this._setProperty("_textLeading",t*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},n.default.Renderer.prototype.textStyle=function(t){return t?(t!==s.NORMAL&&t!==s.ITALIC&&t!==s.BOLD&&t!==s.BOLDITALIC||this._setProperty("_textStyle",t),this._applyTextProperties()):this._textStyle},n.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},n.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},n.default.Renderer.prototype.textAlign=function(t,e){return void 0!==t?(this._setProperty("_textAlign",t),void 0!==e&&this._setProperty("_textBaseline",e),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},n.default.Renderer.prototype.text=function(t,e,i,r,n){var o,a,l,u,h,c,d,f,p,m,v=this._pInst,y=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==t){if("string"!=typeof t&&(t=t.toString()),o=(t=t.replace(/(\t)/g,"  ")).split("\n"),void 0!==r){for(d=1,l=p=0;l<o.length;l++){for(h="",f=o[l].split(" "),a=0;a<f.length;a++)c="".concat(h+f[a]," "),r<this.textWidth(c)&&1<d?(h="".concat(f[a]," "),p+=v.textLeading(),d=1):(h=c,d+=1);l<o.length-1&&(p+=v.textLeading())}switch(this._rectMode===s.CENTER&&(e-=r/2,i-=n/2),this._textAlign){case s.CENTER:e+=r/2;break;case s.RIGHT:e+=r}var g=!1;if(void 0!==n){switch(this._textBaseline){case s.BOTTOM:m=i+(n-p),i=Math.max(m,i);break;case s.CENTER:m=i+(n-p)/2,i=Math.max(m,i);break;case s.BASELINE:g=!0,this._textBaseline=s.TOP}y=i+n-v.textAscent()}for(l=0;l<o.length;l++){for(h="",f=o[l].split(" "),a=0;a<f.length;a++)c="".concat(h+f[a]," "),r<this.textWidth(c)&&0<h.length?(this._renderText(v,h,e,i,y),h="".concat(f[a]," "),i+=v.textLeading()):h=c;this._renderText(v,h,e,i,y),i+=v.textLeading(),g&&(this._textBaseline=s.BASELINE)}}else{var x=0,b=v.textAlign().vertical;for(b===s.CENTER?x=(o.length-1)*v.textLeading()/2:b===s.BOTTOM&&(x=(o.length-1)*v.textLeading()),u=0;u<o.length;u++)this._renderText(v,o[u],e,i-x,y),i+=v.textLeading()}return v}},n.default.Renderer.prototype._applyDefaults=function(){return this},n.default.Renderer.prototype._isOpenType=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===o(t)&&t.font&&t.font.supported},n.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var t=document.createElement("span");t.style.fontFamily=this._textFont,t.style.fontSize="".concat(this._textSize,"px"),t.innerHTML="ABCjgq|";var e=document.createElement("div");e.style.display="inline-block",e.style.width="1px",e.style.height="0px";var i=document.createElement("div");i.appendChild(t),i.appendChild(e),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),e.style.verticalAlign="baseline";var r=a(e),n=a(t),s=r[1]-n[1];e.style.verticalAlign="bottom",r=a(e),n=a(t);var o=r[1]-n[1]-s;return document.body.removeChild(i),this._setProperty("_textAscent",s),this._setProperty("_textDescent",o),this};var l=n.default.Renderer;i.default=l},{"../core/constants":250,"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],264:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(t("./main")),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("./constants")),o=a(t("../image/filters"));function a(t){return t&&t.__esModule?t:{default:t}}t("./p5.Renderer");var l="rgba(0,0,0,0)";n.default.Renderer2D=function(t,e,i){return n.default.Renderer.call(this,t,e,i),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},n.default.Renderer2D.prototype=Object.create(n.default.Renderer.prototype),n.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=s.BLEND,this._setFill(s._DEFAULT_FILL),this._setStroke(s._DEFAULT_STROKE),this.drawingContext.lineCap=s.ROUND,this.drawingContext.font="normal 12px sans-serif"},n.default.Renderer2D.prototype.resize=function(t,e){n.default.Renderer.prototype.resize.call(this,t,e),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},n.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof n.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var t,e=this._getFill(),i=(t=this._pInst).color.apply(t,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(i.levels);var r=i.toString();this._setFill(r),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},n.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},n.default.Renderer2D.prototype.fill=function(){var t,e=(t=this._pInst).color.apply(t,arguments);this._setFill(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",e.levels)},n.default.Renderer2D.prototype.stroke=function(){var t,e=(t=this._pInst).color.apply(t,arguments);this._setStroke(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",e.levels)},n.default.Renderer2D.prototype.erase=function(t,e){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var i=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=i,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var r=this._pInst.color(255,e).toString();this.drawingContext.strokeStyle=r;var n=this._cachedBlendMode;this.blendMode(s.REMOVE),this._cachedBlendMode=n,this._isErasing=!0}},n.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},n.default.Renderer2D.prototype.image=function(t,e,i,r,s,o,a,l,u){var h;t.gifProperties&&t._animateGif(this._pInst);try{this._tint&&(n.default.MediaElement&&t instanceof n.default.MediaElement&&t.loadPixels(),t.canvas&&(h=this._getTintedImageCanvas(t))),h=h||t.canvas||t.elt;var c=1;t.width&&0<t.width&&(c=h.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(h,c*e,c*i,c*r,c*s,o,a,l,u),this._isErasing&&this._pInst.erase()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t}},n.default.Renderer2D.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=o.default._toPixels(t.canvas),i=document.createElement("canvas");i.width=t.canvas.width,i.height=t.canvas.height;for(var r=i.getContext("2d"),n=r.createImageData(t.canvas.width,t.canvas.height),s=n.data,a=0;a<e.length;a+=4){var l=e[a],u=e[a+1],h=e[a+2],c=e[a+3];s[a]=l*this._tint[0]/255,s[a+1]=u*this._tint[1]/255,s[a+2]=h*this._tint[2]/255,s[a+3]=c*this._tint[3]/255}return r.putImageData(n,0,0),i},n.default.Renderer2D.prototype.blendMode=function(t){if(t===s.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(t!==s.BLEND&&t!==s.REMOVE&&t!==s.DARKEST&&t!==s.LIGHTEST&&t!==s.DIFFERENCE&&t!==s.MULTIPLY&&t!==s.EXCLUSION&&t!==s.SCREEN&&t!==s.REPLACE&&t!==s.OVERLAY&&t!==s.HARD_LIGHT&&t!==s.SOFT_LIGHT&&t!==s.DODGE&&t!==s.BURN&&t!==s.ADD)throw new Error("Mode ".concat(t," not recognized."));this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t}},n.default.Renderer2D.prototype.blend=function(){for(var t=this.drawingContext.globalCompositeOperation,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var s=i[i.length-1],o=Array.prototype.slice.call(i,0,i.length-1);this.drawingContext.globalCompositeOperation=s,n.default.prototype.copy.apply(this,o),this.drawingContext.globalCompositeOperation=t},n.default.Renderer2D.prototype._getPixel=function(t,e){var i;return[(i=this.drawingContext.getImageData(t,e,1,1).data)[0],i[1],i[2],i[3]]},n.default.Renderer2D.prototype.loadPixels=function(){var t=this._pixelsState,e=t._pixelDensity,i=this.width*e,r=this.height*e,n=this.drawingContext.getImageData(0,0,i,r);t._setProperty("imageData",n),t._setProperty("pixels",n.data)},n.default.Renderer2D.prototype.set=function(t,e,i){t=Math.floor(t),e=Math.floor(e);var r=this._pixelsState;if(i instanceof n.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(r._pixelDensity,r._pixelDensity),this.drawingContext.clearRect(t,e,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,e),this.drawingContext.restore();else{var s=0,o=0,a=0,l=0,u=4*(e*r._pixelDensity*(this.width*r._pixelDensity)+t*r._pixelDensity);if(r.imageData||r.loadPixels.call(r),"number"==typeof i)u<r.pixels.length&&(a=o=s=i,l=255);else if(i instanceof Array){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<r.pixels.length&&(s=i[0],o=i[1],a=i[2],l=i[3])}else i instanceof n.default.Color&&u<r.pixels.length&&(s=i.levels[0],o=i.levels[1],a=i.levels[2],l=i.levels[3]);for(var h=0;h<r._pixelDensity;h++)for(var c=0;c<r._pixelDensity;c++)u=4*((e*r._pixelDensity+c)*this.width*r._pixelDensity+(t*r._pixelDensity+h)),r.pixels[u]=s,r.pixels[u+1]=o,r.pixels[u+2]=a,r.pixels[u+3]=l}},n.default.Renderer2D.prototype.updatePixels=function(t,e,i,r){var n=this._pixelsState,s=n._pixelDensity;void 0===t&&void 0===e&&void 0===i&&void 0===r&&(e=t=0,i=this.width,r=this.height),t*=s,e*=s,i*=s,r*=s,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=n.imageData),this.drawingContext.putImageData(n.imageData,t,e,0,0,i,r)},n.default.Renderer2D.prototype._acuteArcToBezier=function(t,e){var i=e/2,r=Math.cos(i),n=Math.sin(i),s=1/Math.tan(i),o=t+i,a=Math.cos(o),l=Math.sin(o),u=(4-r)/3,h=n+(r-u)*s;return{ax:Math.cos(t).toFixed(7),ay:Math.sin(t).toFixed(7),bx:(u*a+h*l).toFixed(7),by:(u*l-h*a).toFixed(7),cx:(u*a-h*l).toFixed(7),cy:(u*l+h*a).toFixed(7),dx:Math.cos(t+e).toFixed(7),dy:Math.sin(t+e).toFixed(7)}},n.default.Renderer2D.prototype.arc=function(t,e,i,r,n,o,a){var l=this.drawingContext,u=i/2,h=r/2,c=0,d=[];for(t+=u,e+=h;1e-5<=o-n;)c=Math.min(o-n,s.HALF_PI),d.push(this._acuteArcToBezier(n,c)),n+=c;return this._doFill&&(l.beginPath(),d.forEach((function(i,r){0===r&&l.moveTo(t+i.ax*u,e+i.ay*h),l.bezierCurveTo(t+i.bx*u,e+i.by*h,t+i.cx*u,e+i.cy*h,t+i.dx*u,e+i.dy*h)})),a!==s.PIE&&null!=a||l.lineTo(t,e),l.closePath(),l.fill()),this._doStroke&&(l.beginPath(),d.forEach((function(i,r){0===r&&l.moveTo(t+i.ax*u,e+i.ay*h),l.bezierCurveTo(t+i.bx*u,e+i.by*h,t+i.cx*u,e+i.cy*h,t+i.dx*u,e+i.dy*h)})),a===s.PIE?(l.lineTo(t,e),l.closePath()):a===s.CHORD&&l.closePath(),l.stroke()),this},n.default.Renderer2D.prototype.ellipse=function(t){var e=this.drawingContext,i=this._doFill,r=this._doStroke,n=parseFloat(t[0]),s=parseFloat(t[1]),o=parseFloat(t[2]),a=parseFloat(t[3]);if(i&&!r){if(this._getFill()===l)return this}else if(!i&&r&&this._getStroke()===l)return this;var u=o/2*.5522847498,h=a/2*.5522847498,c=n+o,d=s+a,f=n+o/2,p=s+a/2;e.beginPath(),e.moveTo(n,p),e.bezierCurveTo(n,p-h,f-u,s,f,s),e.bezierCurveTo(f+u,s,c,p-h,c,p),e.bezierCurveTo(c,p+h,f+u,d,f,d),e.bezierCurveTo(f-u,d,n,p+h,n,p),i&&e.fill(),r&&e.stroke()},n.default.Renderer2D.prototype.line=function(t,e,i,r){var n=this.drawingContext;return this._doStroke&&(this._getStroke()===l||(n.beginPath(),n.moveTo(t,e),n.lineTo(i,r),n.stroke())),this},n.default.Renderer2D.prototype.point=function(t,e){var i=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===l)return this;var r=this._getStroke(),n=this._getFill();this._setFill(r),i.beginPath(),i.arc(t,e,i.lineWidth/2,0,s.TWO_PI,!1),i.fill(),this._setFill(n)},n.default.Renderer2D.prototype.quad=function(t,e,i,r,n,s,o,a){var u=this.drawingContext,h=this._doFill,c=this._doStroke;if(h&&!c){if(this._getFill()===l)return this}else if(!h&&c&&this._getStroke()===l)return this;return u.beginPath(),u.moveTo(t,e),u.lineTo(i,r),u.lineTo(n,s),u.lineTo(o,a),u.closePath(),h&&u.fill(),c&&u.stroke(),this},n.default.Renderer2D.prototype.rect=function(t){var e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],u=t[7],h=this.drawingContext,c=this._doFill,d=this._doStroke;if(c&&!d){if(this._getFill()===l)return this}else if(!c&&d&&this._getStroke()===l)return this;if(h.beginPath(),void 0===s)h.rect(e,i,r,n);else{void 0===o&&(o=s),void 0===a&&(a=o),void 0===u&&(u=a);var f=Math.abs(r),p=Math.abs(n),m=f/2,v=p/2;f<2*s&&(s=m),p<2*s&&(s=v),f<2*o&&(o=m),p<2*o&&(o=v),f<2*a&&(a=m),p<2*a&&(a=v),f<2*u&&(u=m),p<2*u&&(u=v),h.beginPath(),h.moveTo(e+s,i),h.arcTo(e+r,i,e+r,i+n,o),h.arcTo(e+r,i+n,e,i+n,a),h.arcTo(e,i+n,e,i,u),h.arcTo(e,i,e+r,i,s),h.closePath()}return this._doFill&&h.fill(),this._doStroke&&h.stroke(),this},n.default.Renderer2D.prototype.triangle=function(t){var e=this.drawingContext,i=this._doFill,r=this._doStroke,n=t[0],s=t[1],o=t[2],a=t[3],u=t[4],h=t[5];if(i&&!r){if(this._getFill()===l)return this}else if(!i&&r&&this._getStroke()===l)return this;e.beginPath(),e.moveTo(n,s),e.lineTo(o,a),e.lineTo(u,h),e.closePath(),i&&e.fill(),r&&e.stroke()},n.default.Renderer2D.prototype.endShape=function(t,e,i,r,n,o,a){if(0===e.length)return this;if(!this._doStroke&&!this._doFill)return this;var l,u,h,c=t===s.CLOSE;c&&!o&&e.push(e[0]);var d=e.length;if(!i||a!==s.POLYGON&&null!==a)if(!r||a!==s.POLYGON&&null!==a)if(!n||a!==s.POLYGON&&null!==a)if(a===s.POINTS)for(u=0;u<d;u++)l=e[u],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(a===s.LINES)for(u=0;u+1<d;u+=2)l=e[u],this._doStroke&&this._pInst.stroke(e[u+1][6]),this._pInst.line(l[0],l[1],e[u+1][0],e[u+1][1]);else if(a===s.TRIANGLES)for(u=0;u+2<d;u+=3)l=e[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(e[u+1][0],e[u+1][1]),this.drawingContext.lineTo(e[u+2][0],e[u+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(e[u+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(e[u+2][6]),this.drawingContext.stroke());else if(a===s.TRIANGLE_STRIP)for(u=0;u+1<d;u++)l=e[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[u+1][0],e[u+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._doStroke&&this._pInst.stroke(e[u+1][6]),this._doFill&&this._pInst.fill(e[u+1][5]),u+2<d&&(this.drawingContext.lineTo(e[u+2][0],e[u+2][1]),this._doStroke&&this._pInst.stroke(e[u+2][6]),this._doFill&&this._pInst.fill(e[u+2][5])),this._doFillStrokeClose(c);else if(a===s.TRIANGLE_FAN){if(2<d){for(this.drawingContext.beginPath(),u=2;u<d;u++)l=e[u],this.drawingContext.moveTo(e[0][0],e[0][1]),this.drawingContext.lineTo(e[u-1][0],e[u-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(e[0][0],e[0][1]),u<d-1&&(this._doFill&&l[5]!==e[u+1][5]||this._doStroke&&l[6]!==e[u+1][6])&&(this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(e[u+1][5])),this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(e[u+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(c)}}else if(a===s.QUADS)for(u=0;u+3<d;u+=4){for(l=e[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),h=1;h<4;h++)this.drawingContext.lineTo(e[u+h][0],e[u+h][1]);this.drawingContext.lineTo(l[0],l[1]),this._doFill&&this._pInst.fill(e[u+3][5]),this._doStroke&&this._pInst.stroke(e[u+3][6]),this._doFillStrokeClose(c)}else if(a===s.QUAD_STRIP){if(3<d)for(u=0;u+1<d;u+=2)l=e[u],this.drawingContext.beginPath(),u+3<d?(this.drawingContext.moveTo(e[u+2][0],e[u+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(e[u+1][0],e[u+1][1]),this.drawingContext.lineTo(e[u+3][0],e[u+3][1]),this._doFill&&this._pInst.fill(e[u+3][5]),this._doStroke&&this._pInst.stroke(e[u+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(e[u+1][0],e[u+1][1])),this._doFillStrokeClose(c)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),u=1;u<d;u++)(l=e[u]).isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(c)}else{for(this.drawingContext.beginPath(),u=0;u<d;u++)e[u].isVert?e[u].moveTo?this.drawingContext.moveTo(e[u][0],e[u][1]):this.drawingContext.lineTo(e[u][0],e[u][1]):this.drawingContext.quadraticCurveTo(e[u][0],e[u][1],e[u][2],e[u][3]);this._doFillStrokeClose(c)}else{for(this.drawingContext.beginPath(),u=0;u<d;u++)e[u].isVert?e[u].moveTo?this.drawingContext.moveTo(e[u][0],e[u][1]):this.drawingContext.lineTo(e[u][0],e[u][1]):this.drawingContext.bezierCurveTo(e[u][0],e[u][1],e[u][2],e[u][3],e[u][4],e[u][5]);this._doFillStrokeClose(c)}else if(3<d){var f=[],p=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[1][0],e[1][1]),u=1;u+2<d;u++)l=e[u],f[0]=[l[0],l[1]],f[1]=[l[0]+(p*e[u+1][0]-p*e[u-1][0])/6,l[1]+(p*e[u+1][1]-p*e[u-1][1])/6],f[2]=[e[u+1][0]+(p*e[u][0]-p*e[u+2][0])/6,e[u+1][1]+(p*e[u][1]-p*e[u+2][1])/6],f[3]=[e[u+1][0],e[u+1][1]],this.drawingContext.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);c&&this.drawingContext.lineTo(e[u+1][0],e[u+1][1]),this._doFillStrokeClose(c)}return o=n=r=i=!1,c&&e.pop(),this},n.default.Renderer2D.prototype.strokeCap=function(t){return t!==s.ROUND&&t!==s.SQUARE&&t!==s.PROJECT||(this.drawingContext.lineCap=t),this},n.default.Renderer2D.prototype.strokeJoin=function(t){return t!==s.ROUND&&t!==s.BEVEL&&t!==s.MITER||(this.drawingContext.lineJoin=t),this},n.default.Renderer2D.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth=void 0===t||0===t?1e-4:t,this},n.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},n.default.Renderer2D.prototype._setFill=function(t){t!==this._cachedFillStyle&&(this.drawingContext.fillStyle=t,this._cachedFillStyle=t)},n.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},n.default.Renderer2D.prototype._setStroke=function(t){t!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this._cachedStrokeStyle=t)},n.default.Renderer2D.prototype.bezier=function(t,e,i,r,n,s,o,a){return this._pInst.beginShape(),this._pInst.vertex(t,e),this._pInst.bezierVertex(i,r,n,s,o,a),this._pInst.endShape(),this},n.default.Renderer2D.prototype.curve=function(t,e,i,r,n,s,o,a){return this._pInst.beginShape(),this._pInst.curveVertex(t,e),this._pInst.curveVertex(i,r),this._pInst.curveVertex(n,s),this._pInst.curveVertex(o,a),this._pInst.endShape(),this},n.default.Renderer2D.prototype._doFillStrokeClose=function(t){t&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},n.default.Renderer2D.prototype.applyMatrix=function(t,e,i,r,n,s){this.drawingContext.transform(t,e,i,r,n,s)},n.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},n.default.Renderer2D.prototype.rotate=function(t){this.drawingContext.rotate(t)},n.default.Renderer2D.prototype.scale=function(t,e){return this.drawingContext.scale(t,e),this},n.default.Renderer2D.prototype.translate=function(t,e){return t instanceof n.default.Vector&&(e=t.y,t=t.x),this.drawingContext.translate(t,e),this},n.default.Renderer2D.prototype.text=function(t,e,i,r,o){var a;void 0!==r&&this.drawingContext.textBaseline===s.BASELINE&&(a=!0,this.drawingContext.textBaseline=s.TOP);var l=n.default.Renderer.prototype.text.apply(this,arguments);return a&&(this.drawingContext.textBaseline=s.BASELINE),l},n.default.Renderer2D.prototype._renderText=function(t,e,i,r,n){if(!(n<=r))return t.push(),this._isOpenType()?this._textFont._renderPath(e,i,r,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(e,i,r),this._doFill&&(this._fillSet||this._setFill(s._DEFAULT_TEXT_FILL),this.drawingContext.fillText(e,i,r))),t.pop(),t},n.default.Renderer2D.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width},n.default.Renderer2D.prototype._applyTextProperties=function(){var t,e=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),t=this._textFont,this._isOpenType()&&(t=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(t||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===s.CENTER?this.drawingContext.textBaseline=s._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,e},n.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),n.default.Renderer.prototype.push.apply(this)},n.default.Renderer2D.prototype.pop=function(t){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n.default.Renderer.prototype.pop.call(this,t)};var u=n.default.Renderer2D;i.default=u},{"../image/filters":281,"./constants":250,"./main":260,"./p5.Renderer":263,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],265:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var r,n=(r=t("./main"))&&r.__esModule?r:{default:r};n.default.prototype._promisePreloads=[];var s=!(n.default.prototype.registerPromisePreload=function(t){n.default.prototype._promisePreloads.push(t)});function o(){return{}}n.default.prototype._setupPromisePreloads=function(){var t=!0,e=!1,i=void 0;try{for(var r,o=this._promisePreloads[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,l=this,u=a.method,h=a.addCallbacks,c=a.legacyPreloadSetup,d=a.target||this,f=d[u].bind(d);if(d===n.default.prototype){if(s)continue;l=null,f=d[u]}d[u]=this._wrapPromisePreload(l,f,h),c&&(d[c.method]=this._legacyPreloadGenerator(l,c,d[u]))}}catch(t){e=!0,i=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}s=!0},n.default.prototype._wrapPromisePreload=function(t,e,i){var r=function(){var t=this;this._incrementPreload();for(var r=null,n=null,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];if(i)for(var l=o.length-1;0<=l&&!n&&"function"==typeof o[l];l--)n=r,r=o.pop();var u=Promise.resolve(e.apply(this,o));return r&&u.then(r),n&&u.catch(n),u.then((function(){return t._decrementPreload()})),u};return t&&(r=r.bind(t)),r},n.default.prototype._legacyPreloadGenerator=function(t,e,i){var r=e.createBaseObject||o,n=function(){var t=this;this._incrementPreload();var e=r.apply(this,arguments);return i.apply(this,arguments).then((function(i){Object.assign(e,i),t._decrementPreload()})),e};return t&&(n=n.bind(t)),n}},{"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],266:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("./main"))&&r.__esModule?r:{default:r},s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("./constants"));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var a="defaultCanvas0";n.default.prototype.createCanvas=function(t,e,i){n.default._validateParameters("createCanvas",arguments);var r,o=i||s.P2D;if(o===s.WEBGL){if(r=document.getElementById(a)){r.parentNode.removeChild(r);var l=this._renderer;this._elements=this._elements.filter((function(t){return t!==l}))}(r=document.createElement("canvas")).id=a,r.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)r=this.canvas;else{r=document.createElement("canvas");for(var u=0;document.getElementById("defaultCanvas".concat(u));)u++;a="defaultCanvas".concat(u),r.id=a,r.classList.add("p5Canvas")}if(this._setupDone||(r.dataset.hidden=!0,r.style.visibility="hidden"),this._userNode)this._userNode.appendChild(r);else{if(0===document.getElementsByTagName("main").length){var h=document.createElement("main");document.body.appendChild(h)}document.getElementsByTagName("main")[0].appendChild(r)}return o===s.WEBGL?(this._setProperty("_renderer",new n.default.RendererGL(r,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new n.default.Renderer2D(r,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,e),this._renderer._applyDefaults(),this._renderer},n.default.prototype.resizeCanvas=function(t,e,i){if(n.default._validateParameters("resizeCanvas",arguments),this._renderer){var r={};for(var s in this.drawingContext){var a=this.drawingContext[s];"object"!==o(a)&&"function"!=typeof a&&(r[s]=a)}for(var l in this._renderer.resize(t,e),this.width=t,this.height=e,r)try{this.drawingContext[l]=r[l]}catch(t){}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},n.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},n.default.prototype.createGraphics=function(t,e,i){return n.default._validateParameters("createGraphics",arguments),new n.default.Graphics(t,e,i,this)},n.default.prototype.blendMode=function(t){n.default._validateParameters("blendMode",arguments),t===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),t=s.BLEND),this._renderer.blendMode(t)};var l=n.default;i.default=l},{"../webgl/p5.RendererGL":314,"./constants":250,"./main":260,"./p5.Graphics":262,"./p5.Renderer2D":264,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],267:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.slice"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(t("../main")),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../constants")),o=a(t("../helpers"));function a(t){return t&&t.__esModule?t:{default:t}}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),n.default.prototype._normalizeArcAngles=function(t,e,i,r,n){var o;return t-=s.TWO_PI*Math.floor(t/s.TWO_PI),e-=s.TWO_PI*Math.floor(e/s.TWO_PI),o=Math.min(Math.abs(t-e),s.TWO_PI-Math.abs(t-e)),n&&(t=t<=s.HALF_PI?Math.atan(i/r*Math.tan(t)):t>s.HALF_PI&&t<=3*s.HALF_PI?Math.atan(i/r*Math.tan(t))+s.PI:Math.atan(i/r*Math.tan(t))+s.TWO_PI,e=e<=s.HALF_PI?Math.atan(i/r*Math.tan(e)):e>s.HALF_PI&&e<=3*s.HALF_PI?Math.atan(i/r*Math.tan(e))+s.PI:Math.atan(i/r*Math.tan(e))+s.TWO_PI),e<t&&(e+=s.TWO_PI),{start:t,stop:e,correspondToSamePoint:o<1e-5}},n.default.prototype.arc=function(t,e,i,r,s,a,l,u){if(n.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(s===a)return this;s=this._toRadians(s),a=this._toRadians(a),i=Math.abs(i),r=Math.abs(r);var h=o.default.modeAdjust(t,e,i,r,this._renderer._ellipseMode),c=this._normalizeArcAngles(s,a,h.w,h.h,!0);return c.correspondToSamePoint?this._renderer.ellipse([h.x,h.y,h.w,h.h,u]):(this._renderer.arc(h.x,h.y,h.w,h.h,c.start,c.stop,l,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[h.x,h.y,h.w,h.h,c.start,c.stop,l])),this},n.default.prototype.ellipse=function(t,e,i,r,s){return n.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},n.default.prototype.circle=function(){n.default._validateParameters("circle",arguments);var t=Array.prototype.slice.call(arguments,0,2);return t.push(arguments[2]),t.push(arguments[2]),this._renderEllipse.apply(this,t)},n.default.prototype._renderEllipse=function(t,e,i,r,n){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;i<0&&(i=Math.abs(i)),void 0===r?r=i:r<0&&(r=Math.abs(r));var s=o.default.modeAdjust(t,e,i,r,this._renderer._ellipseMode);return this._renderer.ellipse([s.x,s.y,s.w,s.h,n]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[s.x,s.y,s.w,s.h]),this},n.default.prototype.line=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;return n.default._validateParameters("line",e),this._renderer._doStroke&&(r=this._renderer).line.apply(r,e),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",e),this},n.default.prototype.point=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;return n.default._validateParameters("point",e),this._renderer._doStroke&&(1===e.length&&e[0]instanceof n.default.Vector?this._renderer.point.call(this._renderer,e[0].x,e[0].y,e[0].z):((r=this._renderer).point.apply(r,e),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",e))),this},n.default.prototype.quad=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;return n.default._validateParameters("quad",e),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&e.length<=12?this._renderer.quad.call(this._renderer,e[0],e[1],0,e[2],e[3],0,e[4],e[5],0,e[6],e[7],0,e[8],e[9]):((r=this._renderer).quad.apply(r,e),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",e))),this},n.default.prototype.rect=function(){return n.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},n.default.prototype.square=function(t,e,i,r,s,o,a){return n.default._validateParameters("square",arguments),this._renderRect.call(this,t,e,i,i,r,s,o,a)},n.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var t=o.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),e=[t.x,t.y,t.w,t.h],i=4;i<arguments.length;i++)e[i]=arguments[i];this._renderer.rect(e),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[t.x,t.y,t.w,t.h])}return this},n.default.prototype.triangle=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.default._validateParameters("triangle",e),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(e),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",e),this};var l=n.default;i.default=l},{"../constants":250,"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../helpers":256,"../main":260,"core-js/modules/es.array.slice":160}],268:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../constants"));s.default.prototype.ellipseMode=function(t){return s.default._validateParameters("ellipseMode",arguments),t!==o.CORNER&&t!==o.CORNERS&&t!==o.RADIUS&&t!==o.CENTER||(this._renderer._ellipseMode=t),this},s.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(t){return s.default._validateParameters("rectMode",arguments),t!==o.CORNER&&t!==o.CORNERS&&t!==o.RADIUS&&t!==o.CENTER||(this._renderer._rectMode=t),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(t){return s.default._validateParameters("strokeCap",arguments),t!==o.ROUND&&t!==o.SQUARE&&t!==o.PROJECT||this._renderer.strokeCap(t),this},s.default.prototype.strokeJoin=function(t){return s.default._validateParameters("strokeJoin",arguments),t!==o.ROUND&&t!==o.BEVEL&&t!==o.MITER||this._renderer.strokeJoin(t),this},s.default.prototype.strokeWeight=function(t){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(t),this};var a=s.default;i.default=a},{"../constants":250,"../main":260}],269:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../main"))&&r.__esModule?r:{default:r};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),n.default.prototype.bezier=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n.default._validateParameters("bezier",i),(this._renderer._doStroke||this._renderer._doFill)&&(t=this._renderer).bezier.apply(t,i),this},n.default.prototype.bezierDetail=function(t){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=t,this},n.default.prototype.bezierPoint=function(t,e,i,r,s){n.default._validateParameters("bezierPoint",arguments);var o=1-s;return Math.pow(o,3)*t+3*Math.pow(o,2)*s*e+3*o*Math.pow(s,2)*i+Math.pow(s,3)*r},n.default.prototype.bezierTangent=function(t,e,i,r,s){n.default._validateParameters("bezierTangent",arguments);var o=1-s;return 3*r*Math.pow(s,2)-3*i*Math.pow(s,2)+6*i*o*s-6*e*o*s+3*e*Math.pow(o,2)-3*t*Math.pow(o,2)},n.default.prototype.curve=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;return n.default._validateParameters("curve",e),this._renderer._doStroke&&(r=this._renderer).curve.apply(r,e),this},n.default.prototype.curveDetail=function(t){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=t<3?3:t,this},n.default.prototype.curveTightness=function(t){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=t,this},n.default.prototype.curvePoint=function(t,e,i,r,s){n.default._validateParameters("curvePoint",arguments);var o=s*s*s,a=s*s;return t*(-.5*o+a-.5*s)+e*(1.5*o-2.5*a+1)+i*(-1.5*o+2*a+.5*s)+r*(.5*o-.5*a)},n.default.prototype.curveTangent=function(t,e,i,r,s){n.default._validateParameters("curveTangent",arguments);var o=s*s;return t*(-3*o/2+2*s-.5)+e*(9*o/2-5*s)+i*(-9*o/2+4*s+.5)+r*(3*o/2-s)};var s=n.default;i.default=s},{"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../main":260}],270:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.slice"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../constants")),a=null,l=[],u=[],h=!1,c=!1,d=!1,f=!1,p=!0;s.default.prototype.beginContour=function(){return u=[],f=!0,this},s.default.prototype.beginShape=function(t){var e;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(e=this._renderer).beginShape.apply(e,arguments):(a=t===o.POINTS||t===o.LINES||t===o.TRIANGLES||t===o.TRIANGLE_FAN||t===o.TRIANGLE_STRIP||t===o.QUADS||t===o.QUAD_STRIP?t:null,l=[],u=[]),this},s.default.prototype.bezierVertex=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;if(s.default._validateParameters("bezierVertex",e),this._renderer.isP3D)(r=this._renderer).bezierVertex.apply(r,e);else if(0===l.length)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var n=[],o=0;o<e.length;o++)n[o]=e[o];n.isVert=!1,f?u.push(n):l.push(n)}return this},s.default.prototype.curveVertex=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;return s.default._validateParameters("curveVertex",e),this._renderer.isP3D?(r=this._renderer).curveVertex.apply(r,e):(c=!0,this.vertex(e[0],e[1])),this},s.default.prototype.endContour=function(){var t=u[0].slice();t.isVert=u[0].isVert,t.moveTo=!1,u.push(t),p&&(l.push(l[0]),p=!1);for(var e=0;e<u.length;e++)l.push(u[e]);return this},s.default.prototype.endShape=function(t){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(t,c,h,d,f,a);else{if(0===l.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var e=t===o.CLOSE;e&&!f&&l.push(l[0]),this._renderer.endShape(t,l,c,h,d,f,a),p=!(f=d=h=c=!1),e&&l.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(s.default._validateParameters("quadraticVertex",e),this._renderer.isP3D){var r;(r=this._renderer).quadraticVertex.apply(r,e)}else{if(this._contourInited){var n={};return n.x=e[0],n.y=e[1],n.x3=e[2],n.y3=e[3],n.type=o.QUADRATIC,this._contourVertices.push(n),this}if(0<l.length){d=!0;for(var a=[],h=0;h<e.length;h++)a[h]=e[h];a.isVert=!1,f?u.push(a):l.push(a)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(t,e,i,r,n){if(this._renderer.isP3D){var s;(s=this._renderer).vertex.apply(s,arguments)}else{var o=[];o.isVert=!0,o[0]=t,o[1]=e,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),i&&(o.moveTo=i),f?(0===u.length&&(o.moveTo=!0),u.push(o)):l.push(o)}return this};var m=s.default;i.default=m},{"../constants":250,"../main":260,"core-js/modules/es.array.slice":160}],271:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,e=Object.defineProperty,i="function"==typeof Symbol&&"symbol"===r(Symbol()),n=Object.prototype.propertyIsEnumerable,s=function(t){return function(e){return n.call(t,e)}};e(Object,"assign",{value:function(e,r){if(null==e)throw new TypeError("target must be an object");var n,o,a,l,u=Object(e);for(n=1;n<arguments.length;++n)for(o=Object(arguments[n]),l=t(o),i&&Object.getOwnPropertySymbols&&l.push.apply(l,Object.getOwnPropertySymbols(o).filter(s(o))),a=0;a<l.length;++a)u[l[a]]=o[l[a]];return u},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-clamped-array":224,"core-js/modules/web.dom-collections.iterator":226}],272:[function(t,e,i){"use strict";t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("./main"))&&r.__esModule?r:{default:r};n.default.prototype.noLoop=function(){this._loop=!1},n.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},n.default.prototype.isLooping=function(){return this._loop},n.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},n.default.prototype.pop=function(){var t=this._styles.pop();t?(this._renderer.pop(t.renderer),Object.assign(this,t.props)):console.warn("pop() was called without matching push()")},n.default.prototype.redraw=function(t){if(!this._inUserDraw&&this._setupDone){var e=parseInt(t);(isNaN(e)||e<1)&&(e=1);var i=this._isGlobal?window:this;if("function"==typeof i.draw){void 0===i.setup&&i.scale(i._pixelDensity,i._pixelDensity);for(var r=function(t){t.call(i)},n=0;n<e;n++){i.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),i._renderer.isP3D&&i._renderer._update(),i._setProperty("frameCount",i.frameCount+1),i._registeredMethods.pre.forEach(r),this._inUserDraw=!0;try{i.draw()}finally{this._inUserDraw=!1}i._registeredMethods.post.forEach(r)}}}};var s=n.default;i.default=s},{"./main":260,"core-js/modules/es.array.for-each":152,"core-js/modules/es.object.assign":170,"core-js/modules/web.dom-collections.for-each":225}],273:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("./main"))&&r.__esModule?r:{default:r};function s(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.applyMatrix=function(){var t,e,i=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||i?(t=this._renderer).applyMatrix.apply(t,s(arguments[0])):(e=this._renderer).applyMatrix.apply(e,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(t,e){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(t),e),this},n.default.prototype.rotateX=function(t){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(t)),this},n.default.prototype.rotateY=function(t){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(t)),this},n.default.prototype.rotateZ=function(t){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(t)),this},n.default.prototype.scale=function(t,e,i){if(n.default._validateParameters("scale",arguments),t instanceof n.default.Vector){var r=t;t=r.x,e=r.y,i=r.z}else if(t instanceof Array){var s=t;t=s[0],e=s[1],i=s[2]||1}return isNaN(e)?e=i=t:isNaN(i)&&(i=1),this._renderer.scale.call(this._renderer,t,e,i),this},n.default.prototype.shearX=function(t){n.default._validateParameters("shearX",arguments);var e=this._toRadians(t);return this._renderer.applyMatrix(1,0,Math.tan(e),1,0,0),this},n.default.prototype.shearY=function(t){n.default._validateParameters("shearY",arguments);var e=this._toRadians(t);return this._renderer.applyMatrix(1,Math.tan(e),0,1,0,0),this},n.default.prototype.translate=function(t,e,i){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(t,e,i):this._renderer.translate(t,e),this};var o=n.default;i.default=o},{"./main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226}],274:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.default.prototype.storeItem=function(t,e){"string"!=typeof t&&console.log("The argument that you passed to storeItem() - ".concat(t," is not a string.")),t.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(t," must not end with 'p5TypeID'.")),void 0===e&&console.log("You cannot store undefined variables using storeItem().");var i=o(e);switch(i){case"number":case"boolean":e=e.toString();break;case"object":e instanceof n.default.Color?i="p5.Color":e instanceof n.default.Vector&&(i="p5.Vector",e=[e.x,e.y,e.z]),e=JSON.stringify(e)}localStorage.setItem(t,e);var r="".concat(t,"p5TypeID");localStorage.setItem(r,i)},n.default.prototype.getItem=function(t){var e=localStorage.getItem(t),i=localStorage.getItem("".concat(t,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(t,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==e)switch(i){case"number":e=parseFloat(e);break;case"boolean":e="true"===e;break;case"object":e=JSON.parse(e);break;case"p5.Color":e=JSON.parse(e),e=this.color.apply(this,s(e.levels));break;case"p5.Vector":e=JSON.parse(e),e=this.createVector.apply(this,s(e))}return e},n.default.prototype.clearStorage=function(){localStorage.clear()},n.default.prototype.removeItem=function(t){"string"!=typeof t&&console.log("The argument that you passed to removeItem() - ".concat(t," is not a string.")),localStorage.removeItem(t),localStorage.removeItem("".concat(t,"p5TypeID"))}},{"../core/main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],275:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.createStringDict=function(t,e){return n.default._validateParameters("createStringDict",arguments),new n.default.StringDict(t,e)},n.default.prototype.createNumberDict=function(t,e){return n.default._validateParameters("createNumberDict",arguments),new n.default.NumberDict(t,e)},n.default.TypedDict=function(t,e){return t instanceof Object?this.data=t:(this.data={},this.data[t]=e),this},n.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},n.default.TypedDict.prototype.hasKey=function(t){return this.data.hasOwnProperty(t)},n.default.TypedDict.prototype.get=function(t){if(this.data.hasOwnProperty(t))return this.data[t];console.log("".concat(t," does not exist in this Dictionary"))},n.default.TypedDict.prototype.set=function(t,e){this._validate(e)?this.data[t]=e:console.log("Those values dont work for this dictionary type.")},n.default.TypedDict.prototype._addObj=function(t){for(var e in t)this.set(e,t[e])},n.default.TypedDict.prototype.create=function(t,e){t instanceof Object&&void 0===e?this._addObj(t):void 0!==t?this.set(t,e):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},n.default.TypedDict.prototype.clear=function(){this.data={}},n.default.TypedDict.prototype.remove=function(t){if(!this.data.hasOwnProperty(t))throw new Error("".concat(t," does not exist in this Dictionary"));delete this.data[t]},n.default.TypedDict.prototype.print=function(){for(var t in this.data)console.log("key:".concat(t," value:").concat(this.data[t]))},n.default.TypedDict.prototype.saveTable=function(t){var e="";for(var i in this.data)e+="".concat(i,",").concat(this.data[i],"\n");var r=new Blob([e],{type:"text/csv"});n.default.prototype.downloadFile(r,t||"mycsv","csv")},n.default.TypedDict.prototype.saveJSON=function(t,e){n.default.prototype.saveJSON(this.data,t,e)},n.default.TypedDict.prototype._validate=function(t){return!0},n.default.StringDict=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.default.TypedDict.apply(this,e)},n.default.StringDict.prototype=Object.create(n.default.TypedDict.prototype),n.default.StringDict.prototype._validate=function(t){return"string"==typeof t},n.default.NumberDict=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.default.TypedDict.apply(this,e)},n.default.NumberDict.prototype=Object.create(n.default.TypedDict.prototype),n.default.NumberDict.prototype._validate=function(t){return"number"==typeof t},n.default.NumberDict.prototype.add=function(t,e){this.data.hasOwnProperty(t)?this.data[t]+=e:console.log("The key - ".concat(t," does not exist in this dictionary."))},n.default.NumberDict.prototype.sub=function(t,e){this.add(t,-e)},n.default.NumberDict.prototype.mult=function(t,e){this.data.hasOwnProperty(t)?this.data[t]*=e:console.log("The key - ".concat(t," does not exist in this dictionary."))},n.default.NumberDict.prototype.div=function(t,e){this.data.hasOwnProperty(t)?this.data[t]/=e:console.log("The key - ".concat(t," does not exist in this dictionary."))},n.default.NumberDict.prototype._valueTest=function(t){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var e=this.data[Object.keys(this.data)[0]];for(var i in this.data)this.data[i]*t<e*t&&(e=this.data[i]);return e},n.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},n.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},n.default.NumberDict.prototype._keyTest=function(t){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var e=Object.keys(this.data)[0],i=1;i<Object.keys(this.data).length;i++)Object.keys(this.data)[i]*t<e*t&&(e=Object.keys(this.data)[i]);return e},n.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},n.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var s=n.default.TypedDict;i.default=s},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.object.keys":173,"core-js/modules/es.string.sub":189}],276:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,i){(e._userNode?e._userNode:document.body).appendChild(t);var r=i?new n.default.MediaElement(t,e):new n.default.Element(t,e);return e._elements.push(r),r}function a(t,e,i,r){var n=document.createElement(e);"string"==typeof(i=i||"")&&(i=[i]);var s=!0,a=!1,l=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var c=u.value,d=document.createElement("source");d.setAttribute("src",c),n.appendChild(d)}}catch(t){a=!0,l=t}finally{try{s||null==h.return||h.return()}finally{if(a)throw l}}"function"==typeof r&&n.addEventListener("canplaythrough",(function t(){r(),n.removeEventListener("canplaythrough",t)}));var f=o(n,t,!0);return f.loadedmetadata=!1,n.addEventListener("loadedmetadata",(function(){f.width=n.videoWidth,f.height=n.videoHeight,0===f.elt.width&&(f.elt.width=n.videoWidth),0===f.elt.height&&(f.elt.height=n.videoHeight),f.presetPlaybackRate&&(f.elt.playbackRate=f.presetPlaybackRate,delete f.presetPlaybackRate),f.loadedmetadata=!0})),f}function l(t,e,i,r){this.callback=t,this.time=e,this.id=i,this.val=r}n.default.prototype.select=function(t,e){n.default._validateParameters("select",arguments);var i=this._getContainer(e).querySelector(t);return i?this._wrapElement(i):null},n.default.prototype.selectAll=function(t,e){n.default._validateParameters("selectAll",arguments);var i=[],r=this._getContainer(e).querySelectorAll(t);if(r)for(var s=0;s<r.length;s++){var o=this._wrapElement(r[s]);i.push(o)}return i},n.default.prototype._getContainer=function(t){var e=document;return"string"==typeof t?e=document.querySelector(t)||document:t instanceof n.default.Element?e=t.elt:t instanceof HTMLElement&&(e=t),e},n.default.prototype._wrapElement=function(t){var e=Array.prototype.slice.call(t.children);if("INPUT"!==t.tagName||"checkbox"!==t.type)return"VIDEO"===t.tagName||"AUDIO"===t.tagName?new n.default.MediaElement(t,this):"SELECT"===t.tagName?this.createSelect(new n.default.Element(t,this)):0<e.length&&e.every((function(t){return"INPUT"===t.tagName||"LABEL"===t.tagName}))?this.createRadio(new n.default.Element(t,this)):new n.default.Element(t,this);var i=new n.default.Element(t,this);return i.checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!!arguments[0],this)},i},n.default.prototype.removeElements=function(t){n.default._validateParameters("removeElements",arguments),this._elements.filter((function(t){return!(t.elt instanceof HTMLCanvasElement)})).map((function(t){return t.remove()}))},n.default.Element.prototype.changed=function(t){return n.default.Element._adjustListener("change",t,this),this},n.default.Element.prototype.input=function(t){return n.default.Element._adjustListener("input",t,this),this},n.default.prototype.createDiv=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("div");return e.innerHTML=t,o(e,this)},n.default.prototype.createP=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("p");return e.innerHTML=t,o(e,this)},n.default.prototype.createSpan=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("span");return e.innerHTML=t,o(e,this)},n.default.prototype.createImg=function(){n.default._validateParameters("createImg",arguments);var t,e=document.createElement("img"),i=arguments;return 1<i.length&&"string"==typeof i[1]&&(e.alt=i[1]),2<i.length&&"string"==typeof i[2]&&(e.crossOrigin=i[2]),e.src=i[0],t=o(e,this),e.addEventListener("load",(function(){t.width=e.offsetWidth||e.width,t.height=e.offsetHeight||e.height;var r=i[i.length-1];"function"==typeof r&&r(t)})),t},n.default.prototype.createA=function(t,e,i){n.default._validateParameters("createA",arguments);var r=document.createElement("a");return r.href=t,r.innerHTML=e,i&&(r.target=i),o(r,this)},n.default.prototype.createSlider=function(t,e,i,r){n.default._validateParameters("createSlider",arguments);var s=document.createElement("input");return s.type="range",s.min=t,s.max=e,0===r?s.step=1e-18:r&&(s.step=r),"number"==typeof i&&(s.value=i),o(s,this)},n.default.prototype.createButton=function(t,e){n.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=t,e&&(i.value=e),o(i,this)},n.default.prototype.createCheckbox=function(){n.default._validateParameters("createCheckbox",arguments);var t=document.createElement("div"),e=document.createElement("input");e.type="checkbox",t.appendChild(e);var i=o(t,this);if(i.checked=function(){var t=i.elt.getElementsByTagName("input")[0];if(t){if(0===arguments.length)return t.checked;t.checked=!!arguments[0]}return i},this.value=function(t){return i.value=t,this},arguments[0]){var r=Math.random().toString(36).slice(2),s=document.createElement("label");e.setAttribute("id",r),s.htmlFor=r,i.value(arguments[0]),s.appendChild(document.createTextNode(arguments[0])),t.appendChild(s)}return arguments[1]&&(e.checked=!0),i},n.default.prototype.createSelect=function(){var t;n.default._validateParameters("createSelect",arguments);var e=arguments[0];if(e instanceof n.default.Element&&e.elt instanceof HTMLSelectElement)t=e,this.elt=e.elt;else if(e instanceof HTMLSelectElement)t=o(e,this),this.elt=e;else{var i=document.createElement("select");e&&"boolean"==typeof e&&i.setAttribute("multiple","true"),t=o(i,this),this.elt=i}return t.option=function(t,e){var i;if(void 0!==t){for(var r=0;r<this.elt.length;r+=1)if(this.elt[r].innerHTML===t){i=r;break}if(void 0!==i)!1===e?this.elt.remove(i):this.elt[i].value=e;else{var n=document.createElement("option");n.innerHTML=t,n.value=void 0===e?t:e,this.elt.appendChild(n),this._pInst._elements.push(n)}}},t.selected=function(t){if(void 0!==t){for(var e=0;e<this.elt.length;e+=1)this.elt[e].value.toString()===t.toString()&&(this.elt.selectedIndex=e);return this}if(this.elt.getAttribute("multiple")){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=this.elt.selectedOptions[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;i.push(l.value)}}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}return this.elt.value},t.disable=function(t){if("string"==typeof t)for(var e=0;e<this.elt.length;e++)this.elt[e].value.toString()===t&&(this.elt[e].disabled=!0,this.elt[e].selected=!1);else this.elt.disabled=!0;return this},t},n.default.prototype.createRadio=function(){var t,e,i=arguments[0];i instanceof HTMLDivElement||i instanceof HTMLSpanElement?(t=i,"string"==typeof arguments[1]&&(e=arguments[1])):("string"==typeof i&&(e=i),t=document.createElement("div"));var r=o(this.elt=t,this);function n(t){return t instanceof HTMLInputElement&&"radio"===t.type}function s(t){return t.nextElementSibling instanceof HTMLLabelElement}return r._name=e||"radioOption",r._getOptionsArray=function(){return Array.from(this.elt.children).filter(n)},r.option=function(t,e){var i,n,o=!0,a=!1,l=void 0;try{for(var u,h=r._getOptionsArray()[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var c=u.value;if(c.value===t){i=c;break}}}catch(t){a=!0,l=t}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}return void 0===i&&((i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("value",t),this.elt.appendChild(i)),s(i)?n=i.nextElementSibling:(n=document.createElement("label"),i.insertAdjacentElement("afterend",n)),n.innerHTML=void 0===e?t:e,i.setAttribute("name",r._name),i},r.remove=function(t){var e=!0,i=!1,n=void 0;try{for(var o,a=r._getOptionsArray()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value;if(l.value===t)return s(l)&&l.nextElementSibling.remove(),void l.remove()}}catch(t){i=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(i)throw n}}},r.value=function(){var t="",e=!0,i=!1,n=void 0;try{for(var s,o=r._getOptionsArray()[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;if(a.checked){t=a.value;break}}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}return t},r.selected=function(t){var e=null;if(void 0===t){var i=!0,n=!1,s=void 0;try{for(var o,a=r._getOptionsArray()[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;if(l.checked){e=l;break}}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}else{var u=!0,h=!1,c=void 0;try{for(var d,f=r._getOptionsArray()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;p.value===t&&(p.setAttribute("checked",!0),e=p)}}catch(t){h=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(h)throw c}}}return e},r.disable=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=!0,i=!1,n=void 0;try{for(var s,o=r._getOptionsArray()[Symbol.iterator]();!(e=(s=o.next()).done);e=!0)s.value.setAttribute("disabled",t)}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}},r},n.default.prototype.createColorPicker=function(t){n.default._validateParameters("createColorPicker",arguments);var e,i=document.createElement("input");return i.type="color",t?t instanceof n.default.Color?i.value=t.toString("#rrggbb"):(n.default.prototype._colorMode="rgb",n.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},i.value=n.default.prototype.color(t).toString("#rrggbb")):i.value="#000000",(e=o(i,this)).color=function(){return t&&(t.mode&&(n.default.prototype._colorMode=t.mode),t.maxes&&(n.default.prototype._colorMaxes=t.maxes)),n.default.prototype.color(this.elt.value)},e},n.default.prototype.createInput=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";n.default._validateParameters("createInput",arguments);var i=document.createElement("input");return i.setAttribute("value",t),i.setAttribute("type",e),o(i,this)},n.default.prototype.createFileInput=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(n.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var i=document.createElement("input");return i.setAttribute("type","file"),e&&i.setAttribute("multiple",!0),i.addEventListener("change",(function(e){var i=!0,r=!1,s=void 0;try{for(var o,a=e.target.files[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;n.default.File._load(l,t)}}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}}),!1),o(i,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},n.default.prototype.createVideo=function(t,e){return n.default._validateParameters("createVideo",arguments),a(this,"video",t,e)},n.default.prototype.createAudio=function(t,e){return n.default._validateParameters("createAudio",arguments),a(this,"audio",t,e)},n.default.prototype.VIDEO="video",n.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new Promise((function(i,r){e.call(navigator,t,i,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),n.default.prototype.createCapture=function(){if(n.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var t,e,i=!0,r=!0,a=!0,l=!1,u=void 0;try{for(var h,c=arguments[Symbol.iterator]();!(a=(h=c.next()).done);a=!0){var d=h.value;d===n.default.prototype.VIDEO?r=!1:d===n.default.prototype.AUDIO?i=!1:"object"===s(d)?t=d:"function"==typeof d&&(e=d)}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}t=t||{video:i,audio:r};var f=document.createElement("video");f.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(t).then((function(t){try{"srcObject"in f?f.srcObject=t:f.src=window.URL.createObjectURL(t)}catch(e){f.src=t}}),console.log);var p=o(f,this,!0);return p.loadedmetadata=!1,f.addEventListener("loadedmetadata",(function(){f.play(),f.width?(p.width=f.width,p.height=f.height):(p.width=p.elt.width=f.videoWidth,p.height=p.elt.height=f.videoHeight),p.loadedmetadata=!0,e&&e(f.srcObject)})),p},n.default.prototype.createElement=function(t,e){n.default._validateParameters("createElement",arguments);var i=document.createElement(t);return void 0!==e&&(i.innerHTML=e),o(i,this)},n.default.Element.prototype.addClass=function(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this},n.default.Element.prototype.removeClass=function(t){return this.elt.classList.remove(t),this},n.default.Element.prototype.hasClass=function(t){return this.elt.classList.contains(t)},n.default.Element.prototype.toggleClass=function(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this},n.default.Element.prototype.child=function(t){return void 0===t?this.elt.childNodes:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof n.default.Element&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)},n.default.Element.prototype.center=function(t){var e=this.elt.style.display,i="none"===this.elt.style.display,r="none"===this.parent().style.display,n={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),r&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var s=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),o=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===t||void 0===t?this.position(s/2+this.parent().offsetLeft,o/2+this.parent().offsetTop):"horizontal"===t?this.position(s/2+this.parent().offsetLeft,n.y):"vertical"===t&&this.position(n.x,o/2+this.parent().offsetTop),this.style("display",e),i&&this.hide(),r&&this.parent().hide(),this},n.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},n.default.Element.prototype.position=function(){if(0===arguments.length)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var t="absolute";return"static"!==arguments[2]&&"fixed"!==arguments[2]&&"relative"!==arguments[2]&&"sticky"!==arguments[2]&&"initial"!==arguments[2]&&"inherit"!==arguments[2]||(t=arguments[2]),this.elt.style.position=t,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},n.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":arguments[3]+"px"),this.elt.style.transform+=t,this},n.default.Element.prototype._rotate=function(){var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=t,this},n.default.Element.prototype.style=function(t,e){if(e instanceof n.default.Color&&(e="rgba("+e.levels[0]+","+e.levels[1]+","+e.levels[2]+","+e.levels[3]/255+")"),void 0===e){if(-1===t.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(t);for(var i=t.split(";"),r=0;r<i.length;r++){var s=i[r].split(":");s[0]&&s[1]&&(this.elt.style[s[0].trim()]=s[1].trim())}}else if(this.elt.style[t]=e,"width"===t||"height"===t||"left"===t||"top"===t){var o=window.getComputedStyle(this.elt).getPropertyValue(t).replace(/\D+/g,"");this[t]=parseInt(o,10)}return this},n.default.Element.prototype.attribute=function(t,e){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===e?this.elt.getAttribute(t):(this.elt.setAttribute(t,e),this);if(void 0===e)return this.elt.firstChild.getAttribute(t);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(t,e)},n.default.Element.prototype.removeAttribute=function(t){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var e=0;e<this.elt.childNodes.length;e++)this.elt.childNodes[e].removeAttribute(t);return this.elt.removeAttribute(t),this},n.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},n.default.Element.prototype.show=function(){return this.elt.style.display="block",this},n.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},n.default.Element.prototype.size=function(t,e){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=t,r=e,s=n.default.prototype.AUTO;if(i!==s||r!==s){if(i===s?i=e*this.width/this.height:r===s&&(r=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){var o,a={},l=this.elt.getContext("2d");for(o in l)a[o]=l[o];for(o in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",r*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=r+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),a)this.elt.getContext("2d")[o]=a[o]}else this.elt.style.width=i+"px",this.elt.style.height=r+"px",this.elt.width=i,this.elt.height=r;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},n.default.Element.prototype.remove=function(){if(this instanceof n.default.MediaElement){this.stop();var t=this.elt.srcObject;null!==t&&t.getTracks().forEach((function(t){t.stop()}))}var e=this._pInst._elements.indexOf(this);for(var i in-1!==e&&this._pInst._elements.splice(e,1),this._events)this.elt.removeEventListener(i,this._events[i]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},n.default.Element.prototype.drop=function(t,e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var i=function(t){t.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}n.default.Element._attachListener("drop",(function(i){i.preventDefault(),"function"==typeof e&&e.call(this,i);for(var r=i.dataTransfer.files,s=0;s<r.length;s++){var o=r[s];n.default.File._load(o,t)}}),this)}else console.log("The File APIs are not fully supported in this browser.");return this},n.default.MediaElement=function(t,e){n.default.Element.call(this,t,e);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var t=i.elt.children[0].src,e=i.elt.src===window.location.href?"":i.elt.src;return t===window.location.href?e:t},set:function(e){for(var r=0;r<i.elt.children.length;r++)i.elt.removeChild(i.elt.children[r]);var n=document.createElement("source");n.src=e,t.appendChild(n),i.elt.src=e,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},n.default.MediaElement.prototype=Object.create(n.default.Element.prototype),n.default.MediaElement.prototype.play=function(){var t,e=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(t=this.elt.play())&&t.catch&&t.catch((function(t){"NotAllowedError"===t.name?n.default._friendlyAutoplayError(e.src):console.error("Media play method encountered an unexpected error",t)})),this},n.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},n.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},n.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},n.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},n.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var t=this,e=setTimeout((function(){return n.default._friendlyAutoplayError(t.src)}),500);this.elt.addEventListener("play",(function(){return clearTimeout(e)}),{passive:!0,once:!0})},n.default.MediaElement.prototype.autoplay=function(t){var e=this,i=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!i){var r=function(){return e._setupAutoplayFailDetection()};4===this.elt.readyState?r():this.elt.addEventListener("canplay",r,{passive:!0,once:!0})}return this},n.default.MediaElement.prototype.volume=function(t){if(void 0===t)return this.elt.volume;this.elt.volume=t},n.default.MediaElement.prototype.speed=function(t){if(void 0===t)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t},n.default.MediaElement.prototype.time=function(t){return void 0===t?this.elt.currentTime:(this.elt.currentTime=t,this)},n.default.MediaElement.prototype.duration=function(){return this.elt.duration},n.default.MediaElement.prototype.pixels=[],n.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},n.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),n.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},n.default.MediaElement.prototype.updatePixels=function(t,e,i,r){return this.loadedmetadata&&(this._ensureCanvas(),n.default.Renderer2D.prototype.updatePixels.call(this,t,e,i,r)),this.setModified(!0),this},n.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),n.default.Renderer2D.prototype.get.apply(this,arguments)},n.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),n.default.Renderer2D.prototype._getPixel.apply(this,arguments)},n.default.MediaElement.prototype.set=function(t,e,i){this.loadedmetadata&&(this._ensureCanvas(),n.default.Renderer2D.prototype.set.call(this,t,e,i),this.setModified(!0))},n.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),n.default.prototype.copy.apply(this,arguments)},n.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),n.default.Image.prototype.mask.apply(this,arguments)},n.default.MediaElement.prototype.isModified=function(){return this._modified},n.default.MediaElement.prototype.setModified=function(t){this._modified=t},n.default.MediaElement.prototype.onended=function(t){return this._onended=t,this},n.default.MediaElement.prototype.connect=function(t){var e,i;if("function"==typeof n.default.prototype.getAudioContext)e=n.default.prototype.getAudioContext(),i=n.default.soundOut.input;else try{i=(e=t.context).destination}catch(t){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=e.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(i)},n.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},n.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},n.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},n.default.MediaElement.prototype.addCue=function(t,e,i){var r=this._cueIDCounter++,n=new l(e,t,r,i);return this._cues.push(n),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),r},n.default.MediaElement.prototype.removeCue=function(t){for(var e=0;e<this._cues.length;e++)this._cues[e].id===t&&(console.log(t),this._cues.splice(e,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},n.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},n.default.MediaElement.prototype._onTimeUpdate=function(){for(var t=this.time(),e=0;e<this._cues.length;e++){var i=this._cues[e].time,r=this._cues[e].val;this._prevTime<i&&i<=t&&this._cues[e].callback(r)}this._prevTime=t},n.default.File=function(t,e){this.file=t,this._pInst=e;var i=t.type.split("/");this.type=i[0],this.subtype=i[1],this.name=t.name,this.size=t.size,this.data=void 0},n.default.File._createLoader=function(t,e){var i=new FileReader;return i.onload=function(i){var r=new n.default.File(t);if("application/json"===r.file.type)r.data=JSON.parse(i.target.result);else if("text/xml"===r.file.type){var s=(new DOMParser).parseFromString(i.target.result,"text/xml");r.data=new n.default.XML(s.documentElement)}else r.data=i.target.result;e(r)},i},n.default.File._load=function(t,e){if(/^text\//.test(t.type)||"application/json"===t.type)n.default.File._createLoader(t,e).readAsText(t);else if(/^(video|audio)\//.test(t.type)){var i=new n.default.File(t);i.data=URL.createObjectURL(t),e(i)}else n.default.File._createLoader(t,e).readAsDataURL(t)};var u=n.default;i.default=u},{"../core/main":260,"core-js/modules/es.array.every":149,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.from":153,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228}],277:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var a=s.default.prototype.pRotationZ=0,l=0,u=0,h="clockwise",c="clockwise",d="clockwise";s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0;var f=.5,p=30;s.default.prototype.setMoveThreshold=function(t){s.default._validateParameters("setMoveThreshold",arguments),f=t},s.default.prototype.setShakeThreshold=function(t){s.default._validateParameters("setShakeThreshold",arguments),p=t},s.default.prototype._ondeviceorientation=function(t){this._updatePRotations(),this._angleMode===o.radians&&(t.beta=t.beta*(_PI/180),t.gamma=t.gamma*(_PI/180),t.alpha=t.alpha*(_PI/180)),this._setProperty("rotationX",t.beta),this._setProperty("rotationY",t.gamma),this._setProperty("rotationZ",t.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(t){this._updatePAccelerations(),this._setProperty("accelerationX",2*t.acceleration.x),this._setProperty("accelerationY",2*t.acceleration.y),this._setProperty("accelerationZ",2*t.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var t,e,i=this._isGlobal?window:this;if("function"==typeof i.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>f||Math.abs(this.accelerationY-this.pAccelerationY)>f||Math.abs(this.accelerationZ-this.pAccelerationZ)>f)&&i.deviceMoved(),"function"==typeof i.deviceTurned){var r=this.rotationX+180,n=this.pRotationX+180,s=a+180;0<r-n&&r-n<270||r-n<-270?h="clockwise":(r-n<0||270<r-n)&&(h="counter-clockwise"),h!==this.pRotateDirectionX&&(s=r),90<Math.abs(r-s)&&Math.abs(r-s)<270&&(s=r,this._setProperty("turnAxis","X"),i.deviceTurned()),this.pRotateDirectionX=h,a=s-180;var o=this.rotationY+180,m=this.pRotationY+180,v=l+180;0<o-m&&o-m<270||o-m<-270?c="clockwise":(o-m<0||270<o-this.pRotationY)&&(c="counter-clockwise"),c!==this.pRotateDirectionY&&(v=o),90<Math.abs(o-v)&&Math.abs(o-v)<270&&(v=o,this._setProperty("turnAxis","Y"),i.deviceTurned()),this.pRotateDirectionY=c,l=v-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?d="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(u=this.rotationZ),90<Math.abs(this.rotationZ-u)&&Math.abs(this.rotationZ-u)<270&&(u=this.rotationZ,this._setProperty("turnAxis","Z"),i.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)}"function"==typeof i.deviceShaken&&(null!==this.pAccelerationX&&(t=Math.abs(this.accelerationX-this.pAccelerationX),e=Math.abs(this.accelerationY-this.pAccelerationY)),p<t+e&&i.deviceShaken())};var m=s.default;i.default=m},{"../core/constants":250,"../core/main":260}],278:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.isKeyPressed=!1,n.default.prototype.keyIsPressed=!1,n.default.prototype.key="",n.default.prototype.keyCode=0,n.default.prototype._onkeydown=function(t){if(!this._downKeys[t.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",t.which),this._downKeys[t.which]=!0,this._setProperty("key",t.key||String.fromCharCode(t.which)||t.which);var e=this._isGlobal?window:this;"function"!=typeof e.keyPressed||t.charCode||!1===e.keyPressed(t)&&t.preventDefault()}},n.default.prototype._onkeyup=function(t){this._downKeys[t.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",t.key||String.fromCharCode(t.which)||t.which),this._setProperty("keyCode",t.which);var e=this._isGlobal?window:this;"function"==typeof e.keyReleased&&!1===e.keyReleased(t)&&t.preventDefault()},n.default.prototype._onkeypress=function(t){if(t.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",t.which),this._setProperty("key",t.key||String.fromCharCode(t.which)||t.which);var e=this._isGlobal?window:this;"function"==typeof e.keyTyped&&!1===e.keyTyped(t)&&t.preventDefault()}},n.default.prototype._onblur=function(t){this._downKeys={}},n.default.prototype.keyIsDown=function(t){return n.default._validateParameters("keyIsDown",arguments),this._downKeys[t]||!1},n.default.prototype._areDownKeys=function(){for(var t in this._downKeys)if(this._downKeys.hasOwnProperty(t)&&!0===this._downKeys[t])return!0;return!1};var s=n.default;i.default=s},{"../core/main":260}],279:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(t){if(null!==this._curElement&&(!t.touches||0<t.touches.length)){var e=function(t,e,i,r){r&&!r.clientX&&(r.touches?r=r.touches[0]:r.changedTouches&&(r=r.changedTouches[0]));var n=t.getBoundingClientRect(),s=t.scrollWidth/e||1,o=t.scrollHeight/i||1;return{x:(r.clientX-n.left)/s,y:(r.clientY-n.top)/o,winX:r.clientX,winY:r.clientY,id:r.identifier}}(this._curElement.elt,this.width,this.height,t);this._setProperty("movedX",t.movementX),this._setProperty("movedY",t.movementY),this._setProperty("mouseX",e.x),this._setProperty("mouseY",e.y),this._setProperty("winMouseX",e.winX),this._setProperty("winMouseY",e.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(t){1===t.button?this._setProperty("mouseButton",o.CENTER):2===t.button?this._setProperty("mouseButton",o.RIGHT):this._setProperty("mouseButton",o.LEFT)},s.default.prototype._onmousemove=function(t){var e=this._isGlobal?window:this;this._updateNextMouseCoords(t),this.mouseIsPressed?"function"==typeof e.mouseDragged?!1===e.mouseDragged(t)&&t.preventDefault():"function"==typeof e.touchMoved&&!1===e.touchMoved(t)&&t.preventDefault():"function"==typeof e.mouseMoved&&!1===e.mouseMoved(t)&&t.preventDefault()},s.default.prototype._onmousedown=function(t){var e=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(t),this._updateNextMouseCoords(t),"function"==typeof e.mousePressed?!1===e.mousePressed(t)&&t.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof e.touchStarted&&!1===e.touchStarted(t)&&t.preventDefault()},s.default.prototype._onmouseup=function(t){var e=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof e.mouseReleased?!1===e.mouseReleased(t)&&t.preventDefault():"function"==typeof e.touchEnded&&!1===e.touchEnded(t)&&t.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(t){var e=this._isGlobal?window:this;"function"==typeof e.mouseClicked&&!1===e.mouseClicked(t)&&t.preventDefault()},s.default.prototype._ondblclick=function(t){var e=this._isGlobal?window:this;"function"==typeof e.doubleClicked&&!1===e.doubleClicked(t)&&t.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(t){var e=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",t.deltaY),"function"==typeof e.mouseWheel&&(t.delta=t.deltaY,!1===e.mouseWheel(t)&&t.preventDefault())},s.default.prototype.requestPointerLock=function(){var t=this._curElement.elt;return t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock,t.requestPointerLock?(t.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var a=s.default;i.default=a},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],280:[function(t,e,i){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t,e,i,r,n){var s=4<arguments.length&&void 0!==n?n:0,o=t.getBoundingClientRect(),a=t.scrollWidth/e||1,l=t.scrollHeight/i||1,u=r.touches[s]||r.changedTouches[s];return{x:(u.clientX-o.left)/a,y:(u.clientY-o.top)/l,winX:u.clientX,winY:u.clientY,id:u.identifier}}n.default.prototype.touches=[],n.default.prototype._updateTouchCoords=function(t){if(null!==this._curElement){for(var e=[],i=0;i<t.touches.length;i++)e[i]=s(this._curElement.elt,this.width,this.height,t,i);this._setProperty("touches",e)}},n.default.prototype._ontouchstart=function(t){var e=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(t),this._updateNextMouseCoords(t),this._updateMouseCoords(),"function"==typeof e.touchStarted?!1===e.touchStarted(t)&&t.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof e.mousePressed&&!1===e.mousePressed(t)&&t.preventDefault()},n.default.prototype._ontouchmove=function(t){var e=this._isGlobal?window:this;this._updateTouchCoords(t),this._updateNextMouseCoords(t),"function"==typeof e.touchMoved?!1===e.touchMoved(t)&&t.preventDefault():"function"==typeof e.mouseDragged&&!1===e.mouseDragged(t)&&t.preventDefault()},n.default.prototype._ontouchend=function(t){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(t),this._updateNextMouseCoords(t);var e=this._isGlobal?window:this;"function"==typeof e.touchEnded?!1===e.touchEnded(t)&&t.preventDefault():"function"==typeof e.mouseReleased&&!1===e.mouseReleased(t)&&t.preventDefault()};var o=n.default;i.default=o},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],281:[function(t,e,i){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n,s,o,a={_toPixels:function(t){if(t instanceof ImageData)return t.data;if(t.getContext("2d"))return t.getContext("2d").getImageData(0,0,t.width,t.height).data;if(t.getContext("webgl")){var e=t.getContext("webgl"),i=e.drawingBufferWidth*e.drawingBufferHeight*4,r=new Uint8Array(i);return e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,r),r}},_getARGB:function(t,e){var i=4*e;return t[3+i]<<24&4278190080|t[i]<<16&16711680|t[1+i]<<8&65280|255&t[2+i]},_setPixels:function(t,e){for(var i=0,r=0,n=t.length;r<n;r++)t[0+(i=4*r)]=(16711680&e[r])>>>16,t[i+1]=(65280&e[r])>>>8,t[i+2]=255&e[r],t[i+3]=(4278190080&e[r])>>>24},_toImageData:function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},_createImageData:function(t,e){return a._tmpCanvas=document.createElement("canvas"),a._tmpCtx=a._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,e)},apply:function(t,e,i){var r=t.getContext("2d"),n=r.getImageData(0,0,t.width,t.height),s=e(n,i);s instanceof ImageData?r.putImageData(s,0,0,0,0,t.width,t.height):r.putImageData(n,0,0,0,0,t.width,t.height)},threshold:function(t,e){var i=a._toPixels(t);void 0===e&&(e=.5);for(var r=Math.floor(255*e),n=0;n<i.length;n+=4){var s;s=r<=.2126*i[n]+.7152*i[n+1]+.0722*i[n+2]?255:0,i[n]=i[n+1]=i[n+2]=s}},gray:function(t){for(var e=a._toPixels(t),i=0;i<e.length;i+=4){var r=.2126*e[i]+.7152*e[i+1]+.0722*e[i+2];e[i]=e[i+1]=e[i+2]=r}},opaque:function(t){for(var e=a._toPixels(t),i=0;i<e.length;i+=4)e[i+3]=255;return e},invert:function(t){for(var e=a._toPixels(t),i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]},posterize:function(t,e){var i=a._toPixels(t);if(e<2||255<e)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=e-1,n=0;n<i.length;n+=4){var s=i[n],o=i[n+1],l=i[n+2];i[n]=255*(s*e>>8)/r,i[n+1]=255*(o*e>>8)/r,i[n+2]=255*(l*e>>8)/r}},dilate:function(t){for(var e,i,r,n,s,o,l,u,h,c,d,f,p,m,v,y,g,x=a._toPixels(t),b=0,w=x.length?x.length/4:0,_=new Int32Array(w);b<w;)for(i=(e=b)+t.width;b<i;)r=n=a._getARGB(x,b),(l=b-1)<e&&(l=b),i<=(o=b+1)&&(o=b),(u=b-t.width)<0&&(u=0),w<=(h=b+t.width)&&(h=b),f=a._getARGB(x,u),d=a._getARGB(x,l),p=a._getARGB(x,h),(s=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))<(v=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(n=d,s=v),s<(m=77*((c=a._getARGB(x,o))>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,s=m),s<(y=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(n=f,s=y),s<(g=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(n=p,s=g),_[b++]=n;a._setPixels(x,_)},erode:function(t){for(var e,i,r,n,s,o,l,u,h,c,d,f,p,m,v,y,g,x=a._toPixels(t),b=0,w=x.length?x.length/4:0,_=new Int32Array(w);b<w;)for(i=(e=b)+t.width;b<i;)r=n=a._getARGB(x,b),(l=b-1)<e&&(l=b),i<=(o=b+1)&&(o=b),(u=b-t.width)<0&&(u=0),w<=(h=b+t.width)&&(h=b),f=a._getARGB(x,u),d=a._getARGB(x,l),p=a._getARGB(x,h),(v=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(s=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(n=d,s=v),(m=77*((c=a._getARGB(x,o))>>16&255)+151*(c>>8&255)+28*(255&c))<s&&(n=c,s=m),(y=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<s&&(n=f,s=y),(g=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<s&&(n=p,s=g),_[b++]=n;a._setPixels(x,_)},blur:function(t,e){!function(t,e){for(var i,l,u,h,c,d,f,p,m,v,y=a._toPixels(t),g=t.width,x=t.height,b=g*x,w=new Int32Array(b),_=0;_<b;_++)w[_]=a._getARGB(y,_);var S,A,T,E,M=new Int32Array(b),C=new Int32Array(b),P=new Int32Array(b),R=new Int32Array(b),k=0;for(function(t){var e=3.5*t|0;if(r!==(e=e<1?1:e<248?e:248)){n=1+(r=e)<<1,s=new Int32Array(n),o=new Array(n);for(var i=0;i<n;i++)o[i]=new Int32Array(256);for(var a,l,u,h,c=1,d=e-1;c<e;c++){s[e+c]=s[d]=l=d*d,u=o[e+c],h=o[d--];for(var f=0;f<256;f++)u[f]=h[f]=l*f}a=s[e]=e*e,u=o[e];for(var p=0;p<256;p++)u[p]=a*p}}(e),A=0;A<x;A++){for(S=0;S<g;S++){if(h=u=l=c=i=0,(d=S-r)<0)v=-d,d=0;else{if(g<=d)break;v=0}for(T=v;T<n&&!(g<=d);T++){var L=w[d+k];c+=(E=o[T])[(-16777216&L)>>>24],l+=E[(16711680&L)>>16],u+=E[(65280&L)>>8],h+=E[255&L],i+=s[T],d++}M[f=k+S]=c/i,C[f]=l/i,P[f]=u/i,R[f]=h/i}k+=g}for(m=(p=-r)*g,A=k=0;A<x;A++){for(S=0;S<g;S++){if(h=u=l=c=i=0,p<0)v=f=-p,d=S;else{if(x<=p)break;v=0,f=p,d=S+m}for(T=v;T<n&&!(x<=f);T++)c+=(E=o[T])[M[d]],l+=E[C[d]],u+=E[P[d]],h+=E[R[d]],i+=s[T],f++,d+=g;w[S+k]=c/i<<24|l/i<<16|u/i<<8|h/i}k+=g,m+=g,p++}a._setPixels(y,w)}(t,e)}},l=a;i.default=l},{"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int32-array":206,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],282:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=s(t("../core/main")),n=s(t("omggif"));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.default.prototype.createImage=function(t,e){return r.default._validateParameters("createImage",arguments),new r.default.Image(t,e)},r.default.prototype.saveCanvas=function(){r.default._validateParameters("saveCanvas",arguments);var t,e,i,n,s=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(t=arguments[0],s.shift()):arguments[0]instanceof r.default.Element?(t=arguments[0].elt,s.shift()):t=this._curElement&&this._curElement.elt,1<=s.length&&(e=s[0]),2<=s.length&&(i=s[1]),i=i||r.default.prototype._checkFileExtension(e,i)[1]||"png"){default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}t.toBlob((function(t){r.default.prototype.downloadFile(t,e,i)}),n)},r.default.prototype.saveGif=function(t,e){var i=t.gifProperties,s=i.loopLimit;1===s?s=null:null===s&&(s=0);for(var a=new Uint8Array(t.width*t.height*i.numFrames),l=[],u={},h=0;h<i.numFrames;h++){for(var c=new Set,d=i.frames[h].image.data,f=d.length,p=new Uint32Array(t.width*t.height),m=0,v=0;m<f;m+=4,v++){var y=d[m+0]<<16|d[m+1]<<8|d[m+2]<<0;c.add(y),p[v]=y}var g=o(c).sort().toString();void 0===u[g]?u[g]={freq:1,frames:[h]}:(u[g].freq+=1,u[g].frames.push(h)),l.push(p)}var x=[],b=Object.keys(u).sort((function(t,e){return u[e].freq-u[t].freq})),w=b[0].split(",").map((function(t){return parseInt(t)}));x=x.concat(u[w].frames);for(var _=new Set(w),S=1;S<b.length;S++){var A=b[S].split(",").map((function(t){return parseInt(t)})).filter((function(t){return!_.has(t)}));if(w.length+A.length<=256){for(var T=0;T<A.length;T++)w.push(A[T]),_.add(A[T]);x=x.concat(u[b[S]].frames)}}x=new Set(x);for(var E={},M=0;M<w.length;M++)E[w[M]]||(E[w[M]]=M);for(var C=1;C<w.length;)C<<=1;w.length=C;for(var P={loop:s,palette:new Uint32Array(w)},R=new n.default.GifWriter(a,t.width,t.height,P),k={},L=function(e){for(var r=!x.has(e),n=r?[]:w,s=new Uint8Array(t.width*t.height),o={},a=new Set,u=0;u<l[e].length;u++){var h=l[e][u];r?(void 0===o[h]&&(o[h]=n.length,n.push(h)),s[u]=o[h]):s[u]=E[h],0<e&&l[e-1][u]!==h&&a.add(h)}var c={},d=n.filter((function(t){return!a.has(t)}));if(0<d.length){var f=d[0],p=r?o[f]:E[f];if(0<e){for(var m=0;m<l[e].length;m++)l[e-1][m]===l[e][m]&&(s[m]=p);c.transparent=p,k.frameOpts.disposal=1}}if(c.delay=i.frames[e].delay/10,r){for(var v=1;v<n.length;)v<<=1;n.length=v,c.palette=new Uint32Array(n)}0<e&&R.addFrame(0,0,t.width,t.height,k.pixelPaletteIndex,k.frameOpts),k={pixelPaletteIndex:s,frameOpts:c}},O=0;O<i.numFrames;O++)L(O);k.frameOpts.disposal=1,R.addFrame(0,0,t.width,t.height,k.pixelPaletteIndex,k.frameOpts);var D=new Blob([a.slice(0,R.end())],{type:"image/gif"});r.default.prototype.downloadFile(D,e,"gif")},r.default.prototype.saveFrames=function(t,e,i,n,s){r.default._validateParameters("saveFrames",arguments);var o=i||3;o=r.default.prototype.constrain(o,0,15),o*=1e3;var a=n||15;a=r.default.prototype.constrain(a,0,22);var l=0,u=r.default.prototype._makeFrame,h=this._curElement.elt,c=[],d=setInterval((function(){c.push(u(t+l,e,h)),l++}),1e3/a);setTimeout((function(){if(clearInterval(d),s)s(c);else{var t=!0,e=!1,i=void 0;try{for(var n,o=c[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var a=n.value;r.default.prototype.downloadFile(a.imageData,a.filename,a.ext)}}catch(t){e=!0,i=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}c=[]}),o+.01)},r.default.prototype._makeFrame=function(t,e,i){var r,n;if(r=this?this._curElement.elt:i,e)switch(e.toLowerCase()){case"png":default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}else e="png",n="image/png";var s=r.toDataURL(n);s=s.replace(n,"image/octet-stream");var o={};return o.imageData=s,o.filename=t,o.ext=e,o};var a=r.default;i.default=a},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,omggif:235}],283:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=u(t("../core/main")),s=u(t("./filters")),o=u(t("../core/helpers")),a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants")),l=u(t("omggif"));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){return 0<t&&t<e?t:e}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.loadImage=function(t,e,i){n.default._validateParameters("loadImage",arguments);var r=new n.default.Image(1,1,this),s=this,o=new Request(t,{method:"GET",mode:"cors"});return fetch(t,o).then((function(o){var a=o.headers.get("content-type");if(null===a&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),a&&a.includes("image/gif"))o.arrayBuffer().then((function(t){t&&function(t,e,i,r,s){var o=new l.default.GifReader(t);e.width=e.canvas.width=o.width,e.height=e.canvas.height=o.height;var a=[],u=o.numFrames(),h=new Uint8ClampedArray(e.width*e.height*4);if(1<u){for(var c=function(t,i){try{i.decodeAndBlitFrameRGBA(t,h)}catch(t){n.default._friendlyFileLoadError(8,e.src),"function"==typeof r?r(t):console.error(t)}},d=0;d<u;d++){var f=o.frameInfo(d);1===o.frameInfo(d).disposal&&0<d?e.drawingContext.putImageData(a[d-1].image,0,0):(e.drawingContext.clearRect(0,0,e.width,e.height),h=new Uint8ClampedArray(e.width*e.height*4)),c(d,o);var p=new ImageData(h,e.width,e.height);e.drawingContext.putImageData(p,0,0);var m=f.delay;0===m&&(m=10),a.push({image:e.drawingContext.getImageData(0,0,e.width,e.height),delay:10*m})}var v=o.loopCount();null===v?v=1:0===v&&(v=null),e.drawingContext.putImageData(a[0].image,0,0),e.gifProperties={displayIndex:0,loopLimit:v,loopCount:0,frames:a,numFrames:u,playing:!0,timeDisplayed:0,lastChangeTime:0}}"function"==typeof i&&i(e),s()}(new Uint8Array(t),r,e,i,function(t){s._decrementPreload()}.bind(s))}),(function(t){"function"==typeof i?i(t):console.error(t)}));else{var u=new Image;u.onload=function(){r.width=r.canvas.width=u.width,r.height=r.canvas.height=u.height,r.drawingContext.drawImage(u,0,0),r.modified=!0,"function"==typeof e&&e(r),s._decrementPreload()},u.onerror=function(t){n.default._friendlyFileLoadError(0,u.src),"function"==typeof i?i(t):console.error(t)},0!==t.indexOf("data:image/")&&(u.crossOrigin="Anonymous"),u.src=t}r.modified=!0})).catch((function(e){n.default._friendlyFileLoadError(0,t),"function"==typeof i?i(e):console.error(e)})),r},n.default.prototype.image=function(t,e,i,r,s,a,l,u,c){n.default._validateParameters("image",arguments);var d=t.width,f=t.height;t.elt&&t.elt.videoWidth&&!t.canvas&&(d=t.elt.videoWidth,f=t.elt.videoHeight);var p=e,m=i,v=r||d,y=s||f,g=a||0,x=l||0,b=u||d,w=c||f;b=h(b,d),w=h(w,f);var _=1;t.elt&&!t.canvas&&t.elt.style.width&&(_=t.elt.videoWidth&&!r?t.elt.videoWidth:t.elt.width,_/=parseInt(t.elt.style.width,10)),g*=_,x*=_,w*=_,b*=_;var S=o.default.modeAdjust(p,m,v,y,this._renderer._imageMode);this._renderer.image(t,g,x,b,w,S.x,S.y,S.w,S.h)},n.default.prototype.tint=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.default._validateParameters("tint",e);var r=this.color.apply(this,e);this._renderer._tint=r.levels},n.default.prototype.noTint=function(){this._renderer._tint=null},n.default.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=s.default._toPixels(t.canvas),i=document.createElement("canvas");i.width=t.canvas.width,i.height=t.canvas.height;for(var r=i.getContext("2d"),n=r.createImageData(t.canvas.width,t.canvas.height),o=n.data,a=0;a<e.length;a+=4){var l=e[a],u=e[a+1],h=e[a+2],c=e[a+3];o[a]=l*this._renderer._tint[0]/255,o[a+1]=u*this._renderer._tint[1]/255,o[a+2]=h*this._renderer._tint[2]/255,o[a+3]=c*this._renderer._tint[3]/255}return r.putImageData(n,0,0),i},n.default.prototype.imageMode=function(t){n.default._validateParameters("imageMode",arguments),t!==a.CORNER&&t!==a.CORNERS&&t!==a.CENTER||(this._renderer._imageMode=t)};var c=n.default;i.default=c},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/helpers":256,"../core/main":260,"./filters":281,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.includes":182,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/es.typed-array.uint8-clamped-array":224,omggif:235}],284:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=s(t("../core/main")),n=s(t("./filters"));function s(t){return t&&t.__esModule?t:{default:t}}r.default.Image=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},r.default.Image.prototype._animateGif=function(t){var e=this.gifProperties,i=t._lastFrameTime+t.deltaTime;if(0===e.lastChangeTime&&(e.lastChangeTime=i),e.playing){e.timeDisplayed=i-e.lastChangeTime;var r=e.frames[e.displayIndex].delay;if(e.timeDisplayed>=r){var n=Math.floor(e.timeDisplayed/r);if(e.timeDisplayed=0,e.lastChangeTime=i,e.displayIndex+=n,e.loopCount=Math.floor(e.displayIndex/e.numFrames),null!==e.loopLimit&&e.loopCount>=e.loopLimit)e.playing=!1;else{var s=e.displayIndex%e.numFrames;this.drawingContext.putImageData(e.frames[s].image,0,0),e.displayIndex=s,this.setModified(!0)}}}},r.default.Image.prototype._setProperty=function(t,e){this[t]=e,this.setModified(!0)},r.default.Image.prototype.loadPixels=function(){r.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},r.default.Image.prototype.updatePixels=function(t,e,i,n){r.default.Renderer2D.prototype.updatePixels.call(this,t,e,i,n),this.setModified(!0)},r.default.Image.prototype.get=function(t,e,i,n){return r.default._validateParameters("p5.Image.get",arguments),r.default.Renderer2D.prototype.get.apply(this,arguments)},r.default.Image.prototype._getPixel=r.default.Renderer2D.prototype._getPixel,r.default.Image.prototype.set=function(t,e,i){r.default.Renderer2D.prototype.set.call(this,t,e,i),this.setModified(!0)},r.default.Image.prototype.resize=function(t,e){0===t&&0===e?(t=this.canvas.width,e=this.canvas.height):0===t?t=this.canvas.width*e/this.canvas.height:0===e&&(e=this.canvas.height*t/this.canvas.width),t=Math.floor(t),e=Math.floor(e);var i=document.createElement("canvas");if(i.width=t,i.height=e,this.gifProperties)for(var r=this.gifProperties,n=function(t,e){for(var i=0,r=0;r<e.height;r++)for(var n=0;n<e.width;n++){var s=Math.floor(n*t.width/e.width),o=4*(Math.floor(r*t.height/e.height)*t.width+s);e.data[i++]=t.data[o++],e.data[i++]=t.data[o++],e.data[i++]=t.data[o++],e.data[i++]=t.data[o++]}},s=0;s<r.numFrames;s++){var o=this.drawingContext.createImageData(t,e);n(r.frames[s].image,o),r.frames[s].image=o}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=t,this.canvas.height=this.height=e,this.drawingContext.drawImage(i,0,0,t,e,0,0,t,e),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},r.default.Image.prototype.copy=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.default.prototype.copy.apply(this,e)},r.default.Image.prototype.mask=function(t){void 0===t&&(t=this);var e=this.drawingContext.globalCompositeOperation,i=1;t instanceof r.default.Renderer&&(i=t._pInst._pixelDensity);var n=[t,0,0,i*t.width,i*t.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",r.default.Image.prototype.copy.apply(this,n),this.drawingContext.globalCompositeOperation=e,this.setModified(!0)},r.default.Image.prototype.filter=function(t,e){n.default.apply(this.canvas,n.default[t],e),this.setModified(!0)},r.default.Image.prototype.blend=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.default._validateParameters("p5.Image.blend",arguments),r.default.prototype.blend.apply(this,e),this.setModified(!0)},r.default.Image.prototype.setModified=function(t){this._modified=t},r.default.Image.prototype.isModified=function(){return this._modified},r.default.Image.prototype.save=function(t,e){this.gifProperties?r.default.prototype.saveGif(this,t):r.default.prototype.saveCanvas(this.canvas,t,e)},r.default.Image.prototype.reset=function(){if(this.gifProperties){var t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}},r.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var t=this.gifProperties;return t.displayIndex%t.numFrames}},r.default.Image.prototype.setFrame=function(t){if(this.gifProperties){var e=this.gifProperties;t<e.numFrames&&0<=t?(e.timeDisplayed=0,e.lastChangeTime=0,e.displayIndex=t,this.drawingContext.putImageData(e.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},r.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},r.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},r.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},r.default.Image.prototype.delay=function(t,e){if(this.gifProperties){var i=this.gifProperties;if(e<i.numFrames&&0<=e)i.frames[e].delay=t;else{var r=!0,n=!1,s=void 0;try{for(var o,a=i.frames[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)o.value.delay=t}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}}}};var o=r.default.Image;i.default=o},{"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],285:[function(t,e,i){"use strict";t("core-js/modules/es.array.filter"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=s(t("../core/main")),n=s(t("./filters"));function s(t){return t&&t.__esModule?t:{default:t}}t("../color/p5.Color"),r.default.prototype.pixels=[],r.default.prototype.blend=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n;r.default._validateParameters("blend",e),this._renderer?(n=this._renderer).blend.apply(n,e):r.default.Renderer2D.prototype.blend.apply(this,e)},r.default.prototype.copy=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n,s,o,a,l,u,h,c,d;if(r.default._validateParameters("copy",e),9===e.length)n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5],h=e[6],c=e[7],d=e[8];else{if(8!==e.length)throw new Error("Signature not supported");n=this,s=e[0],o=e[1],a=e[2],l=e[3],u=e[4],h=e[5],c=e[6],d=e[7]}r.default.prototype._copyHelper(this,n,s,o,a,l,u,h,c,d)},r.default.prototype._copyHelper=function(t,e,i,n,s,o,a,l,u,h){e.loadPixels();var c=e.canvas.width/e.width,d=0,f=0;e._renderer&&e._renderer.isP3D&&(d=e.width/2,f=e.height/2),t._renderer&&t._renderer.isP3D?r.default.RendererGL.prototype.image.call(t._renderer,e,i+d,n+f,s,o,a,l,u,h):t.drawingContext.drawImage(e.canvas,c*(i+d),c*(n+f),c*s,c*o,a,l,u,h)},r.default.prototype.filter=function(t,e){r.default._validateParameters("filter",arguments),void 0!==this.canvas?n.default.apply(this.canvas,n.default[t],e):n.default.apply(this.elt,n.default[t],e)},r.default.prototype.get=function(t,e,i,n){var s;return r.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},r.default.prototype.loadPixels=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.default._validateParameters("loadPixels",e),this._renderer.loadPixels()},r.default.prototype.set=function(t,e,i){this._renderer.set(t,e,i)},r.default.prototype.updatePixels=function(t,e,i,n){r.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(t,e,i,n)};var o=r.default;i.default=o},{"../color/p5.Color":248,"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151}],286:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=o(t("../core/main"));t("whatwg-fetch"),t("es6-promise/auto");var n=o(t("fetch-jsonp")),s=o(t("file-saver"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var i={};if(void 0===(e=e||[]))for(var r=0;r<t.length;r++)e[r.toString()]=r;for(var n=0;n<e.length;n++){var s=e[n],o=t[n];i[s]=o}return i}function u(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(t,e){e&&!0!==e&&"true"!==e||(e="");var i="";return(t=t||"untitled")&&t.includes(".")&&(i=t.split(".").pop()),e&&i!==e&&(i=e,t="".concat(t,".").concat(i)),[t,i]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),r.default.prototype.loadJSON=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.default._validateParameters("loadJSON",e);for(var n,s,o,l=e[0],u={},h="json",c=1;c<e.length;c++){var d=e[c];"string"==typeof d?"jsonp"!==d&&"json"!==d||(h=d):"function"==typeof d?n?s=d:n=d:"object"===a(d)&&(d.hasOwnProperty("jsonpCallback")||d.hasOwnProperty("jsonpCallbackFunction"))&&(h="jsonp",o=d)}var f=this;return this.httpDo(l,"GET",o,h,(function(t){for(var e in t)u[e]=t[e];void 0!==n&&n(t),f._decrementPreload()}),(function(t){if(r.default._friendlyFileLoadError(5,l),!s)throw t;s(t)})),u},r.default.prototype.loadStrings=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.default._validateParameters("loadStrings",e);for(var n,s,o=[],a=1;a<e.length;a++){var l=e[a];"function"==typeof l&&(void 0===n?n=l:void 0===s&&(s=l))}var u=this;return r.default.prototype.httpDo.call(this,e[0],"GET","text",(function(t){for(var e=t.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),i=0,r=e.length;i<r;i+=32768)Array.prototype.push.apply(o,e.slice(i,Math.min(i+32768,r)));void 0!==n&&n(o),u._decrementPreload()}),(function(t){if(r.default._friendlyFileLoadError(3,t),!s)throw t;s(t)})),o},r.default.prototype.loadTable=function(t){var e,i,n,s=[],o=!1,a=t.substring(t.lastIndexOf(".")+1,t.length);"csv"===a?n=",":"ssv"===a?n=";":"tsv"===a&&(n="\t");for(var u=1;u<arguments.length;u++)"function"==typeof arguments[u]?void 0===e?e=arguments[u]:void 0===i&&(i=arguments[u]):"string"==typeof arguments[u]&&(s.push(arguments[u]),"header"===arguments[u]&&(o=!0),"csv"===arguments[u]?n=",":"ssv"===arguments[u]?n=";":"tsv"===arguments[u]&&(n="\t"));var h=new r.default.Table,c=this;return this.httpDo(t,"GET","table",(function(t){for(var i,s,a={},u=[],d=0,f=null,p=function(){a.currentState=0,a.token=""},m=function(){f.push(a.token),p()},v=function(){a.currentState=4,u.push(f),f=null};;){if(null==(i=t[d++])){if(a.escaped)throw new Error("Unclosed quote in file.");if(f){m(),v();break}}if(null===f&&(a.escaped=!1,f=[],p()),0===a.currentState){if('"'===i){a.escaped=!0,a.currentState=1;continue}a.currentState=1}if(1===a.currentState&&a.escaped)if('"'===i)'"'===t[d]?(a.token+='"',d++):(a.escaped=!1,a.currentState=2);else{if("\r"===i)continue;a.token+=i}else"\r"===i?("\n"===t[d]&&d++,m(),v()):"\n"===i?(m(),v()):i===n?m():1===a.currentState&&(a.token+=i)}if(o)h.columns=u.shift();else for(var y=0;y<u[0].length;y++)h.columns[y]="null";for(var g=0;g<u.length;g++)(1!==u[g].length||"undefined"!==u[g][0]&&""!==u[g][0])&&((s=new r.default.TableRow).arr=u[g],s.obj=l(u[g],h.columns),h.addRow(s));"function"==typeof e&&e(h),c._decrementPreload()}),(function(e){r.default._friendlyFileLoadError(2,t),i?i(e):console.error(e)})),h},r.default.prototype.loadXML=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n,s,o=new r.default.XML,a=1;a<e.length;a++){var l=e[a];"function"==typeof l&&(void 0===n?n=l:void 0===s&&(s=l))}var u=this;return this.httpDo(e[0],"GET","xml",(function(t){for(var e in t)o[e]=t[e];void 0!==n&&n(o),u._decrementPreload()}),(function(t){if(r.default._friendlyFileLoadError(1,t),!s)throw t;s(t)})),o},r.default.prototype.loadBytes=function(t,e,i){var n={},s=this;return this.httpDo(t,"GET","arrayBuffer",(function(t){n.bytes=new Uint8Array(t),"function"==typeof e&&e(n),s._decrementPreload()}),(function(e){if(r.default._friendlyFileLoadError(6,t),!i)throw e;i(e)})),n},r.default.prototype.httpGet=function(){r.default._validateParameters("httpGet",arguments);var t=Array.prototype.slice.call(arguments);return t.splice(1,0,"GET"),r.default.prototype.httpDo.apply(this,t)},r.default.prototype.httpPost=function(){r.default._validateParameters("httpPost",arguments);var t=Array.prototype.slice.call(arguments);return t.splice(1,0,"POST"),r.default.prototype.httpDo.apply(this,t)},r.default.prototype.httpDo=function(){for(var t,e,i,s,o,l={},u=0,h="text/plain",c=arguments.length-1;0<c&&"function"==typeof(c<0||arguments.length<=c?void 0:arguments[c]);c--)u++;var d=arguments.length<=0?void 0:arguments[0];if(2==arguments.length-u&&"string"==typeof d&&"object"===a(arguments.length<=1?void 0:arguments[1]))s=new Request(d,arguments.length<=1?void 0:arguments[1]),e=arguments.length<=2?void 0:arguments[2],i=arguments.length<=3?void 0:arguments[3];else{for(var f,p="GET",m=1;m<arguments.length;m++){var v=m<0||arguments.length<=m?void 0:arguments[m];if("string"==typeof v)"GET"===v||"POST"===v||"PUT"===v||"DELETE"===v?p=v:"json"===v||"jsonp"===v||"binary"===v||"arrayBuffer"===v||"xml"===v||"text"===v||"table"===v?t=v:f=v;else if("number"==typeof v)f=v.toString();else if("object"===a(v))if(v.hasOwnProperty("jsonpCallback")||v.hasOwnProperty("jsonpCallbackFunction"))for(var y in v)l[y]=v[y];else h=v instanceof r.default.XML?(f=v.serialize(),"application/xml"):(f=JSON.stringify(v),"application/json");else"function"==typeof v&&(e?i=v:e=v)}var g="GET"===p?new Headers:new Headers({"Content-Type":h});s=new Request(d,{method:p,mode:"cors",body:f,headers:g})}return(o=(o="jsonp"===(t=t||(d.includes("json")?"json":d.includes("xml")?"xml":"text"))?(0,n.default)(d,l):fetch(s)).then((function(e){if(!e.ok){var i=new Error(e.body);throw i.status=e.status,i.ok=!1,i}var n=0;switch("jsonp"!==t&&(n=e.headers.get("content-length")),n&&64e6<n&&r.default._friendlyFileLoadError(7,d),t){case"json":case"jsonp":return e.json();case"binary":return e.blob();case"arrayBuffer":return e.arrayBuffer();case"xml":return e.text().then((function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return new r.default.XML(e.documentElement)}));default:return e.text()}}))).then(e||function(){}),o.catch(i||console.error),o},window.URL=window.URL||window.webkitURL,r.default.prototype._pWriters=[],r.default.prototype.createWriter=function(t,e){var i;for(var n in r.default.prototype._pWriters)if(r.default.prototype._pWriters[n].name===t)return i=new r.default.PrintWriter(t+this.millis(),e),r.default.prototype._pWriters.push(i),i;return i=new r.default.PrintWriter(t,e),r.default.prototype._pWriters.push(i),i},r.default.PrintWriter=function(t,e){var i=this;this.name=t,this.content="",this.write=function(t){this.content+=t},this.print=function(t){this.content+="".concat(t,"\n")},this.clear=function(){this.content=""},this.close=function(){var n=[];for(var s in n.push(this.content),r.default.prototype.writeFile(n,t,e),r.default.prototype._pWriters)r.default.prototype._pWriters[s].name===this.name&&r.default.prototype._pWriters.splice(s,1);i.clear(),i={}}},r.default.prototype.save=function(t,e,i){var n=arguments,s=this._curElement?this._curElement.elt:this.elt;if(0!==n.length)if(n[0]instanceof r.default.Renderer||n[0]instanceof r.default.Graphics)r.default.prototype.saveCanvas(n[0].elt,n[1],n[2]);else if(1===n.length&&"string"==typeof n[0])r.default.prototype.saveCanvas(s,n[0]);else switch(h(n[1],n[2])[1]){case"json":return void r.default.prototype.saveJSON(n[0],n[1],n[2]);case"txt":return void r.default.prototype.saveStrings(n[0],n[1],n[2]);default:n[0]instanceof Array?r.default.prototype.saveStrings(n[0],n[1],n[2]):n[0]instanceof r.default.Table?r.default.prototype.saveTable(n[0],n[1],n[2]):n[0]instanceof r.default.Image?r.default.prototype.saveCanvas(n[0].canvas,n[1]):n[0]instanceof r.default.SoundFile&&r.default.prototype.saveSound(n[0],n[1],n[2],n[3])}else r.default.prototype.saveCanvas(s)},r.default.prototype.saveJSON=function(t,e,i){var n;r.default._validateParameters("saveJSON",arguments),n=i?JSON.stringify(t):JSON.stringify(t,void 0,2),this.saveStrings(n.split("\n"),e,"json")},r.default.prototype.saveJSONObject=r.default.prototype.saveJSON,r.default.prototype.saveJSONArray=r.default.prototype.saveJSON,r.default.prototype.saveStrings=function(t,e,i,n){r.default._validateParameters("saveStrings",arguments);for(var s=i||"txt",o=this.createWriter(e,s),a=0;a<t.length;a++)n?o.write(t[a]+"\r\n"):o.write(t[a]+"\n");o.close(),o.clear()},r.default.prototype.saveTable=function(t,e,i){var n;r.default._validateParameters("saveTable",arguments),n=void 0===i?e.substring(e.lastIndexOf(".")+1,e.length):i;var s=this.createWriter(e,n),o=t.columns,a=",";if("tsv"===n&&(a="\t"),"html"!==n){if("0"!==o[0]){for(var l=0;l<o.length;l++)l<o.length-1?s.write(o[l]+a):s.write(o[l]);s.write("\n")}for(var h=0;h<t.rows.length;h++){var c=void 0;for(c=0;c<t.rows[h].arr.length;c++)c<t.rows[h].arr.length-1?"csv"===n&&String(t.rows[h].arr[c]).includes(",")?s.write('"'+t.rows[h].arr[c]+'"'+a):s.write(t.rows[h].arr[c]+a):"csv"===n&&String(t.rows[h].arr[c]).includes(",")?s.write('"'+t.rows[h].arr[c]+'"'):s.write(t.rows[h].arr[c]);s.write("\n")}}else{if(s.print("<html>"),s.print("<head>"),s.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),s.print("</head>"),s.print("<body>"),s.print("  <table>"),"0"!==o[0]){s.print("    <tr>");for(var d=0;d<o.length;d++){var f=u(o[d]);s.print("      <td>".concat(f)),s.print("      </td>")}s.print("    </tr>")}for(var p=0;p<t.rows.length;p++){s.print("    <tr>");for(var m=0;m<t.columns.length;m++){var v=u(t.rows[p].getString(m));s.print("      <td>".concat(v)),s.print("      </td>")}s.print("    </tr>")}s.print("  </table>"),s.print("</body>"),s.print("</html>")}s.close(),s.clear()},r.default.prototype.writeFile=function(t,e,i){var n="application/octet-stream";r.default.prototype._isSafari()&&(n="text/plain");var s=new Blob(t,{type:n});r.default.prototype.downloadFile(s,e,i)},r.default.prototype.downloadFile=function(t,e,i){var n=h(e,i),o=n[0];if(t instanceof Blob)s.default.saveAs(t,o);else{var a=document.createElement("a");if(a.href=t,a.download=o,a.onclick=function(t){var e;e=t,document.body.removeChild(e.target),t.stopPropagation()},a.style.display="none",document.body.appendChild(a),r.default.prototype._isSafari()){var l="Hello, Safari user! To download this file...\n";l+="1. Go to File --\x3e Save As.\n",l+='2. Choose "Page Source" as the Format.\n',l+='3. Name it with this extension: ."'.concat(n[1],'"'),alert(l)}a.click()}},r.default.prototype._checkFileExtension=h,r.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var c=r.default;i.default=c},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228,"es6-promise/auto":229,"fetch-jsonp":231,"file-saver":232,"whatwg-fetch":239}],287:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.Table=function(t){this.columns=[],this.rows=[]},n.default.Table.prototype.addRow=function(t){var e=t||new n.default.TableRow;if(void 0===e.arr||void 0===e.obj)throw new Error("invalid TableRow: ".concat(e));return(e.table=this).rows.push(e),e},n.default.Table.prototype.removeRow=function(t){this.rows[t].table=null;var e=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(e)},n.default.Table.prototype.getRow=function(t){return this.rows[t]},n.default.Table.prototype.getRows=function(){return this.rows},n.default.Table.prototype.findRow=function(t,e){if("string"==typeof e){for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[e]===t)return this.rows[i]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[e]===t)return this.rows[r];return null},n.default.Table.prototype.findRows=function(t,e){var i=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)this.rows[r].obj[e]===t&&i.push(this.rows[r]);else for(var n=0;n<this.rows.length;n++)this.rows[n].arr[e]===t&&i.push(this.rows[n]);return i},n.default.Table.prototype.matchRow=function(t,e){if("number"==typeof e){for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[e].match(t))return this.rows[i]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[e].match(t))return this.rows[r];return null},n.default.Table.prototype.matchRows=function(t,e){var i=[];if("number"==typeof e)for(var r=0;r<this.rows.length;r++)this.rows[r].arr[e].match(t)&&i.push(this.rows[r]);else for(var n=0;n<this.rows.length;n++)this.rows[n].obj[e].match(t)&&i.push(this.rows[n]);return i},n.default.Table.prototype.getColumn=function(t){var e=[];if("string"==typeof t)for(var i=0;i<this.rows.length;i++)e.push(this.rows[i].obj[t]);else for(var r=0;r<this.rows.length;r++)e.push(this.rows[r].arr[t]);return e},n.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},n.default.Table.prototype.addColumn=function(t){var e=t||null;this.columns.push(e)},n.default.Table.prototype.getColumnCount=function(){return this.columns.length},n.default.Table.prototype.getRowCount=function(){return this.rows.length},n.default.Table.prototype.removeTokens=function(t,e){for(var i=[],r=0;r<t.length;r++)i.push(t.charAt(r).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var n=new RegExp(i.join("|"),"g");if(void 0===e)for(var s=0;s<this.columns.length;s++)for(var o=0;o<this.rows.length;o++){var a=this.rows[o].arr[s];a=a.replace(n,""),this.rows[o].arr[s]=a,this.rows[o].obj[this.columns[s]]=a}else if("string"==typeof e)for(var l=0;l<this.rows.length;l++){var u=this.rows[l].obj[e];u=u.replace(n,""),this.rows[l].obj[e]=u;var h=this.columns.indexOf(e);this.rows[l].arr[h]=u}else for(var c=0;c<this.rows.length;c++){var d=this.rows[c].arr[e];d=d.replace(n,""),this.rows[c].arr[e]=d,this.rows[c].obj[this.columns[e]]=d}},n.default.Table.prototype.trim=function(t){var e=new RegExp(" ","g");if(void 0===t)for(var i=0;i<this.columns.length;i++)for(var r=0;r<this.rows.length;r++){var n=this.rows[r].arr[i];n=n.replace(e,""),this.rows[r].arr[i]=n,this.rows[r].obj[this.columns[i]]=n}else if("string"==typeof t)for(var s=0;s<this.rows.length;s++){var o=this.rows[s].obj[t];o=o.replace(e,""),this.rows[s].obj[t]=o;var a=this.columns.indexOf(t);this.rows[s].arr[a]=o}else for(var l=0;l<this.rows.length;l++){var u=this.rows[l].arr[t];u=u.replace(e,""),this.rows[l].arr[t]=u,this.rows[l].obj[this.columns[t]]=u}},n.default.Table.prototype.removeColumn=function(t){var e,i;"string"==typeof t?(e=t,i=this.columns.indexOf(t)):(i=t,e=this.columns[t]);var r=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(r);for(var n=0;n<this.rows.length;n++){var s=this.rows[n].arr,o=s.splice(i+1,s.length);s.pop(),this.rows[n].arr=s.concat(o),delete this.rows[n].obj[e]}},n.default.Table.prototype.set=function(t,e,i){this.rows[t].set(e,i)},n.default.Table.prototype.setNum=function(t,e,i){this.rows[t].setNum(e,i)},n.default.Table.prototype.setString=function(t,e,i){this.rows[t].setString(e,i)},n.default.Table.prototype.get=function(t,e){return this.rows[t].get(e)},n.default.Table.prototype.getNum=function(t,e){return this.rows[t].getNum(e)},n.default.Table.prototype.getString=function(t,e){return this.rows[t].getString(e)},n.default.Table.prototype.getObject=function(t){for(var e,i={},r=0;r<this.rows.length;r++)if(e=this.rows[r].obj,"string"==typeof t){if(!(0<=this.columns.indexOf(t)))throw new Error('This table has no column named "'.concat(t,'"'));i[e[t]]=e}else i[r]=this.rows[r].obj;return i},n.default.Table.prototype.getArray=function(){for(var t=[],e=0;e<this.rows.length;e++)t.push(this.rows[e].arr);return t};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.splice":162,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.trim":190}],288:[function(t,e,i){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.TableRow=function(t,e){var i=[],r={};t&&(e=e||",",i=t.split(e));for(var n=0;n<i.length;n++){var s=n,o=i[n];r[s]=o}this.arr=i,this.obj=r,this.table=null},n.default.TableRow.prototype.set=function(t,e){if("string"==typeof t){var i=this.table.columns.indexOf(t);if(!(0<=i))throw new Error('This table has no column named "'.concat(t,'"'));this.obj[t]=e,this.arr[i]=e}else{if(!(t<this.table.columns.length))throw new Error("Column #".concat(t," is out of the range of this table"));this.arr[t]=e;var r=this.table.columns[t];this.obj[r]=e}},n.default.TableRow.prototype.setNum=function(t,e){var i=parseFloat(e);this.set(t,i)},n.default.TableRow.prototype.setString=function(t,e){var i=e.toString();this.set(t,i)},n.default.TableRow.prototype.get=function(t){return"string"==typeof t?this.obj[t]:this.arr[t]},n.default.TableRow.prototype.getNum=function(t){var e;if("NaN"===(e="string"==typeof t?parseFloat(this.obj[t]):parseFloat(this.arr[t])).toString())throw"Error: ".concat(this.obj[t]," is NaN (Not a Number)");return e},n.default.TableRow.prototype.getString=function(t){return"string"==typeof t?this.obj[t].toString():this.arr[t].toString()};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],289:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.XML=function(t){if(t)this.DOM=t;else{var e=document.implementation.createDocument(null,"doc");this.DOM=e.createElement("root")}},n.default.XML.prototype.getParent=function(){return new n.default.XML(this.DOM.parentElement)},n.default.XML.prototype.getName=function(){return this.DOM.tagName},n.default.XML.prototype.setName=function(t){var e=this.DOM.innerHTML,i=this.DOM.attributes,r=document.implementation.createDocument(null,"default").createElement(t);r.innerHTML=e;for(var n=0;n<i.length;n++)r.setAttribute(i[n].nodeName,i.nodeValue);this.DOM=r},n.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},n.default.XML.prototype.listChildren=function(){for(var t=[],e=0;e<this.DOM.childNodes.length;e++)t.push(this.DOM.childNodes[e].nodeName);return t},n.default.XML.prototype.getChildren=function(t){return function(t){for(var e=[],i=0;i<t.length;i++)e.push(new n.default.XML(t[i]));return e}(t?this.DOM.getElementsByTagName(t):this.DOM.children)},n.default.XML.prototype.getChild=function(t){if("string"!=typeof t)return new n.default.XML(this.DOM.children[t]);var e=!0,i=!1,r=void 0;try{for(var s,o=this.DOM.children[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;if(a.tagName===t)return new n.default.XML(a)}}catch(t){i=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw r}}},n.default.XML.prototype.addChild=function(t){t instanceof n.default.XML&&this.DOM.appendChild(t.DOM)},n.default.XML.prototype.removeChild=function(t){var e=-1;if("string"==typeof t){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===t){e=i;break}}else e=t;-1!==e&&this.DOM.removeChild(this.DOM.children[e])},n.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},n.default.XML.prototype.listAttributes=function(){var t=[],e=!0,i=!1,r=void 0;try{for(var n,s=this.DOM.attributes[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value;t.push(o.nodeName)}}catch(t){i=!0,r=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw r}}return t},n.default.XML.prototype.hasAttribute=function(t){var e={},i=!0,r=!1,n=void 0;try{for(var s,o=this.DOM.attributes[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value;e[a.nodeName]=a.nodeValue}}catch(t){r=!0,n=t}finally{try{i||null==o.return||o.return()}finally{if(r)throw n}}return!!e[t]},n.default.XML.prototype.getNum=function(t,e){var i={},r=!0,n=!1,s=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;i[l.nodeName]=l.nodeValue}}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return Number(i[t])||e||0},n.default.XML.prototype.getString=function(t,e){var i={},r=!0,n=!1,s=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;i[l.nodeName]=l.nodeValue}}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i[t]?String(i[t]):e||null},n.default.XML.prototype.setAttribute=function(t,e){this.DOM.setAttribute(t,e)},n.default.XML.prototype.getContent=function(t){return this.DOM.textContent.replace(/\s\s+/g,",")||t||null},n.default.XML.prototype.setContent=function(t){this.DOM.children.length||(this.DOM.textContent=t)},n.default.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],290:[function(t,e,i){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var t=arguments.length,e=[],i=0,r=0;r<t;r++){var n=arguments[r];if((n=+n)==1/0||n===-1/0)return 1/0;i<(n=Math.abs(n))&&(i=n),e[r]=n}0===i&&(i=1);for(var s=0,o=0,a=0;a<t;a++){var l=e[a]/i,u=l*l-o,h=s+u;o=h-s-u,s=h}return Math.sqrt(s)*i}n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(t,e,i){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(t,i),e)},n.default.prototype.dist=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.default._validateParameters("dist",e),4===e.length?s(e[2]-e[0],e[3]-e[1]):6===e.length?s(e[3]-e[0],e[4]-e[1],e[5]-e[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(t,e,i){return n.default._validateParameters("lerp",arguments),i*(e-t)+t},n.default.prototype.log=Math.log,n.default.prototype.mag=function(t,e){return n.default._validateParameters("mag",arguments),s(t,e)},n.default.prototype.map=function(t,e,i,r,s,o){n.default._validateParameters("map",arguments);var a=(t-e)/(i-e)*(s-r)+r;return o?r<s?this.constrain(a,r,s):this.constrain(a,s,r):a},n.default.prototype.max=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e[0]instanceof Array?Math.max.apply(null,e[0]):Math.max.apply(null,e)},n.default.prototype.min=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e[0]instanceof Array?Math.min.apply(null,e[0]):Math.min.apply(null,e)},n.default.prototype.norm=function(t,e,i){return n.default._validateParameters("norm",arguments),this.map(t,e,i,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=function(t,e){return e?Number(Math.round(t+"e"+e)+"e-"+e):Math.round(t)},n.default.prototype.sq=function(t){return t*t},n.default.prototype.sqrt=Math.sqrt,n.default.prototype.fract=function(t){n.default._validateParameters("fract",arguments);var e=0,i=Number(t);if(isNaN(i)||Math.abs(i)===1/0)return i;if(i<0&&(i=-i,e=1),!String(i).includes(".")||String(i).includes("e"))return i<1?Math.abs(e-i):0;var r=String(i);return r=Number("0"+r.slice(r.indexOf("."))),Math.abs(e-r)};var o=n.default;i.default=o},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.math.hypot":165,"core-js/modules/es.number.constructor":167,"core-js/modules/es.string.includes":182}],291:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.createVector=function(t,e,i){return this instanceof n.default?new n.default.Vector(this,arguments):new n.default.Vector(t,e,i)};var s=n.default;i.default=s},{"../core/main":260}],292:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t){return.5*(1-Math.cos(t*Math.PI))}var o,a=4095,l=4,u=.5;n.default.prototype.noise=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==o){o=new Array(4096);for(var r=0;r<4096;r++)o[r]=Math.random()}t<0&&(t=-t),e<0&&(e=-e),i<0&&(i=-i);for(var n,h,c,d,f,p=Math.floor(t),m=Math.floor(e),v=Math.floor(i),y=t-p,g=e-m,x=i-v,b=0,w=.5,_=0;_<l;_++){var S=p+(m<<4)+(v<<8);n=s(y),h=s(g),c=o[S&a],c+=n*(o[S+1&a]-c),d=o[S+16&a],c+=h*((d+=n*(o[S+16+1&a]-d))-c),d=o[(S+=256)&a],d+=n*(o[S+1&a]-d),f=o[S+16&a],d+=h*((f+=n*(o[S+16+1&a]-f))-d),b+=(c+=s(x)*(d-c))*w,w*=u,p<<=1,m<<=1,v<<=1,1<=(y*=2)&&(p++,y--),1<=(g*=2)&&(m++,g--),1<=(x*=2)&&(v++,x--)}return b},n.default.prototype.noiseDetail=function(t,e){0<t&&(l=t),0<e&&(u=e)},n.default.prototype.noiseSeed=function(t){var e,i,r,n=(r=4294967296,{setSeed:function(t){i=e=(null==t?Math.random()*r:t)>>>0},getSeed:function(){return e},rand:function(){return(i=(1664525*i+1013904223)%r)/r}});n.setSeed(t),o=new Array(4096);for(var s=0;s<4096;s++)o[s]=n.rand()};var h=n.default;i.default=h},{"../core/main":260}],293:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.sub"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));function a(t,e){return 0!==t&&(this.x=this.x%t),0!==e&&(this.y=this.y%e),this}function l(t,e,i){return 0!==t&&(this.x=this.x%t),0!==e&&(this.y=this.y%e),0!==i&&(this.z=this.z%i),this}s.default.Vector=function(t,e,i){var r,n,o;o=t instanceof s.default?(this.p5=t,r=e[0]||0,n=e[1]||0,e[2]||0):(r=t||0,n=e||0,i||0),this.x=r,this.y=n,this.z=o},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(t,e,i){return t instanceof s.default.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):t instanceof Array?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},s.default.Vector.prototype.copy=function(){return this.p5?new s.default.Vector(this.p5,[this.x,this.y,this.z]):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(t,e,i){return t instanceof s.default.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0):t instanceof Array?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0):(this.x+=t||0,this.y+=e||0,this.z+=i||0),this},s.default.Vector.prototype.rem=function(t,e,i){if(t instanceof s.default.Vector){if(Number.isFinite(t.x)&&Number.isFinite(t.y)&&Number.isFinite(t.z)){var r=parseFloat(t.x),n=parseFloat(t.y),o=parseFloat(t.z);l.call(this,r,n,o)}}else if(t instanceof Array)t.every((function(t){return Number.isFinite(t)}))&&(2===t.length&&a.call(this,t[0],t[1]),3===t.length&&l.call(this,t[0],t[1],t[2]));else if(1===arguments.length){if(Number.isFinite(t)&&0!==t)return this.x=this.x%t,this.y=this.y%t,this.z=this.z%t,this}else if(2===arguments.length){var u=Array.prototype.slice.call(arguments);u.every((function(t){return Number.isFinite(t)}))&&2===u.length&&a.call(this,u[0],u[1])}else if(3===arguments.length){var h=Array.prototype.slice.call(arguments);h.every((function(t){return Number.isFinite(t)}))&&3===h.length&&l.call(this,h[0],h[1],h[2])}},s.default.Vector.prototype.sub=function(t,e,i){return t instanceof s.default.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0):t instanceof Array?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0):(this.x-=t||0,this.y-=e||0,this.z-=i||0),this},s.default.Vector.prototype.mult=function(t,e,i){if(t instanceof s.default.Vector)return Number.isFinite(t.x)&&Number.isFinite(t.y)&&Number.isFinite(t.z)&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.z?(this.x*=t.x,this.y*=t.y,this.z*=t.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(t instanceof Array)return t.every((function(t){return Number.isFinite(t)}))&&t.every((function(t){return"number"==typeof t}))?1===t.length?(this.x*=t[0],this.y*=t[0],this.z*=t[0]):2===t.length?(this.x*=t[0],this.y*=t[1]):3===t.length&&(this.x*=t[0],this.y*=t[1],this.z*=t[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var r=Array.prototype.slice.call(arguments);return r.every((function(t){return Number.isFinite(t)}))&&r.every((function(t){return"number"==typeof t}))?(1===arguments.length&&(this.x*=t,this.y*=t,this.z*=t),2===arguments.length&&(this.x*=t,this.y*=e),3===arguments.length&&(this.x*=t,this.y*=e,this.z*=i)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(t,e,i){if(t instanceof s.default.Vector){if(Number.isFinite(t.x)&&Number.isFinite(t.y)&&Number.isFinite(t.z)&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.z){if(0===t.x||0===t.y||0===t.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=t.x,this.y/=t.y,this.z/=t.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(t instanceof Array){if(t.every((function(t){return Number.isFinite(t)}))&&t.every((function(t){return"number"==typeof t}))){if(t.some((function(t){return 0===t})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===t.length?(this.x/=t[0],this.y/=t[0],this.z/=t[0]):2===t.length?(this.x/=t[0],this.y/=t[1]):3===t.length&&(this.x/=t[0],this.y/=t[1],this.z/=t[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var r=Array.prototype.slice.call(arguments);if(r.every((function(t){return Number.isFinite(t)}))&&r.every((function(t){return"number"==typeof t}))){if(r.some((function(t){return 0===t})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=t,this.y/=t,this.z/=t),2===arguments.length&&(this.x/=t,this.y/=e),3===arguments.length&&(this.x/=t,this.y/=e,this.z/=i)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},s.default.Vector.prototype.dot=function(t,e,i){return t instanceof s.default.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)},s.default.Vector.prototype.cross=function(t){var e=this.y*t.z-this.z*t.y,i=this.z*t.x-this.x*t.z,r=this.x*t.y-this.y*t.x;return this.p5?new s.default.Vector(this.p5,[e,i,r]):new s.default.Vector(e,i,r)},s.default.Vector.prototype.dist=function(t){return t.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var t=this.mag();return 0!==t&&this.mult(1/t),this},s.default.Vector.prototype.limit=function(t){var e=this.magSq();return t*t<e&&this.div(Math.sqrt(e)).mult(t),this},s.default.Vector.prototype.setMag=function(t){return this.normalize().mult(t)},s.default.Vector.prototype.heading=function(){var t=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(t):t},s.default.Vector.prototype.setHeading=function(t){var e=this.mag();return this.x=e*Math.cos(t),this.y=e*Math.sin(t),this},s.default.Vector.prototype.rotate=function(t){var e=this.heading()+t;this.p5&&(e=this.p5._toRadians(e));var i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this},s.default.Vector.prototype.angleBetween=function(t){var e,i=this.dot(t)/(this.mag()*t.mag());return e=Math.acos(Math.min(1,Math.max(-1,i))),e*=Math.sign(this.cross(t).z||1),this.p5&&(e=this.p5._fromRadians(e)),e},s.default.Vector.prototype.lerp=function(t,e,i,r){return t instanceof s.default.Vector?this.lerp(t.x,t.y,t.z,e):(this.x+=(t-this.x)*r||0,this.y+=(e-this.y)*r||0,this.z+=(i-this.z)*r||0,this)},s.default.Vector.prototype.reflect=function(t){return t.normalize(),this.sub(t.mult(2*this.dot(t)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(t,e,i){var r,n,o;return o=t instanceof s.default.Vector?(r=t.x||0,n=t.y||0,t.z||0):t instanceof Array?(r=t[0]||0,n=t[1]||0,t[2]||0):(r=t||0,n=e||0,i||0),this.x===r&&this.y===n&&this.z===o},s.default.Vector.fromAngle=function(t,e){return void 0===e&&(e=1),new s.default.Vector(e*Math.cos(t),e*Math.sin(t),0)},s.default.Vector.fromAngles=function(t,e,i){void 0===i&&(i=1);var r=Math.cos(e),n=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return new s.default.Vector(i*a*n,-i*o,i*a*r)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*o.TWO_PI)},s.default.Vector.random3D=function(){var t=Math.random()*o.TWO_PI,e=2*Math.random()-1,i=Math.sqrt(1-e*e),r=i*Math.cos(t),n=i*Math.sin(t);return new s.default.Vector(r,n,e)},s.default.Vector.add=function(t,e,i){return i?i.set(t):(i=t.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),i.add(e),i},s.default.Vector.rem=function(t,e){if(t instanceof s.default.Vector&&e instanceof s.default.Vector){var i=t.copy();return i.rem(e),i}},s.default.Vector.sub=function(t,e,i){return i?i.set(t):(i=t.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),i.sub(e),i},s.default.Vector.mult=function(t,e,i){return i?i.set(t):(i=t.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),i.mult(e),i},s.default.Vector.rotate=function(t,e,i){return 2===arguments.length?i=t.copy():(i instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),i.set(t)),i.rotate(e),i},s.default.Vector.div=function(t,e,i){return i?i.set(t):(i=t.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),i.div(e),i},s.default.Vector.dot=function(t,e){return t.dot(e)},s.default.Vector.cross=function(t,e){return t.cross(e)},s.default.Vector.dist=function(t,e){return t.dist(e)},s.default.Vector.lerp=function(t,e,i,r){return r?r.set(t):(r=t.copy(),4===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),r.lerp(e,i),r},s.default.Vector.mag=function(t){var e=t.x,i=t.y,r=t.z,n=e*e+i*i+r*r;return Math.sqrt(n)},s.default.Vector.normalize=function(t,e){return arguments.length<2?e=t.copy():(e instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),e.set(t)),e.normalize()};var u=s.default.Vector;i.default=u},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.every":149,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.math.sign":166,"core-js/modules/es.number.constructor":167,"core-js/modules/es.number.is-finite":168,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.sub":189}],294:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r},s="_lcg_random_state",o=4294967296,a=0;n.default.prototype._lcg=function(t){return this[t]=(1664525*this[t]+1013904223)%o,this[t]/o},n.default.prototype._lcgSetSeed=function(t,e){this[t]=(null==e?Math.random()*o:e)>>>0},n.default.prototype.randomSeed=function(t){this._lcgSetSeed(s,t),this._gaussian_previous=!1},n.default.prototype.random=function(t,e){var i;if(n.default._validateParameters("random",arguments),i=null!=this[s]?this._lcg(s):Math.random(),void 0===t)return i;if(void 0===e)return t instanceof Array?t[Math.floor(i*t.length)]:i*t;if(e<t){var r=t;t=e,e=r}return i*(e-t)+t},n.default.prototype.randomGaussian=function(t){var e,i,r,n,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)e=a,this._gaussian_previous=!1;else{for(;1<=(n=(i=this.random(2)-1)*i+(r=this.random(2)-1)*r););e=i*(n=Math.sqrt(-2*Math.log(n)/n)),a=r*n,this._gaussian_previous=!0}return e*s+(t||0)};var l=n.default;i.default=l},{"../core/main":260}],295:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));s.default.prototype._angleMode=o.RADIANS,s.default.prototype.acos=function(t){return this._fromRadians(Math.acos(t))},s.default.prototype.asin=function(t){return this._fromRadians(Math.asin(t))},s.default.prototype.atan=function(t){return this._fromRadians(Math.atan(t))},s.default.prototype.atan2=function(t,e){return this._fromRadians(Math.atan2(t,e))},s.default.prototype.cos=function(t){return Math.cos(this._toRadians(t))},s.default.prototype.sin=function(t){return Math.sin(this._toRadians(t))},s.default.prototype.tan=function(t){return Math.tan(this._toRadians(t))},s.default.prototype.degrees=function(t){return t*o.RAD_TO_DEG},s.default.prototype.radians=function(t){return t*o.DEG_TO_RAD},s.default.prototype.angleMode=function(t){t!==o.DEGREES&&t!==o.RADIANS||(this._angleMode=t)},s.default.prototype._toRadians=function(t){return this._angleMode===o.DEGREES?t*o.DEG_TO_RAD:t},s.default.prototype._toDegrees=function(t){return this._angleMode===o.RADIANS?t*o.RAD_TO_DEG:t},s.default.prototype._fromRadians=function(t){return this._angleMode===o.DEGREES?t*o.RAD_TO_DEG:t};var a=s.default;i.default=a},{"../core/constants":250,"../core/main":260}],296:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.textAlign=function(t,e){var i;return n.default._validateParameters("textAlign",arguments),(i=this._renderer).textAlign.apply(i,arguments)},n.default.prototype.textLeading=function(t){var e;return n.default._validateParameters("textLeading",arguments),(e=this._renderer).textLeading.apply(e,arguments)},n.default.prototype.textSize=function(t){var e;return n.default._validateParameters("textSize",arguments),(e=this._renderer).textSize.apply(e,arguments)},n.default.prototype.textStyle=function(t){var e;return n.default._validateParameters("textStyle",arguments),(e=this._renderer).textStyle.apply(e,arguments)},n.default.prototype.textWidth=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i[0]+="",n.default._validateParameters("textWidth",i),0===i[0].length?0:(t=this._renderer).textWidth.apply(t,i)},n.default.prototype.textAscent=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.default._validateParameters("textAscent",e),this._renderer.textAscent()},n.default.prototype.textDescent=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.default._validateParameters("textDescent",e),this._renderer.textDescent()},n.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()};var s=n.default;i.default=s},{"../core/main":260}],297:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=u(t("../core/constants")),a=u(t("opentype.js"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(t,e,i){s.default._validateParameters("loadFont",arguments);var r=new s.default.Font(this),n=this;return a.load(t,(function(o,a){if(o)return s.default._friendlyFileLoadError(4,t),void 0!==i?i(o):void console.error(o,t);r.font=a,void 0!==e&&e(r),n._decrementPreload();var l,u,h=t.split("\\").pop().split("/").pop(),c=h.lastIndexOf("."),d=c<1?null:h.substr(c+1);["ttf","otf","woff","woff2"].includes(d)&&(l=h.substr(0,c),(u=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(l,";\nsrc: url(").concat(t,");\n}\n"))),document.head.appendChild(u))})),r},s.default.prototype.text=function(t,e,i,r,n){var o;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(o=this._renderer).text.apply(o,arguments):this},s.default.prototype.textFont=function(t,e){if(s.default._validateParameters("textFont",arguments),arguments.length){if(!t)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",t),e&&(this._renderer._setProperty("_textSize",e),this._renderer._setProperty("_textLeading",e*o._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var h=s.default;i.default=h},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.split":188,"opentype.js":236}],298:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r},s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=function(t,e){if("object"!==o(t))t=e;else for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t}(e,{sampleFactor:.1,simplifyThreshold:0}),r=p(t,0,1),n=r/(r*i.sampleFactor),s=[],a=0;a<r;a+=n)s.push(p(t,a));return i.simplifyThreshold&&function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=t.length-1;3<t.length&&0<=i;--i)c(h(t,i-1),h(t,i),h(t,i+1),e)&&t.splice(i%t.length,1)}(s,i.simplifyThreshold),s}function l(t){for(var e,i=[],r=0;r<t.length;r++)"M"===t[r].type&&(e&&i.push(e),e=[]),e.push(u(t[r]));return i.push(e),i}function u(t){var e=[t.type];return"M"===t.type||"L"===t.type?e.push(t.x,t.y):"C"===t.type?e.push(t.x1,t.y1,t.x2,t.y2,t.x,t.y):"Q"===t.type&&e.push(t.x1,t.y1,t.x,t.y),e}function h(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function c(t,e,i,r){if(!r)return 0==(n=t,o=i,((s=e)[0]-n[0])*(o[1]-n[1])-(o[0]-n[0])*(s[1]-n[1]));var n,s,o;void 0===c.tmpPoint1&&(c.tmpPoint1=[],c.tmpPoint2=[]);var a=c.tmpPoint1,l=c.tmpPoint2;a.x=e.x-t.x,a.y=e.y-t.y,l.x=i.x-e.x,l.y=i.y-e.y;var u=a.x*l.x+a.y*l.y,h=Math.sqrt(a.x*a.x+a.y*a.y),d=Math.sqrt(l.x*l.x+l.y*l.y);return Math.acos(u/(h*d))<r}function d(t,e,i,r,n,s,o,a,l){var u=1-l,h=Math.pow(u,3),c=Math.pow(u,2),d=l*l,f=d*l,p=h*t+3*c*l*i+3*u*l*l*n+f*o,m=h*e+3*c*l*r+3*u*l*l*s+f*a,v=t+2*l*(i-t)+d*(n-2*i+t),y=e+2*l*(r-e)+d*(s-2*r+e),g=i+2*l*(n-i)+d*(o-2*n+i),x=r+2*l*(s-r)+d*(a-2*s+r),b=u*t+l*i,w=u*e+l*r,_=u*n+l*o,S=u*s+l*a,A=90-180*Math.atan2(v-g,y-x)/Math.PI;return(g<v||y<x)&&(A+=180),{x:p,y:m,m:{x:v,y:y},n:{x:g,y:x},start:{x:b,y:w},end:{x:_,y:S},alpha:A}}function f(t,e,i,r,n,s,o,a,l){return null==l?x(t,e,i,r,n,s,o,a):d(t,e,i,r,n,s,o,a,function(t,e,i,r,n,s,o,a,l){if(!(l<0||x(t,e,i,r,n,s,o,a)<l)){var u,h=.5,c=1-h;for(u=x(t,e,i,r,n,s,o,a,c);.01<Math.abs(u-l);)u=x(t,e,i,r,n,s,o,a,c+=(u<l?1:-1)*(h/=2));return c}}(t,e,i,r,n,s,o,a,l))}function p(t,e,i){for(var r,n,s,o,a,l=0,u=0,h=(t=function(t,e){function i(t,e,i){var r,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,i,r,n,s,o,a,l,u,h){var c,d,f,p,m,v=Math.PI,y=120*v/180,g=v/180*(+s||0),x=[],b=function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}};if(h)c=h[0],d=h[1],f=h[2],p=h[3];else{e=(m=b(e,i,-g)).x,i=m.y;var w=(e-(l=(m=b(l,u,-g)).x))/2,_=(i-(u=m.y))/2,S=w*w/(r*r)+_*_/(n*n);1<S&&(r*=S=Math.sqrt(S),n*=S);var A=r*r,T=n*n,E=(o===a?-1:1)*Math.sqrt(Math.abs((A*T-A*_*_-T*w*w)/(A*_*_+T*w*w)));f=E*r*_/n+(e+l)/2,p=E*-n*w/r+(i+u)/2,c=Math.asin(((i-p)/n).toFixed(9)),d=Math.asin(((u-p)/n).toFixed(9)),(c=e<f?v-c:c)<0&&(c=2*v+c),(d=l<f?v-d:d)<0&&(d=2*v+d),a&&d<c&&(c-=2*v),!a&&c<d&&(d-=2*v)}var M=d-c;if(Math.abs(M)>y){var C=d,P=l,R=u;d=c+y*(a&&c<d?1:-1),x=t(l=f+r*Math.cos(d),u=p+n*Math.sin(d),r,n,s,0,a,P,R,[d,C,f,p])}M=d-c;var k=Math.cos(c),L=Math.sin(c),O=Math.cos(d),D=Math.sin(d),I=Math.tan(M/4),F=4/3*r*I,j=4/3*n*I,B=[e,i],N=[e+F*L,i-j*k],U=[l+F*D,u-j*O],z=[l,u];if(N[0]=2*B[0]-N[0],N[1]=2*B[1]-N[1],h)return[N,U,z].concat(x);for(var G=[],V=0,H=(x=[N,U,z].concat(x).join().split(",")).length;V<H;V++)G[V]=V%2?b(x[V-1],x[V],g).y:b(x[V],x[V+1],g).x;return G}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":n="C"===i||"S"===i?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,n].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(g(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(g(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(y(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(y(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(y(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(y(e.x,e.y,e.X,e.Y))}return t}function r(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)h[e]="A",a&&(c[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),s=Math.max(o.length,a&&a.length||0)}}function n(t,e,i,r,n){t&&e&&"M"===t[n][0]&&"M"!==e[n][0]&&(e.splice(n,0,["M",r.x,r.y]),i.bx=0,i.by=0,i.x=t[n][1],i.y=t[n][2],s=Math.max(o.length,a&&a.length||0))}var s,o=m(t),a=e,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=[],c=[],d="",f="";s=Math.max(o.length,a&&a.length||0);for(var p=0;p<s;p++){o[p]&&(d=o[p][0]),"C"!==d&&(h[p]=d,p&&(f=h[p-1])),o[p]=i(o[p],l,f),"A"!==h[p]&&"C"===d&&(h[p]="C"),r(o,p),a&&(a[p]&&(d=a[p][0]),"C"!==d&&(c[p]=d,p&&(f=c[p-1])),a[p]=i(a[p],u,f),"A"!==c[p]&&"C"===d&&(c[p]="C"),r(a,p)),n(o,a,l,u,p),n(a,o,u,l,p);var v=o[p],x=a&&a[p],b=v.length,w=a&&x.length;l.x=v[b-2],l.y=v[b-1],l.bx=parseFloat(v[b-4])||l.x,l.by=parseFloat(v[b-3])||l.y,u.bx=a&&(parseFloat(x[w-4])||u.x),u.by=a&&(parseFloat(x[w-3])||u.y),u.x=a&&x[w-2],u.y=a&&x[w-1]}return a?[o,a]:o}(t)).length;u<h;u++){if("M"===(s=t[u])[0])r=+s[1],n=+s[2];else{if(e<l+(o=f(r,n,s[1],s[2],s[3],s[4],s[5],s[6]))&&!i)return{x:(a=f(r,n,s[1],s[2],s[3],s[4],s[5],s[6],e-l)).x,y:a.y,alpha:a.alpha};l+=o,r=+s[5],n=+s[6]}s.shift()}return(a=i?l:d(r,n,s[0],s[1],s[2],s[3],s[4],s[5],1)).alpha&&(a={x:a.x,y:a.y,alpha:a.alpha}),a}function m(t){var e,i=[],r=0,n=0,s=0,o=0,a=0;if(!t)return i;"M"===t[0][0]&&(s=r=+t[0][1],o=n=+t[0][2],a++,i[0]=["M",r,n]);for(var l,u,h=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=a,d=t.length;c<d;c++){if(i.push(l=[]),(u=t[c])[0]!==String.prototype.toUpperCase.call(u[0]))switch(l[0]=String.prototype.toUpperCase.call(u[0]),l[0]){case"A":l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=+(u[6]+r),l[7]=+(u[7]+n);break;case"V":l[1]=+u[1]+n;break;case"H":l[1]=+u[1]+r;break;case"R":for(var f=2,p=(e=[r,n].concat(u.slice(1))).length;f<p;f++)e[f]=+e[f]+r,e[++f]=+e[f]+n;i.pop(),i=i.concat(v(e,h));break;case"M":s=+u[1]+r,o=+u[2]+n;break;default:for(var m=1,y=u.length;m<y;m++)l[m]=+u[m]+(m%2?r:n)}else if("R"===u[0])e=[r,n].concat(u.slice(1)),i.pop(),i=i.concat(v(e,h)),l=["R"].concat(u.slice(-2));else for(var g=0,x=u.length;g<x;g++)l[g]=u[g];switch(l[0]){case"Z":r=s,n=o;break;case"H":r=l[1];break;case"V":n=l[1];break;case"M":s=l[l.length-2],o=l[l.length-1];break;default:r=l[l.length-2],n=l[l.length-1]}}return i}function v(t,e){for(var i=[],r=0,n=t.length;r<n-2*!e;r+=2){var s=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?n-4===r?s[3]={x:+t[0],y:+t[1]}:n-2===r&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[n-2],y:+t[n-1]}:n-4===r?s[3]=s[2]:r||(s[0]={x:+t[r],y:+t[r+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function y(t,e,i,r){return[t,e,i,r,i,r]}function g(t,e,i,r,n,s){return[1/3*t+2/3*i,1/3*e+2/3*r,1/3*n+2/3*i,1/3*s+2/3*r,n,s]}function x(t,e,i,r,n,s,o,a,l){null==l&&(l=1);for(var u=(l=1<l?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=0,d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0;f<12;f++){var p=u*h[f]+u,m=b(p,t,i,n,o),v=b(p,e,r,s,a),y=m*m+v*v;c+=d[f]*Math.sqrt(y)}return u*c}function b(t,e,i,r,n){return t*(t*(-3*e+9*i-9*r+3*n)+6*e-12*i+6*r)-3*e+3*i}n.default.Font=function(t){this.parent=t,this.cache={},this.font=void 0},n.default.Font.prototype.textBounds=function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=o&&o.renderer&&o.renderer._pInst||this.parent,l=a._renderer.drawingContext;if(l.textAlign||s.LEFT,l.textBaseline||s.BASELINE,n=n||a._renderer._textSize,!e){var u,h,c=[],d=[],f=[];f[0]=[];var p=[],m=this._scale(n),v=a._renderer.textLeading(),y=0;this.font.forEachGlyph(t,i,r,n,o,(function(t,e,i,r){var n=t.getMetrics();0===t.index||10===t.index?f[y+=1]=[]:(f[y].push(e+n.xMin*m),f[y].push(e+n.xMax*m),p.push(i+y*v+-n.yMin*m),p.push(i+y*v+-n.yMax*m))})),0<f[y].length&&(c[y]=Math.min.apply(null,f[y]),d[y]=Math.max.apply(null,f[y]));for(var g=0,x=0;x<=y;x++){c[x]=Math.min.apply(null,f[x]),d[x]=Math.max.apply(null,f[x]);var b=d[x]-c[x];g<b&&(g=b)}var w=Math.min.apply(null,c);e={x:w,y:u=Math.min.apply(null,p),h:Math.max.apply(null,p)-u,w:g,advance:w-i},h=this._handleAlignment(a._renderer,t,e.x,e.y,e.w+e.advance),e.x=h.x,e.y=h.y}return e},n.default.Font.prototype.textToPoints=function(t,e,i,r,n){var s,o=0,u=[],h=this._getGlyphs(t);r=r||this.parent._renderer._textSize;for(var c=0;c<h.length;c++){if(!(h[s=c].name&&"space"===h[s].name||t.length===h.length&&" "===t[s]||h[s].index&&3===h[s].index))for(var d=l(h[c].getPath(e,i,r).commands),f=0;f<d.length;f++)for(var p=a(d[f],n),m=0;m<p.length;m++)p[m].x+=o,u.push(p[m]);o+=h[c].advanceWidth*this._scale(r)}return u},n.default.Font.prototype._getGlyphs=function(t){return this.font.stringToGlyphs(t)},n.default.Font.prototype._getPath=function(t,e,i,r){var n=(r&&r.renderer&&r.renderer._pInst||this.parent)._renderer,s=this._handleAlignment(n,t,e,i);return this.font.getPath(t,s.x,s.y,n._textSize,r)},n.default.Font.prototype._getPathData=function(t,e,i,r){var n=3;return"string"==typeof t&&2<arguments.length?t=this._getPath(t,e,i,r):"object"===o(e)&&(r=e),r&&"number"==typeof r.decimals&&(n=r.decimals),t.toPathData(n)},n.default.Font.prototype._getSVG=function(t,e,i,r){var n=3;return"string"==typeof t&&2<arguments.length?t=this._getPath(t,e,i,r):"object"===o(e)&&(r=e),r&&("number"==typeof r.decimals&&(n=r.decimals),"number"==typeof r.strokeWidth&&(t.strokeWidth=r.strokeWidth),void 0!==r.fill&&(t.fill=r.fill),void 0!==r.stroke&&(t.stroke=r.stroke)),t.toSVG(n)},n.default.Font.prototype._renderPath=function(t,e,i,r){var n,a=r&&r.renderer||this.parent._renderer,l=a.drawingContext;n="object"===o(t)&&t.commands?t.commands:this._getPath(t,e,i,r).commands,l.beginPath();var u=!0,h=!1,c=void 0;try{for(var d,f=n[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;"M"===p.type?l.moveTo(p.x,p.y):"L"===p.type?l.lineTo(p.x,p.y):"C"===p.type?l.bezierCurveTo(p.x1,p.y1,p.x2,p.y2,p.x,p.y):"Q"===p.type?l.quadraticCurveTo(p.x1,p.y1,p.x,p.y):"Z"===p.type&&l.closePath()}}catch(t){h=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(h)throw c}}return a._doStroke&&a._strokeSet&&l.stroke(),a._doFill&&(a._fillSet||a._setFill(s._DEFAULT_TEXT_FILL),l.fill()),this},n.default.Font.prototype._textWidth=function(t,e){return this.font.getAdvanceWidth(t,e)},n.default.Font.prototype._textAscent=function(t){return this.font.ascender*this._scale(t)},n.default.Font.prototype._textDescent=function(t){return-this.font.descender*this._scale(t)},n.default.Font.prototype._scale=function(t){return 1/this.font.unitsPerEm*(t||this.parent._renderer._textSize)},n.default.Font.prototype._handleAlignment=function(t,e,i,r,n){var o=t._textSize;switch(void 0===n&&(n=this._textWidth(e,o)),t._textAlign){case s.CENTER:i-=n/2;break;case s.RIGHT:i-=n}switch(t._textBaseline){case s.TOP:r+=this._textAscent(o);break;case s.CENTER:r+=this._textAscent(o)/2;break;case s.BOTTOM:r-=this._textDescent(o)}return{x:i,y:r}};var w=n.default;i.default=w},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],299:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.append=function(t,e){return t.push(e),t},n.default.prototype.arrayCopy=function(t,e,i,r,n){var s,o;t=void 0!==n?(o=Math.min(n,t.length),s=r,t.slice(e,o+e)):(o=void 0!==i?(o=i,Math.min(o,t.length)):t.length,s=0,i=e,t.slice(0,o)),Array.prototype.splice.apply(i,[s,o].concat(t))},n.default.prototype.concat=function(t,e){return t.concat(e)},n.default.prototype.reverse=function(t){return t.reverse()},n.default.prototype.shorten=function(t){return t.pop(),t},n.default.prototype.shuffle=function(t,e){for(var i,r,n=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t),s=(t=e||n?t:t.slice()).length;1<s;)i=this.random(0,1)*s|0,r=t[--s],t[s]=t[i],t[i]=r;return t},n.default.prototype.sort=function(t,e){var i=e?t.slice(0,Math.min(e,t.length)):t,r=e?t.slice(Math.min(e,t.length)):[];return(i="string"==typeof i[0]?i.sort():i.sort((function(t,e){return t-e}))).concat(r)},n.default.prototype.splice=function(t,e,i){return Array.prototype.splice.apply(t,[i,0].concat(e)),t},n.default.prototype.subset=function(t,e,i){return void 0!==i?t.slice(e,e+i):t.slice(e,t.length)};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array-buffer.constructor":147,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174}],300:[function(t,e,i){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.float=function(t){return t instanceof Array?t.map(parseFloat):parseFloat(t)},n.default.prototype.int=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return t===1/0||"Infinity"===t?1/0:t===-1/0||"-Infinity"===t?-1/0:"string"==typeof t?parseInt(t,e):"number"==typeof t?0|t:"boolean"==typeof t?t?1:0:t instanceof Array?t.map((function(t){return n.default.prototype.int(t,e)})):void 0},n.default.prototype.str=function(t){return t instanceof Array?t.map(n.default.prototype.str):String(t)},n.default.prototype.boolean=function(t){return"number"==typeof t?0!==t:"string"==typeof t?"true"===t.toLowerCase():"boolean"==typeof t?t:t instanceof Array?t.map(n.default.prototype.boolean):void 0},n.default.prototype.byte=function(t){var e=n.default.prototype.int(t,10);return"number"==typeof e?(e+128)%256-128:e instanceof Array?e.map(n.default.prototype.byte):void 0},n.default.prototype.char=function(t){return"number"!=typeof t||isNaN(t)?t instanceof Array?t.map(n.default.prototype.char):"string"==typeof t?n.default.prototype.char(parseInt(t,10)):void 0:String.fromCharCode(t)},n.default.prototype.unchar=function(t){return"string"==typeof t&&1===t.length?t.charCodeAt(0):t instanceof Array?t.map(n.default.prototype.unchar):void 0},n.default.prototype.hex=function(t,e){if(e=null==e?e=8:e,t instanceof Array)return t.map((function(t){return n.default.prototype.hex(t,e)}));if(t===1/0||t===-1/0)return(t===1/0?"F":"0").repeat(e);if("number"==typeof t){t<0&&(t=4294967295+t+1);for(var i=Number(t).toString(16).toUpperCase();i.length<e;)i="0".concat(i);return i.length>=e&&(i=i.substring(i.length-e,i.length)),i}},n.default.prototype.unhex=function(t){return t instanceof Array?t.map(n.default.prototype.unhex):parseInt("0x".concat(t),16)};var s=n.default;i.default=s},{"../core/main":260,"core-js/modules/es.array.map":159,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.repeat":185}],301:[function(t,e,i){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t,e,i){var r=t<0,n=r?t.toString().substring(1):t.toString(),s=n.indexOf("."),o=-1!==s?n.substring(0,s):n,a=-1!==s?n.substring(s+1):"",l=r?"-":"";if(void 0!==i){var u="";(-1!==s||0<i-a.length)&&(u="."),a.length>i&&(a=a.substring(0,i));for(var h=0;h<e-o.length;h++)l+="0";l+=o,l+=u,l+=a;for(var c=0;c<i-a.length;c++)l+="0";return l}for(var d=0;d<Math.max(e-o.length,0);d++)l+="0";return l+n}function o(t,e){var i=(t=t.toString()).indexOf("."),r=-1!==i?t.substring(i):"",n=-1!==i?t.substring(0,i):t;if(n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===e)r="";else if(void 0!==e)if(e>r.length)for(var s=e-(r+=-1===i?".":"").length+1,o=0;o<s;o++)r+="0";else r=r.substring(0,e+1);return n+r}function a(t){return 0<parseFloat(t)?"+".concat(t.toString()):t.toString()}function l(t){return 0<=parseFloat(t)?" ".concat(t.toString()):t.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.join=function(t,e){return n.default._validateParameters("join",arguments),t.join(e)},n.default.prototype.match=function(t,e){return n.default._validateParameters("match",arguments),t.match(e)},n.default.prototype.matchAll=function(t,e){n.default._validateParameters("matchAll",arguments);for(var i=new RegExp(e,"g"),r=i.exec(t),s=[];null!==r;)s.push(r),r=i.exec(t);return s},n.default.prototype.nf=function(t,e,i){return n.default._validateParameters("nf",arguments),t instanceof Array?t.map((function(t){return s(t,e,i)})):"[object Arguments]"===Object.prototype.toString.call(t)?3===t.length?this.nf(t[0],t[1],t[2]):2===t.length?this.nf(t[0],t[1]):this.nf(t[0]):s(t,e,i)},n.default.prototype.nfc=function(t,e){return n.default._validateParameters("nfc",arguments),t instanceof Array?t.map((function(t){return o(t,e)})):o(t,e)},n.default.prototype.nfp=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.default._validateParameters("nfp",e);var r=n.default.prototype.nf.apply(this,e);return r instanceof Array?r.map(a):a(r)},n.default.prototype.nfs=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.default._validateParameters("nfs",e);var r=n.default.prototype.nf.apply(this,e);return r instanceof Array?r.map(l):l(r)},n.default.prototype.split=function(t,e){return n.default._validateParameters("split",arguments),t.split(e)},n.default.prototype.splitTokens=function(t,e){var i;if(n.default._validateParameters("splitTokens",arguments),void 0!==e){var r=e,s=/\]/g.exec(r),o=/\[/g.exec(r);i=o&&s?(r=r.slice(0,s.index)+r.slice(s.index+1),o=/\[/g.exec(r),r=r.slice(0,o.index)+r.slice(o.index+1),new RegExp("[\\[".concat(r,"\\]]"),"g")):s?(r=r.slice(0,s.index)+r.slice(s.index+1),new RegExp("[".concat(r,"\\]]"),"g")):o?(r=r.slice(0,o.index)+r.slice(o.index+1),new RegExp("[".concat(r,"\\[]"),"g")):new RegExp("[".concat(r,"]"),"g")}else i=/\s/g;return t.split(i).filter((function(t){return t}))},n.default.prototype.trim=function(t){return n.default._validateParameters("trim",arguments),t instanceof Array?t.map(this.trim):t.trim()};var u=n.default;i.default=u},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],302:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.day=function(){return(new Date).getDate()},n.default.prototype.hour=function(){return(new Date).getHours()},n.default.prototype.minute=function(){return(new Date).getMinutes()},n.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},n.default.prototype.month=function(){return(new Date).getMonth()+1},n.default.prototype.second=function(){return(new Date).getSeconds()},n.default.prototype.year=function(){return(new Date).getFullYear()};var s=n.default;i.default=s},{"../core/main":260}],303:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.concat"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n};t("./p5.Geometry");var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));function a(t,e,i,r,n,o,a){t=t<=0?1:t,e=e<0?0:e,i=i<=0?t:i,r=r<3?3:r;var l,u,h,c=(o=void 0===o||o)?-2:0,d=(n=n<1?1:n)+((a=void 0===a?0!==e:a)?2:0),f=Math.atan2(t-e,i),p=Math.sin(f),m=Math.cos(f);for(l=c;l<=d;++l){var v=l/n,y=i*v,g=void 0;for(g=l<0?(v=y=0,t):n<l?(y=i,v=1,e):t+(e-t)*v,-2!==l&&l!==n+2||(g=0),y-=i/2,u=0;u<r;++u){var x,b=u/(r-1),w=2*Math.PI*b,_=Math.sin(w),S=Math.cos(w);this.vertices.push(new s.default.Vector(_*g,y,S*g)),x=l<0?new s.default.Vector(0,-1,0):n<l&&e?new s.default.Vector(0,1,0):new s.default.Vector(_*m,p,S*m),this.vertexNormals.push(x),this.uvs.push(b,v)}}var A=0;if(o){for(h=0;h<r;++h){var T=(h+1)%r;this.faces.push([A+h,A+r+T,A+r+h])}A+=2*r}for(l=0;l<n;++l){for(u=0;u<r;++u){var E=(u+1)%r;this.faces.push([A+u,A+E,A+r+E]),this.faces.push([A+u,A+r+E,A+r+u])}A+=r}if(a)for(A+=r,u=0;u<r;++u)this.faces.push([A+u,A+(u+1)%r,A+r])}s.default.prototype.plane=function(t,e,i,r){this._assert3d("plane"),s.default._validateParameters("plane",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===i&&(i=1),void 0===r&&(r=1);var n="plane|".concat(i,"|").concat(r);if(!this._renderer.geometryInHash(n)){var o=new s.default.Geometry(i,r,(function(){for(var t,e,i,r=0;r<=this.detailY;r++){e=r/this.detailY;for(var n=0;n<=this.detailX;n++)t=n/this.detailX,i=new s.default.Vector(t-.5,e-.5,0),this.vertices.push(i),this.uvs.push(t,e)}}));o.computeFaces().computeNormals(),i<=1&&r<=1?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(n,o)}return this._renderer.drawBuffersScaled(n,t,e,1),this},s.default.prototype.box=function(t,e,i,r,n){this._assert3d("box"),s.default._validateParameters("box",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===i&&(i=e);var o=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===r&&(r=o?1:4),void 0===n&&(n=o?1:4);var a="box|".concat(r,"|").concat(n);if(!this._renderer.geometryInHash(a)){var l=new s.default.Geometry(r,n,(function(){var t=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var e=0;e<t.length;e++){for(var i=t[e],r=4*e,n=0;n<4;n++){var o=i[n],a=new s.default.Vector((2*(1&o)-1)/2,((2&o)-1)/2,((4&o)/2-1)/2);this.vertices.push(a),this.uvs.push(1&n,(2&n)/2)}this.faces.push([r,1+r,2+r]),this.faces.push([2+r,1+r,3+r])}}));l.computeNormals(),r<=4&&n<=4?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(a,l)}return this._renderer.drawBuffersScaled(a,t,e,i),this},s.default.prototype.sphere=function(t,e,i){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),void 0===t&&(t=50),void 0===e&&(e=24),void 0===i&&(i=16),this.ellipsoid(t,t,t,e,i),this},s.default.prototype.cylinder=function(t,e,i,r,n,o){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===i&&(i=24),void 0===r&&(r=1),void 0===o&&(o=!0),void 0===n&&(n=!0);var l="cylinder|".concat(i,"|").concat(r,"|").concat(n,"|").concat(o);if(!this._renderer.geometryInHash(l)){var u=new s.default.Geometry(i,r);a.call(u,1,1,1,i,r,n,o),i<=24&&r<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(l,u)}return this._renderer.drawBuffersScaled(l,t,e,t),this},s.default.prototype.cone=function(t,e,i,r,n){this._assert3d("cone"),s.default._validateParameters("cone",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===i&&(i=24),void 0===r&&(r=1),void 0===n&&(n=!0);var o="cone|".concat(i,"|").concat(r,"|").concat(n);if(!this._renderer.geometryInHash(o)){var l=new s.default.Geometry(i,r);a.call(l,1,0,1,i,r,n,!1),i<=24&&r<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,l)}return this._renderer.drawBuffersScaled(o,t,e,t),this},s.default.prototype.ellipsoid=function(t,e,i,r,n){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===i&&(i=t),void 0===r&&(r=24),void 0===n&&(n=16);var o="ellipsoid|".concat(r,"|").concat(n);if(!this._renderer.geometryInHash(o)){var a=new s.default.Geometry(r,n,(function(){for(var t=0;t<=this.detailY;t++)for(var e=t/this.detailY,i=Math.PI*e-Math.PI/2,r=Math.cos(i),n=Math.sin(i),o=0;o<=this.detailX;o++){var a=o/this.detailX,l=2*Math.PI*a,u=Math.cos(l),h=Math.sin(l),c=new s.default.Vector(r*h,n,r*u);this.vertices.push(c),this.vertexNormals.push(c),this.uvs.push(a,e)}}));a.computeFaces(),r<=24&&n<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,t,e,i),this},s.default.prototype.torus=function(t,e,i,r){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),void 0===t)t=50;else if(!t)return;if(void 0===e)e=10;else if(!e)return;void 0===i&&(i=24),void 0===r&&(r=16);var n=(e/t).toPrecision(4),o="torus|".concat(n,"|").concat(i,"|").concat(r);if(!this._renderer.geometryInHash(o)){var a=new s.default.Geometry(i,r,(function(){for(var t=0;t<=this.detailY;t++)for(var e=t/this.detailY,i=2*Math.PI*e,r=Math.cos(i),o=Math.sin(i),a=1+n*r,l=0;l<=this.detailX;l++){var u=l/this.detailX,h=2*Math.PI*u,c=Math.cos(h),d=Math.sin(h),f=new s.default.Vector(a*c,a*d,n*o),p=new s.default.Vector(r*c,r*d,o);this.vertices.push(f),this.vertexNormals.push(p),this.uvs.push(u,e)}}));a.computeFaces(),i<=24&&r<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,t,t,t),this},s.default.RendererGL.prototype.point=function(t,e,i){void 0===i&&(i=0);var r=[];return r.push(new s.default.Vector(t,e,i)),this._drawPoints(r,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(t){var e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5];if(!this.geometryInHash("tri")){var l=new s.default.Geometry(1,1,(function(){var t=[];t.push(new s.default.Vector(0,0,0)),t.push(new s.default.Vector(0,1,0)),t.push(new s.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=t,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]}));l._makeTriangleEdges()._edgesToVertices(),l.computeNormals(),this.createBuffers("tri",l)}var u=this.uMVMatrix.copy();try{var h=new s.default.Matrix([r-e,n-i,0,0,o-e,a-i,0,0,0,0,1,0,e,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=h,this.drawBuffers("tri")}finally{this.uMVMatrix=u}return this},s.default.RendererGL.prototype.ellipse=function(t){this.arc(t[0],t[1],t[2],t[3],0,o.TWO_PI,o.OPEN,t[4])},s.default.RendererGL.prototype.arc=function(t){var e,i,r=t,n=arguments[1],a=arguments[2],l=arguments[3],u=arguments[4],h=arguments[5],c=arguments[6],d=arguments[7]||25;if(i=Math.abs(h-u)>=o.TWO_PI?"".concat(e="ellipse","|").concat(d,"|"):"".concat(e="arc","|").concat(u,"|").concat(h,"|").concat(c,"|").concat(d,"|"),!this.geometryInHash(i)){var f=new s.default.Geometry(d,1,(function(){if(this.strokeIndices=[],u.toFixed(10)!==h.toFixed(10)){c!==o.PIE&&void 0!==c||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var t=0;t<=d;t++){var e=t/d*(h-u)+u,i=.5+Math.cos(e)/2,r=.5+Math.sin(e)/2;this.vertices.push(new s.default.Vector(i,r,0)),this.uvs.push([i,r]),t<d-1&&(this.faces.push([0,t+1,t+2]),this.strokeIndices.push([t+1,t+2]))}switch(c){case o.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case o.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case o.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}}));f.computeNormals(),d<=50?f._makeTriangleEdges()._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(e," with more than 50 detail")),this.createBuffers(i,f)}var p=this.uMVMatrix.copy();try{this.uMVMatrix.translate([r,n,0]),this.uMVMatrix.scale(a,l,1),this.drawBuffers(i)}finally{this.uMVMatrix=p}return this},s.default.RendererGL.prototype.rect=function(t){var e=this._pInst._glAttributes.perPixelLighting,i=t[0],r=t[1],n=t[2],o=t[3],a=t[4]||(e?1:24),l=t[5]||(e?1:16),u="rect|".concat(a,"|").concat(l);if(!this.geometryInHash(u)){var h=new s.default.Geometry(a,l,(function(){for(var t=0;t<=this.detailY;t++)for(var e=t/this.detailY,i=0;i<=this.detailX;i++){var r=i/this.detailX,n=new s.default.Vector(r,e,0);this.vertices.push(n),this.uvs.push(r,e)}0<a&&0<l&&(this.strokeIndices=[[0,a],[a,(a+1)*(l+1)-1],[(a+1)*(l+1)-1,(a+1)*l],[(a+1)*l,0]])}));h.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(u,h)}var c=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,r,0]),this.uMVMatrix.scale(n,o,1),this.drawBuffers(u)}finally{this.uMVMatrix=c}return this},s.default.RendererGL.prototype.quad=function(t,e,i,r,n,o,a,l,u,h,c,d,f,p){void 0===f&&(f=2),void 0===p&&(p=2);var m="quad|".concat(t,"|").concat(e,"|").concat(i,"|").concat(r,"|").concat(n,"|").concat(o,"|").concat(a,"|").concat(l,"|").concat(u,"|").concat(h,"|").concat(c,"|").concat(d,"|").concat(f,"|").concat(p);if(!this.geometryInHash(m)){var v=new s.default.Geometry(f,p,(function(){for(var f=1/(this.detailX-1),p=1/(this.detailY-1),m=0;m<this.detailY;m++)for(var v=0;v<this.detailX;v++){var y=v*f,g=m*p,x=(1-y)*((1-g)*t+g*h)+y*((1-g)*r+g*a),b=(1-y)*((1-g)*e+g*c)+y*((1-g)*n+g*l),w=(1-y)*((1-g)*i+g*d)+y*((1-g)*o+g*u);this.vertices.push(new s.default.Vector(x,b,w)),this.uvs.push([y,g])}}));v.faces=[];for(var y=0;y<p-1;y++)for(var g=0;g<f-1;g++){var x=g+y*f,b=g+1+y*f,w=g+1+(y+1)*f,_=g+(y+1)*f;v.faces.push([x,b,w]),v.faces.push([x,w,_])}v.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(m,v)}return this.drawBuffers(m),this},s.default.RendererGL.prototype.bezier=function(t,e,i,r,n,s,o,a,l,u,h,c){8===arguments.length&&(h=a,u=o,a=s,o=n,n=r,r=i,i=s=l=c=0);var d=this._pInst._bezierDetail||20;this.beginShape();for(var f=0;f<=d;f++){var p=Math.pow(1-f/d,3),m=f/d*3*Math.pow(1-f/d,2),v=3*Math.pow(f/d,2)*(1-f/d),y=Math.pow(f/d,3);this.vertex(t*p+r*m+o*v+u*y,e*p+n*m+a*v+h*y,i*p+s*m+l*v+c*y)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(t,e,i,r,n,s,o,a,l,u,h,c){8===arguments.length&&(u=o,h=a,o=n,a=r,n=r=i,i=s=l=c=0);var d=this._pInst._curveDetail;this.beginShape();for(var f=0;f<=d;f++){var p=.5*Math.pow(f/d,3),m=.5*Math.pow(f/d,2),v=f/d*.5,y=p*(3*r-t-3*o+u)+m*(2*t-5*r+4*o-u)+v*(-t+o)+2*r*.5,g=p*(3*n-e-3*a+h)+m*(2*e-5*n+4*a-h)+v*(-e+a)+2*n*.5,x=p*(3*s-i-3*l+c)+m*(2*i-5*s+4*l-c)+v*(-i+l)+2*s*.5;this.vertex(y,g,x)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(o.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(o.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var t,e,i,r,n,s=[],o=[],a=[],l=arguments.length;if((t=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,h=0,c=1,d=0;h<1;){if(t=parseFloat(h.toFixed(6)),this._lookUpTableBezier[d]=this._bezierCoefficients(t),c.toFixed(6)===u.toFixed(6)){t=parseFloat(c.toFixed(6))+parseFloat(h.toFixed(6)),++d,this._lookUpTableBezier[d]=this._bezierCoefficients(t);break}h+=u,c-=u,++d}}var f=this._lookUpTableBezier.length;if(6===l){for(this.isBezier=!0,s=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],o=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],n=0;n<f;n++)e=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],i=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],this.vertex(e,i);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===l){for(this.isBezier=!0,s=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],o=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],a=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],n=0;n<f;n++)e=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],i=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],this.vertex(e,i,r);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var t,e,i,r,n,s=[],o=[],a=[],l=arguments.length;if((t=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var u=1/this._lutQuadraticDetail,h=0,c=1,d=0;h<1;){if(t=parseFloat(h.toFixed(6)),this._lookUpTableQuadratic[d]=this._quadraticCoefficients(t),c.toFixed(6)===u.toFixed(6)){t=parseFloat(c.toFixed(6))+parseFloat(h.toFixed(6)),++d,this._lookUpTableQuadratic[d]=this._quadraticCoefficients(t);break}h+=u,c-=u,++d}}var f=this._lookUpTableQuadratic.length;if(4===l){for(this.isQuadratic=!0,s=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],o=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],n=0;n<f;n++)e=s[0]*this._lookUpTableQuadratic[n][0]+s[1]*this._lookUpTableQuadratic[n][1]+s[2]*this._lookUpTableQuadratic[n][2],i=o[0]*this._lookUpTableQuadratic[n][0]+o[1]*this._lookUpTableQuadratic[n][1]+o[2]*this._lookUpTableQuadratic[n][2],this.vertex(e,i);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===l){for(this.isQuadratic=!0,s=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],o=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],a=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],n=0;n<f;n++)e=s[0]*this._lookUpTableQuadratic[n][0]+s[1]*this._lookUpTableQuadratic[n][1]+s[2]*this._lookUpTableQuadratic[n][2],i=o[0]*this._lookUpTableQuadratic[n][0]+o[1]*this._lookUpTableQuadratic[n][1]+o[2]*this._lookUpTableQuadratic[n][2],r=a[0]*this._lookUpTableQuadratic[n][0]+a[1]*this._lookUpTableQuadratic[n][1]+a[2]*this._lookUpTableQuadratic[n][2],this.vertex(e,i,r);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var t,e,i,r,n,s=[],o=[],a=[],l=arguments.length;if((t=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,h=0,c=1,d=0;h<1;){if(t=parseFloat(h.toFixed(6)),this._lookUpTableBezier[d]=this._bezierCoefficients(t),c.toFixed(6)===u.toFixed(6)){t=parseFloat(c.toFixed(6))+parseFloat(h.toFixed(6)),++d,this._lookUpTableBezier[d]=this._bezierCoefficients(t);break}h+=u,c-=u,++d}}var f=this._lookUpTableBezier.length;if(2===l){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,s=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),o=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),n=0;n<f;n++)e=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],i=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],this.vertex(e,i);for(n=0;n<l;n++)this.immediateMode._curveVertex.shift()}}else if(3===l&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,s=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),o=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),n=0;n<f;n++)e=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],i=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],this.vertex(e,i,r);for(n=0;n<l;n++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(t,e,i,r,n,s,a,l,u){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(t),this._pInst.textureMode(o.NORMAL);var h=0;e<=t.width&&(h=e/t.width);var c=1;e+r<=t.width&&(c=(e+r)/t.width);var d=0;i<=t.height&&(d=i/t.height);var f=1;i+n<=t.height&&(f=(i+n)/t.height),this.beginShape(),this.vertex(s,a,0,h,d),this.vertex(s+l,a,0,c,d),this.vertex(s+l,a+u,0,c,f),this.vertex(s,a+u,0,h,f),this.endShape(o.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(o.REMOVE)};var l=s.default;i.default=l},{"../core/constants":250,"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.number.to-fixed":169}],304:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));s.default.prototype.orbitControl=function(t,e,i){if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var r=this._renderer._curCamera;void 0===t&&(t=1),void 0===e&&(e=t),void 0===i&&(i=.5),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var n=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,i*n):this._renderer._curCamera._orbit(0,0,-i*n)),this.mouseIsPressed)if(this.mouseButton===this.LEFT){var o=-t*(this.mouseX-this.pmouseX)/n,a=e*(this.mouseY-this.pmouseY)/n;this._renderer._curCamera._orbit(o,a,0)}else if(this.mouseButton===this.RIGHT){var l=r._getLocalAxes(),u=Math.sqrt(l.x[0]*l.x[0]+l.x[2]*l.x[2]);0!==u&&(l.x[0]/=u,l.x[2]/=u);var h=Math.sqrt(l.y[0]*l.y[0]+l.y[2]*l.y[2]);0!==h&&(l.y[0]/=h,l.y[2]/=h);var c=-1*t*(this.mouseX-this.pmouseX),d=-1*e*(this.mouseY-this.pmouseY);r.setPosition(r.eyeX+c*l.x[0]+d*l.z[0],r.eyeY,r.eyeZ+c*l.x[2]+d*l.z[2])}return this}},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];s.default._validateParameters("debugMode",e);for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1);e[0]===o.GRID?this.registerMethod("post",this._grid.call(this,e[1],e[2],e[3],e[4],e[5])):e[0]===o.AXES?this.registerMethod("post",this._axesIcon.call(this,e[1],e[2],e[3],e[4])):(this.registerMethod("post",this._grid.call(this,e[0],e[1],e[2],e[3],e[4])),this.registerMethod("post",this._axesIcon.call(this,e[5],e[6],e[7],e[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var t=this._registeredMethods.post.length-1;0<=t;t--)this._registeredMethods.post[t].toString()!==this._grid().toString()&&this._registeredMethods.post[t].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(t,1)},s.default.prototype._grid=function(t,e,i,r,n){void 0===t&&(t=this.width/2),void 0===e&&(e=Math.round(t/30)<4?4:Math.round(t/30)),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0);var s=t/e,o=t/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var t=0;t<=e;t++)this.beginShape(this.LINES),this.vertex(-o+i,r,t*s-o+n),this.vertex(+o+i,r,t*s-o+n),this.endShape();for(var a=0;a<=e;a++)this.beginShape(this.LINES),this.vertex(a*s-o+i,r,-o+n),this.vertex(a*s-o+i,r,+o+n),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(t,e,i,r){return void 0===t&&(t=40<this.width/20?this.width/20:40),void 0===e&&(e=-this.width/4),void 0===i&&(i=e),void 0===r&&(r=e),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(e,i,r),this.vertex(e+t,i,r),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(e,i,r),this.vertex(e,i+t,r),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(e,i,r),this.vertex(e,i,r+t),this.endShape(),this.pop()}};var a=s.default;i.default=a},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],305:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));s.default.prototype.ambientLight=function(t,e,i,r){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var n=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(n._array[0],n._array[1],n._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(t,e,i){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var r=this.color.apply(this,arguments);return this._renderer.specularColors=[r._array[0],r._array[1],r._array[2]],this},s.default.prototype.directionalLight=function(t,e,i,r,n,o){var a,l,u,h;this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),a=t instanceof s.default.Color?t:this.color(t,e,i);var c=arguments[arguments.length-1];h="number"==typeof c?(l=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,u=c.y,c.z);var d=Math.sqrt(l*l+u*u+h*h);return this._renderer.directionalLightDirections.push(l/d,u/d,h/d),this._renderer.directionalLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(t,e,i,r,n,o){var a,l,u,h;this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),a=t instanceof s.default.Color?t:this.color(t,e,i);var c=arguments[arguments.length-1];return h="number"==typeof c?(l=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,u=c.y,c.z),this._renderer.pointLightPositions.push(l,u,h),this._renderer.pointLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===o.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var t=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,t),this.directionalLight(0,0,t,0,0,-1)}return this},s.default.prototype.lightFalloff=function(t,e,i){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),t<0&&(t=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),e<0&&(e=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===t&&0===e&&0===i&&(t=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=t,this._renderer.linearAttenuation=e,this._renderer.quadraticAttenuation=i,this},s.default.prototype.spotLight=function(t,e,i,r,n,o,a,l,u,h,c){var d,f,p;this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var m=arguments.length;switch(m){case 11:case 10:d=this.color(t,e,i),f=new s.default.Vector(r,n,o),p=new s.default.Vector(a,l,u);break;case 9:t instanceof s.default.Color?(d=t,f=new s.default.Vector(e,i,r),p=new s.default.Vector(n,o,a),h=l,c=u):r instanceof s.default.Vector?(d=this.color(t,e,i),f=r,p=new s.default.Vector(n,o,a),h=l,c=u):a instanceof s.default.Vector?(d=this.color(t,e,i),f=new s.default.Vector(r,n,o),p=a,h=l,c=u):(d=this.color(t,e,i),f=new s.default.Vector(r,n,o),p=new s.default.Vector(a,l,u));break;case 8:p=t instanceof s.default.Color?(d=t,f=new s.default.Vector(e,i,r),new s.default.Vector(n,o,a)):r instanceof s.default.Vector?(d=this.color(t,e,i),f=r,new s.default.Vector(n,o,a)):(d=this.color(t,e,i),f=new s.default.Vector(r,n,o),a),h=l;break;case 7:t instanceof s.default.Color&&e instanceof s.default.Vector?(d=t,f=e,p=new s.default.Vector(i,r,n),h=o,c=a):t instanceof s.default.Color&&n instanceof s.default.Vector?(d=t,f=new s.default.Vector(e,i,r),p=n,h=o,c=a):r instanceof s.default.Vector&&n instanceof s.default.Vector?(d=this.color(t,e,i),f=r,p=n,h=o,c=a):p=t instanceof s.default.Color?(d=t,f=new s.default.Vector(e,i,r),new s.default.Vector(n,o,a)):r instanceof s.default.Vector?(d=this.color(t,e,i),f=r,new s.default.Vector(n,o,a)):(d=this.color(t,e,i),f=new s.default.Vector(r,n,o),a);break;case 6:r instanceof s.default.Vector&&n instanceof s.default.Vector?(d=this.color(t,e,i),f=r,p=n,h=o):t instanceof s.default.Color&&n instanceof s.default.Vector?(d=t,f=new s.default.Vector(e,i,r),p=n,h=o):t instanceof s.default.Color&&e instanceof s.default.Vector&&(d=t,f=e,p=new s.default.Vector(i,r,n),h=o);break;case 5:t instanceof s.default.Color&&e instanceof s.default.Vector&&i instanceof s.default.Vector?(d=t,f=e,p=i,h=r,c=n):r instanceof s.default.Vector&&n instanceof s.default.Vector?(d=this.color(t,e,i),f=r,p=n):t instanceof s.default.Color&&n instanceof s.default.Vector?(d=t,f=new s.default.Vector(e,i,r),p=n):t instanceof s.default.Color&&e instanceof s.default.Vector&&(d=t,f=e,p=new s.default.Vector(i,r,n));break;case 4:d=t,f=e,p=i,h=r;break;case 3:d=t,f=e,p=i;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(m<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(f.x,f.y,f.z),p.normalize(),this._renderer.spotLightDirections.push(p.x,p.y,p.z),void 0===h&&(h=Math.PI/3),void 0!==c&&c<1?(c=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===c&&(c=100),h=this._renderer._pInst._toRadians(h),this._renderer.spotLightAngle.push(Math.cos(h)),this._renderer.spotLightConc.push(c),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var a=s.default;i.default=a},{"../core/constants":250,"../core/main":260}],306:[function(t,e,i){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};function s(t,e,i){for(var r=0,n=t.length;r<n;r++)if(t[r]!==e.getUint8(i+r,!1))return!1;return!0}t("./p5.Geometry"),n.default.prototype.loadModel=function(t){var e,i,r;n.default._validateParameters("loadModel",arguments);var o=t.slice(-4);"boolean"==typeof arguments[1]?(e=arguments[1],i=arguments[2],r=arguments[3],void 0!==arguments[4]&&(o=arguments[4])):(e=!1,i=arguments[1],r=arguments[2],void 0!==arguments[3]&&(o=arguments[3]));var a=new n.default.Geometry;a.gid="".concat(t,"|").concat(e);var l=this;return o.match(/\.stl$/i)?this.httpDo(t,"GET","arrayBuffer",(function(t){!function(t,e){if(function(t){for(var e=new DataView(t),i=[115,111,108,105,100],r=0;r<5;r++)if(s(i,e,r))return!1;return!0}(e))!function(t,e){for(var i,r,s,o,a,l,u,h=new DataView(e),c=h.getUint32(80,!0),d=!1,f=0;f<70;f++)1129270351===h.getUint32(f,!1)&&82===h.getUint8(f+4)&&61===h.getUint8(f+5)&&(d=!0,o=[],a=h.getUint8(f+6)/255,l=h.getUint8(f+7)/255,u=h.getUint8(f+8)/255);for(var p=0;p<c;p++){var m=84+50*p,v=h.getFloat32(m,!0),y=h.getFloat32(4+m,!0),g=h.getFloat32(8+m,!0);if(d){var x=h.getUint16(48+m,!0);s=0==(32768&x)?(i=(31&x)/31,r=(x>>5&31)/31,(x>>10&31)/31):(i=a,r=l,u)}for(var b=new n.default.Vector(v,y,g),w=1;w<=3;w++){var _=m+12*w,S=new n.default.Vector(h.getFloat32(_,!0),h.getFloat32(4+_,!0),h.getFloat32(8+_,!0));t.vertices.push(S),t.vertexNormals.push(b),d&&o.push(i,r,s)}t.faces.push([3*p,3*p+1,3*p+2]),t.uvs.push([0,0],[0,0],[0,0])}}(t,e);else{var i=new DataView(e);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(t,e){for(var i,r,s="",o=[],a=0;a<e.length;++a){for(var l=e[a].trim(),u=l.split(" "),h=0;h<u.length;++h)""===u[h]&&u.splice(h,1);if(0!==u.length)switch(s){case"":if("solid"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "solid"'));s="solid";break;case"solid":if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "facet normal"'));i=new n.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),t.vertexNormals.push(i,i,i),s="facet normal";break;case"facet normal":if("outer"!==u[0]||"loop"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "outer loop"'));s="vertex";break;case"vertex":if("vertex"===u[0])r=new n.default.Vector(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),t.vertices.push(r),t.uvs.push([0,0]),o.push(t.vertices.indexOf(r));else{if("endloop"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "vertex" or "endloop"'));t.faces.push(o),o=[],s="endloop"}break;case"endloop":if("endfacet"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endfacet"'));s="endfacet";break;case"endfacet":if("endsolid"!==u[0]){if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endsolid" or "facet normal"'));i=new n.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),t.vertexNormals.push(i,i,i),s="facet normal"}break;default:console.error('Invalid state "'.concat(s,'"'))}}}(t,new TextDecoder("utf-8").decode(i).split("\n"))}}(a,t),e&&a.normalize(),l._decrementPreload(),"function"==typeof i&&i(a)}),r):o.match(/\.obj$/i)?this.loadStrings(t,(function(t){!function(t,e){for(var i={v:[],vt:[],vn:[]},r={},s=0;s<e.length;++s){var o=e[s].trim().split(/\b\s+/);if(0<o.length)if("v"===o[0]||"vn"===o[0]){var a=new n.default.Vector(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));i[o[0]].push(a)}else if("vt"===o[0]){var l=[parseFloat(o[1]),1-parseFloat(o[2])];i[o[0]].push(l)}else if("f"===o[0])for(var u=3;u<o.length;++u){for(var h=[],c=[1,u-1,u],d=0;d<c.length;++d){var f=o[c[d]],p=0;if(void 0!==r[f])p=r[f];else{for(var m=f.split("/"),v=0;v<m.length;v++)m[v]=parseInt(m[v])-1;p=r[f]=t.vertices.length,t.vertices.push(i.v[m[0]].copy()),i.vt[m[1]]?t.uvs.push(i.vt[m[1]].slice()):t.uvs.push([0,0]),i.vn[m[2]]&&t.vertexNormals.push(i.vn[m[2]].copy())}h.push(p)}h[0]!==h[1]&&h[0]!==h[2]&&h[1]!==h[2]&&t.faces.push(h)}}0===t.vertexNormals.length&&t.computeNormals()}(a,t),e&&a.normalize(),l._decrementPreload(),"function"==typeof i&&i(a)}),r):(n.default._friendlyFileLoadError(3,t),r?r():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),a},n.default.prototype.model=function(t){this._assert3d("model"),n.default._validateParameters("model",arguments),0<t.vertices.length&&(this._renderer.geometryInHash(t.gid)||(t._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(t.gid,t)),this._renderer.drawBuffers(t.gid))};var o=n.default;i.default=o},{"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],307:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.join"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));t("./p5.Texture"),s.default.prototype.loadShader=function(t,e,i,r){function n(){a._decrementPreload(),i&&i(o)}s.default._validateParameters("loadShader",arguments),r=r||console.error;var o=new s.default.Shader,a=this,l=!1,u=!1;return this.loadStrings(t,(function(t){o._vertSrc=t.join("\n"),u=!0,l&&n()}),r),this.loadStrings(e,(function(t){o._fragSrc=t.join("\n"),l=!0,u&&n()}),r),o},s.default.prototype.createShader=function(t,e){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,t,e)},s.default.prototype.shader=function(t){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),void 0===t._renderer&&(t._renderer=this._renderer),t.isStrokeShader()?this._renderer.userStrokeShader=t:(this._renderer.userFillShader=t,this._renderer._useNormalMaterial=!1),t.init(),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return s.default._validateParameters("normalMaterial",e),this._renderer.drawMode=o.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.texture=function(t){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),t.gifProperties&&t._animateGif(this),this._renderer.drawMode=o.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=t,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(t){t!==o.IMAGE&&t!==o.NORMAL?console.warn("You tried to set ".concat(t," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=t},s.default.prototype.textureWrap=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t;this._renderer.textureWrapX=t,this._renderer.textureWrapY=e;for(var i=this._renderer.textures,r=0;r<i.length;r++)i[r].setWrapMode(t,e)},s.default.prototype.ambientMaterial=function(t,e,i){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var r=s.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=r._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.emissiveMaterial=function(t,e,i,r){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var n=s.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=n._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(t,e,i,r){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var n=s.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=n._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(t){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),t<1&&(t=1),this._renderer._useShininess=t,this},s.default.RendererGL.prototype._applyColorBlend=function(t){var e=this.GL,i=this.drawMode===o.TEXTURE||t[t.length-1]<1||this._isErasing;return i!==this._isBlending&&(i||this.curBlendMode!==o.BLEND&&this.curBlendMode!==o.ADD?e.enable(e.BLEND):e.disable(e.BLEND),e.depthMask(!0),this._isBlending=i),this._applyBlendMode(),t},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var t=this.GL;switch(this.curBlendMode){case o.BLEND:case o.ADD:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA);break;case o.REMOVE:t.blendEquation(t.FUNC_REVERSE_SUBTRACT),t.blendFunc(t.SRC_ALPHA,t.DST_ALPHA);break;case o.MULTIPLY:t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ONE,t.ONE);break;case o.SCREEN:t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE_MINUS_DST_COLOR,t.ONE,t.ONE,t.ONE);break;case o.EXCLUSION:t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE_MINUS_DST_COLOR,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE);break;case o.REPLACE:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO);break;case o.SUBTRACT:t.blendEquationSeparate(t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case o.DARKEST:this.blendExt?(t.blendEquationSeparate(this.blendExt.MIN_EXT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case o.LIGHTEST:this.blendExt?(t.blendEquationSeparate(this.blendExt.MAX_EXT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var a=s.default;i.default=a},{"../core/constants":250,"../core/main":260,"./p5.Texture":316,"core-js/modules/es.array.join":157}],308:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.prototype.camera=function(){var t;this._assert3d("camera");for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n.default._validateParameters("camera",i),(t=this._renderer._curCamera).camera.apply(t,i),this},n.default.prototype.perspective=function(){var t;this._assert3d("perspective");for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n.default._validateParameters("perspective",i),(t=this._renderer._curCamera).perspective.apply(t,i),this},n.default.prototype.ortho=function(){var t;this._assert3d("ortho");for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n.default._validateParameters("ortho",i),(t=this._renderer._curCamera).ortho.apply(t,i),this},n.default.prototype.frustum=function(){var t;this._assert3d("frustum");for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n.default._validateParameters("frustum",i),(t=this._renderer._curCamera).frustum.apply(t,i),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var t=new n.default.Camera(this._renderer);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),this._renderer._curCamera=t},n.default.Camera=function(t){this._renderer=t,this.cameraType="default",this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix},n.default.Camera.prototype.perspective=function(t,e,i,r){this.cameraType=0<arguments.length?"custom":"default",void 0===t?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),void 0===e&&(e=this.defaultAspectRatio),void 0===i&&(i=this.defaultCameraNear),void 0===r&&(r=this.defaultCameraFar),i<=1e-4&&(i=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),r<i&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=e,this.cameraNear=i,this.cameraFar=r,this.projMatrix=n.default.Matrix.identity();var s=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(s/e,0,0,0,0,-s,0,0,0,0,(r+i)*o,-1,0,0,2*r*i*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},n.default.Camera.prototype.ortho=function(t,e,i,r,s,o){void 0===t&&(t=-this._renderer.width/2),void 0===e&&(e=this._renderer.width/2),void 0===i&&(i=-this._renderer.height/2),void 0===r&&(r=this._renderer.height/2),void 0===s&&(s=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=e-t,l=r-i,u=o-s,h=2/a,c=2/l,d=-2/u,f=-(e+t)/a,p=-(r+i)/l,m=-(o+s)/u;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-c,0,0,0,0,d,0,f,p,m,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype.frustum=function(t,e,i,r,s,o){void 0===t&&(t=-this._renderer.width/2),void 0===e&&(e=this._renderer.width/2),void 0===i&&(i=-this._renderer.height/2),void 0===r&&(r=this._renderer.height/2),void 0===s&&(s=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=e-t,l=r-i,u=o-s,h=2*s/a,c=2*s/l,d=-2*o*s/u,f=(e+t)/a,p=(r+i)/l,m=-(o+s)/u;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,c,0,0,f,p,m,-1,0,0,d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype._rotateView=function(t,e,i,r){var s=this.centerX,o=this.centerY,a=this.centerZ;s-=this.eyeX,o-=this.eyeY,a-=this.eyeZ;var l=n.default.Matrix.identity(this._renderer._pInst);l.rotate(this._renderer._pInst._toRadians(t),e,i,r);var u=[s*l.mat4[0]+o*l.mat4[4]+a*l.mat4[8],s*l.mat4[1]+o*l.mat4[5]+a*l.mat4[9],s*l.mat4[2]+o*l.mat4[6]+a*l.mat4[10]];u[0]+=this.eyeX,u[1]+=this.eyeY,u[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,u[0],u[1],u[2],this.upX,this.upY,this.upZ)},n.default.Camera.prototype.pan=function(t){var e=this._getLocalAxes();this._rotateView(t,e.y[0],e.y[1],e.y[2])},n.default.Camera.prototype.tilt=function(t){var e=this._getLocalAxes();this._rotateView(t,e.x[0],e.x[1],e.x[2])},n.default.Camera.prototype.lookAt=function(t,e,i){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,e,i,this.upX,this.upY,this.upZ)},n.default.Camera.prototype.camera=function(t,e,i,r,n,s,o,a,l){void 0===t&&(t=this.defaultEyeX,e=this.defaultEyeY,i=this.defaultEyeZ,r=t,n=e,a=1,l=o=s=0),this.eyeX=t,this.eyeY=e,this.eyeZ=i,void 0!==r&&(this.centerX=r,this.centerY=n,this.centerZ=s),void 0!==o&&(this.upX=o,this.upY=a,this.upZ=l);var u=this._getLocalAxes();this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1);var h=-t,c=-e,d=-i;return this.cameraMatrix.translate([h,c,d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},n.default.Camera.prototype.move=function(t,e,i){var r=this._getLocalAxes(),n=[r.x[0]*t,r.x[1]*t,r.x[2]*t],s=[r.y[0]*e,r.y[1]*e,r.y[2]*e],o=[r.z[0]*i,r.z[1]*i,r.z[2]*i];this.camera(this.eyeX+n[0]+s[0]+o[0],this.eyeY+n[1]+s[1]+o[1],this.eyeZ+n[2]+s[2]+o[2],this.centerX+n[0]+s[0]+o[0],this.centerY+n[1]+s[1]+o[1],this.centerZ+n[2]+s[2]+o[2],0,1,0)},n.default.Camera.prototype.setPosition=function(t,e,i){var r=t-this.eyeX,n=e-this.eyeY,s=i-this.eyeZ;this.camera(t,e,i,this.centerX+r,this.centerY+n,this.centerZ+s,0,1,0)},n.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},n.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},n.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},n.default.Camera.prototype.copy=function(){var t=new n.default.Camera(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t},n.default.Camera.prototype._getLocalAxes=function(){var t=this.eyeX-this.centerX,e=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ,r=Math.sqrt(t*t+e*e+i*i);0!==r&&(t/=r,e/=r,i/=r);var n=this.upX,s=this.upY,o=this.upZ,a=s*i-o*e,l=-n*i+o*t,u=n*e-s*t;n=e*u-i*l,s=-t*u+i*a,o=t*l-e*a;var h=Math.sqrt(a*a+l*l+u*u);0!==h&&(a/=h,l/=h,u/=h);var c=Math.sqrt(n*n+s*s+o*o);return 0!==c&&(n/=c,s/=c,o/=c),{x:[a,l,u],y:[n,s,o],z:[t,e,i]}},n.default.Camera.prototype._orbit=function(t,e,i){var r=this.eyeX-this.centerX,n=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,o=Math.sqrt(r*r+n*n+s*s),a=Math.atan2(r,s),l=Math.acos(Math.max(-1,Math.min(1,n/o)));a+=t,(o+=i)<0&&(o=.1),(l+=e)>Math.PI?l=Math.PI:l<=0&&(l=.001);var u=Math.sin(l)*o*Math.sin(a),h=Math.cos(l)*o,c=Math.sin(l)*o*Math.cos(a);this.camera(u+this.centerX,h+this.centerY,c+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},n.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},n.default.prototype.setCamera=function(t){this._renderer._curCamera=t,this._renderer.uPMatrix.set(t.projMatrix.mat4[0],t.projMatrix.mat4[1],t.projMatrix.mat4[2],t.projMatrix.mat4[3],t.projMatrix.mat4[4],t.projMatrix.mat4[5],t.projMatrix.mat4[6],t.projMatrix.mat4[7],t.projMatrix.mat4[8],t.projMatrix.mat4[9],t.projMatrix.mat4[10],t.projMatrix.mat4[11],t.projMatrix.mat4[12],t.projMatrix.mat4[13],t.projMatrix.mat4[14],t.projMatrix.mat4[15])};var s=n.default.Camera;i.default=s},{"../core/main":260}],309:[function(t,e,i){"use strict";t("core-js/modules/es.string.sub"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.Geometry=function(t,e,i){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=void 0!==t?t:1,this.detailY=void 0!==e?e:1,this.dirtyFlags={},i instanceof Function&&i.call(this),this},n.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},n.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var t,e,i,r,n=this.detailX+1,s=0;s<this.detailY;s++)for(var o=0;o<this.detailX;o++)e=(t=s*n+o)+1,i=(s+1)*n+o+1,r=(s+1)*n+o,this.faces.push([t,e,r]),this.faces.push([r,e,i]);return this},n.default.Geometry.prototype._getFaceNormal=function(t){var e=this.faces[t],i=this.vertices[e[0]],r=this.vertices[e[1]],s=this.vertices[e[2]],o=n.default.Vector.sub(r,i),a=n.default.Vector.sub(s,i),l=n.default.Vector.cross(o,a),u=n.default.Vector.mag(l),h=u/(n.default.Vector.mag(o)*n.default.Vector.mag(a));return 0===h||isNaN(h)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),l):(1<h&&(h=1),l.mult(Math.asin(h)/u))},n.default.Geometry.prototype.computeNormals=function(){var t,e=this.vertexNormals,i=this.vertices,r=this.faces;for(t=e.length=0;t<i.length;++t)e.push(new n.default.Vector);for(var s=0;s<r.length;++s)for(var o=r[s],a=this._getFaceNormal(s),l=0;l<3;++l)e[o[l]].add(a);for(t=0;t<i.length;++t)e[t].normalize();return this},n.default.Geometry.prototype.averageNormals=function(){for(var t=0;t<=this.detailY;t++){var e=this.detailX+1,i=n.default.Vector.add(this.vertexNormals[t*e],this.vertexNormals[t*e+this.detailX]);i=n.default.Vector.div(i,2),this.vertexNormals[t*e]=i,this.vertexNormals[t*e+this.detailX]=i}return this},n.default.Geometry.prototype.averagePoleNormals=function(){for(var t=new n.default.Vector(0,0,0),e=0;e<this.detailX;e++)t.add(this.vertexNormals[e]);t=n.default.Vector.div(t,this.detailX);for(var i=0;i<this.detailX;i++)this.vertexNormals[i]=t;t=new n.default.Vector(0,0,0);for(var r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=n.default.Vector.div(t,this.detailX);for(var s=this.vertices.length-1;s>this.vertices.length-1-this.detailX;s--)this.vertexNormals[s]=t;return this},n.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var t=0,e=this.strokeIndices.length;t<e;t++)this.edges.push(this.strokeIndices[t]);else for(var i=0;i<this.faces.length;i++)this.edges.push([this.faces[i][0],this.faces[i][1]]),this.edges.push([this.faces[i][1],this.faces[i][2]]),this.edges.push([this.faces[i][2],this.faces[i][0]]);return this},n.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var t=this.lineNormals.length=0;t<this.edges.length;t++){var e=this.vertices[this.edges[t][0]],i=this.vertices[this.edges[t][1]],r=i.copy().sub(e).normalize(),n=e.array(),s=e.array(),o=i.array(),a=i.array(),l=r.array(),u=r.array();l.push(1),u.push(-1),this.lineNormals.push(l,u,l,l,u,u),this.lineVertices.push(n,s,o,o,s,a)}return this},n.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var t=this.vertices[0].copy(),e=this.vertices[0].copy(),i=0;i<this.vertices.length;i++)t.x=Math.max(t.x,this.vertices[i].x),e.x=Math.min(e.x,this.vertices[i].x),t.y=Math.max(t.y,this.vertices[i].y),e.y=Math.min(e.y,this.vertices[i].y),t.z=Math.max(t.z,this.vertices[i].z),e.z=Math.min(e.z,this.vertices[i].z);for(var r=n.default.Vector.lerp(t,e,.5),s=n.default.Vector.sub(t,e),o=200/Math.max(Math.max(s.x,s.y),s.z),a=0;a<this.vertices.length;a++)this.vertices[a].sub(r),this.vertices[a].mult(o)}return this};var s=n.default.Geometry;i.default=s},{"../core/main":260,"core-js/modules/es.string.sub":189}],310:[function(t,e,i){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r},s=Array,o=function(t){return t instanceof Array};"undefined"!=typeof Float32Array&&(s=Float32Array,o=function(t){return t instanceof Array||t instanceof Float32Array}),n.default.Matrix=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];return t.length&&t[t.length-1]instanceof n.default&&(this.p5=t[t.length-1]),"mat3"===t[0]?this.mat3=Array.isArray(t[1])?t[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(t[0])?t[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},n.default.Matrix.prototype.set=function(t){return t instanceof n.default.Matrix?this.mat4=t.mat4:o(t)?this.mat4=t:16===arguments.length&&(this.mat4[0]=t,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},n.default.Matrix.prototype.get=function(){return new n.default.Matrix(this.mat4,this.p5)},n.default.Matrix.prototype.copy=function(){var t=new n.default.Matrix(this.p5);return t.mat4[0]=this.mat4[0],t.mat4[1]=this.mat4[1],t.mat4[2]=this.mat4[2],t.mat4[3]=this.mat4[3],t.mat4[4]=this.mat4[4],t.mat4[5]=this.mat4[5],t.mat4[6]=this.mat4[6],t.mat4[7]=this.mat4[7],t.mat4[8]=this.mat4[8],t.mat4[9]=this.mat4[9],t.mat4[10]=this.mat4[10],t.mat4[11]=this.mat4[11],t.mat4[12]=this.mat4[12],t.mat4[13]=this.mat4[13],t.mat4[14]=this.mat4[14],t.mat4[15]=this.mat4[15],t},n.default.Matrix.identity=function(t){return new n.default.Matrix(t)},n.default.Matrix.prototype.transpose=function(t){var e,i,r,s,a,l;return t instanceof n.default.Matrix?(e=t.mat4[1],i=t.mat4[2],r=t.mat4[3],s=t.mat4[6],a=t.mat4[7],l=t.mat4[11],this.mat4[0]=t.mat4[0],this.mat4[1]=t.mat4[4],this.mat4[2]=t.mat4[8],this.mat4[3]=t.mat4[12],this.mat4[4]=e,this.mat4[5]=t.mat4[5],this.mat4[6]=t.mat4[9],this.mat4[7]=t.mat4[13],this.mat4[8]=i,this.mat4[9]=s,this.mat4[10]=t.mat4[10],this.mat4[11]=t.mat4[14],this.mat4[12]=r,this.mat4[13]=a,this.mat4[14]=l,this.mat4[15]=t.mat4[15]):o(t)&&(e=t[1],i=t[2],r=t[3],s=t[6],a=t[7],l=t[11],this.mat4[0]=t[0],this.mat4[1]=t[4],this.mat4[2]=t[8],this.mat4[3]=t[12],this.mat4[4]=e,this.mat4[5]=t[5],this.mat4[6]=t[9],this.mat4[7]=t[13],this.mat4[8]=i,this.mat4[9]=s,this.mat4[10]=t[10],this.mat4[11]=t[14],this.mat4[12]=r,this.mat4[13]=a,this.mat4[14]=l,this.mat4[15]=t[15]),this},n.default.Matrix.prototype.invert=function(t){var e,i,r,s,a,l,u,h,c,d,f,p,m,v,y,g;t instanceof n.default.Matrix?(e=t.mat4[0],i=t.mat4[1],r=t.mat4[2],s=t.mat4[3],a=t.mat4[4],l=t.mat4[5],u=t.mat4[6],h=t.mat4[7],c=t.mat4[8],d=t.mat4[9],f=t.mat4[10],p=t.mat4[11],m=t.mat4[12],v=t.mat4[13],y=t.mat4[14],g=t.mat4[15]):o(t)&&(e=t[0],i=t[1],r=t[2],s=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=t[9],f=t[10],p=t[11],m=t[12],v=t[13],y=t[14],g=t[15]);var x=e*l-i*a,b=e*u-r*a,w=e*h-s*a,_=i*u-r*l,S=i*h-s*l,A=r*h-s*u,T=c*v-d*m,E=c*y-f*m,M=c*g-p*m,C=d*y-f*v,P=d*g-p*v,R=f*g-p*y,k=x*R-b*P+w*C+_*M-S*E+A*T;return k?(k=1/k,this.mat4[0]=(l*R-u*P+h*C)*k,this.mat4[1]=(r*P-i*R-s*C)*k,this.mat4[2]=(v*A-y*S+g*_)*k,this.mat4[3]=(f*S-d*A-p*_)*k,this.mat4[4]=(u*M-a*R-h*E)*k,this.mat4[5]=(e*R-r*M+s*E)*k,this.mat4[6]=(y*w-m*A-g*b)*k,this.mat4[7]=(c*A-f*w+p*b)*k,this.mat4[8]=(a*P-l*M+h*T)*k,this.mat4[9]=(i*M-e*P-s*T)*k,this.mat4[10]=(m*S-v*w+g*x)*k,this.mat4[11]=(d*w-c*S-p*x)*k,this.mat4[12]=(l*E-a*C-u*T)*k,this.mat4[13]=(e*C-i*E+r*T)*k,this.mat4[14]=(v*b-m*_-y*x)*k,this.mat4[15]=(c*_-d*b+f*x)*k,this):null},n.default.Matrix.prototype.invert3x3=function(){var t=this.mat3[0],e=this.mat3[1],i=this.mat3[2],r=this.mat3[3],n=this.mat3[4],s=this.mat3[5],o=this.mat3[6],a=this.mat3[7],l=this.mat3[8],u=l*n-s*a,h=-l*r+s*o,c=a*r-n*o,d=t*u+e*h+i*c;return d?(d=1/d,this.mat3[0]=u*d,this.mat3[1]=(-l*e+i*a)*d,this.mat3[2]=(s*e-i*n)*d,this.mat3[3]=h*d,this.mat3[4]=(l*t-i*o)*d,this.mat3[5]=(-s*t+i*r)*d,this.mat3[6]=c*d,this.mat3[7]=(-a*t+e*o)*d,this.mat3[8]=(n*t-e*r)*d,this):null},n.default.Matrix.prototype.transpose3x3=function(t){var e=t[1],i=t[2],r=t[5];return this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=e,this.mat3[5]=t[7],this.mat3[6]=i,this.mat3[7]=r,this},n.default.Matrix.prototype.inverseTranspose=function(t){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=t.mat4[0],this.mat3[1]=t.mat4[1],this.mat3[2]=t.mat4[2],this.mat3[3]=t.mat4[4],this.mat3[4]=t.mat4[5],this.mat3[5]=t.mat4[6],this.mat3[6]=t.mat4[8],this.mat3[7]=t.mat4[9],this.mat3[8]=t.mat4[10]);var e=this.invert3x3();if(e)e.transpose3x3(this.mat3);else for(var i=0;i<9;i++)this.mat3[i]=0;return this},n.default.Matrix.prototype.determinant=function(){var t=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],e=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],i=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],r=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],n=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],s=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],o=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],a=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],h=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return t*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-e*h+i*u+r*l-n*a+s*o},n.default.Matrix.prototype.mult=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof n.default.Matrix)e=t.mat4;else if(o(t))e=t;else{if(16!==arguments.length)return;e=arguments}var i=this.mat4[0],r=this.mat4[1],s=this.mat4[2],a=this.mat4[3];return this.mat4[0]=i*e[0]+r*e[4]+s*e[8]+a*e[12],this.mat4[1]=i*e[1]+r*e[5]+s*e[9]+a*e[13],this.mat4[2]=i*e[2]+r*e[6]+s*e[10]+a*e[14],this.mat4[3]=i*e[3]+r*e[7]+s*e[11]+a*e[15],i=this.mat4[4],r=this.mat4[5],s=this.mat4[6],a=this.mat4[7],this.mat4[4]=i*e[0]+r*e[4]+s*e[8]+a*e[12],this.mat4[5]=i*e[1]+r*e[5]+s*e[9]+a*e[13],this.mat4[6]=i*e[2]+r*e[6]+s*e[10]+a*e[14],this.mat4[7]=i*e[3]+r*e[7]+s*e[11]+a*e[15],i=this.mat4[8],r=this.mat4[9],s=this.mat4[10],a=this.mat4[11],this.mat4[8]=i*e[0]+r*e[4]+s*e[8]+a*e[12],this.mat4[9]=i*e[1]+r*e[5]+s*e[9]+a*e[13],this.mat4[10]=i*e[2]+r*e[6]+s*e[10]+a*e[14],this.mat4[11]=i*e[3]+r*e[7]+s*e[11]+a*e[15],i=this.mat4[12],r=this.mat4[13],s=this.mat4[14],a=this.mat4[15],this.mat4[12]=i*e[0]+r*e[4]+s*e[8]+a*e[12],this.mat4[13]=i*e[1]+r*e[5]+s*e[9]+a*e[13],this.mat4[14]=i*e[2]+r*e[6]+s*e[10]+a*e[14],this.mat4[15]=i*e[3]+r*e[7]+s*e[11]+a*e[15],this},n.default.Matrix.prototype.apply=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof n.default.Matrix)e=t.mat4;else if(o(t))e=t;else{if(16!==arguments.length)return;e=arguments}var i=this.mat4,r=i[0],s=i[4],a=i[8],l=i[12];i[0]=e[0]*r+e[1]*s+e[2]*a+e[3]*l,i[4]=e[4]*r+e[5]*s+e[6]*a+e[7]*l,i[8]=e[8]*r+e[9]*s+e[10]*a+e[11]*l,i[12]=e[12]*r+e[13]*s+e[14]*a+e[15]*l;var u=i[1],h=i[5],c=i[9],d=i[13];i[1]=e[0]*u+e[1]*h+e[2]*c+e[3]*d,i[5]=e[4]*u+e[5]*h+e[6]*c+e[7]*d,i[9]=e[8]*u+e[9]*h+e[10]*c+e[11]*d,i[13]=e[12]*u+e[13]*h+e[14]*c+e[15]*d;var f=i[2],p=i[6],m=i[10],v=i[14];i[2]=e[0]*f+e[1]*p+e[2]*m+e[3]*v,i[6]=e[4]*f+e[5]*p+e[6]*m+e[7]*v,i[10]=e[8]*f+e[9]*p+e[10]*m+e[11]*v,i[14]=e[12]*f+e[13]*p+e[14]*m+e[15]*v;var y=i[3],g=i[7],x=i[11],b=i[15];return i[3]=e[0]*y+e[1]*g+e[2]*x+e[3]*b,i[7]=e[4]*y+e[5]*g+e[6]*x+e[7]*b,i[11]=e[8]*y+e[9]*g+e[10]*x+e[11]*b,i[15]=e[12]*y+e[13]*g+e[14]*x+e[15]*b,this},n.default.Matrix.prototype.scale=function(t,e,i){return t instanceof n.default.Vector?(e=t.y,i=t.z,t=t.x):t instanceof Array&&(e=t[1],i=t[2],t=t[0]),this.mat4[0]*=t,this.mat4[1]*=t,this.mat4[2]*=t,this.mat4[3]*=t,this.mat4[4]*=e,this.mat4[5]*=e,this.mat4[6]*=e,this.mat4[7]*=e,this.mat4[8]*=i,this.mat4[9]*=i,this.mat4[10]*=i,this.mat4[11]*=i,this},n.default.Matrix.prototype.rotate=function(t,e,i,r){e instanceof n.default.Vector?(i=e.y,r=e.z,e=e.x):e instanceof Array&&(i=e[1],r=e[2],e=e[0]);var s=Math.sqrt(e*e+i*i+r*r);e*=1/s,i*=1/s,r*=1/s;var o=this.mat4[0],a=this.mat4[1],l=this.mat4[2],u=this.mat4[3],h=this.mat4[4],c=this.mat4[5],d=this.mat4[6],f=this.mat4[7],p=this.mat4[8],m=this.mat4[9],v=this.mat4[10],y=this.mat4[11],g=Math.sin(t),x=Math.cos(t),b=1-x,w=e*e*b+x,_=i*e*b+r*g,S=r*e*b-i*g,A=e*i*b-r*g,T=i*i*b+x,E=r*i*b+e*g,M=e*r*b+i*g,C=i*r*b-e*g,P=r*r*b+x;return this.mat4[0]=o*w+h*_+p*S,this.mat4[1]=a*w+c*_+m*S,this.mat4[2]=l*w+d*_+v*S,this.mat4[3]=u*w+f*_+y*S,this.mat4[4]=o*A+h*T+p*E,this.mat4[5]=a*A+c*T+m*E,this.mat4[6]=l*A+d*T+v*E,this.mat4[7]=u*A+f*T+y*E,this.mat4[8]=o*M+h*C+p*P,this.mat4[9]=a*M+c*C+m*P,this.mat4[10]=l*M+d*C+v*P,this.mat4[11]=u*M+f*C+y*P,this},n.default.Matrix.prototype.translate=function(t){var e=t[0],i=t[1],r=t[2]||0;this.mat4[12]+=this.mat4[0]*e+this.mat4[4]*i+this.mat4[8]*r,this.mat4[13]+=this.mat4[1]*e+this.mat4[5]*i+this.mat4[9]*r,this.mat4[14]+=this.mat4[2]*e+this.mat4[6]*i+this.mat4[10]*r,this.mat4[15]+=this.mat4[3]*e+this.mat4[7]*i+this.mat4[11]*r},n.default.Matrix.prototype.rotateX=function(t){this.rotate(t,1,0,0)},n.default.Matrix.prototype.rotateY=function(t){this.rotate(t,0,1,0)},n.default.Matrix.prototype.rotateZ=function(t){this.rotate(t,0,0,1)},n.default.Matrix.prototype.perspective=function(t,e,i,r){var n=1/Math.tan(t/2),s=1/(i-r);return this.mat4[0]=n/e,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=n,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(r+i)*s,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*r*i*s,this.mat4[15]=0,this},n.default.Matrix.prototype.ortho=function(t,e,i,r,n,s){var o=1/(t-e),a=1/(i-r),l=1/(n-s);return this.mat4[0]=-2*o,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(t+e)*o,this.mat4[13]=(r+i)*a,this.mat4[14]=(s+n)*l,this.mat4[15]=1,this};var a=n.default.Matrix;i.default=a},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220}],311:[function(t,e,i){"use strict";t("core-js/modules/es.array.map"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.RenderBuffer=function(t,e,i,r,n,s){this.size=t,this.src=e,this.dst=i,this.attr=r,this._renderer=n,this.map=s},n.default.RenderBuffer.prototype._prepareBuffer=function(t,e){var i,r=e.attributes,n=this._renderer.GL;i=t.model?t.model:t;var s=r[this.attr];if(s){var o=t[this.dst],a=i[this.src];if(0<a.length){var l=!o;if(l&&(t[this.dst]=o=n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,o),l||!1!==i.dirtyFlags[this.src]){var u=this.map,h=u?u(a):a;this._renderer._bindBuffer(o,n.ARRAY_BUFFER,h),i.dirtyFlags[this.src]=!1}e.enableAttrib(s,this.size)}}};var s=n.default.RenderBuffer;i.default=s},{"../core/main":260,"core-js/modules/es.array.map":159}],312:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(t){return this.immediateMode.shapeMode=void 0!==t?t:o.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},s.default.RendererGL.prototype.vertex=function(t,e){var i,r,n;i=r=n=0,3===arguments.length?i=arguments[2]:4===arguments.length?(r=arguments[2],n=arguments[3]):5===arguments.length&&(i=arguments[2],r=arguments[3],n=arguments[4]);var a=new s.default.Vector(t,e,i);this.immediateMode.geometry.vertices.push(a);var l=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(l[0],l[1],l[2],l[3]),this.textureMode===o.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(r/=this._tex.width,n/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(r,n),this.immediateMode._bezierVertex[0]=t,this.immediateMode._bezierVertex[1]=e,this.immediateMode._bezierVertex[2]=i,this.immediateMode._quadraticVertex[0]=t,this.immediateMode._quadraticVertex[1]=e,this.immediateMode._quadraticVertex[2]=i,this},s.default.RendererGL.prototype.endShape=function(t,e,i,r,n,s){return this.immediateMode.shapeMode===o.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(t){if(0!==this.immediateMode.geometry.vertices.length){var e=this._doStroke&&this.drawMode!==o.TEXTURE,i=t===o.CLOSE;e&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.immediateMode.geometry._edgesToVertices());var r=this.immediateMode.shapeMode===o.TESS;(this.isBezier||this.isQuadratic||this.isCurve||r)&&this.immediateMode.shapeMode!==o.LINES&&this._tesselateShape()}},s.default.RendererGL.prototype._calculateEdges=function(t,e,i){var r=[],n=0;switch(t){case o.TRIANGLE_STRIP:for(n=0;n<e.length-2;n++)r.push([n,n+1]),r.push([n,n+2]);r.push([n,n+1]);break;case o.TRIANGLES:for(n=0;n<e.length-2;n+=3)r.push([n,n+1]),r.push([n+1,n+2]),r.push([n+2,n]);break;case o.LINES:for(n=0;n<e.length-1;n+=2)r.push([n,n+1]);break;default:for(n=0;n<e.length-1;n++)r.push([n,n+1])}return i&&r.push([e.length-1,0]),r},s.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=o.TRIANGLES;var t=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],e=this._triangulate(t);this.immediateMode.geometry.vertices=[];for(var i=0,r=e.length;i<r;i+=3)this.vertex(e[i],e[i+1],e[i+2])},s.default.RendererGL.prototype._drawImmediateFill=function(){var t=this.GL,e=this._getImmediateFillShader();this._calculateNormals(this.immediateMode.geometry),this._setFillUniforms(e);var i=!0,r=!1,n=void 0;try{for(var s,a=this.immediateMode.buffers.fill[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)s.value._prepareBuffer(this.immediateMode.geometry,e)}catch(t){r=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw n}}this.immediateMode.shapeMode!==o.LINE_STRIP&&this.immediateMode.shapeMode!==o.LINES||(this.immediateMode.shapeMode=o.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),t.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),e.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var t=this.GL,e=this._getImmediateStrokeShader();this._setStrokeUniforms(e);var i=!0,r=!1,n=void 0;try{for(var s,o=this.immediateMode.buffers.stroke[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)s.value._prepareBuffer(this.immediateMode.geometry,e)}catch(t){r=!0,n=t}finally{try{i||null==o.return||o.return()}finally{if(r)throw n}}this._applyColorBlend(this.curStrokeColor),t.drawArrays(t.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),e.unbindShader()},s.default.RendererGL.prototype._calculateNormals=function(t){t.vertices.forEach((function(){t.vertexNormals.push(new s.default.Vector(0,0,1))}))};var a=s.default.RendererGL;i.default=a},{"../core/constants":250,"../core/main":260,"./p5.RenderBuffer":311,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],313:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};t("./p5.RendererGL"),t("./p5.RenderBuffer");var s=0;n.default.RendererGL.prototype._initBufferDefaults=function(t){if(this._freeBuffers(t),1e3<++s){var e=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[e],s--}return this.retainedMode.geometry[t]={}},n.default.RendererGL.prototype._freeBuffers=function(t){var e=this.retainedMode.geometry[t];if(e){delete this.retainedMode.geometry[t],s--;var i=this.GL;e.indexBuffer&&i.deleteBuffer(e.indexBuffer),r(this.retainedMode.buffers.stroke),r(this.retainedMode.buffers.fill)}function r(t){var r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;e[l.dst]&&(i.deleteBuffer(e[l.dst]),e[l.dst]=null)}}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}}},n.default.RendererGL.prototype.createBuffers=function(t,e){var i=this.GL,r=this._initBufferDefaults(t);r.model=e;var s=r.indexBuffer;if(e.faces.length){s=s||(r.indexBuffer=i.createBuffer());var o=n.default.RendererGL.prototype._flatten(e.faces);this._bindBuffer(s,i.ELEMENT_ARRAY_BUFFER,o,Uint16Array),r.vertexCount=3*e.faces.length}else s&&(i.deleteBuffer(s),r.indexBuffer=null),r.vertexCount=e.vertices?e.vertices.length:0;return r.lineVertexCount=e.lineVertices?e.lineVertices.length:0,r},n.default.RendererGL.prototype.drawBuffers=function(t){var e=this.GL,i=this.retainedMode.geometry[t];if(this._doStroke&&0<i.lineVertexCount){var r=this._getRetainedStrokeShader();this._setStrokeUniforms(r);var n=!0,s=!1,o=void 0;try{for(var a,l=this.retainedMode.buffers.stroke[Symbol.iterator]();!(n=(a=l.next()).done);n=!0)a.value._prepareBuffer(i,r)}catch(t){s=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(s)throw o}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(e.TRIANGLES,t),r.unbindShader()}if(this._doFill){var u=this._getRetainedFillShader();this._setFillUniforms(u);var h=!0,c=!1,d=void 0;try{for(var f,p=this.retainedMode.buffers.fill[Symbol.iterator]();!(h=(f=p.next()).done);h=!0)f.value._prepareBuffer(i,u)}catch(t){c=!0,d=t}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}i.indexBuffer&&this._bindBuffer(i.indexBuffer,e.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(e.TRIANGLES,t),u.unbindShader()}return this},n.default.RendererGL.prototype.drawBuffersScaled=function(t,e,i,r){var n=this.uMVMatrix.copy();try{this.uMVMatrix.scale(e,i,r),this.drawBuffers(t)}finally{this.uMVMatrix=n}},n.default.RendererGL.prototype._drawArrays=function(t,e){return this.GL.drawArrays(t,0,this.retainedMode.geometry[e].lineVertexCount),this},n.default.RendererGL.prototype._drawElements=function(t,e){var i=this.retainedMode.geometry[e],r=this.GL;i.indexBuffer?r.drawElements(r.TRIANGLES,i.vertexCount,r.UNSIGNED_SHORT,0):r.drawArrays(t||r.TRIANGLES,0,i.vertexCount)},n.default.RendererGL.prototype._drawPoints=function(t,e){var i=this.GL,r=this._getImmediatePointShader();this._setPointUniforms(r),this._bindBuffer(e,i.ARRAY_BUFFER,this._vToNArray(t),Float32Array,i.STATIC_DRAW),r.enableAttrib(r.attributes.aPosition,3),i.drawArrays(i.Points,0,t.length),r.unbindShader()};var o=n.default.RendererGL;i.default=o},{"../core/main":260,"./p5.RenderBuffer":311,"./p5.RendererGL":314,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/web.dom-collections.iterator":226}],314:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(t("../core/main")),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants")),o=a(t("libtess"));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.Shader"),t("./p5.Camera"),t("../core/p5.Renderer"),t("./p5.Matrix"),t("path");var u="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n",h={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:u+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:u+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};n.default.RendererGL=function(t,e,i,r){return n.default.Renderer.call(this,t,e,i),this._setAttributeDefaults(e),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=s.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=s.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new n.default.Matrix,this.uPMatrix=new n.default.Matrix,this.uNMatrix=new n.default.Matrix("mat3"),this._curCamera=new n.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new n.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new n.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new n.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new n.default.RenderBuffer(4,"vertexColors","colorBuffer","aMaterialColor",this),new n.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new n.default.Geometry,shapeMode:s.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new n.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new n.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new n.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new n.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new n.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=s.IMAGE,this.textureWrapX=s.CLAMP,this.textureWrapY=s.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},n.default.RendererGL.prototype=Object.create(n.default.Renderer.prototype),n.default.RendererGL.prototype._setAttributeDefaults=function(t){var e={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};null===t._glAttributes?t._glAttributes=e:t._glAttributes=Object.assign(e,t._glAttributes)},n.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(t){throw t}},n.default.RendererGL.prototype._resetContext=function(t,e){var i=this.width,r=this.height,s=this.canvas.id,o=this._pInst instanceof n.default.Graphics;if(o){var a=this._pInst;a.canvas.parentNode.removeChild(a.canvas),a.canvas=document.createElement("canvas"),(a._pInst._userNode||document.body).appendChild(a.canvas),n.default.Element.call(a,a.canvas,a._pInst),a.width=i,a.height=r}else{var l=this.canvas;l&&l.parentNode.removeChild(l),(l=document.createElement("canvas")).id=s,this._pInst._userNode?this._pInst._userNode.appendChild(l):document.body.appendChild(l),this._pInst.canvas=l}var u=new n.default.RendererGL(this._pInst.canvas,this._pInst,!o);this._pInst._setProperty("_renderer",u),u.resize(i,r),u._applyDefaults(),o||this._pInst._elements.push(u),"function"==typeof e&&setTimeout((function(){e.apply(window._renderer,t)}),0)},n.default.prototype.setAttributes=function(t,e){if(void 0!==this._glAttributes){var i=!0;if(void 0!==e?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[t]!==e&&(this._glAttributes[t]=e,i=!1)):t instanceof Object&&this._glAttributes!==t&&(this._glAttributes=t,i=!1),this._renderer.isP3D&&!i){if(!this._setupDone)for(var r in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(r))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},n.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},n.default.RendererGL.prototype.background=function(){var t,e=(t=this._pInst).color.apply(t,arguments),i=e.levels[0]/255,r=e.levels[1]/255,n=e.levels[2]/255,s=e.levels[3]/255;this.GL.clearColor(i,r,n,s),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},n.default.RendererGL.prototype.fill=function(t,e,i,r){var o=n.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=o._array,this.drawMode=s.FILL,this._useNormalMaterial=!1,this._tex=null},n.default.RendererGL.prototype.stroke=function(t,e,i,r){arguments[3]=255;var s=n.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=s._array},n.default.RendererGL.prototype.strokeCap=function(t){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},n.default.RendererGL.prototype.strokeJoin=function(t){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},n.default.RendererGL.prototype.filter=function(t){console.error("filter() does not work in WEBGL mode")},n.default.RendererGL.prototype.blendMode=function(t){t===s.DARKEST||t===s.LIGHTEST||t===s.ADD||t===s.BLEND||t===s.SUBTRACT||t===s.SCREEN||t===s.EXCLUSION||t===s.REPLACE||t===s.MULTIPLY||t===s.REMOVE?this.curBlendMode=t:t!==s.BURN&&t!==s.OVERLAY&&t!==s.HARD_LIGHT&&t!==s.SOFT_LIGHT&&t!==s.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},n.default.RendererGL.prototype.erase=function(t,e){this._isErasing||(this._applyBlendMode(s.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,t/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,e/255])},n.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},n.default.RendererGL.prototype.strokeWeight=function(t){this.curStrokeWeight!==t&&(this.pointSize=t,this.curStrokeWeight=t)},n.default.RendererGL.prototype._getPixel=function(t,e){var i;return i=new Uint8Array(4),this.drawingContext.readPixels(t,e,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,i),[i[0],i[1],i[2],i[3]]},n.default.RendererGL.prototype.loadPixels=function(){var t=this._pixelsState;if(!0===this._pInst._glAttributes.preserveDrawingBuffer){var e=t.pixels,i=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;e instanceof Uint8Array&&e.length===i||(e=new Uint8Array(i),this._pixelsState._setProperty("pixels",e));var r=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*r,this.height*r,this.GL.RGBA,this.GL.UNSIGNED_BYTE,e)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},n.default.RendererGL.prototype.geometryInHash=function(t){return void 0!==this.retainedMode.geometry[t]},n.default.RendererGL.prototype.resize=function(t,e){n.default.Renderer.prototype.resize.call(this,t,e),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var i=this._pixelsState;void 0!==i.pixels&&i._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},n.default.RendererGL.prototype.clear=function(){var t=(arguments.length<=0?void 0:arguments[0])||0,e=(arguments.length<=1?void 0:arguments[1])||0,i=(arguments.length<=2?void 0:arguments[2])||0,r=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(t,e,i,r),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},n.default.RendererGL.prototype.applyMatrix=function(t,e,i,r,s,o){16===arguments.length?n.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([t,e,0,0,i,r,0,0,0,0,1,0,s,o,0,1])},n.default.RendererGL.prototype.translate=function(t,e,i){return t instanceof n.default.Vector&&(i=t.z,e=t.y,t=t.x),this.uMVMatrix.translate([t,e,i]),this},n.default.RendererGL.prototype.scale=function(t,e,i){return this.uMVMatrix.scale(t,e,i),this},n.default.RendererGL.prototype.rotate=function(t,e){return void 0===e?this.rotateZ(t):(n.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},n.default.RendererGL.prototype.rotateX=function(t){return this.rotate(t,1,0,0),this},n.default.RendererGL.prototype.rotateY=function(t){return this.rotate(t,0,1,0),this},n.default.RendererGL.prototype.rotateZ=function(t){return this.rotate(t,0,0,1),this},n.default.RendererGL.prototype.push=function(){var t=n.default.Renderer.prototype.push.apply(this),e=t.properties;return e.uMVMatrix=this.uMVMatrix.copy(),e.uPMatrix=this.uPMatrix.copy(),e._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),e.ambientLightColors=this.ambientLightColors.slice(),e.specularColors=this.specularColors.slice(),e.directionalLightDirections=this.directionalLightDirections.slice(),e.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),e.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),e.pointLightPositions=this.pointLightPositions.slice(),e.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),e.pointLightSpecularColors=this.pointLightSpecularColors.slice(),e.spotLightPositions=this.spotLightPositions.slice(),e.spotLightDirections=this.spotLightDirections.slice(),e.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),e.spotLightSpecularColors=this.spotLightSpecularColors.slice(),e.spotLightAngle=this.spotLightAngle.slice(),e.spotLightConc=this.spotLightConc.slice(),e.userFillShader=this.userFillShader,e.userStrokeShader=this.userStrokeShader,e.userPointShader=this.userPointShader,e.pointSize=this.pointSize,e.curStrokeWeight=this.curStrokeWeight,e.curStrokeColor=this.curStrokeColor,e.curFillColor=this.curFillColor,e._useSpecularMaterial=this._useSpecularMaterial,e._useEmissiveMaterial=this._useEmissiveMaterial,e._useShininess=this._useShininess,e.constantAttenuation=this.constantAttenuation,e.linearAttenuation=this.linearAttenuation,e.quadraticAttenuation=this.quadraticAttenuation,e._enableLighting=this._enableLighting,e._useNormalMaterial=this._useNormalMaterial,e._tex=this._tex,e.drawMode=this.drawMode,t},n.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=n.default.Matrix.identity(this._pInst),this},n.default.RendererGL.prototype._getImmediateStrokeShader=function(){var t=this.userStrokeShader;return t&&t.isStrokeShader()?t:this._getLineShader()},n.default.RendererGL.prototype._getRetainedStrokeShader=n.default.RendererGL.prototype._getImmediateStrokeShader,n.default.RendererGL.prototype._getImmediateFillShader=function(){var t=this.userFillShader;if(this._useNormalMaterial&&(!t||!t.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getImmediateModeShader();return t},n.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var t=this.userFillShader;if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getColorShader();return t},n.default.RendererGL.prototype._getImmediatePointShader=function(){var t=this.userPointShader;return t&&t.isPointShader()?t:this._getPointShader()},n.default.RendererGL.prototype._getRetainedLineShader=n.default.RendererGL.prototype._getImmediateLineShader,n.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new n.default.Shader(this,h.phongVert,h.phongFrag):this._defaultLightShader=new n.default.Shader(this,h.lightVert,h.lightTextureFrag)),this._defaultLightShader},n.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new n.default.Shader(this,h.immediateVert,h.vertexColorFrag)),this._defaultImmediateModeShader},n.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new n.default.Shader(this,h.normalVert,h.normalFrag)),this._defaultNormalShader},n.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new n.default.Shader(this,h.normalVert,h.basicFrag)),this._defaultColorShader},n.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new n.default.Shader(this,h.pointVert,h.pointFrag)),this._defaultPointShader},n.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new n.default.Shader(this,h.lineVert,h.lineFrag)),this._defaultLineShader},n.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new n.default.Shader(this,h.fontVert,h.fontFrag)),this._defaultFontShader},n.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var t=new n.default.Image(1,1);t.set(0,0,255),this._emptyTexture=new n.default.Texture(this,t)}return this._emptyTexture},n.default.RendererGL.prototype.getTexture=function(t){var e=this.textures,i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;if(l.src===t)return l}}catch(t){r=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}var u=new n.default.Texture(this,t);return e.push(u),u},n.default.RendererGL.prototype._setStrokeUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curStrokeColor),t.setUniform("uStrokeWeight",this.curStrokeWeight)},n.default.RendererGL.prototype._setFillUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curFillColor),t.setUniform("isTexture",!!this._tex),this._tex&&t.setUniform("uSampler",this._tex),t.setUniform("uTint",this._tint),t.setUniform("uSpecular",this._useSpecularMaterial),t.setUniform("uEmissive",this._useEmissiveMaterial),t.setUniform("uShininess",this._useShininess),t.setUniform("uUseLighting",this._enableLighting);var e=this.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",e),t.setUniform("uPointLightLocation",this.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var i=this.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",i),t.setUniform("uLightingDirection",this.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var r=this.ambientLightColors.length/3;t.setUniform("uAmbientLightCount",r),t.setUniform("uAmbientColor",this.ambientLightColors);var n=this.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",n),t.setUniform("uSpotLightAngle",this.spotLightAngle),t.setUniform("uSpotLightConc",this.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.spotLightPositions),t.setUniform("uSpotLightDirection",this.spotLightDirections),t.setUniform("uConstantAttenuation",this.constantAttenuation),t.setUniform("uLinearAttenuation",this.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),t.bindTextures()},n.default.RendererGL.prototype._setPointUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curStrokeColor),t.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},n.default.RendererGL.prototype._bindBuffer=function(t,e,i,r,n){if(e=e||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(e,t),void 0!==i){var s=new(r||Float32Array)(i);this.GL.bufferData(e,s,n||this.GL.STATIC_DRAW)}},n.default.RendererGL.prototype._arraysEqual=function(t,e){var i=t.length;if(i!==e.length)return!1;for(var r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0},n.default.RendererGL.prototype._isTypedArray=function(t){return Float32Array,Float64Array,Int16Array,Uint16Array,t instanceof Uint32Array},n.default.RendererGL.prototype._flatten=function(t){if(0===t.length)return[];if(2e4<t.length){var e,i=Object.prototype.toString,r=[],n=t.slice();for(e=n.pop();"[object Array]"===i.call(e)?n.push.apply(n,l(e)):r.push(e),n.length&&void 0!==(e=n.pop()););return r.reverse(),r}var s;return(s=[]).concat.apply(s,l(t))},n.default.RendererGL.prototype._vToNArray=function(t){var e=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value;e.push(a.x,a.y,a.z)}}catch(t){r=!0,n=t}finally{try{i||null==o.return||o.return()}finally{if(r)throw n}}return e},n.default.prototype._assert3d=function(t){if(!this._renderer.isP3D)throw new Error("".concat(t,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},n.default.RendererGL.prototype._initTessy=function(){var t=new o.default.GluTesselator;return t.gluTessCallback(o.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(t,e){e[e.length]=t[0],e[e.length]=t[1],e[e.length]=t[2]})),t.gluTessCallback(o.default.gluEnum.GLU_TESS_BEGIN,(function(t){t!==o.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(t))})),t.gluTessCallback(o.default.gluEnum.GLU_TESS_ERROR,(function(t){console.log("error callback"),console.log("error number: ".concat(t))})),t.gluTessCallback(o.default.gluEnum.GLU_TESS_COMBINE,(function(t,e,i){return[t[0],t[1],t[2]]})),t.gluTessCallback(o.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(t){})),t},n.default.RendererGL.prototype._triangulate=function(t){this._tessy.gluTessNormal(0,0,1);var e=[];this._tessy.gluTessBeginPolygon(e);for(var i=0;i<t.length;i++){this._tessy.gluTessBeginContour();for(var r=t[i],n=0;n<r.length;n+=3){var s=[r[n],r[n+1],r[n+2]];this._tessy.gluTessVertex(s,s)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),e},n.default.RendererGL.prototype._bezierCoefficients=function(t){var e=t*t,i=1-t,r=i*i;return[r*i,3*r*t,3*i*e,e*t]},n.default.RendererGL.prototype._quadraticCoefficients=function(t){var e=1-t;return[e*e,2*e*t,t*t]},n.default.RendererGL.prototype._bezierToCatmull=function(t){return[t[1],t[1]+(t[2]-t[0])/this._curveTightness,t[2]-(t[3]-t[1])/this._curveTightness,t[2]]};var c=n.default.RendererGL;i.default=c},{"../core/constants":250,"../core/main":260,"../core/p5.Renderer":263,"./p5.Camera":308,"./p5.Matrix":310,"./p5.Shader":315,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.float64-array":201,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int16-array":205,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,libtess:234,path:237}],315:[function(t,e,i){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=t("../core/main"))&&r.__esModule?r:{default:r};n.default.Shader=function(t,e,i){this._renderer=t,this._vertSrc=e,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},n.default.Shader.prototype.init=function(){if(0===this._glProgram){var t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this._vertSrc),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(t.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this._fragSrc),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(t.getShaderInfoLog(this._fragShader))),null;this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(t.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},n.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES),i=0;i<e;++i){var r=t.getActiveAttrib(this._glProgram,i),n=r.name,s=t.getAttribLocation(this._glProgram,n),o={};o.name=n,o.location=s,o.index=i,o.type=r.type,o.size=r.size,this.attributes[n]=o}this._loadedAttributes=!0}},n.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS),i=0,r=0;r<e;++r){var n=t.getActiveUniform(this._glProgram,r),s={};s.location=t.getUniformLocation(this._glProgram,n.name),s.size=n.size;var o=n.name;1<n.size&&(o=o.substring(0,o.indexOf("[0]"))),s.name=o,s.type=n.type,s._cachedData=void 0,s.type===t.SAMPLER_2D&&(s.samplerIndex=i,i++,this.samplers.push(s)),s.isArray=s.type===t.FLOAT_MAT3||s.type===t.FLOAT_MAT4||s.type===t.FLOAT_VEC2||s.type===t.FLOAT_VEC3||s.type===t.FLOAT_VEC4||s.type===t.INT_VEC2||s.type===t.INT_VEC3||s.type===t.INT_VEC4,this.uniforms[o]=s}this._loadedUniforms=!0}},n.default.Shader.prototype.compile=function(){},n.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},n.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},n.default.Shader.prototype.bindTextures=function(){var t=this._renderer.GL,e=!0,i=!1,r=void 0;try{for(var n,s=this.samplers[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value,a=o.texture;void 0===a&&(a=this._renderer._getEmptyTexture()),t.activeTexture(t.TEXTURE0+o.samplerIndex),a.bindTexture(),a.update(),t.uniform1i(o.location,o.samplerIndex)}}catch(t){i=!0,r=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw r}}},n.default.Shader.prototype.updateTextures=function(){var t=!0,e=!1,i=void 0;try{for(var r,n=this.samplers[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var s=r.value.texture;s&&s.update()}}catch(t){e=!0,i=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}},n.default.Shader.prototype.unbindTextures=function(){},n.default.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.isStrokeShader()&&("default"===this._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},n.default.Shader.prototype.useProgram=function(){var t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this},n.default.Shader.prototype.setUniform=function(t,e){var i=this.uniforms[t];if(i){var r=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,e))return;i._cachedData=e.slice(0)}else{if(i._cachedData&&i._cachedData===e)return;i._cachedData=e}var n=i.location;switch(this.useProgram(),i.type){case r.BOOL:!0===e?r.uniform1i(n,1):r.uniform1i(n,0);break;case r.INT:1<i.size?e.length&&r.uniform1iv(n,e):r.uniform1i(n,e);break;case r.FLOAT:1<i.size?e.length&&r.uniform1fv(n,e):r.uniform1f(n,e);break;case r.FLOAT_MAT3:r.uniformMatrix3fv(n,!1,e);break;case r.FLOAT_MAT4:r.uniformMatrix4fv(n,!1,e);break;case r.FLOAT_VEC2:1<i.size?e.length&&r.uniform2fv(n,e):r.uniform2f(n,e[0],e[1]);break;case r.FLOAT_VEC3:1<i.size?e.length&&r.uniform3fv(n,e):r.uniform3f(n,e[0],e[1],e[2]);break;case r.FLOAT_VEC4:1<i.size?e.length&&r.uniform4fv(n,e):r.uniform4f(n,e[0],e[1],e[2],e[3]);break;case r.INT_VEC2:1<i.size?e.length&&r.uniform2iv(n,e):r.uniform2i(n,e[0],e[1]);break;case r.INT_VEC3:1<i.size?e.length&&r.uniform3iv(n,e):r.uniform3i(n,e[0],e[1],e[2]);break;case r.INT_VEC4:1<i.size?e.length&&r.uniform4iv(n,e):r.uniform4i(n,e[0],e[1],e[2],e[3]);break;case r.SAMPLER_2D:r.activeTexture(r.TEXTURE0+i.samplerIndex),i.texture=this._renderer.getTexture(e),r.uniform1i(i.location,i.samplerIndex)}return this}},n.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},n.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},n.default.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},n.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},n.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},n.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},n.default.Shader.prototype.enableAttrib=function(t,e,i,r,n,s){if(t){var o=t.location;if(-1!==o){var a=this._renderer.GL;t.enabled||(a.enableVertexAttribArray(o),t.enabled=!0),this._renderer.GL.vertexAttribPointer(o,e,i||a.FLOAT,r||!1,n||0,s||0)}}return this};var s=n.default.Shader;i.default=s},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],316:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));s.default.Texture=function(t,e){this._renderer=t;var i=this._renderer.GL;this.src=e,this.glTex=void 0,this.glTarget=i.TEXTURE_2D,this.glFormat=i.RGBA,this.mipmaps=!1,this.glMinFilter=i.LINEAR,this.glMagFilter=i.LINEAR,this.glWrapS=i.CLAMP_TO_EDGE,this.glWrapT=i.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==s.default.MediaElement&&e instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==s.default.Element&&e instanceof s.default.Element&&!(e instanceof s.default.Graphics),this.isSrcP5Image=e instanceof s.default.Image,this.isSrcP5Graphics=e instanceof s.default.Graphics,this.isImageData="undefined"!=typeof ImageData&&e instanceof ImageData;var r=this._getTextureDataFromSource();return this.width=r.width,this.height=r.height,this.init(r),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var t;return this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?t=this.src.elt:this.isImageData&&(t=this.src),t},s.default.Texture.prototype.init=function(t){var e=this._renderer.GL;if(this.glTex=e.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,this.glMagFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var i=new Uint8Array([1,1,1,1]);e.texImage2D(this.glTarget,0,e.RGBA,1,1,0,this.glFormat,e.UNSIGNED_BYTE,i)}else e.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,e.UNSIGNED_BYTE,t)},s.default.Texture.prototype.update=function(){var t=this.src;if(0===t.width||0===t.height)return!1;var e=this._getTextureDataFromSource(),i=!1,r=this._renderer.GL;return e.width!==this.width||e.height!==this.height?(i=!0,this.width=e.width,this.height=e.height,this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&t.setModified(!0)):this.isSrcP5Image?t.isModified()&&(i=!0,t.setModified(!1)):this.isSrcMediaElement?t.isModified()?(i=!0,t.setModified(!1)):t.loadedmetadata&&this._videoPrevUpdateTime!==t.time()&&(this._videoPrevUpdateTime=t.time(),i=!0):this.isImageData?t._dirty&&(i=!(t._dirty=!1)):i=!0,i&&(this.bindTexture(),r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,r.UNSIGNED_BYTE,e)),i},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(t,e){var i=this._renderer.GL;t===o.NEAREST?this.glMinFilter=i.NEAREST:this.glMinFilter=i.LINEAR,e===o.NEAREST?this.glMagFilter=i.NEAREST:this.glMagFilter=i.LINEAR,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(t,e){function i(t){return 0==(t&t-1)}var r=this._renderer.GL,n=i(this.width),s=i(this.height);t===o.REPEAT?n&&s?this.glWrapS=r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=r.CLAMP_TO_EDGE):t===o.MIRROR?n&&s?this.glWrapS=r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=r.CLAMP_TO_EDGE):this.glWrapS=r.CLAMP_TO_EDGE,e===o.REPEAT?n&&s?this.glWrapT=r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=r.CLAMP_TO_EDGE):e===o.MIRROR?n&&s?this.glWrapT=r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=r.CLAMP_TO_EDGE):this.glWrapT=r.CLAMP_TO_EDGE,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.glWrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var a=s.default.Texture;i.default=a},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],317:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var n,s=(n=t("../core/main"))&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(t("../core/constants"));function a(t,e){this.width=t,this.height=e,this.infos=[],this.findImage=function(t){var e,i,r=this.width*this.height;if(r<t)throw new Error("font is too complex to render in 3D");for(var n=this.infos.length-1;0<=n;--n){var s=this.infos[n];if(s.index+t<r){i=(e=s).imageData;break}}if(!e){try{i=new ImageData(this.width,this.height)}catch(t){var o=document.getElementsByTagName("canvas")[0],a=!o;o||((o=document.createElement("canvas")).style.display="none",document.body.appendChild(o));var l=o.getContext("2d");l&&(i=l.createImageData(this.width,this.height)),a&&document.body.removeChild(o)}e={index:0,imageData:i},this.infos.push(e)}var u=e.index;return e.index+=t,i._dirty=!0,{imageData:i,index:u}}}function l(t,e,i,r,n){var s=t.imageData.data,o=4*t.index++;s[o++]=e,s[o++]=i,s[o++]=r,s[o++]=n}function u(t){this.font=t,this.strokeImageInfos=new a(64,64),this.colDimImageInfos=new a(64,64),this.rowDimImageInfos=new a(64,64),this.colCellImageInfos=new a(64,64),this.rowCellImageInfos=new a(64,64),this.glyphInfos={},this.getGlyphInfo=function(t){var e=this.glyphInfos[t.index];if(e)return e;var i,r=t.getBoundingBox(),n=r.x1,o=r.y1,a=r.x2-n,u=r.y2-o,c=t.path.commands;if(0==a||0==u||!c.length)return this.glyphInfos[t.index]={};var d,f,p,m,v=[],y=[],g=[];for(i=8;0<=i;--i)g.push([]);for(i=8;0<=i;--i)y.push([]);function x(t,e,i){var r=v.length;function n(t,e,i){for(var r=t.length;0<r--;){var n=t[r];n<e&&(e=n),i<n&&(i=n)}return{min:e,max:i}}v.push(i);for(var s=n(t,1,0),o=Math.max(Math.floor(9*s.min),0),a=Math.min(Math.ceil(9*s.max),9),l=o;l<a;++l)g[l].push(r);for(var u=n(e,1,0),h=Math.max(Math.floor(9*u.min),0),c=Math.min(Math.ceil(9*u.max),9),d=h;d<c;++d)y[d].push(r)}function b(t){return(e=255*t)<0?0:255<e?255:e;var e}function w(t,e,i,r){this.p0=t,this.c0=e,this.c1=i,this.p1=r,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return s.default.Vector.sub(s.default.Vector.sub(this.p1,this.p0),s.default.Vector.mult(s.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(t){var e=s.default.Vector.lerp(this.p0,this.c0,t),i=s.default.Vector.lerp(this.c0,this.c1,t),r=s.default.Vector.lerp(e,i,t);this.c1=s.default.Vector.lerp(this.c1,this.p1,t),this.c0=s.default.Vector.lerp(i,this.c1,t);var n=s.default.Vector.lerp(r,this.c0,t),o=new w(this.p0,e,r,n);return this.p0=n,o},this.splitInflections=function(){var t=s.default.Vector.sub(this.c0,this.p0),e=s.default.Vector.sub(s.default.Vector.sub(this.c1,this.c0),t),i=s.default.Vector.sub(s.default.Vector.sub(s.default.Vector.sub(this.p1,this.c1),t),s.default.Vector.mult(e,2)),r=[],n=e.x*i.y-e.y*i.x;if(0!==n){var o=t.x*i.y-t.y*i.x,a=t.x*e.y-t.y*e.x,l=o*o-4*n*a;if(0<=l){n<0&&(n=-n,o=-o,a=-a);var u=Math.sqrt(l),h=(-o-u)/(2*n),c=(-o+u)/(2*n);0<h&&h<1&&(r.push(this.split(h)),c=1-(1-c)/(1-h)),0<c&&c<1&&r.push(this.split(c))}}return r.push(this),r}}function _(t,e,i,r,n,o,a,l){var u=new w(new s.default.Vector(t,e),new s.default.Vector(i,r),new s.default.Vector(n,o),new s.default.Vector(a,l)).splitInflections(),c=[],d=30/h,f=!0,p=!1,m=void 0;try{for(var v,y=u[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){for(var g=v.value,x=[],b=void 0;!(.125<=(b=d/g.quadError()));){var _=Math.pow(b,1/3),S=g.split(_),A=g.split(1-_/(1-_));c.push(S),x.push(g),g=A}b<1&&c.push(g.split(.5)),c.push(g),Array.prototype.push.apply(c,x.reverse())}}catch(t){p=!0,m=t}finally{try{f||null==y.return||y.return()}finally{if(p)throw m}}return c}function S(t,e,i,r){x([t,i],[e,r],{x:t,y:e,cx:(t+i)/2,cy:(e+r)/2})}function A(t,e,i,r){return Math.abs(i-t)<1e-5&&Math.abs(r-e)<1e-5}var T=!0,E=!1,M=void 0;try{for(var C,P=c[Symbol.iterator]();!(T=(C=P.next()).done);T=!0){var R=C.value,k=(R.x-n)/a,L=(R.y-o)/u;if(!A(d,f,k,L)){switch(R.type){case"M":p=k,m=L;break;case"L":S(d,f,k,L);break;case"Q":var O=(R.x1-n)/a,D=(R.y1-o)/u;x([d,k,O],[f,L,D],{x:d,y:f,cx:O,cy:D});break;case"Z":A(d,f,p,m)?v.push({x:d,y:f}):(S(d,f,p,m),v.push({x:p,y:m}));break;case"C":for(var I=_(d,f,(R.x1-n)/a,(R.y1-o)/u,(R.x2-n)/a,(R.y2-o)/u,k,L),F=0;F<I.length;F++){var j=I[F].toQuadratic();x([j.x,j.x1,j.cx],[j.y,j.y1,j.cy],j)}break;default:throw new Error("unknown command type: ".concat(R.type))}d=k,f=L}}}catch(t){E=!0,M=t}finally{try{T||null==P.return||P.return()}finally{if(E)throw M}}for(var B=v.length,N=this.strokeImageInfos.findImage(B),U=N.index,z=0;z<B;++z){var G=v[z];l(N,b(G.x),b(G.y),b(G.cx),b(G.cy))}function V(t,e,i){for(var r=t.length,n=e.findImage(r),s=n.index,o=0,a=0;a<r;++a)o+=t[a].length;for(var u=i.findImage(o),h=0;h<r;++h){var c=t[h],d=c.length,f=u.index;l(n,f>>7,127&f,d>>7,127&d);for(var p=0;p<d;++p){var m=c[p]+U;l(u,m>>7,127&m,0,0)}}return{cellImageInfo:u,dimOffset:s,dimImageInfo:n}}return(e=this.glyphInfos[t.index]={glyph:t,uGlyphRect:[r.x1,-r.y1,r.x2,-r.y2],strokeImageInfo:N,strokes:v,colInfo:V(g,this.colDimImageInfos,this.colCellImageInfos),rowInfo:V(y,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[e.colInfo.dimOffset,e.rowInfo.dimOffset],e}}t("./p5.Shader"),t("./p5.RendererGL.Retained"),s.default.RendererGL.prototype._applyTextProperties=function(){},s.default.RendererGL.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):0};var h=Math.sqrt(3);s.default.RendererGL.prototype._renderText=function(t,e,i,r,n){if(this._textFont&&"string"!=typeof this._textFont){if(!(n<=r)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),t;t.push();var a=this._doStroke,l=this.drawMode;this._doStroke=!1,this.drawMode=o.TEXTURE;var h=this._textFont.font,c=this._textFont._fontInfo;c=c||(this._textFont._fontInfo=new u(h));var d=this._textFont._handleAlignment(this,e,i,r),f=this._textSize/h.unitsPerEm;this.translate(d.x,d.y,0),this.scale(f,f,1);var p=this.GL,m=!this._defaultFontShader,v=this._getFontShader();v.init(),v.bindShader(),m&&(v.setUniform("uGridImageSize",[64,64]),v.setUniform("uCellsImageSize",[64,64]),v.setUniform("uStrokeImageSize",[64,64]),v.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var y=this.retainedMode.geometry.glyph;if(!y){var g=this._textGeom=new s.default.Geometry(1,1,(function(){for(var t=0;t<=1;t++)for(var e=0;e<=1;e++)this.vertices.push(new s.default.Vector(e,t,0)),this.uvs.push(e,t)}));g.computeFaces().computeNormals(),y=this.createBuffers("glyph",g)}var x=!0,b=!1,w=void 0;try{for(var _,S=this.retainedMode.buffers.text[Symbol.iterator]();!(x=(_=S.next()).done);x=!0)_.value._prepareBuffer(y,v)}catch(t){b=!0,w=t}finally{try{x||null==S.return||S.return()}finally{if(b)throw w}}this._bindBuffer(y.indexBuffer,p.ELEMENT_ARRAY_BUFFER),v.setUniform("uMaterialColor",this.curFillColor);try{var A=0,T=null,E=h.stringToGlyphs(e),M=!0,C=!1,P=void 0;try{for(var R,k=E[Symbol.iterator]();!(M=(R=k.next()).done);M=!0){var L=R.value;T&&(A+=h.getKerningValue(T,L));var O=c.getGlyphInfo(L);if(O.uGlyphRect){var D=O.rowInfo,I=O.colInfo;v.setUniform("uSamplerStrokes",O.strokeImageInfo.imageData),v.setUniform("uSamplerRowStrokes",D.cellImageInfo.imageData),v.setUniform("uSamplerRows",D.dimImageInfo.imageData),v.setUniform("uSamplerColStrokes",I.cellImageInfo.imageData),v.setUniform("uSamplerCols",I.dimImageInfo.imageData),v.setUniform("uGridOffset",O.uGridOffset),v.setUniform("uGlyphRect",O.uGlyphRect),v.setUniform("uGlyphOffset",A),v.bindTextures(),p.drawElements(p.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}A+=L.advanceWidth,T=L}}catch(t){C=!0,P=t}finally{try{M||null==k.return||k.return()}finally{if(C)throw P}}}finally{v.unbindShader(),this._doStroke=a,this.drawMode=l,t.pop()}return t}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":250,"../core/main":260,"./p5.RendererGL.Retained":313,"./p5.Shader":315,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.string.sub":189,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}]},{},[245])(245)}).call(this,i(3))},function(t,e,i){"use strict";i.r(e),i.d(e,"p5Events",(function(){return f})),i.d(e,"default",(function(){return p}));var r=i(0),n=i.n(r),s=i(1),o=i.n(s);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=d(t);if(e){var n=d(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return c(this,i)}}function c(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}"undefined"!=typeof window&&(window.p5=o.a);var f=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,t);var e,i,r,s=h(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this,t)).canvasParentRef=n.a.createRef(),e}return e=a,(i=[{key:"componentDidMount",value:function(){var t=this;this.sketch=new o.a((function(e){e.setup=function(){t.props.setup(e,t.canvasParentRef.current)},f.forEach((function(i){t.props[i]&&(e[i]=function(){for(var r,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];(r=t.props)[i].apply(r,[e].concat(s))})}))}))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&l(e.prototype,i),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n.a.Component)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i}]).default)},9434:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),o=(n=i(77))&&n.__esModule?n:{default:n},a=i(9174),l=i(135);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},h.apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=y(t);if(e){var n=y(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return m(this,i)}}function m(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var x=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(a,t);var e,i,r,n=p(a);function a(){var t;c(this,a);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return g(v(t=n.call.apply(n,[this].concat(i))),"mounted",!1),g(v(t),"isReady",!1),g(v(t),"isPlaying",!1),g(v(t),"isLoading",!0),g(v(t),"loadOnReady",null),g(v(t),"startOnPlay",!0),g(v(t),"seekOnPlay",null),g(v(t),"onDurationCalled",!1),g(v(t),"handlePlayerMount",(function(e){t.player||(t.player=e,t.player.load(t.props.url)),t.progress()})),g(v(t),"getInternalPlayer",(function(e){return t.player?t.player[e]:null})),g(v(t),"progress",(function(){if(t.props.url&&t.player&&t.isReady){var e=t.getCurrentTime()||0,i=t.getSecondsLoaded(),r=t.getDuration();if(r){var n={playedSeconds:e,played:e/r};null!==i&&(n.loadedSeconds=i,n.loaded=i/r),n.playedSeconds===t.prevPlayed&&n.loadedSeconds===t.prevLoaded||t.props.onProgress(n),t.prevPlayed=n.playedSeconds,t.prevLoaded=n.loadedSeconds}}t.progressTimeout=setTimeout(t.progress,t.props.progressFrequency||t.props.progressInterval)})),g(v(t),"handleReady",(function(){if(t.mounted){t.isReady=!0,t.isLoading=!1;var e=t.props,i=e.onReady,r=e.playing,n=e.volume,s=e.muted;i(),s||null===n||t.player.setVolume(n),t.loadOnReady?(t.player.load(t.loadOnReady,!0),t.loadOnReady=null):r&&t.player.play(),t.handleDurationCheck()}})),g(v(t),"handlePlay",(function(){t.isPlaying=!0,t.isLoading=!1;var e=t.props,i=e.onStart,r=e.onPlay,n=e.playbackRate;t.startOnPlay&&(t.player.setPlaybackRate&&1!==n&&t.player.setPlaybackRate(n),i(),t.startOnPlay=!1),r(),t.seekOnPlay&&(t.seekTo(t.seekOnPlay),t.seekOnPlay=null),t.handleDurationCheck()})),g(v(t),"handlePause",(function(e){t.isPlaying=!1,t.isLoading||t.props.onPause(e)})),g(v(t),"handleEnded",(function(){var e=t.props,i=e.activePlayer,r=e.loop,n=e.onEnded;i.loopOnEnded&&r&&t.seekTo(0),r||(t.isPlaying=!1,n())})),g(v(t),"handleError",(function(){var e;t.isLoading=!1,(e=t.props).onError.apply(e,arguments)})),g(v(t),"handleDurationCheck",(function(){clearTimeout(t.durationCheckTimeout);var e=t.getDuration();e?t.onDurationCalled||(t.props.onDuration(e),t.onDurationCalled=!0):t.durationCheckTimeout=setTimeout(t.handleDurationCheck,100)})),g(v(t),"handleLoaded",(function(){t.isLoading=!1})),t}return e=a,i=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(t){var e=this;if(this.player){var i=this.props,r=i.url,n=i.playing,s=i.volume,a=i.muted,u=i.playbackRate,h=i.pip,c=i.loop,d=i.activePlayer,f=i.disableDeferredLoading;if(!(0,o.default)(t.url,r)){if(this.isLoading&&!d.forceLoad&&!f&&!(0,l.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}t.playing||!n||this.isPlaying||this.player.play(),t.playing&&!n&&this.isPlaying&&this.player.pause(),!t.pip&&h&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!h&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==s&&null!==s&&this.player.setVolume(s),t.muted!==a&&(a?this.player.mute():(this.player.unmute(),null!==s&&setTimeout((function(){return e.player.setVolume(s)})))),t.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(t,e,i){var r=this;if(this.isReady){if(e?"fraction"===e:t>0&&t<1){var n=this.player.getDuration();return n?void this.player.seekTo(n*t,i):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(t,i)}else 0!==t&&(this.seekOnPlay=t,setTimeout((function(){r.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var t=this.props.activePlayer;return t?s.default.createElement(t,h({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],i&&d(e.prototype,i),r&&d(e,r),a}(s.Component);e.default=x,g(x,"displayName","Player"),g(x,"propTypes",a.propTypes),g(x,"defaultProps",a.defaultProps)},8275:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=t[o]}i.default=t,e&&e.set(t,i);return i}(i(2791));function s(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=p(t);if(e){var n=p(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return d(this,i)}}function d(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v="64px",y={},g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(o,t);var e,i,r,s=c(o);function o(){var t;l(this,o);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return m(f(t=s.call.apply(s,[this].concat(i))),"mounted",!1),m(f(t),"state",{image:null}),m(f(t),"handleKeyPress",(function(e){"Enter"!==e.key&&" "!==e.key||t.props.onClick()})),t}return e=o,(i=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.url,r=e.light;t.url===i&&t.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(t){var e=this,i=t.url,r=t.light,s=t.oEmbedUrl;if(!n.default.isValidElement(r))if("string"!==typeof r){if(!y[i])return this.setState({image:null}),window.fetch(s.replace("{url}",i)).then((function(t){return t.json()})).then((function(t){if(t.thumbnail_url&&e.mounted){var r=t.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");e.setState({image:r}),y[i]=r}}));this.setState({image:y[i]})}else this.setState({image:r})}},{key:"render",value:function(){var t=this.props,e=t.light,i=t.onClick,r=t.playIcon,s=t.previewTabIndex,o=this.state.image,l=n.default.isValidElement(e),u={display:"flex",alignItems:"center",justifyContent:"center"},h={preview:a({width:"100%",height:"100%",backgroundImage:o&&!l?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},u),shadow:a({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:v,width:v,height:v,position:l?"absolute":void 0},u),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},c=n.default.createElement("div",{style:h.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:h.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:h.preview,className:"react-player__preview",onClick:i,tabIndex:s,onKeyPress:this.handleKeyPress},l?e:null,r||c)}}])&&u(e.prototype,i),r&&u(e,r),o}(n.Component);e.default=g},2646:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createReactPlayer=void 0;var r=E(i(2791)),n=h(i(9948)),s=h(i(5781)),o=h(i(77)),a=i(9174),l=i(135),u=h(i(9434));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){A(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},p.apply(this,arguments)}function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=S(t);if(e){var n=S(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return w(this,i)}}function w(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function A(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function T(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return T=function(){return t},t}function E(t){if(t&&t.__esModule)return t;if(null===t||"object"!==c(t)&&"function"!==typeof t)return{default:t};var e=T();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}var M=(0,r.lazy)((function(){return Promise.resolve().then((function(){return E(i(8275))}))})),C="undefined"!==typeof window&&window.document,P="undefined"!==typeof i.g&&i.g.window&&i.g.window.document,R=Object.keys(a.propTypes),k=C||P?r.Suspense:function(){return null},L=[];e.createReactPlayer=function(t,e){var i,h;return h=i=function(i){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(w,i);var h,c,d,v=b(w);function w(){var i;y(this,w);for(var o=arguments.length,h=new Array(o),c=0;c<o;c++)h[c]=arguments[c];return A(_(i=v.call.apply(v,[this].concat(h))),"state",{showPreview:!!i.props.light}),A(_(i),"references",{wrapper:function(t){i.wrapper=t},player:function(t){i.player=t}}),A(_(i),"handleClickPreview",(function(t){i.setState({showPreview:!1}),i.props.onClickPreview(t)})),A(_(i),"showPreview",(function(){i.setState({showPreview:!0})})),A(_(i),"getDuration",(function(){return i.player?i.player.getDuration():null})),A(_(i),"getCurrentTime",(function(){return i.player?i.player.getCurrentTime():null})),A(_(i),"getSecondsLoaded",(function(){return i.player?i.player.getSecondsLoaded():null})),A(_(i),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return i.player?i.player.getInternalPlayer(t):null})),A(_(i),"seekTo",(function(t,e,r){if(!i.player)return null;i.player.seekTo(t,e,r)})),A(_(i),"handleReady",(function(){i.props.onReady(_(i))})),A(_(i),"getActivePlayer",(0,s.default)((function(i){for(var r=0,n=[].concat(L,m(t));r<n.length;r++){var s=n[r];if(s.canPlay(i))return s}return e||null}))),A(_(i),"getConfig",(0,s.default)((function(t,e){var r=i.props.config;return n.default.all([a.defaultProps.config,a.defaultProps.config[e]||{},r,r[e]||{}])}))),A(_(i),"getAttributes",(0,s.default)((function(t){return(0,l.omit)(i.props,R)}))),A(_(i),"renderActivePlayer",(function(t){if(!t)return null;var e=i.getActivePlayer(t);if(!e)return null;var n=i.getConfig(t,e.key);return r.default.createElement(u.default,p({},i.props,{key:e.key,ref:i.references.player,config:n,activePlayer:e.lazyPlayer||e,onReady:i.handleReady}))})),i}return h=w,c=[{key:"shouldComponentUpdate",value:function(t,e){return!(0,o.default)(this.props,t)||!(0,o.default)(this.state,e)}},{key:"componentDidUpdate",value:function(t){var e=this.props.light;!t.light&&e&&this.setState({showPreview:!0}),t.light&&!e&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(t){if(!t)return null;var e=this.props,i=e.light,n=e.playIcon,s=e.previewTabIndex,o=e.oEmbedUrl;return r.default.createElement(M,{url:t,light:i,playIcon:n,previewTabIndex:s,oEmbedUrl:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var t=this.props,e=t.url,i=t.style,n=t.width,s=t.height,o=t.fallback,a=t.wrapper,l=this.state.showPreview,u=this.getAttributes(e),h="string"===typeof a?this.references.wrapper:void 0;return r.default.createElement(a,p({ref:h,style:f(f({},i),{},{width:n,height:s})},u),r.default.createElement(k,{fallback:o},l?this.renderPreview(e):this.renderActivePlayer(e)))}}],c&&g(h.prototype,c),d&&g(h,d),w}(r.Component),A(i,"displayName","ReactPlayer"),A(i,"propTypes",a.propTypes),A(i,"defaultProps",a.defaultProps),A(i,"addCustomPlayer",(function(t){L.push(t)})),A(i,"removeCustomPlayers",(function(){L.length=0})),A(i,"canPlay",(function(e){for(var i=0,r=[].concat(L,m(t));i<r.length;i++){if(r[i].canPlay(e))return!0}return!1})),A(i,"canEnablePIP",(function(e){for(var i=0,r=[].concat(L,m(t));i<r.length;i++){var n=r[i];if(n.canEnablePIP&&n.canEnablePIP(e))return!0}return!1})),h}},6710:function(t,e,i){"use strict";e.Z=void 0;var r,n=(r=i(4687))&&r.__esModule?r:{default:r},s=i(2646);var o=n.default[n.default.length-1],a=(0,s.createReactPlayer)(n.default,o);e.Z=a},365:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canPlay=e.FLV_EXTENSIONS=e.DASH_EXTENSIONS=e.HLS_EXTENSIONS=e.VIDEO_EXTENSIONS=e.AUDIO_EXTENSIONS=e.MATCH_URL_KALTURA=e.MATCH_URL_VIDYARD=e.MATCH_URL_MIXCLOUD=e.MATCH_URL_DAILYMOTION=e.MATCH_URL_TWITCH_CHANNEL=e.MATCH_URL_TWITCH_VIDEO=e.MATCH_URL_WISTIA=e.MATCH_URL_STREAMABLE=e.MATCH_URL_FACEBOOK_WATCH=e.MATCH_URL_FACEBOOK=e.MATCH_URL_VIMEO=e.MATCH_URL_SOUNDCLOUD=e.MATCH_URL_YOUTUBE=void 0;var r=i(135);function n(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;e.MATCH_URL_YOUTUBE=o;var a=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;e.MATCH_URL_SOUNDCLOUD=a;var l=/vimeo\.com\/(?!progressive_redirect).+/;e.MATCH_URL_VIMEO=l;var u=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;e.MATCH_URL_FACEBOOK=u;var h=/^https?:\/\/fb\.watch\/.+$/;e.MATCH_URL_FACEBOOK_WATCH=h;var c=/streamable\.com\/([a-z0-9]+)$/;e.MATCH_URL_STREAMABLE=c;var d=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/;e.MATCH_URL_WISTIA=d;var f=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;e.MATCH_URL_TWITCH_VIDEO=f;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;e.MATCH_URL_TWITCH_CHANNEL=p;var m=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;e.MATCH_URL_DAILYMOTION=m;var v=/mixcloud\.com\/([^/]+\/[^/]+)/;e.MATCH_URL_MIXCLOUD=v;var y=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;e.MATCH_URL_VIDYARD=y;var g=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;e.MATCH_URL_KALTURA=g;var x=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;e.AUDIO_EXTENSIONS=x;var b=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;e.VIDEO_EXTENSIONS=b;var w=/\.(m3u8)($|\?)/i;e.HLS_EXTENSIONS=w;var _=/\.(mpd)($|\?)/i;e.DASH_EXTENSIONS=_;var S=/\.(flv)($|\?)/i;e.FLV_EXTENSIONS=S;var A={youtube:function(t){return t instanceof Array?t.every((function(t){return o.test(t)})):o.test(t)},soundcloud:function(t){return a.test(t)&&!x.test(t)},vimeo:function(t){return l.test(t)&&!b.test(t)&&!w.test(t)},facebook:function(t){return u.test(t)||h.test(t)},streamable:function(t){return c.test(t)},wistia:function(t){return d.test(t)},twitch:function(t){return f.test(t)||p.test(t)},dailymotion:function(t){return m.test(t)},mixcloud:function(t){return v.test(t)},vidyard:function(t){return y.test(t)},kaltura:function(t){return g.test(t)},file:function t(e){if(e instanceof Array){var i,s=n(e);try{for(s.s();!(i=s.n()).done;){var o=i.value;if("string"===typeof o&&t(o))return!0;if(t(o.src))return!0}}catch(a){s.e(a)}finally{s.f()}return!1}return!(!(0,r.isMediaStream)(e)&&!(0,r.isBlobUrl)(e))||(x.test(e)||b.test(e)||w.test(e)||_.test(e)||S.test(e))}};e.canPlay=A},4303:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){x(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(l){n=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=g(t);if(e){var n=g(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return v(this,i)}}function v(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var b=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(l,t);var e,i,r,a=m(l);function l(){var t;d(this,l);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return x(y(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),x(y(t),"onDurationChange",(function(){var e=t.getDuration();t.props.onDuration(e)})),x(y(t),"mute",(function(){t.callPlayer("setMuted",!0)})),x(y(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),x(y(t),"ref",(function(e){t.container=e})),t}return e=l,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,i=this.props,r=i.controls,n=i.config,a=i.onError,l=i.playing,c=h(t.match(o.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(c,{start:(0,s.parseStartTime)(t),autoplay:l}):(0,s.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(t){return t.player})).then((function(i){if(e.container){var o=i.player;e.player=new o(e.container,{width:"100%",height:"100%",video:c,params:u({controls:r,autoplay:e.props.playing,mute:e.props.muted,start:(0,s.parseStartTime)(t),origin:window.location.origin},n.params),events:{apiready:e.props.onReady,seeked:function(){return e.props.onSeek(e.player.currentTime)},video_end:e.props.onEnded,durationchange:e.onDurationChange,pause:e.props.onPause,playing:e.props.onPlay,waiting:e.props.onBuffer,error:function(t){return a(t)}}})}}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("seek",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return n.default.createElement("div",{style:t},n.default.createElement("div",{ref:this.ref}))}}],i&&f(e.prototype,i),r&&f(e,r),l}(n.Component);e.default=b,x(b,"displayName","DailyMotion"),x(b,"canPlay",o.canPlay.dailymotion),x(b,"loopOnEnded",!0)},4793:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=m(t);if(e){var n=m(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return f(this,i)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y="https://connect.facebook.net/en_US/sdk.js",g="fbAsyncInit",x="facebook-player-",b=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,t);var e,i,r,o=d(a);function a(){var t;u(this,a);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return v(p(t=o.call.apply(o,[this].concat(i))),"callPlayer",s.callPlayer),v(p(t),"playerID",t.props.config.playerId||"".concat(x).concat((0,s.randomString)())),v(p(t),"mute",(function(){t.callPlayer("mute")})),v(p(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=a,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var i=this;e?(0,s.getSDK)(y,"FB",g).then((function(t){return t.XFBML.parse()})):(0,s.getSDK)(y,"FB",g).then((function(t){t.init({appId:i.props.config.appId,xfbml:!0,version:i.props.config.version}),t.Event.subscribe("xfbml.render",(function(t){i.props.onLoaded()})),t.Event.subscribe("xfbml.ready",(function(t){"video"===t.type&&t.id===i.playerID&&(i.player=t.instance,i.player.subscribe("startedPlaying",i.props.onPlay),i.player.subscribe("paused",i.props.onPause),i.player.subscribe("finishedPlaying",i.props.onEnded),i.player.subscribe("startedBuffering",i.props.onBuffer),i.player.subscribe("finishedBuffering",i.props.onBufferEnd),i.player.subscribe("error",i.props.onError),i.props.muted?i.callPlayer("mute"):i.callPlayer("unmute"),i.props.onReady(),document.getElementById(i.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("seek",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.config.attributes;return n.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},t))}}],i&&h(e.prototype,i),r&&h(e,r),a}(n.Component);e.default=b,v(b,"displayName","Facebook"),v(b,"canPlay",o.canPlay.facebook),v(b,"loopOnEnded",!0)},8997:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=m(t);if(e){var n=m(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return f(this,i)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y="undefined"!==typeof navigator,g=y&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,x=y&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,b=y&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,w=/www\.dropbox\.com\/.+/,_=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,S=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(f,t);var e,i,r,a=d(f);function f(){var t;u(this,f);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return v(p(t=a.call.apply(a,[this].concat(i))),"onReady",(function(){var e;return(e=t.props).onReady.apply(e,arguments)})),v(p(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),v(p(t),"onBuffer",(function(){var e;return(e=t.props).onBuffer.apply(e,arguments)})),v(p(t),"onBufferEnd",(function(){var e;return(e=t.props).onBufferEnd.apply(e,arguments)})),v(p(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),v(p(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),v(p(t),"onError",(function(){var e;return(e=t.props).onError.apply(e,arguments)})),v(p(t),"onPlayBackRateChange",(function(e){return t.props.onPlaybackRateChange(e.target.playbackRate)})),v(p(t),"onEnablePIP",(function(){var e;return(e=t.props).onEnablePIP.apply(e,arguments)})),v(p(t),"onDisablePIP",(function(e){var i=t.props,r=i.onDisablePIP,n=i.playing;r(e),n&&t.play()})),v(p(t),"onPresentationModeChange",(function(e){if(t.player&&(0,s.supportsWebKitPresentationMode)(t.player)){var i=t.player.webkitPresentationMode;"picture-in-picture"===i?t.onEnablePIP(e):"inline"===i&&t.onDisablePIP(e)}})),v(p(t),"onSeek",(function(e){t.props.onSeek(e.target.currentTime)})),v(p(t),"mute",(function(){t.player.muted=!0})),v(p(t),"unmute",(function(){t.player.muted=!1})),v(p(t),"renderSourceElement",(function(t,e){return"string"===typeof t?n.default.createElement("source",{key:e,src:t}):n.default.createElement("source",l({key:e},t))})),v(p(t),"renderTrack",(function(t,e){return n.default.createElement("track",l({key:e},t))})),v(p(t),"ref",(function(e){t.player&&(t.prevPlayer=t.player),t.player=e})),t}return e=f,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);var t=this.getSource(this.props.url);t&&(this.player.src=t),(x||this.props.config.forceDisableHls)&&this.player.load()}},{key:"componentDidUpdate",value:function(t){this.shouldUseAudio(this.props)!==this.shouldUseAudio(t)&&(this.removeListeners(this.prevPlayer,t.url),this.addListeners(this.player)),this.props.url===t.url||(0,s.isMediaStream)(this.props.url)||this.props.url instanceof Array||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(t){var e=this.props,i=e.url,r=e.playsinline;t.addEventListener("play",this.onPlay),t.addEventListener("waiting",this.onBuffer),t.addEventListener("playing",this.onBufferEnd),t.addEventListener("pause",this.onPause),t.addEventListener("seeked",this.onSeek),t.addEventListener("ended",this.onEnded),t.addEventListener("error",this.onError),t.addEventListener("ratechange",this.onPlayBackRateChange),t.addEventListener("enterpictureinpicture",this.onEnablePIP),t.addEventListener("leavepictureinpicture",this.onDisablePIP),t.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(i)||t.addEventListener("canplay",this.onReady),r&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(t,e){t.removeEventListener("canplay",this.onReady),t.removeEventListener("play",this.onPlay),t.removeEventListener("waiting",this.onBuffer),t.removeEventListener("playing",this.onBufferEnd),t.removeEventListener("pause",this.onPause),t.removeEventListener("seeked",this.onSeek),t.removeEventListener("ended",this.onEnded),t.removeEventListener("error",this.onError),t.removeEventListener("ratechange",this.onPlayBackRateChange),t.removeEventListener("enterpictureinpicture",this.onEnablePIP),t.removeEventListener("leavepictureinpicture",this.onDisablePIP),t.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(e)||t.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(t){return!t.config.forceVideo&&!t.config.attributes.poster&&(o.AUDIO_EXTENSIONS.test(t.url)||t.config.forceAudio)}},{key:"shouldUseHLS",value:function(t){return!!(b&&this.props.config.forceSafariHLS||this.props.config.forceHLS)||!x&&!this.props.config.forceDisableHls&&(o.HLS_EXTENSIONS.test(t)||_.test(t))}},{key:"shouldUseDASH",value:function(t){return o.DASH_EXTENSIONS.test(t)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(t){return o.FLV_EXTENSIONS.test(t)||this.props.config.forceFLV}},{key:"load",value:function(t){var e=this,i=this.props.config,r=i.hlsVersion,n=i.hlsOptions,o=i.dashVersion,a=i.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,s.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(i){if(e.hls=new i(n),e.hls.on(i.Events.MANIFEST_PARSED,(function(){e.props.onReady()})),e.hls.on(i.Events.ERROR,(function(t,r){e.props.onError(t,r,e.hls,i)})),_.test(t)){var r=t.match(_)[1];e.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else e.hls.loadSource(t);e.hls.attachMedia(e.player),e.props.onLoaded()})),this.shouldUseDASH(t)&&(0,s.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then((function(i){e.dash=i.MediaPlayer().create(),e.dash.initialize(e.player,t,e.props.playing),e.dash.on("error",e.props.onError),parseInt(o)<3?e.dash.getDebug().setLogToBrowserConsole(!1):e.dash.updateSettings({debug:{logLevel:i.Debug.LOG_LEVEL_NONE}}),e.props.onLoaded()})),this.shouldUseFLV(t)&&(0,s.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",a),"flvjs").then((function(i){e.flv=i.createPlayer({type:"flv",url:t}),e.flv.attachMediaElement(e.player),e.flv.on(i.Events.ERROR,(function(t,r){e.props.onError(t,r,e.flv,i)})),e.flv.load(),e.props.onLoaded()})),t instanceof Array)this.player.load();else if((0,s.isMediaStream)(t))try{this.player.srcObject=t}catch(l){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var t=this.player.play();t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.player.currentTime=t,e||this.pause()}},{key:"setVolume",value:function(t){this.player.volume=t}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,s.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,s.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(t){try{this.player.playbackRate=t}catch(e){this.props.onError(e)}}},{key:"getDuration",value:function(){if(!this.player)return null;var t=this.player,e=t.duration,i=t.seekable;return e===1/0&&i.length>0?i.end(i.length-1):e}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var t=this.player.buffered;if(0===t.length)return 0;var e=t.end(t.length-1),i=this.getDuration();return e>i?i:e}},{key:"getSource",value:function(t){var e=this.shouldUseHLS(t),i=this.shouldUseDASH(t),r=this.shouldUseFLV(t);if(!(t instanceof Array||(0,s.isMediaStream)(t)||e||i||r))return w.test(t)?t.replace("www.dropbox.com","dl.dropboxusercontent.com"):t}},{key:"render",value:function(){var t=this.props,e=t.url,i=t.playing,r=t.loop,s=t.controls,o=t.muted,a=t.config,u=t.width,h=t.height,c=this.shouldUseAudio(this.props)?"audio":"video",d={width:"auto"===u?u:"100%",height:"auto"===h?h:"100%"};return n.default.createElement(c,l({ref:this.ref,src:this.getSource(e),style:d,preload:"auto",autoPlay:i||void 0,controls:s,muted:o,loop:r},a.attributes),e instanceof Array&&e.map(this.renderSourceElement),a.tracks.map(this.renderTrack))}}],i&&h(e.prototype,i),r&&h(e,r),f}(n.Component);e.default=S,v(S,"displayName","FilePlayer"),v(S,"canPlay",o.canPlay.file)},9332:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=p(t);if(e){var n=p(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return d(this,i)}}function d(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(a,t);var e,i,r,o=c(a);function a(){var t;l(this,a);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return m(f(t=o.call.apply(o,[this].concat(i))),"callPlayer",s.callPlayer),m(f(t),"duration",null),m(f(t),"currentTime",null),m(f(t),"secondsLoaded",null),m(f(t),"mute",(function(){t.callPlayer("mute")})),m(f(t),"unmute",(function(){t.callPlayer("unmute")})),m(f(t),"ref",(function(e){t.iframe=e})),t}return e=a,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,s.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.on("ready",(function(){setTimeout((function(){e.player.isReady=!0,e.player.setLoop(e.props.loop),e.props.muted&&e.player.mute(),e.addListeners(e.player,e.props),e.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(t,e){var i=this;t.on("play",e.onPlay),t.on("pause",e.onPause),t.on("ended",e.onEnded),t.on("error",e.onError),t.on("timeupdate",(function(t){var e=t.duration,r=t.seconds;i.duration=e,i.currentTime=r}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("setCurrentTime",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return n.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}],i&&u(e.prototype,i),r&&u(e,r),a}(n.Component);e.default=v,m(v,"displayName","Kaltura"),m(v,"canPlay",o.canPlay.kaltura)},2732:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=v(t);if(e){var n=v(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return p(this,i)}}function p(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,t);var e,i,r,a=f(l);function l(){var t;h(this,l);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return y(m(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),y(m(t),"duration",null),y(m(t),"currentTime",null),y(m(t),"secondsLoaded",null),y(m(t),"mute",(function(){})),y(m(t),"unmute",(function(){})),y(m(t),"ref",(function(e){t.iframe=e})),t}return e=l,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,s.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(t){e.player=t.PlayerWidget(e.iframe),e.player.ready.then((function(){e.player.events.play.on(e.props.onPlay),e.player.events.pause.on(e.props.onPause),e.player.events.ended.on(e.props.onEnded),e.player.events.error.on(e.props.error),e.player.events.progress.on((function(t,i){e.currentTime=t,e.duration=i})),e.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("seek",t),e||this.pause()}},{key:"setVolume",value:function(t){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props,e=t.url,i=t.config,r=e.match(o.MATCH_URL_MIXCLOUD)[1],a=(0,s.queryString)(u(u({},i.options),{},{feed:"/".concat(r,"/")}));return n.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(a),frameBorder:"0",allow:"autoplay"})}}],i&&c(e.prototype,i),r&&c(e,r),l}(n.Component);e.default=g,y(g,"displayName","Mixcloud"),y(g,"canPlay",o.canPlay.mixcloud),y(g,"loopOnEnded",!0)},1801:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=v(t);if(e){var n=v(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return p(this,i)}}function p(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(a,t);var e,i,r,o=f(a);function a(){var t;h(this,a);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return y(m(t=o.call.apply(o,[this].concat(i))),"callPlayer",s.callPlayer),y(m(t),"duration",null),y(m(t),"currentTime",null),y(m(t),"fractionLoaded",null),y(m(t),"mute",(function(){t.setVolume(0)})),y(m(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(m(t),"ref",(function(e){t.iframe=e})),t}return e=a,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var i=this;(0,s.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(i.iframe){var n=r.Widget.Events,s=n.PLAY,o=n.PLAY_PROGRESS,a=n.PAUSE,l=n.FINISH,h=n.ERROR;e||(i.player=r.Widget(i.iframe),i.player.bind(s,i.props.onPlay),i.player.bind(a,(function(){i.duration-i.currentTime<.05||i.props.onPause()})),i.player.bind(o,(function(t){i.currentTime=t.currentPosition/1e3,i.fractionLoaded=t.loadedProgress})),i.player.bind(l,(function(){return i.props.onEnded()})),i.player.bind(h,(function(t){return i.props.onError(t)}))),i.player.load(t,u(u({},i.props.config.options),{},{callback:function(){i.player.getDuration((function(t){i.duration=t/1e3,i.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("seekTo",1e3*t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return n.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:t,frameBorder:0,allow:"autoplay"})}}],i&&c(e.prototype,i),r&&c(e,r),a}(n.Component);e.default=g,y(g,"displayName","SoundCloud"),y(g,"canPlay",o.canPlay.soundcloud),y(g,"loopOnEnded",!0)},1286:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=p(t);if(e){var n=p(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return d(this,i)}}function d(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(d,t);var e,i,r,a=c(d);function d(){var t;l(this,d);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return m(f(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),m(f(t),"duration",null),m(f(t),"currentTime",null),m(f(t),"secondsLoaded",null),m(f(t),"mute",(function(){t.callPlayer("mute")})),m(f(t),"unmute",(function(){t.callPlayer("unmute")})),m(f(t),"ref",(function(e){t.iframe=e})),t}return e=d,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,s.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.setLoop(e.props.loop),e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var i=t.duration,r=t.seconds;e.duration=i,e.currentTime=r})),e.player.on("buffered",(function(t){var i=t.percent;e.duration&&(e.secondsLoaded=e.duration*i)})),e.props.muted&&e.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("setCurrentTime",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t=this.props.url.match(o.MATCH_URL_STREAMABLE)[1];return n.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(t),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}],i&&u(e.prototype,i),r&&u(e,r),d}(n.Component);e.default=v,m(v,"displayName","Streamable"),m(v,"canPlay",o.canPlay.streamable)},6741:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=m(t);if(e){var n=m(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return f(this,i)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y="twitch-player-",g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(f,t);var e,i,r,a=d(f);function f(){var t;u(this,f);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return v(p(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),v(p(t),"playerID",t.props.config.playerId||"".concat(y).concat((0,s.randomString)())),v(p(t),"mute",(function(){t.callPlayer("setMuted",!0)})),v(p(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),t}return e=f,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var i=this,r=this.props,n=r.playsinline,a=r.onError,u=r.config,h=r.controls,c=o.MATCH_URL_TWITCH_CHANNEL.test(t),d=c?t.match(o.MATCH_URL_TWITCH_CHANNEL)[1]:t.match(o.MATCH_URL_TWITCH_VIDEO)[1];e?c?this.player.setChannel(d):this.player.setVideo("v"+d):(0,s.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){i.player=new e.Player(i.playerID,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){v(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({video:c?"":d,channel:c?d:"",height:"100%",width:"100%",playsinline:n,autoplay:i.props.playing,muted:i.props.muted,controls:!!c||h,time:(0,s.parseStartTime)(t)},u.options));var r=e.Player,o=r.READY,a=r.PLAYING,f=r.PAUSE,p=r.ENDED,m=r.ONLINE,y=r.OFFLINE,g=r.SEEK;i.player.addEventListener(o,i.props.onReady),i.player.addEventListener(a,i.props.onPlay),i.player.addEventListener(f,i.props.onPause),i.player.addEventListener(p,i.props.onEnded),i.player.addEventListener(g,i.props.onSeek),i.player.addEventListener(m,i.props.onLoaded),i.player.addEventListener(y,i.props.onLoaded)}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("seek",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return n.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],i&&h(e.prototype,i),r&&h(e,r),f}(n.Component);e.default=g,v(g,"displayName","Twitch"),v(g,"canPlay",o.canPlay.twitch),v(g,"loopOnEnded",!0)},5561:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=m(t);if(e){var n=m(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return f(this,i)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(f,t);var e,i,r,a=d(f);function f(){var t;u(this,f);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return v(p(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),v(p(t),"mute",(function(){t.setVolume(0)})),v(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),v(p(t),"ref",(function(e){t.container=e})),t}return e=f,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,i=this.props,r=i.playing,n=i.config,a=i.onError,u=i.onDuration,h=t&&t.match(o.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,s.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(t){e.container&&(t.api.addReadyListener((function(t,i){e.player||(e.player=i,e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seek",e.props.onSeek),e.player.on("playerComplete",e.props.onEnded))}),h),t.api.renderPlayer(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){v(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({uuid:h,container:e.container,autoplay:r?1:0},n.options)),t.api.getPlayerMetadata(h).then((function(t){e.duration=t.length_in_seconds,u(t.length_in_seconds)})))}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("seek",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackSpeed",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return n.default.createElement("div",{style:t},n.default.createElement("div",{ref:this.ref}))}}],i&&h(e.prototype,i),r&&h(e,r),f}(n.Component);e.default=y,v(y,"displayName","Vidyard"),v(y,"canPlay",o.canPlay.vidyard)},7600:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=m(t);if(e){var n=m(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return f(this,i)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y=function(t){return t.replace("/manage/videos","")},g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,t);var e,i,r,o=d(a);function a(){var t;u(this,a);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return v(p(t=o.call.apply(o,[this].concat(i))),"callPlayer",s.callPlayer),v(p(t),"duration",null),v(p(t),"currentTime",null),v(p(t),"secondsLoaded",null),v(p(t),"mute",(function(){t.setMuted(!0)})),v(p(t),"unmute",(function(){t.setMuted(!1)})),v(p(t),"ref",(function(e){t.container=e})),t}return e=a,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;this.duration=null,(0,s.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(i){if(e.container){var r=e.props.config,n=r.playerOptions,s=r.title;e.player=new i.Player(e.container,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){v(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({url:y(t),autoplay:e.props.playing,muted:e.props.muted,loop:e.props.loop,playsinline:e.props.playsinline,controls:e.props.controls},n)),e.player.ready().then((function(){var t=e.container.querySelector("iframe");t.style.width="100%",t.style.height="100%",s&&(t.title=s)})).catch(e.props.onError),e.player.on("loaded",(function(){e.props.onReady(),e.refreshDuration()})),e.player.on("play",(function(){e.props.onPlay(),e.refreshDuration()})),e.player.on("pause",e.props.onPause),e.player.on("seeked",(function(t){return e.props.onSeek(t.seconds)})),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var i=t.seconds;e.currentTime=i})),e.player.on("progress",(function(t){var i=t.seconds;e.secondsLoaded=i})),e.player.on("bufferstart",e.props.onBuffer),e.player.on("bufferend",e.props.onBufferEnd),e.player.on("playbackratechange",(function(t){return e.props.onPlaybackRateChange(t.playbackRate)}))}}),this.props.onError)}},{key:"refreshDuration",value:function(){var t=this;this.player.getDuration().then((function(e){t.duration=e}))}},{key:"play",value:function(){var t=this.callPlayer("play");t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("setCurrentTime",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setMuted",value:function(t){this.callPlayer("setMuted",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return n.default.createElement("div",{key:this.props.url,ref:this.ref,style:t})}}],i&&h(e.prototype,i),r&&h(e,r),a}(n.Component);e.default=g,v(g,"displayName","Vimeo"),v(g,"canPlay",o.canPlay.vimeo),v(g,"forceLoad",!0)},5793:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=v(t);if(e){var n=v(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return p(this,i)}}function p(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g="wistia-player-",x=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,t);var e,i,r,a=f(l);function l(){var t;h(this,l);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return y(m(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),y(m(t),"playerID",t.props.config.playerId||"".concat(g).concat((0,s.randomString)())),y(m(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),y(m(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),y(m(t),"onSeek",(function(){var e;return(e=t.props).onSeek.apply(e,arguments)})),y(m(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),y(m(t),"onPlaybackRateChange",(function(){var e;return(e=t.props).onPlaybackRateChange.apply(e,arguments)})),y(m(t),"mute",(function(){t.callPlayer("mute")})),y(m(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=l,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,i=this.props,r=i.playing,n=i.muted,o=i.controls,a=i.onReady,l=i.config,h=i.onError;(0,s.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(t){l.customControls&&l.customControls.forEach((function(e){return t.defineControl(e)})),window._wq=window._wq||[],window._wq.push({id:e.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:n,controlsVisibleOnLoad:o,fullscreenButton:o,playbar:o,playbackRateControl:o,qualityControl:o,volumeControl:o,settingsControl:o,smallPlayButton:o},l.options),onReady:function(t){e.player=t,e.unbind(),e.player.bind("play",e.onPlay),e.player.bind("pause",e.onPause),e.player.bind("seek",e.onSeek),e.player.bind("end",e.onEnded),e.player.bind("playbackratechange",e.onPlaybackRateChange),a()}})}),h)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.callPlayer("time",t),e||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("volume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("playbackRate",t)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.url,e=t&&t.match(o.MATCH_URL_WISTIA)[1],i="wistia_embed wistia_async_".concat(e);return n.default.createElement("div",{id:this.playerID,key:e,className:i,style:{width:"100%",height:"100%"}})}}],i&&c(e.prototype,i),r&&c(e,r),l}(n.Component);e.default=x,y(x,"displayName","Wistia"),y(x,"canPlay",o.canPlay.wistia),y(x,"loopOnEnded",!0)},8322:function(t,e,i){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i);return i}(i(2791)),s=i(135),o=i(365);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){x(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(l){n=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=g(t);if(e){var n=g(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return v(this,i)}}function v(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var b="YT",w=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_=/user\/([a-zA-Z0-9_-]+)\/?/,S=/youtube-nocookie\.com/,A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(l,t);var e,i,r,a=m(l);function l(){var t;d(this,l);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return x(y(t=a.call.apply(a,[this].concat(i))),"callPlayer",s.callPlayer),x(y(t),"parsePlaylist",(function(e){return e instanceof Array?{listType:"playlist",playlist:e.map(t.getID).join(",")}:w.test(e)?{listType:"playlist",list:h(e.match(w),2)[1].replace(/^UC/,"UU")}:_.test(e)?{listType:"user_uploads",list:h(e.match(_),2)[1]}:{}})),x(y(t),"onStateChange",(function(e){var i=e.data,r=t.props,n=r.onPlay,s=r.onPause,o=r.onBuffer,a=r.onBufferEnd,l=r.onEnded,u=r.onReady,h=r.loop,c=r.config,d=c.playerVars,f=c.onUnstarted,p=window.YT.PlayerState,m=p.UNSTARTED,v=p.PLAYING,y=p.PAUSED,g=p.BUFFERING,x=p.ENDED,b=p.CUED;if(i===m&&f(),i===v&&(n(),a()),i===y&&s(),i===g&&o(),i===x){var w=!!t.callPlayer("getPlaylist");h&&!w&&(d.start?t.seekTo(d.start):t.play()),l()}i===b&&u()})),x(y(t),"mute",(function(){t.callPlayer("mute")})),x(y(t),"unmute",(function(){t.callPlayer("unMute")})),x(y(t),"ref",(function(e){t.container=e})),t}return e=l,i=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(t){return!t||t instanceof Array||w.test(t)?null:t.match(o.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(t,e){var i=this,r=this.props,n=r.playing,o=r.muted,a=r.playsinline,l=r.controls,h=r.loop,c=r.config,d=r.onError,f=c.playerVars,p=c.embedOptions,m=this.getID(t);if(e)return w.test(t)||_.test(t)||t instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(t)):void this.player.cueVideoById({videoId:m,startSeconds:(0,s.parseStartTime)(t)||f.start,endSeconds:(0,s.parseEndTime)(t)||f.end});(0,s.getSDK)("https://www.youtube.com/iframe_api",b,"onYouTubeIframeAPIReady",(function(t){return t.loaded})).then((function(e){i.container&&(i.player=new e.Player(i.container,u({width:"100%",height:"100%",videoId:m,playerVars:u(u({autoplay:n?1:0,mute:o?1:0,controls:l?1:0,start:(0,s.parseStartTime)(t),end:(0,s.parseEndTime)(t),origin:window.location.origin,playsinline:a?1:0},i.parsePlaylist(t)),f),events:{onReady:function(){h&&i.player.setLoop(!0),i.props.onReady()},onPlaybackRateChange:function(t){return i.props.onPlaybackRateChange(t.data)},onPlaybackQualityChange:function(t){return i.props.onPlaybackQualityChange(t)},onStateChange:i.onStateChange,onError:function(t){return d(t.data)}},host:S.test(t)?"https://www.youtube-nocookie.com":void 0},p)))}),d),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.callPlayer("seekTo",t),e||this.props.playing||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return n.default.createElement("div",{style:t},n.default.createElement("div",{ref:this.ref}))}}],i&&f(e.prototype,i),r&&f(e,r),l}(n.Component);e.default=A,x(A,"displayName","YouTube"),x(A,"canPlay",o.canPlay.youtube)},4687:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(2791),n=i(135),s=i(365);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}var u=[{key:"youtube",name:"YouTube",canPlay:s.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(8322))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:s.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(1801))}))}))},{key:"vimeo",name:"Vimeo",canPlay:s.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(7600))}))}))},{key:"facebook",name:"Facebook",canPlay:s.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(4793))}))}))},{key:"streamable",name:"Streamable",canPlay:s.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(1286))}))}))},{key:"wistia",name:"Wistia",canPlay:s.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(5793))}))}))},{key:"twitch",name:"Twitch",canPlay:s.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(6741))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:s.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(4303))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:s.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(2732))}))}))},{key:"vidyard",name:"Vidyard",canPlay:s.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(5561))}))}))},{key:"kaltura",name:"Kaltura",canPlay:s.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(9332))}))}))},{key:"file",name:"FilePlayer",canPlay:s.canPlay.file,canEnablePIP:function(t){return s.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,n.supportsWebKitPresentationMode)())&&!s.AUDIO_EXTENSIONS.test(t)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(i(8997))}))}))}];e.default=u},9174:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=e.propTypes=void 0;var r,n=(r=i(2007))&&r.__esModule?r:{default:r};var s=n.default.string,o=n.default.bool,a=n.default.number,l=n.default.array,u=n.default.oneOfType,h=n.default.shape,c=n.default.object,d=n.default.func,f=n.default.node,p={url:u([s,l,c]),playing:o,loop:o,controls:o,volume:a,muted:o,playbackRate:a,width:u([s,a]),height:u([s,a]),style:c,progressInterval:a,playsinline:o,pip:o,stopOnUnmount:o,light:u([o,s,c]),playIcon:f,previewTabIndex:a,fallback:f,oEmbedUrl:s,wrapper:u([s,d,h({render:d.isRequired})]),config:h({soundcloud:h({options:c}),youtube:h({playerVars:c,embedOptions:c,onUnstarted:d}),facebook:h({appId:s,version:s,playerId:s,attributes:c}),dailymotion:h({params:c}),vimeo:h({playerOptions:c,title:s}),file:h({attributes:c,tracks:l,forceVideo:o,forceAudio:o,forceHLS:o,forceSafariHLS:o,forceDisableHls:o,forceDASH:o,forceFLV:o,hlsOptions:c,hlsVersion:s,dashVersion:s,flvVersion:s}),wistia:h({options:c,playerId:s,customControls:l}),mixcloud:h({options:c}),twitch:h({options:c,playerId:s}),vidyard:h({options:c})}),onReady:d,onStart:d,onPlay:d,onPause:d,onBuffer:d,onBufferEnd:d,onEnded:d,onError:d,onDuration:d,onSeek:d,onPlaybackRateChange:d,onPlaybackQualityChange:d,onProgress:d,onClickPreview:d,onEnablePIP:d,onDisablePIP:d};e.propTypes=p;var m=function(){},v={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:m},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:m,onStart:m,onPlay:m,onPause:m,onBuffer:m,onBufferEnd:m,onEnded:m,onError:m,onDuration:m,onSeek:m,onPlaybackRateChange:m,onPlaybackQualityChange:m,onProgress:m,onClickPreview:m,onEnablePIP:m,onDisablePIP:m};e.defaultProps=v},135:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStartTime=function(t){return d(t,l)},e.parseEndTime=function(t){return d(t,u)},e.randomString=function(){return Math.random().toString(36).substr(2,5)},e.queryString=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},e.getSDK=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,o=f(e);if(o&&n(o))return Promise.resolve(o);return new Promise((function(r,n){if(p[t])p[t].push({resolve:r,reject:n});else{p[t]=[{resolve:r,reject:n}];var o=function(e){p[t].forEach((function(t){return t.resolve(e)}))};if(i){var a=window[i];window[i]=function(){a&&a(),o(f(e))}}s(t,(function(r){r?(p[t].forEach((function(t){return t.reject(r)})),p[t]=null):i||o(f(e))}))}}))},e.getConfig=function(t,e){return(0,n.default)(e.config,t.config)},e.omit=function(t){for(var e,i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(var s=(e=[]).concat.apply(e,r),o={},a=Object.keys(t),l=0,u=a;l<u.length;l++){var h=u[l];-1===s.indexOf(h)&&(o[h]=t[h])}return o},e.callPlayer=function(t){var e;if(!this.player||!this.player[t]){var i="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c \u2013 ");return this.player?this.player[t]||(i+="The method was not available"):i+="The player was not available",console.warn(i,"font-weight: bold",""),null}for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return(e=this.player)[t].apply(e,n)},e.isMediaStream=function(t){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&t instanceof window.MediaStream},e.isBlobUrl=function(t){return/^blob:/.test(t)},e.supportsWebKitPresentationMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),e=!1===/iPhone|iPod/.test(navigator.userAgent);return t.webkitSupportsPresentationMode&&"function"===typeof t.webkitSetPresentationMode&&e};var r=s(i(5102)),n=s(i(9948));function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(l){n=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l=/[?&#](?:start|t)=([0-9hms]+)/,u=/[?&#]end=([0-9hms]+)/,h=/(\d+)(h|m|s)/g,c=/^\d+$/;function d(t,e){if(!(t instanceof Array)){var i=t.match(e);if(i){var r=i[1];if(r.match(h))return function(t){var e=0,i=h.exec(t);for(;null!==i;){var r=o(i,3),n=r[1],s=r[2];"h"===s&&(e+=60*parseInt(n,10)*60),"m"===s&&(e+=60*parseInt(n,10)),"s"===s&&(e+=parseInt(n,10)),i=h.exec(t)}return e}(r);if(c.test(r))return parseInt(r)}}}function f(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var p={}},6374:function(t,e,i){"use strict";i(1725);var r=i(2791),n=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;n=s("react.element"),s("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,i){var r,s={},u=null,h=null;for(r in void 0!==i&&(u=""+i),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:n,type:t,key:u,ref:h,props:s,_owner:o.current}}e.jsx=u,e.jsxs=u},9117:function(t,e,i){"use strict";var r=i(1725),n=60103,s=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,a=60110,l=60112;e.Suspense=60113;var u=60115,h=60116;if("function"===typeof Symbol&&Symbol.for){var c=Symbol.for;n=c("react.element"),s=c("react.portal"),e.Fragment=c("react.fragment"),e.StrictMode=c("react.strict_mode"),e.Profiler=c("react.profiler"),o=c("react.provider"),a=c("react.context"),l=c("react.forward_ref"),e.Suspense=c("react.suspense"),u=c("react.memo"),h=c("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||p}function y(){}function g(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(f(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var x=g.prototype=new y;x.constructor=g,r(x,v.prototype),x.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,r)&&!_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:b.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,i,r,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case s:l=!0}}if(l)return o=o(l=t),t=""===r?"."+E(l,0):r,Array.isArray(o)?(i="",null!=t&&(i=t.replace(T,"$&/")+"/"),M(o,e,i,"",(function(t){return t}))):null!=o&&(A(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t)),e.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var h=r+E(a=t[u],u);l+=M(a,e,i,h,o)}else if(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof h)for(t=h.call(t),u=0;!(a=t.next()).done;)l+=M(a=a.value,e,i,h=r+E(a,u++),o);else if("object"===a)throw e=""+t,Error(f(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function C(t,e,i){if(null==t)return t;var r=[],n=0;return M(t,r,"","",(function(t){return e.call(i,t,n++)})),r}function P(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var R={current:null};function k(){var t=R.current;if(null===t)throw Error(f(321));return t}var L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:C,forEach:function(t,e,i){C(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error(f(143));return t}},e.Component=v,e.PureComponent=g,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(f(267,t));var s=r({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=b.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)w.call(e,h)&&!_.hasOwnProperty(h)&&(s[h]=void 0===e[h]&&void 0!==u?u[h]:e[h])}var h=arguments.length-2;if(1===h)s.children=i;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];s.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:s,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return k().useCallback(t,e)},e.useContext=function(t,e){return k().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return k().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return k().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return k().useLayoutEffect(t,e)},e.useMemo=function(t,e){return k().useMemo(t,e)},e.useReducer=function(t,e,i){return k().useReducer(t,e,i)},e.useRef=function(t){return k().useRef(t)},e.useState=function(t){return k().useState(t)},e.version="17.0.2"},2791:function(t,e,i){"use strict";t.exports=i(9117)},184:function(t,e,i){"use strict";t.exports=i(6374)},9727:function(t){var e=function(t){"use strict";var e,i=Object.prototype,r=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(k){l=function(t,e,i){return t[e]=i}}function u(t,e,i,r){var n=e&&e.prototype instanceof v?e:v,s=Object.create(n.prototype),o=new C(r||[]);return s._invoke=function(t,e,i){var r=c;return function(n,s){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw s;return R()}for(i.method=n,i.arg=s;;){var o=i.delegate;if(o){var a=T(o,i);if(a){if(a===m)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===c)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=h(t,e,i);if("normal"===l.type){if(r=i.done?p:d,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=p,i.method="throw",i.arg=l.arg)}}}(t,i,o),s}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var c="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function v(){}function y(){}function g(){}var x={};l(x,s,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==i&&r.call(w,s)&&(x=w);var _=g.prototype=v.prototype=Object.create(x);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function i(n,s,o,a){var l=h(t[n],t,s);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"===typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(c).then((function(t){u.value=t,o(u)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}var n;this._invoke=function(t,r){function s(){return new e((function(e,n){i(t,r,e,n)}))}return n=n?n.then(s,s):s()}}function T(t,i){var r=t.iterator[i.method];if(r===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,T(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=h(r,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,m;var s=n.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function i(){for(;++n<t.length;)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:R}}function R(){return{value:e,done:!0}}return y.prototype=g,l(_,"constructor",g),l(g,"constructor",y),y.displayName=l(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,a,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},S(A.prototype),l(A.prototype,o,(function(){return this})),t.AsyncIterator=A,t.async=function(e,i,r,n,s){void 0===s&&(s=Promise);var o=new A(u(e,i,r,n),s);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(_),l(_,a,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(r,n){return a.type="throw",a.arg=t,i.next=r,n&&(i.method="next",i.arg=e),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),M(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;M(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:P(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},6813:function(t,e){"use strict";var i,r,n,s;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,h=null,c=function t(){if(null!==u)try{var i=e.unstable_now();u(!0,i),u=null}catch(r){throw setTimeout(t,0),r}};i=function(t){null!==u?setTimeout(i,0,t):(u=t,setTimeout(c,0))},r=function(t,e){h=setTimeout(t,e)},n=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,y=-1,g=5,x=0;e.unstable_shouldYield=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();x=t+g;try{v(!0,t)?w.postMessage(null):(m=!1,v=null)}catch(i){throw w.postMessage(null),i}}else m=!1},i=function(t){v=t,m||(m=!0,w.postMessage(null))},r=function(t,i){y=d((function(){t(e.unstable_now())}),i)},n=function(){f(y),y=-1}}function _(t,e){var i=t.length;t.push(e);t:for(;;){var r=i-1>>>1,n=t[r];if(!(void 0!==n&&0<T(n,e)))break t;t[r]=e,t[i]=n,i=r}}function S(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var r=0,n=t.length;r<n;){var s=2*(r+1)-1,o=t[s],a=s+1,l=t[a];if(void 0!==o&&0>T(o,i))void 0!==l&&0>T(l,o)?(t[r]=l,t[a]=i,r=a):(t[r]=o,t[s]=i,r=s);else{if(!(void 0!==l&&0>T(l,i)))break t;t[r]=l,t[a]=i,r=a}}}return e}return null}function T(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var E=[],M=[],C=1,P=null,R=3,k=!1,L=!1,O=!1;function D(t){for(var e=S(M);null!==e;){if(null===e.callback)A(M);else{if(!(e.startTime<=t))break;A(M),e.sortIndex=e.expirationTime,_(E,e)}e=S(M)}}function I(t){if(O=!1,D(t),!L)if(null!==S(E))L=!0,i(F);else{var e=S(M);null!==e&&r(I,e.startTime-t)}}function F(t,i){L=!1,O&&(O=!1,n()),k=!0;var s=R;try{for(D(i),P=S(E);null!==P&&(!(P.expirationTime>i)||t&&!e.unstable_shouldYield());){var o=P.callback;if("function"===typeof o){P.callback=null,R=P.priorityLevel;var a=o(P.expirationTime<=i);i=e.unstable_now(),"function"===typeof a?P.callback=a:P===S(E)&&A(E),D(i)}else A(E);P=S(E)}if(null!==P)var l=!0;else{var u=S(M);null!==u&&r(I,u.startTime-i),l=!1}return l}finally{P=null,R=s,k=!1}}var j=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||k||(L=!0,i(F))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return S(E)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var i=R;R=e;try{return t()}finally{R=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=R;R=t;try{return e()}finally{R=i}},e.unstable_scheduleCallback=function(t,s,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:C++,callback:s,priorityLevel:t,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(t.sortIndex=o,_(M,t),null===S(E)&&t===S(M)&&(O?n():O=!0,r(I,o-a))):(t.sortIndex=l,_(E,t),L||k||(L=!0,i(F))),t},e.unstable_wrapCallback=function(t){var e=R;return function(){var i=R;R=e;try{return t.apply(this,arguments)}finally{R=i}}}},5296:function(t,e,i){"use strict";t.exports=i(6813)},5083:function(t){t.exports=function(t){function e(e,i){this.object=e,this.domElement=void 0!==i?i:document,this.enabled=!0,this.target=new t.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:t.MOUSE.LEFT,ZOOM:t.MOUSE.MIDDLE,PAN:t.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(n),r.update(),l=a.NONE},this.update=function(){var i=new t.Vector3,s=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),o=s.clone().inverse(),m=new t.Vector3,v=new t.Quaternion;return function(){var t=r.object.position;return i.copy(t).sub(r.target),i.applyQuaternion(s),h.setFromVector3(i),r.autoRotate&&l===a.NONE&&T(2*Math.PI/60/60*r.autoRotateSpeed),h.theta+=c.theta,h.phi+=c.phi,h.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=d,h.radius=Math.max(r.minDistance,Math.min(r.maxDistance,h.radius)),r.target.add(f),i.setFromSpherical(h),i.applyQuaternion(o),t.copy(r.target).add(i),r.object.lookAt(r.target),!0===r.enableDamping?(c.theta*=1-r.dampingFactor,c.phi*=1-r.dampingFactor):c.set(0,0,0),d=1,f.set(0,0,0),!!(p||m.distanceToSquared(r.object.position)>u||8*(1-v.dot(r.object.quaternion))>u)&&(r.dispatchEvent(n),m.copy(r.object.position),v.copy(r.object.quaternion),p=!1,!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",U,!1),r.domElement.removeEventListener("mousedown",L,!1),r.domElement.removeEventListener("wheel",I,!1),r.domElement.removeEventListener("touchstart",j,!1),r.domElement.removeEventListener("touchend",N,!1),r.domElement.removeEventListener("touchmove",B,!1),document.removeEventListener("mousemove",O,!1),document.removeEventListener("mouseup",D,!1),window.removeEventListener("keydown",F,!1)};var r=this,n={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},l=a.NONE,u=1e-6,h=new t.Spherical,c=new t.Spherical,d=1,f=new t.Vector3,p=!1,m=new t.Vector2,v=new t.Vector2,y=new t.Vector2,g=new t.Vector2,x=new t.Vector2,b=new t.Vector2,w=new t.Vector2,_=new t.Vector2,S=new t.Vector2;function A(){return Math.pow(.95,r.zoomSpeed)}function T(t){c.theta-=t}function E(t){c.phi-=t}var M=function(){var e=new t.Vector3;return function(t,i){e.setFromMatrixColumn(i,0),e.multiplyScalar(-t),f.add(e)}}(),C=function(){var e=new t.Vector3;return function(t,i){e.setFromMatrixColumn(i,1),e.multiplyScalar(t),f.add(e)}}(),P=function(){var e=new t.Vector3;return function(i,n){var s=r.domElement===document?r.domElement.body:r.domElement;if(r.object instanceof t.PerspectiveCamera){var o=r.object.position;e.copy(o).sub(r.target);var a=e.length();a*=Math.tan(r.object.fov/2*Math.PI/180),M(2*i*a/s.clientHeight,r.object.matrix),C(2*n*a/s.clientHeight,r.object.matrix)}else r.object instanceof t.OrthographicCamera?(M(i*(r.object.right-r.object.left)/r.object.zoom/s.clientWidth,r.object.matrix),C(n*(r.object.top-r.object.bottom)/r.object.zoom/s.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function R(e){r.object instanceof t.PerspectiveCamera?d/=e:r.object instanceof t.OrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(e){r.object instanceof t.PerspectiveCamera?d*=e:r.object instanceof t.OrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function L(t){if(!1!==r.enabled){if(t.preventDefault(),t.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;!function(t){m.set(t.clientX,t.clientY)}(t),l=a.ROTATE}else if(t.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;!function(t){w.set(t.clientX,t.clientY)}(t),l=a.DOLLY}else if(t.button===r.mouseButtons.PAN){if(!1===r.enablePan)return;!function(t){g.set(t.clientX,t.clientY)}(t),l=a.PAN}l!==a.NONE&&(document.addEventListener("mousemove",O,!1),document.addEventListener("mouseup",D,!1),r.dispatchEvent(s))}}function O(t){if(!1!==r.enabled)if(t.preventDefault(),l===a.ROTATE){if(!1===r.enableRotate)return;!function(t){v.set(t.clientX,t.clientY),y.subVectors(v,m);var e=r.domElement===document?r.domElement.body:r.domElement;T(2*Math.PI*y.x/e.clientWidth*r.rotateSpeed),E(2*Math.PI*y.y/e.clientHeight*r.rotateSpeed),m.copy(v),r.update()}(t)}else if(l===a.DOLLY){if(!1===r.enableZoom)return;!function(t){_.set(t.clientX,t.clientY),S.subVectors(_,w),S.y>0?R(A()):S.y<0&&k(A()),w.copy(_),r.update()}(t)}else if(l===a.PAN){if(!1===r.enablePan)return;!function(t){x.set(t.clientX,t.clientY),b.subVectors(x,g),P(b.x,b.y),g.copy(x),r.update()}(t)}}function D(t){!1!==r.enabled&&(document.removeEventListener("mousemove",O,!1),document.removeEventListener("mouseup",D,!1),r.dispatchEvent(o),l=a.NONE)}function I(t){!1===r.enabled||!1===r.enableZoom||l!==a.NONE&&l!==a.ROTATE||(t.preventDefault(),t.stopPropagation(),function(t){t.deltaY<0?k(A()):t.deltaY>0&&R(A()),r.update()}(t),r.dispatchEvent(s),r.dispatchEvent(o))}function F(t){!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan&&function(t){switch(t.keyCode){case r.keys.UP:P(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:P(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:P(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:P(-r.keyPanSpeed,0),r.update()}}(t)}function j(t){if(!1!==r.enabled){switch(t.touches.length){case 1:if(!1===r.enableRotate)return;!function(t){m.set(t.touches[0].pageX,t.touches[0].pageY)}(t),l=a.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom)return;!function(t){var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+i*i);w.set(0,r)}(t),l=a.TOUCH_DOLLY;break;case 3:if(!1===r.enablePan)return;!function(t){g.set(t.touches[0].pageX,t.touches[0].pageY)}(t),l=a.TOUCH_PAN;break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}}function B(t){if(!1!==r.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===r.enableRotate)return;if(l!==a.TOUCH_ROTATE)return;!function(t){v.set(t.touches[0].pageX,t.touches[0].pageY),y.subVectors(v,m);var e=r.domElement===document?r.domElement.body:r.domElement;T(2*Math.PI*y.x/e.clientWidth*r.rotateSpeed),E(2*Math.PI*y.y/e.clientHeight*r.rotateSpeed),m.copy(v),r.update()}(t);break;case 2:if(!1===r.enableZoom)return;if(l!==a.TOUCH_DOLLY)return;!function(t){var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,n=Math.sqrt(e*e+i*i);_.set(0,n),S.subVectors(_,w),S.y>0?k(A()):S.y<0&&R(A()),w.copy(_),r.update()}(t);break;case 3:if(!1===r.enablePan)return;if(l!==a.TOUCH_PAN)return;!function(t){x.set(t.touches[0].pageX,t.touches[0].pageY),b.subVectors(x,g),P(b.x,b.y),g.copy(x),r.update()}(t);break;default:l=a.NONE}}function N(t){!1!==r.enabled&&(r.dispatchEvent(o),l=a.NONE)}function U(t){t.preventDefault()}r.domElement.addEventListener("contextmenu",U,!1),r.domElement.addEventListener("mousedown",L,!1),r.domElement.addEventListener("wheel",I,!1),r.domElement.addEventListener("touchstart",j,!1),r.domElement.addEventListener("touchend",N,!1),r.domElement.addEventListener("touchmove",B,!1),window.addEventListener("keydown",F,!1),this.update()}return e.prototype=Object.create(t.EventDispatcher.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}}),e}},9702:function(t,e,i){"use strict";t.exports=i.p+"static/media/birdidentifiervid.3f2f11c605fdce960a73.mp4"},7895:function(t,e,i){"use strict";t.exports=i.p+"static/media/birdsongidentifier.3f1158d9cd147db779f6.jpg"},6300:function(t,e,i){"use strict";t.exports=i.p+"static/media/game2.1b075a249c121b3a2149.png"},2560:function(t,e,i){"use strict";t.exports=i.p+"static/media/logo3.de4ef7a329eedc77b135.png"},6639:function(t,e,i){"use strict";t.exports=i.p+"static/media/logo5.63a8eefd3fb3effba314.png"},120:function(t,e,i){"use strict";t.exports=i.p+"static/media/marling-school.e66ea4413e1d0f59f775.jpg"},3114:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxgAAANOCAYAAACSqqqOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABhmSURBVHhe7dddctxG2m7RHnpP5ozTh61PVsjypkQ+rD8AyxGrLrZVQLIyL978z9t/fwEAANxIRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAC7ur//3f+r/wW9kBADgYv6+UHxGPYfLywgAwEXUxeEz6plcWkYAAE6uLgtfUe/gkjICAHBSdTm4lXofl5MRAICTqQvBPdS7uZSMAACcRF0C7q3WwWVkBADgJOoC8Ai1Fi4hIwAAJ1CD/yPVmji9jAAAnEAN/Y9W6+LUMgIAcHA17D9LrY/TyggAwMHVoP9MtUZOKSMAAAdWA/6z1To5pYwAABxYDfjPVuvklDICAHBQNdy/glorp5QRAICDquH+FdRaOaWMAAAcUA32r6LWyyllBADggGqwfxW1Xk4pIwAAB1SD/auo9XJKGQEAOKAa7F9FrZdTyggAwMHUUP9Kas2cUkYAAA6mhvpXUmvmlDICAHAwNdS/klozp5QRAICDqaH+VdR6Oa2MAAAcTA32r6LWy2llBADgYGqwfxW1Xk4rIwAAB1OD/auo9XJaGQEAOJga7F9FrZfTyggAwAHVcP9stU5OLSMAAAdUA/6z1To5tYwAABxQDfjPVGvk9DICAHBANeQ/U62R08sIAMBB1aD/DLU2LiEjAAAHVgP/o9W6uISMAAAcXA39j1Lr4TIyAgBwAjX831utg0vJCADASdQl4J5qDVxKRgAATqQuArdU7+SyMgIAcDJ1Mfiqeg+XlxEAgBOqS8King3fZQQA4MTq0vAR9Sz4RUYAAC6kLhN/q38Pv5ERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQAAYJERAABgkREAAGCREQDe9ddf/1T/BoDLyggA//DrpeJP6hlwFP/9z3+zAx+SEQDy4vAV9Q54Ff+7VPxOfQdIGQG4qLoY3FOtAR6lLhK/U88A/iUjABdSg/8z1Rrhlury8FH1POAfMgJwcjXYv7L6G2BRl4bPqucCP2QE4IRqcD+a+rvgM+rCsKhnA99kBOAkakg/g/pb4U/qovAV9Q6gIwAHV0P5WdXfD6UuCV9V74GLywjAAdXwfSX1m8Df6nJwC/UuuLiMABxIDdtXVr8R1OXgFupdcHEZATiAGq75p/rduKa6HNxCvQsuLiMAL6wGad5XvyHXU5eDW6h3wcVlBOAF1fDMx9TvyXXUxeBW6n1wcRkBeCE1MPN59dtyDXUxuJV6H1xcRgCerAZkvq5+a66hLge3UO+Ci8sIwJPUUMxt1e/O+dXl4KvqPUBHAJ6ghmFur357zq8uCF9V7wE6AvAENQxzH/X7c351SfiKegfQEYAHqyGY+6p94PzqorCoZwPfZATgwWoA5v5qLzi/ujB8Rj0T+CEjAA9Ugy+PU3vC+dXF4aPqecAPGQF4oBp6eazaF86vLg/vqe8DKSMAD1LDLo9Xe8M11GXiZ/Ud4LcyAvAANejyPLVHAHxaRgAeoIZcnqv2CYBPyQjAndVwy2uo/QLgwzICcGc12PI6as8A+JCMANxRDbS8nto7AP4oIwB3VMMsr6n2D4DfygjAndQQy+uqPQTgtzICcCc1xPLaah8BeFdGAO6ghleOofYTgJQRgDuowZXjqD0F4F8yAnBjNbByPLW3APxDRgBurIZVjqn2F4AfMgJwQzWkcly1xwD8kBGAG6kBleOrvQbgm4wA3EgNp5xD7TcAHQG4gRpKOZfad4CLywjADdRAyrnUvgNcXEYAvqiGUc6p9h/gwjIC8EU1iHJOtf8AF5YRgC+oIZTzqjMAcGEZAfiCGkI5tzoHABeVEYBRDZ+cX50FgIvKCMCohk/Or84CwEVlBGBQgyfXUOcB4KIyAjCowZPrqDMBcEEZARjU0Ml11JkAuKCMAHxSDZxcS50LgAvKCMAn1cDJ9dTZALiYjAB8Ug2bXE+dDYCLyQjAJ9SgyTXV+QC4mIwAfEINmlxXnRGAC8kIwCfUkMl11RkBuJCMAHxCDZlcV50RgAvJCMAH1YDJtdU5AbiQjAB8UA2YUGcF4CIyAvBBNVxCnRWAi8gIwAfUYAn/U+cF4CIyAvABNVjC3+rMAFxARgA+oIZK+FudGYALyAjAB9RQCX+rMwNwARkB+IMaKOFndW4ALiAjAH9QAyX8rM4NwAVkBOAPaqCEn9W5AbiAjAD8Rg2T8LM6NwAXkRGA36iBEn5W5wbgIjIC8Bs1UMLP6tzw5r/vqH8LHFVGAN5RwyT8rM7N5dWlotR3gaPJCMA7aqCEn9W5uby6TJT6LnA0GQF4Rw2U8Lc6M5dXF4nfqWcAR5IRgHfUUAl/qzNzeXWJ+JN6DnAUGQH4jRos4X/qvFxaXR4+op4FHEVGAH6jBkuos3J5dXn4iHoWcBQZAfiDGjC5tjonl1eXh4+oZwFHkRGAP6gBk2urc3J5dXn4k3oOcCQZAfiAGjK5pjoffFeXiN+pZwBHkhGAD6hBk2uq88FP6iLxnvo+cCQZAfiAGjS5njobhLpM/Kq+BxxNRgA+qAZOrqXOBe+oS8X/1L8FjiojAB9UAyfXUucC4MIyAvAJNXRyDXUeAC4uIwCfUIMn11DnAeDiMgLwSTV8cn51FgAuLiMAn1TDJ+dW5wCAjgAMagjlvOoMANARgEENoZxXnQEAOgIwqkGU86m9B+CbjACMahjlfGrvAfgmIwBfUAMp51F7DsAPGQH4ghpKOY/acwB+yAjAF9VgyjnUfgPwQ0YAvqgGU46v9hqAf8gIwA3UgMqx1T4D8A8ZAbiBGlA5ttpnAP4hIwA3UkMqx1T7C8C/ZATghmpY5XhqbwH4l4wA3FANqxxL7SsAKSMAN1ZDK8dRewpAygjAjdXQynHUngKQMgJwBzW48vpqLwF4V0YA7qQGWF5b7SMA78oIwJ3UAMvrqj0E4LcyAnBHNcjymmr/APitjADcWQ2zvJbaNwD+KCMAd1YDLa+l9g2AP8oIwAPUUMtrqP0C4EMyAvAgNdzyfLVXAHxIRgAepIZbnqv2CYAPywjAA9WQy/PUHgHwYRkBeLAadHm82hsAPiUjAA9Wwy6PV3sDwKdkBOAJauDlsWpfAPiUjAA8SQ29PEbtBwCflhGAJ6nBl8eo/QDg0zIC8EQ1/HJftQ8ATDIC8GQ1BHM/tQcATDIC8GQ1BHMf9fsDMMsIwAuoYZjbq98egFlGAF5EDcR8Xf3WANxERgBeRA3H7Oo3BuCmMgLwQmpQ5uPqNwXgbjIC8EJqaObP6rcE4O4yAvBiaoDm3+q3A+ChMgLwomqopn8rAJ4iIwAHUcP2VdTvAcDTZQTgoGoQP5v6uwF4GRkBOJEa0o+m/i4AXlJGAE6sBvhXVesH4KVlBOBCarB/plojAIeREYALq6H/3modABxSRgD4oS4Et1LvA+DQMgLAu+qi8Bn1TABOIyMAfEpdJH5V3wPgdDICwJe4VABcVkYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVGAACARUYAAIBFRgAAgEVG4BL++kX9GwCAT8kInNavl4r31HcBAP4oI3A6dYn4jHomAMC/ZAROoy4LX1HvAAD4ISNwaHUxuJV6HwDADxmBQ6uLwS3VOwEAvskIHFZdCO6h3g0A0BE4rLoM3EO9GwCgI3BIdRG4p1oDAHBxGYFDqkvAPdUaAICLywgcTl0AHqHWAgBcWEbgcGr4f4RaCwBwYRmBQ6nB/5FqTQDARWUEDqWG/keqNQEAF5UROIwa+J+h1gYAXFBG4DBq2H+GWhsAcEEZgcOoYf9Zan0AwMVkBA6hhvxnqfUBABeUETiEGvSfpdYHAFxQRuAQatB/llofAHBBGYFDqEH/GWptAMBFZQQOowb+R6t1AQAXlRE4jBr4H63WBQBcVEbgUGrof5RaDwBwYRmBQ6nB/1FqPQDAhWUEDqeG/3urdQAAF5cROJy6ANxbrQMAuLiMwOHUBeCeag0AAB2BQ6qLwL3U+wEAOgKHVBeBe6h3AwB8kxE4rLoQ3Fq9FwDgm4zAodWl4FbqfQAAP2QEDq8uB19R7wAA+JeMwGnUZeGj6nkAAL+VETitukj8qr4HAPAhGYFLcLEAAG4uIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAAAX8vbxTf0/+KSMAABcwNvHu+rfwwdkBADgxN4+PqWeAe/ICADACb19TOpZ8I6MAACczNvHl9QzIWQEAOBk3j6+rJ4Lv8gIAMDJvH3cRD0bfpIRAIATefu4qXoHfJcRAIATefu4qXoHfJcRAIATefu4qXoHfJcRAIATefu4qXoHfJcRAIATefu4qXoHfJcRAIATefu4qXoHfJcRAIATefu4qXoHfJcRAICTefu4iXo2/CQjAAAn9PbxZfVc+ElGAABO6O3jy+q58JOMAACc1NvHrJ4Hv8gIAMCJvX18Wj0HQkYAAE7u7eND6rvwGxkBALiQtw8XC24lIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAIiMAAMAiIwAAwCIjAADAJ/3nr/8PjrWUB4jOHfYAAAAASUVORK5CYII="},7069:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAYAAAC9Q+5hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMzowNjoyMyAxNzozMTozMfVSA5gAAB+/SURBVHhe7Z0LlCVlde//9Trv0++eGQbmwZsJMjPMjAOSiIAIingVveTewEpCsqI3eg3cta7euxKVqMRoVl7GxGVYIWtJEq8iNwmBhAUoEUEIwgAqMMDMwLydR0/P6ed5V1X2/qqq39NzTp1zuk9171+v3VV1TnX191Xt//ft71FV2u5q1YUgCHWh+0tBEOpAhCMIIRDhCEIIRDiCEAIRjiCEQIQjCCEQ4QhCCEQ4ghACEY4ghECEIwghEOEIQghEOIIQAhGOIIRAhCMIIZDbCkIwOmzj5R1FPP7QGPa8VoRNp/DQPhuH91f9PdoT09JwyVYLsbiGvpUWtv1SEu+4OoVzNyT8PYRaEeHUydCgjX+9bwTPPpHHgTfLGM7ZcF2NxORgbMTx92pPdIovelfqME0diZSOVasNbNicwA03Z7Fpe9LfS6gFEU6dPPdkHl/+1HG88mKJtiwyU33uRb1RiHxtMr7kLPIq+ldp+O8f68TNv9GJM9ZwfoRaEOHUyZ3/8wi+ffcorbGTdZJlyDQyFlAgonaFL3XZXxbJxsjyeNsWA9fdlMbHf7eftoVakM6BOnn2CXY4FkiPbxzicBuh3UXDsMDjZJzeLjJOfxqHqG32yD+yiIRakRqnTjZ27EYhz453JhmLhUtwDnsCa2dYOFxWBgLiSz8M0zqGGG3+dOgC2hZqQWqcOinkA3EE7QFu67BVyLhXrZ2N08hCZ+O2Dl9+A9WKi/yYlJ/1IMJpGHa4wKIAp5PFL0JpBBFOQ3DIE1U47VFO/+IiwhGEEIhwBCEEIhxBCIEIRxBCIOM4dXK++Qb9TpGtV9s8DtLo+M2FFxqIxfyN01AouNizpxnjRTzjgbvUOf2H+QPsrl6olsLpEeHUSbOE47rd/lpjaFrOX6sXEU4j6JZtg01YOJolGqaZxxJqR49ZFgzDgMEbrguNTGgdrXB0Ec/CQ1pxoWsaEiSepGnCIN3I0JggzM9Er5rrOMosEpBpeyY0l9tv54mVrWH9eukgXUhmnW0NLizToVqIJwS2F0F7jEPKKPL2t89968EnPpFHR8dQTXbvvTxBczanOrbQGk5ZTHG7J0EhnEmOalBN1Gw4RHT8Ws4ki9E2/7/5zOTakCym63N+H5jlH9MzXZnuLn7wybcuz8U3vlHC6Khbk91227j/V9OhpmrD8PVgW44E/sgW+M58Pjlv/c5fGnS1G3U57nAIjI/JliQBpOhqs8XJLGpfBd+dyjRKMNtc3021GB2Lj+kZ7z/9bybSQ+vCJOp6zLgOwblaSkxcf7Ign1wYT/VHNi6kp56LmTYvJncY0AEaIcE1RGCBYjnRpGqNLGhfNQsuPYJjqhrNoNKDcjpRYvhp4f8vTMLng69LcJ7i/rni0ncpMeGLbH5eucJW+Seb8Ec6F6fitMLhA7BsEnQQq4YOA94n7hpIaqRgShBb0EvXLiV8kJY413p84ihvnGZOu0FhneARnCeOBoJrGaeQl89TLb7QDnCbmO/XZWumP9bsJTqp81SomNBvuJsmCU2nmiRCN0px3jjNnHZL8/LC1o78wi8srsMa5AZ8npT556ndaiSuNTldqibh0JOWbM2kruLVNKa3C1S4xUtKFMeEPJja3OQtLJx2nTxD5YVOuMknnPNI1gxOnJj7ODyAWau9+mqH/1eLB58ntsl2AJ8nzxYTvk5crJhUEHLajCaLZSp1CUfTXKTpRCkHI+MYmBv5nFDVrmiSgy0qU/IRp3zxoLBJ24GzNMIdd+T9taUBnycuNE0qbJJm0Hs5KayFIvh/3GZhn+SO+Vb7Y13CYbi7LkmJ42qQe7hUI2qJEjQSuVRVjWX/c2E26jxR+BYnD1bDAQsU6nKhxv7ItpDULZzlCl+WZsTJmzaN+GtLEy5MuaDhtkXQidCKEM6sVFRDn7uRFwMRzgLzs5/Z5FxhbwWIFjwDxdBtuE163hwPxHNHBIdksVpvYGoRIpxFgsXzyU8urTbPXOi6hpTqQKA8h2xzTAxWUg3T6kZ/rYhwFpGvf72kBFSvRQ1upKtGO9UWYeC/4/alxZ1QtN4O7WoRjrAgcNuHw6sUOX89E3Ut+juLapn5xhEXAxGOsDCQUFRNQUuexjVfR0swsBqnfdXc1RpFtpCIcIQFhyXDY2TcVpmr5uHveXJxo3MkW4kIR1gUWC7cO2aRcFgoQf3DSw7puFZqZ7TDtt1+9WAbc6bxOv0O/5SbL32psVcGfvCDFi6+eHZJfNNNY3jggXpuPpz9lJvD9kVqudDYjg6O4jSeJxiNuaMinHppRDjf+lYat9zSmvGH+nvb2kc4UURCNUEIgQhHEEIgwlkCRHFQNOqIcCLMFVeMimgWCekcqJNGe9XaB+kcaASpcQQhBCIcQQiBCEcQQiDCEYQQiHAEIQQiHEEIgQinThJqjib34Ff9Jc/iDeb2RgVOM1967ka3KU8aVqyKyOzKNkGEUyfrz+VJmuxwBTIWDm8HD1mNivGNyHzpeTZ1GemMjrPWq1vGhBoR4dTJ2y5lx+Nnho2RseNx6c2fcVUUFWORcB5Y/EV09xrYuEWeGlcPIpw6ufI9aWSyXOMMkQ2SFSNqnP4crFgBF2+K45d/vYu2hVqRKTd18uYbJXzmd47iqce5tOa2TVTLHr7sLtasN/GJT/fglt/qRpvfdNlWiHDqJD/u4Jkn8njo/hH8+Kk8Dh+oqrsXo0ZHl47N2+K45oYs3vvBDAlocR/wFzVEOIIQAmnjCEIIRDiCEAIRjiCEQIQjCCEQ4QhCCEQ4ghCCSHZHu7YDZ/8x2M+9gcrDz8PedwxuvgR3cAQ4MODv1cas7oG2shtaMgb9rD7EbtgO8/KLoK9bAcROPWesNFDFif8oYuDpceReKqJ00qZz4WLsjSqcUntfxlifjuQaE/ys9eRqE/2/lEbfO5LovjQBMx298juSwrEPHEfx8/+A6iM7oB0bVtUmv/mYicIlCMZL+cQ79NvuTsO4ZhOSX/hVmBvWel/OoJyzceC+Ebz+J4PI77Upt/yyJi+3k2/ub19cf6YCGxV79GOj57IENn2lHyuuTKt9okQkhVO85xGUf//v4RwfQsYxkIYJKrvpt6aW7U6Z3KZKDlSh5Titjekkn1QM8S/+GpJ3fMjfazr77xvGgW+P4MjD4zDsOJLIUF75aTs8Pzvpi6d9sSmfVco5C6eAMTKKDiwXF32qGxv/gGraiBG9OpKo/uuP4QyPI02i6Sa36SDJJKkEjlN2+GXy7W6cTk5vltLdQ+lPO3QZCmXYj77g53A2B/9xFKNvVGDZSSooukgyXXScJFmKjmSqnLezcdHG6WWxZ+iqcR70iomBp6L5OsdI1jjDfb9Mv/JY5cTQCYvKbS7ROATwrN3hsJLNExKo7K3isFaE1plG5+B3vZ1m8E/9u+CQj6WLPeR0PcoZgxKcAx8vDGpfuEb0cq2RiOIq7TkcgZ0t4CNDF/h7RYdICmfIuIFOP7CGSi8O00okGw5/PPdp/+x4LsQhlk4uZKBI6d9LQRvTZT+sljO5Tz0IUaNyepUqsbmNUKK/4fw2663OrWVSOBxm8vYJHKS8j+K/RfBBiJEM1Zip8ghqnCiIhuF0cnrZ6qspgv09sbB4oiEaxsu1l+ZoXKf5iKxwAtq/P2l+uASuH/6r6Obaq2+jTfRzIAiLgAhHEEIgwhGEEIhwBCEEIhxBCEFkx3GYtWoU2kQBthoLqZVu9wF/rXGqT76K0Xd9xt+qDx7H4XEoTn9t4zj0vRrH6QFP2ilgVH1WL5f9ZQobPtm856h9s663wmlq1gAj4zjLGPPKi5sqxFZzm9vdVNEsV0Q4TSIK4mHRCM1BhNNErPdt8deEpY4Ip4lkHr7TX2s/3v0gzw8TmoUIZ5mw5gPyNoJmsix71ZrBqdo0OW3uG9HmYiF71U7VvqmvR6wZSK+aICxbRDiCEIIJ4fCdiLWYIAhThMOvRqnFonzviyA0i4nOgYMDz6OQL+DYwD5UHH7T2CQxI47ezCr09fWhM7sNsZj3dJXFop2m3Mwkap0D9TL6loMHN4+gMhq2T2lpdA5oL+XucX/wsx8g5zzrfzQ/iYqN3u41uPbijyEZ+wgsgx+WYcClE+Is0BuWRDiLJ5yphOuRWyK9av+84x4Mld/0N2vjxIlBfOeJb+LRFz+PgfyDJBp+kayw3FjOU3h0xzoJtlqxdapZDBtVPYcDJx/C/U99Ft9//m9xdPBFJLU8bK1C5SjXP8Jy4AMvdPhrywtdc22w1UrF0FGxqrDjw2RlZQdHv48nXv4qjuLfUNUKfuAmLAd6tyzPvtamjOPkjd0Y1J7Dt5/6IgoFfhuzICxttM/94NymTrkxY0n89tavIx7fiAqyKDvNr3tkys3iTLm59AtJbLoz4W9NIjeyNYFKpYLv/vC7KDn8eFZhKVHKReXhh62nJVNuTpw4gZ17XvW3BGHp0XThaG4Vzuod+OHe/4s9Q38BS5dSSlh6tKTGCXj6hR/Bdha27SEIC0HLhOOYBYy7x/DmkUf8T4SoE+9paTkbKZreqxbgagaFbRa2nHETtp//Bf/T5iBTburvVfvw7k50nNcax5detRbw+gHvgi8HKg/82F9rP178XRlfayYtE443G6GIvPUSxsp7qHStkC1txm76sr/Wfuz7/60ZHjjwLxV/bXmxIEHr8WPH/bWlS/n/PemvtS/PfKz579v89w8tzwm+CyIcu1ykf7R05zQVPv1NjN/6Z/5W+7Lrb0p47LrmOXq42wqWBi3rHJjKu3r/DNsuvpGCNX5VeeM02jnQeeAefy087okRlO5+VFlYFrJzYCbn/moMF308jtRZtZedDl3APd8s4ad3Ff1PwrBEbmRbjsJpFxZTOIuH9KoJwrJFhCMIISDh8LR/fg9wyyM2QVgy6DzCz2a5ctemINSKvnndZmxYtQGx2FIfnhSE5qGv678UF5x1Oa7adBuuufhWbD7zanRpfcoMK6FMN+NUK5nKLMeB6S7urQJuzKToUoND4SUHmFxT6hGrLzm9Bhmnn/OhUX6QmX13ZYAWJzMo7+qHz79GP1FronKKvfE8R+XBhZGKZpwz0cbRNB3pVBprz1yPd25/D7ZvuhKXrNuGtV3nY0XqLKSMFOL00xbZXNFJKddQ9d2IHdBSl8RzxihYkF5Of4WMCwJt5akftxRfSfuTk3E3tE0/LBsqxtRRomIGpdhUE69cykGZfjuI9Uazf0p7fuyPpvUKaHwN/ecEGLqXKUevoGwOoVgsYjh/BMcGjuPk6AjK1YJ6CKGjTdZALrWVmAmBUe10Zd+fN3UcZ/yjX0XlvieRHa+iX8mZXTB68JmqkPMcRwkjhg3zxu3I/NPcL6fa8TtHMPhMEYWfmGocJIks5TmaTsfiH0MOeQyj5xoDV39vnf9NdJh15l3yQMegsoCsotnKbJfKi0oP0sZqrM5uxaXnvA9XXPh+bL3wMlxy9qXo61mFTEcXhXQx1dHAZrgc1lEZYzd/YNK8ZjO0RAzjVG4Nk+uVaRk1uKYp+ekfI0eiUgrW9dv8b2ez+r0ZpNeZlNeCcriiP2AaLbiOsSn9IyoP5F3of+fiPk45LNqPTv6ey/F1zKrzwXJUXBr29HI+n89j3/BLyOWoNKmMoGIX4dgFXLHya02tcexdh5D/9D2wn96JWC5PNQ4HAtGqc7i24bZNmX6Xs5SDrech+ccfhbnlPG+HGRSOVrHv74ax62snUT4CCtLiftgTLbzQtERFRQnZDRY2/+lKnHF92v82Omhf33Gtq1NIZpoW0lYa2Ww3+vvXqC9jhdkXxja9UEwxZTXA1b3S37arqJKVS0Vk4huxrusccu4Mufha9b3j8MmaXuE5VLvxIW33NBNCyxVU/uM1VP75GVT+7Tm4Pz8JFFszbb6lxC1oZ/TA+sBlZJfDvPwiaOlTdxCMvlHC3m8N49j38xh9rYTKyBwXoM3hPpBYv47edySw+v1ZnPXBLOJ9/B6MaGG892NrP++4Njk5OSM5X244h4OHDqFUzsMucRDEUXgVmknOzP7MOQ/g1RnGcTebrlFD0IghHkuhSk2gXPEo2TGMFqkm0oZoDypvtTxpZ5z2pb/QqKmv6WTUYKbQcF4MCgXXr4Rbpobyzv1wB4aBEtdnESMZg37easR/4zpY122Fxr2F88AOpukaSscovNtfgT0WPeGwjyTXmFhzcyfOJOEkz4jmu0m1r+24auLsW7ZFJT45tP9IXG7oc21kGBRK6J3o6upCh9WFbCYLy6o9w8FbDFRPkOOJwjC66ZhU4nI3d3WteutB0jqHlh2UBhlTEtqbacKpFapPKKzLIpHsoxDPxIrECmSSGbVu+50BtkHRrMazEbgqqg1PYBqJMoMO5wIk0Ee1E/2PeA9SegquMzupJX8pCAtJaOFYrgkO8RjuXOCfVCqFnt5zKDyLI2mmYXGNEkI4FJTAcqrqM2+bwj/6H7HYBUgmkiSo1WQr1bcFZ3k+LV9YXEIJh8VgUAOeh7FmomkZtUxR28YyY8imM0gl0ognkxSaUdtE80I806F4fsZ/dngQSQnFpOPPPna14t3HoekZahNlEE+wwHop7LNgWnEk3C76nENBFpMX7gXjSlOZfWRBqA/tL1+4inwrcNjWwG0nmxr0mm4ioSeprdSNLrNL1R5ck5iqDaWTcGjnUMlgMVLDudzjbfItbql+JMwEki4JWXU+WDB8MZWntKHqLjUEgdDu2XmNyyFStUqhF88C8BvyzSQQDmP4D2PntlA8HiefplrI6FEdD2kjg0yqvo4HD96fjlOd3eLRtB4lTkNfSXLpU5/F9YvUpFZDj6HKI76CUCfavbuvn1bocu1TKpVISFXYDjnkaYrkAa2A3doQdus5jKjhPBcHzFFq1DdfgM2kX+/AOnMFTC2G85PrcEP6w9ia3oxOczUq6FLhaNyJ+3tPwi2v6tgwqq/uQOWHD6L61mtwbfr0yD64R/Z7O7UrJrU5N2yjcoYKjd6VMLe8E+a2q2Ges8HfYX7sl4dQvm8/Kq8MwR2pwD1aBN6IwFNuzk1DO4uim4wJ88JOxG9ZD+PSxl7DOEs4zMQHtOI1EbxP+KVR1erk4OQr+iB+YB7EEX1cCcXx2xNVWp84RptiUFuIWlJqnZcJqn3eHjsfv915I9Zbq5VwTONs1eHBdMIbFC4dGcbYX/8xqs98D04xD1T8gddqhTwr6NBoT7jmdaktyKGrRu1NaiRCX3cB4r9yO2LvudnfazbueBXFr76O6oM/h72HhFKmViL7RtWFVmnvAlJhUbvXpMiCgwta19elYb3/DCT+10XQ+mYXjrUwp3Dmw7apLeK42FU9gedwFD82jqJgksMk6cug6cDLdo+AuIcg8HN+yCUZ10IfzV6Lj2QuVx9XKr1qyZjUJmPHSzz+E+Abd0MbOIYkXY8EGWeVr8tkkdKe8IWusMPTsky/iuTz1WQW5rs/gtiHfhPW5l9U+82k/NgRFH//FbivDiM+bnCfpypseM5zUPi0M1WKg3hGuU3LEs/2S1Shn5NG4ouXIHaTVyDWS93CCfhuZRd24iT2msMAz57hzrRAvFEUDmUDFHlca23El1feqj6eC+uu+xB/9EVqJ1EtRD6Tmiqcds8zwYLhwICXY3QOxkg89rmXwPzF9yF1+9xPIh2/Yweq9+6HNcpP2clQGZmImHA80fDvAklnCKMoUWFv3XY20ndv9/eqj9DC+VTpSYzpFRS6yPs4XGTRBP28oY64CLCjs5Hzq8nGA0BvKYtH1nyWNuYm+aEvITE4ghXU/EuTz7ATcnajlGWGRV4m0QzRNTsZy5Ii+tD50B7/2+mMnPMQ3MMF9FU76FJ30OniCVNeiMaTNqMAh948GYxTmyPhHNdy0Knd07Hvv3g71AgPwdhaMbxwfr38qHcVVpGxcPg88hNW+WgsoHY/n5x2LixZNMHk3INkVKr+cO3n1GbWJoeaQfyq/4M0/c06v3bNc4lNeeXszzGxoe1gwXCWOczk9WG6Vof9ZtrKF7xJtjOnyw4Z31FiOQsrVH1TBt/KweU4y8cTUDvj3W1rUIDJYWZM1Tp78XP13SrXe0afCjfI+CdG343TD98iyT22o8VRyusgNVEKVFB6+W1MOEwgHA57ovgYYRYQj5eyN/nCuad8I7VpDKRjaTWNiLvHs9nV9CXQd/VdKjxbT8LhUzhKjhcFwcyEa0uL8j4yRTirXhxRS9ePuTm04bmLg/q/qO21dLGpZaAcr6RuEokWMQosOczkdk4gnPJwUbXZvdLeE0XRrarr7jm1l0+OLAydttUgvecujcPOxxZVZpyFciWPfGEUx3KHcXhgP/b9fA927nlF2VSac/IWh7ku2bHKG8oGxnYpGy7sw1iRS5NJOOSJ7sX2wrWpULFAF/IkGTVydSo1yTQ1lMJCYuHw2CAbCWbKn0b52reMqu4oc6jFH1iFYmK2pcx45d+VjekPKxt2H0LOedD/dpKoymYugrudp5plFaHz7S56Wc1o8e4QYBFNhhYiHEGoAZ7pwhMDisU8xvODIhxheWNbFWWIVzAwckjZkdwuZW8e/omy1/c+j5f3P4Odh54lew6vHfqJCEeYROP7p6aY11j2GsxLlZ2v/wzPPvcUnn3+R9h36E1lh47sV3ZyeEDZaGEIhfIYitT2LVULqDgUwvl/Lwh4a+9r0+zAoT04ePhN/9ulSal0AnGqbTSrRO3avG/VWTaTthOO2+3OaZXuCq4wr/D3ai2plK4sHncnLGgkNoJ12XvQ/ZzbFEve8Sf+UZvH0eL+aXZ4jErf0bkHReuh271ulqX+or534nQNXj3ncRqlojvKvHvBaicyNQ4/A/Lp7NNKRK2Gx23YEonEhGUylrJGiN14m7/WOIlb/7cSUFQxrw3unaoNraexc99sIhmqLYR4ZqJpnrUbLB5r+7X+lrBQRLaNw7WP4JH5q+/5a0Jz4IJ5ugUFJ5uu80BqRFmo9o6wtAnart4gp6HuDE4ktFmWShnTLLLCEaZjbpr7Xpp64PuNZtpSJ5vleYieZTImkklN3dI/03juWmAssLYTjpajCzbDNo5s9L+NNuOfuxW57VpDNnS991ismeirGn/if9ABMt0mH2wiTBKJGmfMjeK069bg5o77a81Hxe4zzIjC3XmLgIRqghACEY4ghECEIwghEOG0AVpHT82W/ORX/L+aycIPCjeCviYBfXVczQg4nenntt9b25pz6zTPnuB5cKP8QfM5Wz8bb3W+5W9Nwj1uDcOH8B5JPXHr9L2x673tOdh286MTt04zfM9+mFuns3/9BMwt7/K3Gmf4htVwThzxt05Pxr91euozB3bcP3e+t53/a2rJt07zMwf41unirCcTnJpmzCk7FTntMX/t9MRgTdz6Hdw6vWP336llvUiNswjwNJlmioapRzRC44hwFpgoT8wMSz21QlQQ4SwBeGBUWFhEOAtI/MP/w19rDuXH74+MaLjWGf+vP/W3oo90Dixg50D6rm8hdv0t/tYkhbvvRPmx7/hbp6FSgnP0gL8RnoXsHJgLbUUMWmdtb5vWad/sj+Z+VK10Dixjin97F5yDu2uzJoimHXCPl+Hsztdk1aeH/L9qH0Q4ghACEY4ghECEIwghEOEIQghEOG0AD4o2alqX92JgYWEQ4SwRrMtaNx9MmI0IRxBCIMIRhBCIcAQhBJEQDr+/cUlQ5jd7tYhKC48tzCISc9VaygLOVWsnFnuu2mIgc9UEYZER4QhCCEQ4ghACEY4ghECEIwghCC0cTf1MgTemfRARgjT7PWP6aTLh+k/wDzrSoprlWenWT50T1/cSd8qz26KW76l5DvLhGuG7Q0MLJ+EYMPiM2rTBxqmq7U7Y9oFzH7whj7vTHSDtzv/KPNvS4dL5rpLxaTcp3/P4XFvCaeYk25QBNiduoNTl96/PQTVZpgLDpcvsKKfjl1xEbWyN02uScfo5H3wCKj1F/9v6CT2O87XySziEMRzryAPd9EGajN/sHepoiwh7ENsw2SCwvtSBL8Tewd/MyQV3Po++10+ilwqJTvYd+lsWUpTg7LLY83S9clRgDHQkUFibwe7PbvV2mMF5H70Gnc+uRk+xC33onHDAoOSOAl6EpCnRDNLFPqEPY3TLMez6tj8eWSeha5yL9V70agmgQBs88Mni5aOxM0XJmHGyETJyovV6h/roVIyf16lqGx44HPMKLvCbMKJkHG0WKe1jlIcCLcs9cQxvPvVtCaOXHYUTqyJPF3mcLniV3E/3a52o/LBoON2c/jF2Wt3B2Lbwr0wJXeOccAt4yj6Mx52DGLXKQJI+PHVt375wLcmip4qz303iV4wLsdWY++VNTMdPB7H2np1IHs0jSQUFzyIgP4wUfMHL9ItFU0xZGLj6TBy/YS3K/XwRZ5N8vQtr/vDtSL/ch8xYBgm60FzrRAkvRLPpUlcwnhxD/vwhHPzM8xjfMuDvUR+hhcPstAfxmLMfb7kjGHcrqGrshdEjRk7QRc7wNq0XN5hno1+b24GYWK6EFQ/sRfeO4zCHyjDK3MCLHq6ho5K1kD87i4H3rsXwln7/m9noRQO995+H7kfXI7WzG2ae2oF21IoLzrMLJ0k150U5DL37AAZvfhPVznBz/Iybbj/v8/563fRpKXRpcQpdHOTcIopa9JyIL/8KN4V3G2txlbkGvVR1zvfqSztporguozoJYidLiI1WvCI8YlQ6LOS2rsAJEs3IJb3z5tk1XeQ3nkS1o4T4oQyMoTj0crRqHIZFM35BDsc+/jIGb9oLJ8E9QuFoqMYRhOVK6M4BQVjOiHAEIQQiHEEIgQhHEEIgwhGEEIhwBCEEIhxBCIEIRxBCIMIRhBCIcAQhBCIcQQiBCEcQQiDCEYS6Af4TGKrUx0VqOv8AAAAASUVORK5CYII="},5578:function(t,e,i){"use strict";t.exports=i.p+"static/media/snake.283210587a2519d89ef0.png"},6655:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO8AAADvCAYAAAAacIO5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABixSURBVHhe7d17dJTlnQdwQ+t9EZIQCAnkQriEmxJNZiYTEQWtVSsixaAWt6JCo1CDPeKebQ/H0/WUtqenZzmlZ4/Fs9uKd+x2bT2l291Sl2Tu14QMkDjJzJBJxNJK6166Wyy4vyfzCwdLLnN5L8/7vt/PP/M+k8z7Pu8z853ned55Z95LAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJQRDAaXfayx4uLia3nzAJCPUCi0nPOkm3A4vJirAwDZ6OnpaeT86C4Wi63gagFYz7FjxxycBdOqqqq6gXcXwPimTp3azK9tSwoEAk3cFADy83g8Tn7tAqM2sXHzAOgvEolIMy81omg0irm0Sor4FsZQVlZ246lTpzq5CHkqLS1tPn36tI+LoJApfAsXeC+RWCl6DQRXGR988IF3pBsmqXi8me+GAlk+vDRPW8Wvq/Nm19Z28J9BYdXz53u4mUcEAgEn/wlyZNlhczAYvLmxsfEdLoIkEn2Jprr6uhAXYQKWC6/X673Z4XAgtBJLJxJNVXUI8GQsE16fz3eL3W7/NRdBcuK4Q2VdnYuLMAZTh1ccHBFzLC6CgdE0x0aCXARi2gNWkUhkDYJrHk1NTYEjR47cxEUgpgkvzWVb+ADmiIaGhl/xn8Akli9fflg8t4FAYBXfZWmmGDaL4DocDsyPLMbn8zmam5v9XASjiUajn+hxjeocGTg2sIB3S1U9PT2LebOG193dbefdAiMxS3A3rF//zHuJRDXvlmamTp1az1UwtOnTp9/MuwRGQEOmG/m5M7T169fviEQimgf3QqWlpaYIcTIed/AugaxCoZDUwaUR8Nnjx4/XcHVNIxaLzRe7l9lLOeHcaYl1dXVJHVwawunai6pNjBLWrl27k3dXSn6/HwGWDQX3M/z8SOfSSy/dduWVV1ZyVU2NRj5V69at28G7LiV6k0GAZXHFFVfs4udFV2JI3NPTM5erBReYNWtWLTeTFNADS6C0tHQ9Px+62rx583aa95VztWACNYSbTVf4yqFOKCif5edAdyK49EJAcHNA04g5n/70p5/iJtTN0aNH13CVQE3pZPKiL8fr7bHHHmtDcPPT1dVV+eCDD27nppRCMBhs4eqBUrxe7x3cvroS89pIJFLB1QIFiKPU4iwybmLdIcAKScbjN3Ob6kqENhQKzeZqgQrEkWpZQiw+duRqQT5omKx7cEVoOzo6EFodHD58eK6eYUaA83RS5+CK0GIuq79TyWT5l9vadJsXizP2uCqQjVR//y3cdpqj0P65p6dnFlcFJJCkAD+5fXsbP0WaC4fDK7kqMBluM02Jntbn8yG0EvN4PJXieeKnTFPd3d0I8GT8fv9d3F6aoBfDR+/398/kzYMBDA4OVogREj+FmkEPPAF6Z/0ct5MmysrKMKc1MJfLJUKsaU8cCATwW1kXojnuam4bzYgvm/PmwcDcbvfMrVu3Ps5PqyYikQgCLAzpENznvv71R9OxWAlXAQxOBLitrU3TAFu+Bx5KpTQP7m4E15SoNyxrb2/fwk+zJsS1rHjz1pIaGFjDbaCZZ5555tEjR44UcxXApGpqasr5KVcd9cDWCjDtsObB/drXvvbFzs5OBNciQqHQjKeeeupRfvpVZZkAD2nU4547e/ZMOp3G8NjixGf3WhyRpo7B/L9SyfuqGvG5Lc1FEFo4b+j48dJnd+16hF8iquHNmRfvpyqee+65L9JwaRpvCuAT4vF4mXhz55eL4qLR6J28KXPi/VQcggvZiMViJTt37nyMXzaK482Yz9GjR+/hfVTUt771rU00t7mGNwMwITGtEp888MtHUfQ6NGfvy/unqGuuuQbzW8iZCPDTTz+tSoCDwaC5Dl5Nnz5d8V6XVluVWTsUKt3fP/+uO+74G25aQxBXyOfq50V85q9WD8ybML6rr776Vt4nxezevfuh3t7eqbwJKEA4HJ6/atUqKX77Oh+BQKCJdyVnIsBf/epXFT8SHQqF7uJNGBcF9zbeH8WII4Y4OKUMmqMt4WY1tELONRYB3qXCR0ldXV238CaMZ9q0aYoHV6BVz8tsASaSTiSu5SaztKEsrhBI07rpl1566WZ+iGKokzFegKPRqCrBFWj1uKTIOIaTSVNcklNp2Qb4qquuUjzAfr9/NW9Cfmpe9Ovs2bNnMGQeG71IruNmgjFkc4lPEWCa6j3MD1FMd3e3pgEu4tucicryouKKiopErzuUKYEwlEyuqKypiXIRJjB84sSaOTU1v+biuNR4DdNrN+9M5WoK30qDD1T9Fxctb/RgE4Kbvcrq6kOizcZCwb6V/00EbTEvGlJe7xI0dLvXZrP9hIuKogadQzfDmZK1eTyehubm5ggXwQCk73nVCu6LL7yw6VQs9iEXLcvr9V4vegkEFyaSc3jphbWeFxX1T8+/sKnR6fzpzGXL/pvvspzR0DocjjDfBQYTi8Xu5kW50HD5dvHiUtr3vve9B7q7u6/mzVhKemBgOTcDmEQ4HJbrY6PBeFzx4J47d+6My+Wy7OmPNKdFcE0qEomofkHvrCfXokK8qIi9e/Y8uGjJkp/dfvvt/8N3WQqNYhptNluQi2BCah+80iW8osc9fvx46TKLzG+H+vquq1y4sIuLYBF9fX331NfX/4yLitMlvPSGJC72dSpTMjdxRhT1sAiuRanZ+2p+ksYbr776wPDwsCV6XK/Xa0dwQS1ZhXf27Nmf58WCfP/73//S4mXL3q6srPwj32U6Pp/PIUYpgsPh8PHdYFHd3d1reVF7XV1dih1lptXNzqzVfMTZULybAJ9AI7Dzp2QqadLxuNg4LxaMhv/iGrm/zZTMA6cxwmTUmPtOOGymIaAiw2XhjZdeeiCdTpturjucSiG4oIsJw2u323/MiwX50Y9+tHXxdde9PXfu3P/lu0xhKJVqrqiuRnBhUsFg8B5eVMy4Xbnb7d7gdDrf5GJBaMQgrk7/m0zJ+AKBgLOpqcnNRYCsKD10HndlCs91y+jmd5mScdE04gYajYS4CJATpcM75rA5Eols4MWC/eTNN++nua7hT4H0er0tCC4UgqaNig6dx3wnUKrXfeGFF7Zef/31rzQ2Nhr2c93BgYHGufPm4RxkUIT47beGhoZ/52JBLgpvLBbbsHTpUqXmuqV0czpTMh58eQDUoNTw+aJhs1LBffnll7fQcNmwR5cRXJDdRe8ASg2Z6c3FsCdk0FC5iYbKAS4CKCoQCNxrt9vf4mLesjq32UrENXEQXFATjej+hUZ267iYN/S8FxDBJQguaOa9ZPL2ynnz/o2LOVGz5z3Lt4bg8XhsCC5oraK29pfDicRnuJiTT4SXXsD38WJB9u/fv4XWZZiDVelEwtbc3OznIoCmRIDFb8RxMXepvr47xJBZCbS6GZm1yi8YDNq42gC6onnwpAF+9tlnp3R0dNwv/n/kDnoB3znyaIXQKg0RXgQXZDNegOlPUw4dOvRA5r8yRg5YiYWR/1BIkQHOZU6/+659zoIF+KULkM5QIrFhbl3dP4vlAwcOfKq0tLR19erVr4788QKKh/fyyy9/8cyZMzto8Q+Ze+STTibtc2pqEFwwNEWPNhcXF2+uqKhoo0VpgxsKhRBcMAXFet7KyspHL7vssldTqdT/8V3SET8OZ7fbvVwEMDTFwkvzXOm/hKDEfgLIAqdHAhiUZcJLQ+ZbeBHAFCwzbMaQGczGEj2v2+2W63qpAAowfXj9fn+z0+k8xEUA0zB1eEVwbTabh4sApmLq8MoeXI/HM78oS+KSKvwwgBFTvF5vKy8XylDf39XRx8FgsE4EsqWlZYDvmxT9b9dIikkgEFjBd4OFTXE4HG/wct5ef/31+w4ePCjVmVXUU63hRVl87HK5RGin0IggwfflxW63d4fD4cVcBIsqKvQjlAMHDoifin172bJlZ/guKUj00dDH1FPWUeCSXFaUz+e7VoSZi2AhBYX3rbfe2kyhfW3BggV/4rukIUF4P6ZgzWtubk5xWTUIsDUVFF4aAk6lGykv26lneDdu3PgV8iZNSYb4Li1spF1+nZfBAvI+2jx79uzNS5YskWqoLAMK7lM7duw4oHFwxa+CdPEiWETePS/1utPo5j8zJfno0fNycN90Op3DfJemEr29i2oXLerlIpicKT/n1eNIs97BFebV1/cFAoFFXASzEz1UPuih12TWIJfh/n4nV1EzFNz2SCRSwVXQnd/vX8hVAxMz1bBZBLeirk7TK9aL9qPg1jQ2Ng7yXVJwu93LaBTQw0UwIVOFN999KRS1xchXK2WjV3uANkz/rSIro/eUDbwIJoTwFogC4uRF6QQCARx5NjGEtwBf+MIX2l0u1wkuSsdmsx3lRTAhzHnzJLbldrtrVq5cKdWBqjGsp6qO/Po+mAt63jyJg1QGCO4lNDLo40UwGfS8BRAB5kWpad0uoA30vAAGhfACGBTCC2BQCC+AQSG8AAaVd3jLy8vXL1my5DIugqRcLtdSXgSTyfujIqFIsp/B0fojEYN8VISTNEyq0GHzp/jWcsQbRWdnZxUXpYXgmhfmvHkSve7KlSsruSilQCCAIbOJFRTen//85/fG4/HLuai79xKJ23hRE9SrSX05FZvNVs+LYEIFzXkF2X50vdD9yYXYlsxfTtCyLUB7BQ+bW1tbf9zT07P24MGD0vTAWpF56Cx+BocXwaSKEr29rbWLFhV8vSJ6HU+nmw8zJf1o3duI7cn2G1biB+hoyIxvE5nclHn19Qd4uVBSHHkOBoMtvKgJ0ft+5zvfuVemX4+02+3X8SKYneg9CkWrKcmsTX/id5u5Wpp55OGHd6T7+nQfQtO+L+cqgcmNnGQgFkae+QJQB1RKN6czJf0psU+50vuH110u16KWlhb8bpVFmPZzXq/XeysvauaNN974+z179txHvZ/mPbDocRFcazFtzyvo0fsyzS7vSaGtp+0c5yJYCM6wUkeRw+FI0nvHucOHD9fyfYpDcK0N4VVX0U033ZQQIfb7/YqGOBQKIbgWp1h4ab63LplMXsFF+KQim802EuJAIDCP78ubCO4NN9yA4FqcYuFtbW39x87OzrtlOteZgiLb1QyKmpqaBsRc3O121/F9OaE2vg7BhfPEi0kpP/zhD+975513pOmBabjazFWTEvWiWYWYwr6CHwIwQrGjzRcqKioSJ2z8PlPS3+HDh1fT3PMQF6Xk9XoXOJ3Ofi6e5/F4GmhuG+EiwHlqhbeMbn6XKclB6X0E0NvInJeGbneNlExMDJ95EcAURnpeId3ff8ecurqDXCyIjD2v4PP5HHa73ctFAEM7f7R57vz5v6B5VysXC/Liiy+uo7nalVyUhsPhoPz6buEigKGd73lHKTU3lPF0yVGY/4IZqHmGlbS/LOlyudD7guGpGV4AUJGaw+aZdPPbTEkuGDaDGajW87700kv3pNNp6Q5aCfTGIt60zmZKAMakWs8ryHzQSggGg7bGxkY/FwEMRdU57759+z4fCoWu4qJ0mpqaAl6v185FAEO5KLwUtjt5sWBbtmzZR+u7W8bPfEc5nc5AZ2fnzVwEMIyLhs1CIBD4LPVKv+BiwWj4LOUZVxfCQSwwmjGHzTab7V+pt7yPi0qQ/mqCQ+++i+HzOHw+3w3iIF8u6DHil0PwhqgX0RspYf/+/Vu6u7uv5tVK6+TAQBNXGYj4OiI3TUHcbnf1OcKrBYVw846N3j0/z/9XsH379t0v89z3Qn6/fyVX27JOnjixhJtDEfTcV7a2tu7g1YMCuGnHx/+nCFqdmPsaAgW4kattOSficUWDO0pcEmbjxo3tvBkoEDfr+MLh8O38vwWj1c3OrNUYrBZg8VM7vOuqcblcFQ899NA23iQUgJt0YiUlJYoMn/fu3bvVCHPfC1khwLSPml+YrLOzswrz4MJwU06O/79gr7/yyv3Dw8PSnrgxFjMHeDiZ1P3q+UNDQ3Mox3/mKkGWuPkmx/+vCFqd+NKCoYiPS7j6pkD7cy3vmhSSyWT5l9vatnP1IAvcdJPj/1fE2bNn/xSLxf6KV20oXq+3hXfDUDwez3LeBWmJAD+5bRvmw1niZpsc/79inn/++QeMNv8dj9vtlvq3oWnYv5CrKr3fJBKzvtLe/iWuOkyAm2xyyXhcsaPOo/bu3fugWQKciscbeLekYqTgXkh8rETz4LO8GzAGbqrs0AtB8QD/4Ac/ME2ABZpLOnjXdGfU4I6itpy1lfDuwF/gZsoeNehn+LGKEQF+//33TRPg8ZwcHFTl9Mv3UqnFvAlTCoVCs9ELX4ybJzdTp069lx+vGFqtoU7gyFc6kbiWd7lgXq/X1KH9Sx0dHQjxBbhZcsePVww9KWeoV7+GV29q7w8MLOfdzovH49H9s1m90Fy47PHHH2/jprA0bpLc8eMVRautyKzd/NJ5BDgYDC7ih1vayXi87G+fftryR6S5OXLHj1eU+Pw3Ho9boveFwtA8eMYTTzxh6QBzU+SOGk/xA1cCrboyswWAiYkAt7e3P8ovHcvhZshPNBq9jdejqOLi4mm8CYCsuN3umVY7P5p3PX80D1M8wHv27NnU29s7lTcBkLWTJ0+W0fTrDL+UTI13uTBqBPjb3/72Qwgw5COdTpf83a5dj/FLybR4dwsXiURu5XUqZvfu3Qgw5KWjo6PM7MPoMX/6NV9Hjhy5Z/ny5W9xURFFRUXVdDOYKQHkRJwQ083LpqNoeAXxjsCLiqmtrS1OpVJ/4CJAtkwdXsUvd3Ls2LF1vKiY06dPry0pKcHnv5A1cSYWDZsjXDQlxcO7dOnSn/KiYj788MMX6YlYhwBDNmKxWMlrr712D025pP+x/0IoPmwW1Bg6j6quri4ZHBz8PRcBPkH0uCtWrDhp9uAKql4lUA0nTpw4Ld4c9nz3u3+djEan891gcUNDQ6XP7tr1SENDwykrBFc1gUBgjQiY2sRHAR6Pp4Q3CxYlvrRPrwXLfVWQd195qYEBTQL8l775jW88TL1zMVcDTIo6iHI9Psf96KOP/siLuuOmUI/X672bt6UZ2qyhf/4FxhePx8t27typ6dlTwWDwDt78JeIXX17Zv/9+/pOuuErq0jrA4h1ZfOOENw8mIQ5Gbd++XdMv4tO0bBVvPif0uCtffvnlL/JqVMGb0sQ3eZuaoO3hi+smIr411NbW9jg/vZqgoflNvPm8iRDv37//YV6lYmiefydvQhu0I5/jbWuivLzcMFclhPF1d3cbMrijPo7HL//l229v4FUXLD0woG1wR6VTqVu4DppAgI1N9Lhbt27VNLi0TcWCazp+v/8ubidNiDmweBHw5sEgEonErPb29if4adQEvTZX8uZhAt/g9tKM+CxQfCbI2weJjQR3+3YEV1bUG2raA48SPXFPTw9CLCnxBvvII49oesGxcDiM4ObK6/XezO2nOdETiw/7uSogAY/HUymeF36KNBEKhW7kzUOukseP6xZgQbxYxK/xc3VAY9TTiotra36V/IqKitu4ClCIYDCoa4CFbdu2bRUfS3CVQGXU483evHmzpkeSRxUXF7dwNUAJkUhkFbetbkQv7HK5LHPlBr10dnZW6dHbCtTjIrhqKSkp+Sy3sxSeevLJNnHVdq4eFIB6W91CKyC4GqBe+CZubynQ8G47Dm7lp6urq3LTpk3buSk1d/To0TVcFdBK4t13pQqwGFLTnHgOVw+yEI1Ga/TsaWn7Tq4K6GEwHlf8ivyFouHXXK4ejKG8vLyGm0o3qVSqmasDMpg5c6YqFzhTghgaiiEiV9W0YrFY1fr163fwbktn2rRpq7mqIJuysrIb+XmS0vTp02u4qqYTiUSq165du5N3VTpUP/S2sispKVHlCoVKEnM9miPXcpUNj3rc+XrOXydDbe3gqoLs+DkznKqqqnm8C1KZMWPGIq6i4YTDYQTXSILBYAs/d4YjerDBeLyOd0VXyb6+eq6WIYVCITvviqWo8qPrWhIBbmxsdHERLEb0uPT8+7loKYYPr3Civ7+lqq4OAbaYVDzuqF240JLBFQx3xYSxVM+f7y5i1BPfyneDSYmvkYrn2srBFUzR844lEAisaWpq+hUXweDi8fiqhQsXdnARiGnDO8rtdq92Op2HuAgGlO7rs1XV1we5CMwUw+aJtLS0/FoMsfx+P866MRDxe1LieRMQXBgRjUZ1/9I/TMzn8+FnabJg+mHzeESIV6xY8Q4XQRLU0W6jm3/IlGAiph82j6ehoeE/xJBMHLnku0Bn7w0MiB4XwYXciMtb8KgNNDCEr+uBkgZ7e5v4tQUqwbd+QDc0Vzbs+dRa6OrqsnFTAchL9CL8mrU8mnY0cbOARix7tFlpJSUljg8++MDLRcuYMWOGjfYbn8OCufUabE4dj8cbuOoAEA6Hr+VsSCsYDCK0AGMJhULLOSfS8fl8S7iaADCWI0eOSBXgaDS6gqsGAAAAAAAAAAAAkKtLLvl/fNi4v0nVFXQAAAAASUVORK5CYII="},3155:function(t){"use strict";t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYYXBwbAQAAABtbnRyUkdCIFhZWiAH5gABAAEAAAAAAABhY3NwQVBQTAAAAABBUFBMAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGzs/aOOOIVHw220vU962hgvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAADBjcHJ0AAABLAAAAFB3dHB0AAABfAAAABRyWFlaAAABkAAAABRnWFlaAAABpAAAABRiWFlaAAABuAAAABRyVFJDAAABzAAAACBjaGFkAAAB7AAAACxiVFJDAAABzAAAACBnVFJDAAABzAAAACBtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABQAAAAcAEQAaQBzAHAAbABhAHkAIABQADNtbHVjAAAAAAAAAAEAAAAMZW5VUwAAADQAAAAcAEMAbwBwAHkAcgBpAGcAaAB0ACAAQQBwAHAAbABlACAASQBuAGMALgAsACAAMgAwADIAMlhZWiAAAAAAAAD21QABAAAAANMsWFlaIAAAAAAAAIPfAAA9v////7tYWVogAAAAAAAASr8AALE3AAAKuVhZWiAAAAAAAAAoOAAAEQsAAMi5cGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltzZjMyAAAAAAABDEIAAAXe///zJgAAB5MAAP2Q///7ov///aMAAAPcAADAbv/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhARExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/CABEIAMgAyAMBEQACEQEDEQH/xAAcAAEBAAIDAQEAAAAAAAAAAAAACAYHAQMFBAL/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAwQFAgEG/9oADAMBAAIQAxAAAAHQv0GiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAADkAA2FBHY2TT5AAAAAAAAOCOda5r2eQACzcintatEAAAAAAABqqzLGOvcAAGXRcXhiUe0AAA0jcm3dThAAA6iENu9iEvYAAFS5tXf1GAAAa5sSRHsXbZx6Wya8YAA0JdnlfTtAAAD1efL5w6Hq8+AD8kMbN7BZ+84h4ujFo/sAHmdewNt3/I79AAAA39RgqXNqgDSdyaSNS2BWeXU3hThAEu6Vmfr1gAAAAd3i8MWhlsXI+L1BG5f8DvoD3OOb5w6P3eeDFZOoN27/AEegAAAANrVYrNyaYm3QszdoWAAKLoV6YzqwjjWuajtSgAAAAAWpkUsvh5gjcvfH76AB9Xi9cShjUnUTbF3gAAAAAAzOHjNYuNL25gAANxVIcVl7websAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/xAAmEAABAgYCAgIDAQAAAAAAAAAFAAYBAgMEERUHIBAwFBYSF3BA/9oACAEBAAEFAv5lmCzBZgswWYLMFmCzBZgswWYLMFmCzBZgswWYLMFmHZjlLYcb0g5aQctIOWkHLSDlpBy0g5aQctIOWkHLSDlpBy0g5aQctIOWkHLSDlpBy0g5PgpbETfXjtx7sN/h5EcekDdmsenbpmjVkr0u/wCwJPuverVlo0nUemcRnvxW4/k2nZ9uP6+FTDcf2AL25TcfxLP0CyNYQQFkaRYf0mmhJK83DFxG0znBFumpJoTy9CRCkKsCxOqYI+nitx/GuunJzj1ozzxe49gO6cqOP5Fx6qNWe3qtY9I4Q3i8u6VhaHS9U6V8hC1UITsb2kRs/DmOSN4PXrz3Nb18dOPSGfHKzj7cVOP8J/HI7j3Bj28fOPehTxikCFXl3Vvrrra3NSzuW6apnxL8cegC+5pH5m6a5Kc8pch342csA5N4uCLiNfzb/8QAIhEAAgICAgMAAwEAAAAAAAAAAREAAgMSIDAQIUETInBA/9oACAEDAQE/Af6VcMeozGYzGYzGYzGYzGYzGYzGYzGYzGYzKBD3yyVR/wAWOrPO1dgun8f6vprXULoy1+86V2Pi9dTzxV+9JDChCK5UrqPF67DkA/UAQXVlr944qsvhkqi+OKv3stXUryPcqNQuBDChC81GxXbkqx5xV+8stfvnHVDuvXUyo2Kg9c7DUqY67HvtXYTHVB9GSrDlK6j+b//EACYRAAEDAwQCAgMBAAAAAAAAAAIBAxIAEVEEEyAwECExQSNCcED/2gAIAQIBAT8B/pTwqQ+qmWamWamWamWamWamWamWamWamWamWamWamWamWamWamWamWamWamWamWaZFRH3yfbgV0/wATDcyuvNwNwbV8dGx+KX30fNNhtjbo1LdlmnNhuZeHm4Fz0zd1mvSQoSWWiFRWy8mg2xt4dDcG3IRktkoRQEsnVqW7pNOOmbksl+uGpbisk46ZuyTXr+acDbK3lEutkoBgMeBjMYrSpFbL5bDcK1J69dj7cxun150zf7ry1Lf7p507cBvnufbgVAMytSJZLJyVLpZaMIFamG5l3uhuDatO3FLr0ahuY3Smg2xt/N//xAA6EAABAgIGBgYJBAMAAAAAAAACAQMABBESMTRBUSAiIzBhkwUQEyFSgRQkMkJikcHR4UBDY3BxovD/2gAIAQEABj8C/rK2LYti2LYti2LYti2LYti2LYti2LYti3SAZxlp2VmNmXaii1FwKLhLckYuEtyRi4S3JGLhLckYuEtyRi4S3JGLhLckYuEtyRi4S3JGLhLckYuEtyRi4S3JGLhLckYuEtyRi4S3JGLhLckYuEtyRi4S3JGLhLckYMJNlpqVl9mPZCiV1xLSRl0qZuVoAsyHAv0SstFRNzVIBmKYlpszaU9l7Do5hj94BxskMDSsJJim49ArJ6Bd6/8ALTb/AIw3BuGSCApWUlwSHprv7L2GRyDD77g+ini2jCVmacQy8tM1bKiaf2bXDMvLqHtCpm2Nm7xyLz0x6KZLavpWdowDLz3LE4wu0aKsnHhDE2wtLbo1k4cNFVVaETFYdeFfVm9mynw5+fU0+q+rns3k+HPyhCFawr3oqaL82+tDTQ1lh+cfXaOlTRkmCbo+ini2b2uzTgeKeeinR7JUTE0mtR7rePzs+egvRrxUzEqmpT7zf4+2iHRLJajWu9R4sE8t2DrZKDgLWEkwWGZtO5z2XR8J49bsw8VRpoVMl4RMTrtri6o+EcE0GJ1n2my7x8SYpDMywVZp0UMV635wu801Wx8R4JDjzpV3HCUiJcV3iMOlRKTVAFkJe6v06w6HZLJx+j/Ufr8tI+iHi7ipcYVc8R+vz6/RmiplZRVFPiPFfpvhB0qZuW2bmZJgUTE47Y2mqPiLBIemXirOukpkvHSafZKo62SGJZLDE433Vk1x8JYpB9mVE3MbNrhmXlv2pn9hdR5Mw/FsBJSzleUl+9VGwz/H33Cyj51ZSaxKwDwX/uEOvovq4bNlPhz8/wCt/wD/xAApEAABAgQFBAIDAQAAAAAAAAABABEhMWGRIEFxwfAwUYGhELFAcPHh/9oACAEBAAE/If1iSBMgKkuqS6pLqkuqS6pLqkuqS6pLqkuqS6pLqkuqS6pLqkuqS6pLqkugQZEHCyuY4UhzpRgaGi5ZsuWbLlmy5ZsuWbLlmy5ZsuWbLlmy5ZsuWbLlmy5ZsuWbLlmy5ZsuWbLlmy5ZsnRSHCgOVOMBQVxQxw7P8FA1H4UGsMj/AIYQFSpYjAE5lnH2ElQgpCyAgcEdAjtkapq39AmJ8kAHJKLUgMRlE3GbXoRZ3kWbHyGxpjmYNsxJvQ9kJy7uX7vFZTi+Yw+h7BxwW3yWb9gsD36LYgcDsBzKhDjym9r9zuKoLg6YQBhnJGACcCeBD90bfB+19T7FG/dB8ggg4I74Xpt980FSYeU5cKjOMpoAw6TO4OSF/BB9RXDHHYZ0jAGaWGaQLoaYTS5MDlPao6kdumEmOYALgppVlrkSaZihHyMeVPIA6dBESZX1j2+BzwugHXdRstKJ4Hf5bpAd5n9DQFE4zxhC5PUiBl0eFi1p8+S2Vz7YmedE4snyeodEYSPHJoe/WkwJwyHuE6gowYMyRNL1KqMtMj9YiZAxZBcJm8mg5e/6ZZ2g2Yw+h7IXvXrPrJg3MMTrI0QgsSTkidQBbU9AF/DOMDMOQIgUPStofYo27frf/9oADAMBAAIAAwAAABC2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222n/wD/AP8A/wD/AP8A/m200kkkkkkkk0221SSSSSSSSRW22lySSDiSSRm2222SSQWySSO2220aSQajSSRW2221CSG2+SS222224yc22qT6222224QW22QC222222nW22wU2222221i222uW222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222//8QAIREBAAEEAwEAAwEAAAAAAAAAAQARITFhIDBBEEBRcMH/2gAIAQMBAT8Q/pTXVybpum6bpum6bpum6bpum6bpum6bpum6bo37TyuRh/CuTg5kkJSz0Vbv86ArY6ZUGn3nmcHzEYedRr86QZRGXKw+/Kie8kYIRDqqFPnG4MHC0cPGgV9aVKMrH0FUIIDgbKIkfrhAAUOy5mT77eXh+3py92IwxQEAKHJBKMVFMjg76yS/MvRZmSWH3+b/AP/EACYRAAECBQQCAwEBAAAAAAAAAAEAESAxQWGRITBRcRCxcIHRQPD/2gAIAQIBAT8Q+MmKYpimKYpimKYpimKYpimKYpimKYpimMRSTYjVXWVdZV1lXWVdZV1lXWVdZV1lXWVdZV1lXWVdZV1lXWVdZV1lXWUAk3J1i4gP8XEAjGWunaIJMdh+R9f7XYAJMEMNde9jgAz7jmchqfErkdRG8SBLvZI5RRHOEID6BNpTM/D7VRENoYSDnFCMobXIAn1DwJ7QcDH3C8VJbZAAgyRyU068nFMKGIKQBJURyTh5MAfvpAAASG5zJ5Tvo/Ynhk/fOo5+m9qYkZI4hqhCkCIBpBRjGpnIanfCWunaOcWp9bGgWo9JtqM/jf8A/8QAJxABAAEDBAIBBAMBAAAAAAAAAREAIUExUWHxIHEwEEChsXCBkfD/2gAIAQEAAT8Q/jH8qDFdCroVdCroVdCroVdCroVdCroVdCroVdCroVdCroVdCroVdCqVsGzPjpxkxyEWAvYuFCn2T9+/fv379+/fv379+/fv3sNPmdNnkkiQR6Fy8UERJGyVHVfnwobKoW3XP2UOVudDgskgmy4oAAEBYPJVRudjoRN4DgTLSFCRk0lkRE9+awUQ06X5k/ozsoZPNsyqw4SwAK+qbeV7NWCWFXkjjz0qQZQNLAGbrbG35iFoRgcv6Lno5paR5zeu1mdZm871ODjyRi74CV2vnIEUWk0DyMZPhxy08DQI2UnFL1buyj+AhuvF58jgQqq2ACZpMcnEWTDeb1jj6CDQHuIrTZB4BQW0RliQJZEhHnxnpPB0C29ABlFNoXZNCkYYepz8QRs04AIFbEAbuaF/BpJIpL1OF2cGzwn7CUSlLuVp8uXiMtPuGFeNyZ/q+M8hv4PD5EGkxZs0hFuk+smXCEXJRu2gMqFOE7nSSgP6J3Sz4O4ChAtuJOcMsUT20HKcgksDRMIn1STa41PVJwIpoVBSuV7V+SVi1GlAsoBLJsWgyfSVtSYPuwv8n9nyg/E0T1HO5JGTd9JgpV6KUz2y1IScvyv+tUE5b/Bc5tQvz6XoGUEgciE4JcUiPHEksbDQMAGPLVDjIMnJJcyKZpuJv8sAS620TqlmpsMSQMqLhJGqqqqp1VK8rn5k0xJ5goAboHsGWogXT9KSjAIP6HwObghREKWCW01OlI8StsDrzkPhH2AIsW+CJI1/h/8A/9k="},907:function(t,e,i){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}i.d(e,{Z:function(){return r}})},7326:function(t,e,i){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i.d(e,{Z:function(){return r}})},5861:function(t,e,i){"use strict";function r(t,e,i,r,n,s,o){try{var a=t[s](o),l=a.value}catch(u){return void i(u)}a.done?e(l):Promise.resolve(l).then(r,n)}function n(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var o=t.apply(e,i);function a(t){r(o,n,s,a,l,"next",t)}function l(t){r(o,n,s,a,l,"throw",t)}a(void 0)}))}}i.d(e,{Z:function(){return n}})},5671:function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,{Z:function(){return r}})},3144:function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}i.d(e,{Z:function(){return n}})},9388:function(t,e,i){"use strict";i.d(e,{Z:function(){return o}});var r=i(1120),n=i(8814),s=i(6215);function o(t){var e=(0,n.Z)();return function(){var i,n=(0,r.Z)(t);if(e){var o=(0,r.Z)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,s.Z)(this,i)}}},1120:function(t,e,i){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}i.d(e,{Z:function(){return r}})},136:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});var r=i(9611);function n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.Z)(t,e)}},8814:function(t,e,i){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}i.d(e,{Z:function(){return r}})},6215:function(t,e,i){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}i.d(e,{Z:function(){return s}});var n=i(7326);function s(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,n.Z)(t)}},9611:function(t,e,i){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}i.d(e,{Z:function(){return r}})},885:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});var r=i(181);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,s=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(l){a=!0,n=l}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return s}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});var r=i(907);function n(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,r.Z)(t,e):void 0}}}},e={};function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=t,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var s=Object.create(null);i.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){o[t]=function(){return r[t]}}));return o.default=function(){return r},i.d(s,o),s}}(),i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,r){return i.f[r](t,e),e}),[]))},i.u=function(t){return"static/js/"+({214:"polyfills-core-js",748:"polyfills-dom"}[t]||t)+"."+{214:"fd0ceff7",340:"cd2b0836",748:"54f4c554"}[t]+".chunk.js"},i.miniCssF=function(t){},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="portfolio-website:";i.l=function(r,n,s,o){if(t[r])t[r].push(n);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),h=0;h<u.length;h++){var c=u[h];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==e+s){a=c;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",e+s),a.src=r),t[r]=[n];var d=function(e,i){a.onerror=a.onload=null,clearTimeout(f);var n=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((function(t){return t(i)})),e)return e(i)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},i.p="/",function(){var t={179:0};i.f.j=function(e,r){var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var s=new Promise((function(i,r){n=t[e]=[i,r]}));r.push(n[2]=s);var o=i.p+i.u(e),a=new Error;i.l(o,(function(r){if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}}),"chunk-"+e,e)}};var e=function(e,r){var n,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)l(i)}for(e&&e(r);u<o.length;u++)s=o[u],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0},r=self.webpackChunkportfolio_website=self.webpackChunkportfolio_website||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t={};i.r(t),i.d(t,{ACESFilmicToneMapping:function(){return Ze},AddEquation:function(){return ye},AddOperation:function(){return Ve},AdditiveAnimationBlendMode:function(){return br},AdditiveBlending:function(){return fe},AlphaFormat:function(){return Ei},AlwaysDepth:function(){return De},AlwaysStencilFunc:function(){return Zr},AmbientLight:function(){return Ff},AmbientLightProbe:function(){return $f},AnimationClip:function(){return af},AnimationLoader:function(){return mf},AnimationMixer:function(){return Op},AnimationObjectGroup:function(){return kp},AnimationUtils:function(){return Xd},ArcCurve:function(){return pc},ArrayCamera:function(){return Yu},ArrowHelper:function(){return _m},Audio:function(){return cp},AudioAnalyser:function(){return yp},AudioContext:function(){return Qf},AudioListener:function(){return hp},AudioLoader:function(){return Kf},AxesHelper:function(){return Sm},AxisHelper:function(){return fv},BackSide:function(){return ae},BasicDepthPacking:function(){return Er},BasicShadowMap:function(){return ie},BinaryTextureLoader:function(){return gv},Bone:function(){return Oh},BooleanKeyframeTrack:function(){return $d},BoundingBoxHelper:function(){return pv},Box2:function(){return Vp},Box3:function(){return is},Box3Helper:function(){return xm},BoxBufferGeometry:function(){return ra},BoxGeometry:function(){return ra},BoxHelper:function(){return gm},BufferAttribute:function(){return xo},BufferGeometry:function(){return jo},BufferGeometryLoader:function(){return Hf},ByteType:function(){return vi},Cache:function(){return uf},Camera:function(){return la},CameraHelper:function(){return fm},CanvasRenderer:function(){return bv},CanvasTexture:function(){return cc},CapsuleBufferGeometry:function(){return Ic},CapsuleGeometry:function(){return Ic},CatmullRomCurve3:function(){return bc},CineonToneMapping:function(){return Xe},CircleBufferGeometry:function(){return Fc},CircleGeometry:function(){return Fc},ClampToEdgeWrapping:function(){return ri},Clock:function(){return np},Color:function(){return Nn},ColorKeyframeTrack:function(){return tf},ColorManagement:function(){return kn},CompressedTexture:function(){return hc},CompressedTextureLoader:function(){return vf},ConeBufferGeometry:function(){return Bc},ConeGeometry:function(){return Bc},CubeCamera:function(){return ca},CubeReflectionMapping:function(){return Ke},CubeRefractionMapping:function(){return Je},CubeTexture:function(){return da},CubeTextureLoader:function(){return gf},CubeUVReflectionMapping:function(){return ei},CubicBezierCurve:function(){return Ac},CubicBezierCurve3:function(){return Tc},CubicInterpolant:function(){return qd},CullFaceBack:function(){return $t},CullFaceFront:function(){return te},CullFaceFrontBack:function(){return ee},CullFaceNone:function(){return Jt},Curve:function(){return dc},CurvePath:function(){return Lc},CustomBlending:function(){return ve},CustomToneMapping:function(){return qe},CylinderBufferGeometry:function(){return jc},CylinderGeometry:function(){return jc},Cylindrical:function(){return zp},Data3DTexture:function(){return qn},DataArrayTexture:function(){return Xn},DataTexture:function(){return Dh},DataTexture2DArray:function(){return Rv},DataTexture3D:function(){return kv},DataTextureLoader:function(){return xf},DataUtils:function(){return Tm},DecrementStencilOp:function(){return jr},DecrementWrapStencilOp:function(){return Nr},DefaultLoadingManager:function(){return cf},DepthFormat:function(){return ki},DepthStencilFormat:function(){return Li},DepthTexture:function(){return Qu},DirectionalLight:function(){return If},DirectionalLightHelper:function(){return hm},DiscreteInterpolant:function(){return Kd},DodecahedronBufferGeometry:function(){return Uc},DodecahedronGeometry:function(){return Uc},DoubleSide:function(){return le},DstAlphaFactor:function(){return Ce},DstColorFactor:function(){return Re},DynamicBufferAttribute:function(){return rv},DynamicCopyUsage:function(){return rn},DynamicDrawUsage:function(){return Qr},DynamicReadUsage:function(){return $r},EdgesGeometry:function(){return Wc},EdgesHelper:function(){return mv},EllipseCurve:function(){return fc},EqualDepth:function(){return je},EqualStencilFunc:function(){return Vr},EquirectangularReflectionMapping:function(){return $e},EquirectangularRefractionMapping:function(){return ti},Euler:function(){return Us},EventDispatcher:function(){return ln},ExtrudeBufferGeometry:function(){return _d},ExtrudeGeometry:function(){return _d},FaceColors:function(){return Ym},FileLoader:function(){return pf},FlatShading:function(){return ue},Float16BufferAttribute:function(){return Mo},Float32Attribute:function(){return cv},Float32BufferAttribute:function(){return Co},Float64Attribute:function(){return dv},Float64BufferAttribute:function(){return Po},FloatType:function(){return wi},Fog:function(){return rh},FogExp2:function(){return ih},Font:function(){return Mv},FontLoader:function(){return Ev},FramebufferTexture:function(){return uc},FrontSide:function(){return oe},Frustum:function(){return ba},GLBufferAttribute:function(){return Fp},GLSL1:function(){return sn},GLSL3:function(){return on},GreaterDepth:function(){return Ne},GreaterEqualDepth:function(){return Be},GreaterEqualStencilFunc:function(){return Xr},GreaterStencilFunc:function(){return Wr},GridHelper:function(){return sm},Group:function(){return Xu},HalfFloatType:function(){return _i},HemisphereLight:function(){return _f},HemisphereLightHelper:function(){return nm},HemisphereLightProbe:function(){return Jf},IcosahedronBufferGeometry:function(){return Ad},IcosahedronGeometry:function(){return Ad},ImageBitmapLoader:function(){return qf},ImageLoader:function(){return yf},ImageUtils:function(){return Un},ImmediateRenderObject:function(){return Cv},IncrementStencilOp:function(){return Fr},IncrementWrapStencilOp:function(){return Br},InstancedBufferAttribute:function(){return Bh},InstancedBufferGeometry:function(){return Gf},InstancedInterleavedBuffer:function(){return Ip},InstancedMesh:function(){return Vh},Int16Attribute:function(){return av},Int16BufferAttribute:function(){return So},Int32Attribute:function(){return uv},Int32BufferAttribute:function(){return To},Int8Attribute:function(){return nv},Int8BufferAttribute:function(){return bo},IntType:function(){return xi},InterleavedBuffer:function(){return sh},InterleavedBufferAttribute:function(){return ah},Interpolant:function(){return Zd},InterpolateDiscrete:function(){return fr},InterpolateLinear:function(){return pr},InterpolateSmooth:function(){return mr},InvertStencilOp:function(){return Ur},JSONLoader:function(){return wv},KeepStencilOp:function(){return Dr},KeyframeTrack:function(){return Jd},LOD:function(){return Eh},LatheBufferGeometry:function(){return Dc},LatheGeometry:function(){return Dc},Layers:function(){return zs},LensFlare:function(){return Sv},LessDepth:function(){return Ie},LessEqualDepth:function(){return Fe},LessEqualStencilFunc:function(){return Hr},LessStencilFunc:function(){return Gr},Light:function(){return wf},LightProbe:function(){return Nf},Line:function(){return Qh},Line3:function(){return Yp},LineBasicMaterial:function(){return Hh},LineCurve:function(){return Ec},LineCurve3:function(){return Mc},LineDashedMaterial:function(){return Wd},LineLoop:function(){return tc},LinePieces:function(){return Hm},LineSegments:function(){return $h},LineStrip:function(){return Vm},LinearEncoding:function(){return Ar},LinearFilter:function(){return hi},LinearInterpolant:function(){return Qd},LinearMipMapLinearFilter:function(){return pi},LinearMipMapNearestFilter:function(){return di},LinearMipmapLinearFilter:function(){return fi},LinearMipmapNearestFilter:function(){return ci},LinearSRGBColorSpace:function(){return Lr},LinearToneMapping:function(){return We},Loader:function(){return df},LoaderUtils:function(){return zf},LoadingManager:function(){return hf},LoopOnce:function(){return hr},LoopPingPong:function(){return dr},LoopRepeat:function(){return cr},LuminanceAlphaFormat:function(){return Ri},LuminanceFormat:function(){return Pi},MOUSE:function(){return Qt},Material:function(){return mo},MaterialLoader:function(){return Uf},Math:function(){return wn},MathUtils:function(){return wn},Matrix3:function(){return Sn},Matrix4:function(){return Rs},MaxEquation:function(){return we},Mesh:function(){return ea},MeshBasicMaterial:function(){return vo},MeshDepthMaterial:function(){return Uu},MeshDistanceMaterial:function(){return zu},MeshFaceMaterial:function(){return Zm},MeshLambertMaterial:function(){return Vd},MeshMatcapMaterial:function(){return Hd},MeshNormalMaterial:function(){return Gd},MeshPhongMaterial:function(){return Ud},MeshPhysicalMaterial:function(){return Nd},MeshStandardMaterial:function(){return Bd},MeshToonMaterial:function(){return zd},MinEquation:function(){return be},MirroredRepeatWrapping:function(){return ni},MixOperation:function(){return Ge},MultiMaterial:function(){return qm},MultiplyBlending:function(){return me},MultiplyOperation:function(){return ze},NearestFilter:function(){return si},NearestMipMapLinearFilter:function(){return ui},NearestMipMapNearestFilter:function(){return ai},NearestMipmapLinearFilter:function(){return li},NearestMipmapNearestFilter:function(){return oi},NeverDepth:function(){return Oe},NeverStencilFunc:function(){return zr},NoBlending:function(){return ce},NoColorSpace:function(){return Rr},NoColors:function(){return Wm},NoToneMapping:function(){return He},NormalAnimationBlendMode:function(){return xr},NormalBlending:function(){return de},NotEqualDepth:function(){return Ue},NotEqualStencilFunc:function(){return Yr},NumberKeyframeTrack:function(){return ef},Object3D:function(){return eo},ObjectLoader:function(){return Wf},ObjectSpaceNormalMap:function(){return Pr},OctahedronBufferGeometry:function(){return Td},OctahedronGeometry:function(){return Td},OneFactor:function(){return Se},OneMinusDstAlphaFactor:function(){return Pe},OneMinusDstColorFactor:function(){return ke},OneMinusSrcAlphaFactor:function(){return Me},OneMinusSrcColorFactor:function(){return Te},OrthographicCamera:function(){return Oa},PCFShadowMap:function(){return re},PCFSoftShadowMap:function(){return ne},PMREMGenerator:function(){return Ga},ParametricGeometry:function(){return Av},Particle:function(){return Km},ParticleBasicMaterial:function(){return tv},ParticleSystem:function(){return Jm},ParticleSystemMaterial:function(){return ev},Path:function(){return Oc},PerspectiveCamera:function(){return ua},Plane:function(){return ya},PlaneBufferGeometry:function(){return Sa},PlaneGeometry:function(){return Sa},PlaneHelper:function(){return bm},PointCloud:function(){return Qm},PointCloudMaterial:function(){return $m},PointLight:function(){return Of},PointLightHelper:function(){return tm},Points:function(){return oc},PointsMaterial:function(){return ec},PolarGridHelper:function(){return om},PolyhedronBufferGeometry:function(){return Nc},PolyhedronGeometry:function(){return Nc},PositionalAudio:function(){return vp},PropertyBinding:function(){return Rp},PropertyMixer:function(){return gp},QuadraticBezierCurve:function(){return Cc},QuadraticBezierCurve3:function(){return Pc},Quaternion:function(){return Jn},QuaternionKeyframeTrack:function(){return nf},QuaternionLinearInterpolant:function(){return rf},REVISION:function(){return qt},RGBADepthPacking:function(){return Mr},RGBAFormat:function(){return Ci},RGBAIntegerFormat:function(){return ji},RGBA_ASTC_10x10_Format:function(){return or},RGBA_ASTC_10x5_Format:function(){return rr},RGBA_ASTC_10x6_Format:function(){return nr},RGBA_ASTC_10x8_Format:function(){return sr},RGBA_ASTC_12x10_Format:function(){return ar},RGBA_ASTC_12x12_Format:function(){return lr},RGBA_ASTC_4x4_Format:function(){return qi},RGBA_ASTC_5x4_Format:function(){return Qi},RGBA_ASTC_5x5_Format:function(){return Ki},RGBA_ASTC_6x5_Format:function(){return Ji},RGBA_ASTC_6x6_Format:function(){return $i},RGBA_ASTC_8x5_Format:function(){return tr},RGBA_ASTC_8x6_Format:function(){return er},RGBA_ASTC_8x8_Format:function(){return ir},RGBA_BPTC_Format:function(){return ur},RGBA_ETC2_EAC_Format:function(){return Zi},RGBA_PVRTC_2BPPV1_Format:function(){return Wi},RGBA_PVRTC_4BPPV1_Format:function(){return Hi},RGBA_S3TC_DXT1_Format:function(){return Ni},RGBA_S3TC_DXT3_Format:function(){return Ui},RGBA_S3TC_DXT5_Format:function(){return zi},RGBFormat:function(){return Mi},RGB_ETC1_Format:function(){return Yi},RGB_ETC2_Format:function(){return Xi},RGB_PVRTC_2BPPV1_Format:function(){return Vi},RGB_PVRTC_4BPPV1_Format:function(){return Gi},RGB_S3TC_DXT1_Format:function(){return Bi},RGFormat:function(){return Ii},RGIntegerFormat:function(){return Fi},RawShaderMaterial:function(){return jd},Ray:function(){return Ps},Raycaster:function(){return jp},RectAreaLight:function(){return jf},RedFormat:function(){return Oi},RedIntegerFormat:function(){return Di},ReinhardToneMapping:function(){return Ye},RepeatWrapping:function(){return ii},ReplaceStencilOp:function(){return Ir},ReverseSubtractEquation:function(){return xe},RingBufferGeometry:function(){return Ed},RingGeometry:function(){return Ed},SRGBColorSpace:function(){return kr},Scene:function(){return nh},SceneUtils:function(){return _v},ShaderChunk:function(){return Aa},ShaderLib:function(){return Ea},ShaderMaterial:function(){return aa},ShadowMaterial:function(){return Fd},Shape:function(){return Yc},ShapeBufferGeometry:function(){return Md},ShapeGeometry:function(){return Md},ShapePath:function(){return Am},ShapeUtils:function(){return xd},ShortType:function(){return yi},Skeleton:function(){return jh},SkeletonHelper:function(){return Jp},SkinnedMesh:function(){return Lh},SmoothShading:function(){return he},Source:function(){return zn},Sphere:function(){return ws},SphereBufferGeometry:function(){return Cd},SphereGeometry:function(){return Cd},Spherical:function(){return Up},SphericalHarmonics3:function(){return Bf},SplineCurve:function(){return Rc},SpotLight:function(){return Cf},SpotLightHelper:function(){return Zp},Sprite:function(){return _h},SpriteMaterial:function(){return uh},SrcAlphaFactor:function(){return Ee},SrcAlphaSaturateFactor:function(){return Le},SrcColorFactor:function(){return Ae},StaticCopyUsage:function(){return en},StaticDrawUsage:function(){return qr},StaticReadUsage:function(){return Jr},StereoCamera:function(){return rp},StreamCopyUsage:function(){return nn},StreamDrawUsage:function(){return Kr},StreamReadUsage:function(){return tn},StringKeyframeTrack:function(){return sf},SubtractEquation:function(){return ge},SubtractiveBlending:function(){return pe},TOUCH:function(){return Kt},TangentSpaceNormalMap:function(){return Cr},TetrahedronBufferGeometry:function(){return Pd},TetrahedronGeometry:function(){return Pd},TextGeometry:function(){return Tv},Texture:function(){return Hn},TextureLoader:function(){return bf},TorusBufferGeometry:function(){return Rd},TorusGeometry:function(){return Rd},TorusKnotBufferGeometry:function(){return kd},TorusKnotGeometry:function(){return kd},Triangle:function(){return fo},TriangleFanDrawMode:function(){return Sr},TriangleStripDrawMode:function(){return _r},TrianglesDrawMode:function(){return wr},TubeBufferGeometry:function(){return Ld},TubeGeometry:function(){return Ld},UVMapping:function(){return Qe},Uint16Attribute:function(){return lv},Uint16BufferAttribute:function(){return Ao},Uint32Attribute:function(){return hv},Uint32BufferAttribute:function(){return Eo},Uint8Attribute:function(){return sv},Uint8BufferAttribute:function(){return wo},Uint8ClampedAttribute:function(){return ov},Uint8ClampedBufferAttribute:function(){return _o},Uniform:function(){return Dp},UniformsLib:function(){return Ta},UniformsUtils:function(){return oa},UnsignedByteType:function(){return mi},UnsignedInt248Type:function(){return Ti},UnsignedIntType:function(){return bi},UnsignedShort4444Type:function(){return Si},UnsignedShort5551Type:function(){return Ai},UnsignedShortType:function(){return gi},VSMShadowMap:function(){return se},Vector2:function(){return _n},Vector3:function(){return $n},Vector4:function(){return Wn},VectorKeyframeTrack:function(){return of},Vertex:function(){return iv},VertexColors:function(){return Xm},VideoTexture:function(){return lc},WebGL1Renderer:function(){return eh},WebGL3DRenderTarget:function(){return Qn},WebGLArrayRenderTarget:function(){return Zn},WebGLCubeRenderTarget:function(){return fa},WebGLMultipleRenderTargets:function(){return Kn},WebGLMultisampleRenderTarget:function(){return Pv},WebGLRenderTarget:function(){return Yn},WebGLRenderTargetCube:function(){return xv},WebGLRenderer:function(){return th},WebGLUtils:function(){return Wu},WireframeGeometry:function(){return Od},WireframeHelper:function(){return vv},WrapAroundEnding:function(){return gr},XHRLoader:function(){return yv},ZeroCurvatureEnding:function(){return vr},ZeroFactor:function(){return _e},ZeroSlopeEnding:function(){return yr},ZeroStencilOp:function(){return Or},_SRGBAFormat:function(){return an},sRGBEncoding:function(){return Tr}});var e=i(2791),r=i(4164),n=i(885);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},s.apply(this,arguments)}var o,a=o||(o={});a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE";var l=function(t){return t};function u(t){t.preventDefault(),t.returnValue=""}function h(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function c(){return Math.random().toString(36).substr(2,8)}function d(t){var e=t.pathname;e=void 0===e?"/":e;var i=t.search;return i=void 0===i?"":i,t=void 0===(t=t.hash)?"":t,i&&"?"!==i&&(e+="?"===i.charAt(0)?i:"?"+i),t&&"#"!==t&&(e+="#"===t.charAt(0)?t:"#"+t),e}function f(t){var e={};if(t){var i=t.indexOf("#");0<=i&&(e.hash=t.substr(i),t=t.substr(0,i)),0<=(i=t.indexOf("?"))&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function p(t,e){if(!t)throw new Error(e)}var m=(0,e.createContext)(null);var v=(0,e.createContext)(null);var y=(0,e.createContext)({outlet:null,matches:[]});function g(t){return function(t){var i=(0,e.useContext)(y).outlet;if(i)return(0,e.createElement)(E.Provider,{value:t},i);return i}(t.context)}function x(t){p(!1)}function b(t){var i=t.basename,r=void 0===i?"/":i,n=t.children,s=void 0===n?null:n,a=t.location,l=t.navigationType,u=void 0===l?o.Pop:l,h=t.navigator,c=t.static,d=void 0!==c&&c;S()&&p(!1);var y=N(r),g=(0,e.useMemo)((function(){return{basename:y,navigator:h,static:d}}),[y,h,d]);"string"===typeof a&&(a=f(a));var x=a,b=x.pathname,w=void 0===b?"/":b,_=x.search,A=void 0===_?"":_,T=x.hash,E=void 0===T?"":T,M=x.state,C=void 0===M?null:M,P=x.key,R=void 0===P?"default":P,k=(0,e.useMemo)((function(){var t=j(w,y);return null==t?null:{pathname:t,search:A,hash:E,state:C,key:R}}),[y,w,A,E,C,R]);return null==k?null:(0,e.createElement)(m.Provider,{value:g},(0,e.createElement)(v.Provider,{children:s,value:{location:k,navigationType:u}}))}function w(t){var i=t.children,r=t.location;return function(t,i){S()||p(!1);var r=(0,e.useContext)(y).matches,n=r[r.length-1],s=n?n.params:{},o=(n&&n.pathname,n?n.pathnameBase:"/");n&&n.route;0;var a,l=A();if(i){var u,h="string"===typeof i?f(i):i;"/"===o||(null==(u=h.pathname)?void 0:u.startsWith(o))||p(!1),a=h}else a=l;var c=a.pathname||"/",d="/"===o?c:c.slice(o.length)||"/",m=function(t,e,i){void 0===i&&(i="/");var r=j(("string"===typeof e?f(e):e).pathname||"/",i);if(null==r)return null;var n=P(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var i=t.length===e.length&&t.slice(0,-1).every((function(t,i){return t===e[i]}));return i?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(n);for(var s=null,o=0;null==s&&o<n.length;++o)s=O(n[o],r);return s}(t,{pathname:d});0;return D(m&&m.map((function(t){return Object.assign({},t,{params:Object.assign({},s,t.params),pathname:B([o,t.pathname]),pathnameBase:"/"===t.pathnameBase?o:B([o,t.pathnameBase])})})),r)}(C(i),r)}function _(t){S()||p(!1);var i=(0,e.useContext)(m),r=i.basename,n=i.navigator,s=M(t),o=s.hash,a=s.pathname,l=s.search,u=a;if("/"!==r){var h=function(t){return""===t||""===t.pathname?"/":"string"===typeof t?f(t).pathname:t.pathname}(t),c=null!=h&&h.endsWith("/");u="/"===a?r+(c?"/":""):B([r,a])}return n.createHref({pathname:u,search:l,hash:o})}function S(){return null!=(0,e.useContext)(v)}function A(){return S()||p(!1),(0,e.useContext)(v).location}function T(){S()||p(!1);var t=(0,e.useContext)(m),i=t.basename,r=t.navigator,n=(0,e.useContext)(y).matches,s=A().pathname,o=JSON.stringify(n.map((function(t){return t.pathnameBase}))),a=(0,e.useRef)(!1);(0,e.useEffect)((function(){a.current=!0}));var l=(0,e.useCallback)((function(t,e){if(void 0===e&&(e={}),a.current)if("number"!==typeof t){var n=F(t,JSON.parse(o),s);"/"!==i&&(n.pathname=B([i,n.pathname])),(e.replace?r.replace:r.push)(n,e.state)}else r.go(t)}),[i,r,o,s]);return l}var E=(0,e.createContext)(null);function M(t){var i=(0,e.useContext)(y).matches,r=A().pathname,n=JSON.stringify(i.map((function(t){return t.pathnameBase})));return(0,e.useMemo)((function(){return F(t,JSON.parse(n),r)}),[t,n,r])}function C(t){var i=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==x&&p(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=C(t.props.children)),i.push(r)}else i.push.apply(i,C(t.props.children))})),i}function P(t,e,i,r){return void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===r&&(r=""),t.forEach((function(t,n){var s={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:n,route:t};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||p(!1),s.relativePath=s.relativePath.slice(r.length));var o=B([r,s.relativePath]),a=i.concat(s);t.children&&t.children.length>0&&(!0===t.index&&p(!1),P(t.children,e,a,o)),(null!=t.path||t.index)&&e.push({path:o,score:L(o,t.index),routesMeta:a})})),e}var R=/^:\w+$/,k=function(t){return"*"===t};function L(t,e){var i=t.split("/"),r=i.length;return i.some(k)&&(r+=-2),e&&(r+=2),i.filter((function(t){return!k(t)})).reduce((function(t,e){return t+(R.test(e)?3:""===e?1:10)}),r)}function O(t,e){for(var i=t.routesMeta,r={},n="/",s=[],o=0;o<i.length;++o){var a=i[o],l=o===i.length-1,u="/"===n?e:e.slice(n.length)||"/",h=I({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);var c=a.route;s.push({params:r,pathname:B([n,h.pathname]),pathnameBase:B([n,h.pathnameBase]),route:c}),"/"!==h.pathnameBase&&(n=B([n,h.pathnameBase]))}return s}function D(t,i){return void 0===i&&(i=[]),null==t?null:t.reduceRight((function(r,n,s){return(0,e.createElement)(y.Provider,{children:void 0!==n.route.element?n.route.element:(0,e.createElement)(g,null),value:{outlet:r,matches:i.concat(t.slice(0,s+1))}})}),null)}function I(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var i=function(t,e,i){void 0===e&&(e=!1);void 0===i&&(i=!0);var r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return r.push(e),"([^\\/]+)"}));t.endsWith("*")?(r.push("*"),n+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n+=i?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(n,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),r=(0,n.Z)(i,2),s=r[0],o=r[1],a=e.match(s);if(!a)return null;var l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((function(t,e,i){if("*"===e){var r=h[i]||"";u=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(i){return t}}(h[i]||""),t}),{}),pathname:l,pathnameBase:u,pattern:t}}function F(t,e,i){var r,n="string"===typeof t?f(t):t,s=""===t||""===n.pathname?"/":n.pathname;if(null==s)r=i;else{var o=e.length-1;if(s.startsWith("..")){for(var a=s.split("/");".."===a[0];)a.shift(),o-=1;n.pathname=a.join("/")}r=o>=0?e[o]:"/"}var l=function(t,e){void 0===e&&(e="/");var i="string"===typeof t?f(t):t,r=i.pathname,n=i.search,s=void 0===n?"":n,o=i.hash,a=void 0===o?"":o,l=r?r.startsWith("/")?r:function(t,e){var i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((function(t){".."===t?i.length>1&&i.pop():"."!==t&&i.push(t)})),i.length>1?i.join("/"):"/"}(r,e):e;return{pathname:l,search:U(s),hash:z(a)}}(n,r);return s&&"/"!==s&&s.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function j(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var i=t.charAt(e.length);return i&&"/"!==i?null:t.slice(e.length)||"/"}var B=function(t){return t.join("/").replace(/\/\/+/g,"/")},N=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},U=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},z=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""};function G(){return G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},G.apply(this,arguments)}function V(t,e){if(null==t)return{};var i,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}var H=["onClick","reloadDocument","replace","state","target","to"];function W(t){var i=t.basename,r=t.children,a=t.window,p=(0,e.useRef)();null==p.current&&(p.current=function(t){function e(){var t=p.location,e=m.state||{};return[e.idx,l({pathname:t.pathname,search:t.search,hash:t.hash,state:e.usr||null,key:e.key||"default"})]}function i(t){return"string"===typeof t?t:d(t)}function r(t,e){return void 0===e&&(e=null),l(s({pathname:x.pathname,hash:"",search:""},"string"===typeof t?f(t):t,{state:e,key:c()}))}function n(t){y=t,t=e(),g=t[0],x=t[1],b.call({action:y,location:x})}function a(t){m.go(t)}void 0===t&&(t={});var p=void 0===(t=t.window)?document.defaultView:t,m=p.history,v=null;p.addEventListener("popstate",(function(){if(v)w.call(v),v=null;else{var t=o.Pop,i=e(),r=i[0];if(i=i[1],w.length){if(null!=r){var s=g-r;s&&(v={action:t,location:i,retry:function(){a(-1*s)}},a(s))}}else n(t)}}));var y=o.Pop,g=(t=e())[0],x=t[1],b=h(),w=h();return null==g&&(g=0,m.replaceState(s({},m.state,{idx:g}),"")),{get action(){return y},get location(){return x},createHref:i,push:function t(e,s){var a=o.Push,l=r(e,s);if(!w.length||(w.call({action:a,location:l,retry:function(){t(e,s)}}),0)){var u=[{usr:l.state,key:l.key,idx:g+1},i(l)];l=u[0],u=u[1];try{m.pushState(l,"",u)}catch(h){p.location.assign(u)}n(a)}},replace:function t(e,s){var a=o.Replace,l=r(e,s);w.length&&(w.call({action:a,location:l,retry:function(){t(e,s)}}),1)||(l=[{usr:l.state,key:l.key,idx:g},i(l)],m.replaceState(l[0],"",l[1]),n(a))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(t){return b.push(t)},block:function(t){var e=w.push(t);return 1===w.length&&p.addEventListener("beforeunload",u),function(){e(),w.length||p.removeEventListener("beforeunload",u)}}}}({window:a}));var m=p.current,v=(0,e.useState)({action:m.action,location:m.location}),y=(0,n.Z)(v,2),g=y[0],x=y[1];return(0,e.useLayoutEffect)((function(){return m.listen(x)}),[m]),(0,e.createElement)(b,{basename:i,children:r,location:g.location,navigationType:g.action,navigator:m})}var Y=(0,e.forwardRef)((function(t,i){var r=t.onClick,n=t.reloadDocument,s=t.replace,o=void 0!==s&&s,a=t.state,l=t.target,u=t.to,h=V(t,H),c=_(u),f=function(t,i){var r=void 0===i?{}:i,n=r.target,s=r.replace,o=r.state,a=T(),l=A(),u=M(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!n||"_self"===n)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e)){e.preventDefault();var i=!!s||d(l)===d(u);a(t,{replace:i,state:o})}}),[l,a,u,s,o,n,t])}(u,{replace:o,state:a,target:l});return(0,e.createElement)("a",G({},h,{href:c,onClick:function(t){r&&r(t),t.defaultPrevented||n||f(t)},ref:i,target:l}))}));var X=i(5671),Z=i(3144),q=i(136),Q=i(9388),K=i(2560),J=i(184);function $(t){var e=t.active.toLowerCase(),i="nav-link",r="nav-link",n="nav-link",s="nav-link";return"home"===e?i+=" active":"projects"===e?r+=" active":"education"===e?n+=" active":"spaceworm"===e&&(s+=" active"),(0,J.jsxs)("header",{children:[(0,J.jsx)(Y,{class:"logo",to:"/",children:(0,J.jsx)("img",{src:K,alt:"logo"})}),(0,J.jsx)("nav",{children:(0,J.jsxs)("ul",{class:"nav-bar",children:[(0,J.jsx)("div",{class:"bg"}),(0,J.jsx)("li",{children:(0,J.jsx)(Y,{class:i,to:"/",children:"Home"})}),(0,J.jsx)("li",{children:(0,J.jsx)(Y,{class:r,to:"/projects",children:"Projects"})}),(0,J.jsx)("li",{children:(0,J.jsx)(Y,{class:n,to:"/education",children:"Education"})}),(0,J.jsx)("li",{children:(0,J.jsx)(Y,{class:s,to:"/spaceworm",children:"Space Worm"})})]})})]})}var tt=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:"Home"}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"home",children:[(0,J.jsx)("div",{class:"background"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"Ben Fielder"}),(0,J.jsx)("p",{children:"Computer Science Student at the University of Warwick."}),(0,J.jsx)("p",{children:"JavaScript, C#, Python, Java, C and Arduino."}),(0,J.jsx)("p",{children:"Developer Brand - Space Worm."}),(0,J.jsx)("br",{}),(0,J.jsx)("a",{href:"https://github.com/BenFielder1",target:"_blank",rel:"noreferrer",children:(0,J.jsx)("i",{class:"fab fa-github"})}),(0,J.jsx)("a",{href:"https://www.linkedin.com/in/ben-fielder-38a9ba276/",target:"_blank",rel:"noreferrer",children:(0,J.jsx)("i",{class:"fab fa-linkedin"})})]})]})})]})}}]),i}(e.Component),et=i(6639),it=i(3114),rt=i(5578),nt=i(6300),st=i(7895);function ot(t){return(0,J.jsx)(Y,{to:t.link,children:(0,J.jsxs)("div",{class:"card",children:[(0,J.jsx)("img",{class:"work-img",src:t.image,alt:t.content}),(0,J.jsx)("div",{class:"work-content",children:t.content})]})})}for(var at,lt=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:"projects"}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"projects",children:[(0,J.jsx)("div",{class:"background"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"Projects"}),(0,J.jsxs)("div",{class:"work",children:[(0,J.jsx)(ot,{link:"/spaceworm",image:et,content:"Space Worm"}),(0,J.jsx)(ot,{link:"/projects/puzzleplatformer",image:nt,content:"2D Puzzle Platformer"}),(0,J.jsx)(ot,{link:"/projects/birdsongidentifier",image:st,content:"Portable Bird Song Identifier"}),(0,J.jsx)(ot,{link:"/projects/snake",image:rt,content:"Snake with Routing Algorithm"}),(0,J.jsx)(ot,{link:"/projects/planets",image:it,content:"ThreeJS Planets Sketch"})]})]})]})})]})}}]),i}(e.Component),ut=i(7069),ht=i(6655),ct=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:"spaceworm"}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{class:"spaceworm",children:[(0,J.jsx)("div",{class:"background"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"Space Worm"}),(0,J.jsx)("p",{children:"My game developer and publisher name."}),(0,J.jsx)("p",{children:"I primarily work with C# and Unity."}),(0,J.jsx)("p",{children:"View some of my games below."}),(0,J.jsx)("br",{}),(0,J.jsx)("a",{href:"https://www.spaceworm.co.uk",target:"_blank",rel:"noreferrer",children:(0,J.jsx)("img",{src:ht,id:"icon",alt:"Icon"})}),(0,J.jsx)("a",{href:"https://www.youtube.com/@SpaceWorm-GameDeveloper",target:"_blank",rel:"noreferrer",children:(0,J.jsx)("i",{class:"fab fa-youtube"})}),(0,J.jsx)("a",{href:"https://github.com/space-worm",target:"_blank",rel:"noreferrer",children:(0,J.jsx)("i",{class:"fab fa-github"})}),(0,J.jsx)("div",{class:"work",children:(0,J.jsx)(ot,{link:"/spaceworm/pyramidnumbers",image:ut,content:"Pyramid Numbers"})})]})]})})]})}}]),i}(e.Component),dt=i(3155),ft=i(120),pt=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:"education"}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"education",children:[(0,J.jsx)("div",{class:"background"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"Education"}),(0,J.jsx)("p",{children:"Currently studying Computer Science at the University of Warwick."}),(0,J.jsxs)("div",{class:"work",children:[(0,J.jsx)(ot,{link:"/education/warwick",image:dt,content:"University of Warwick"}),(0,J.jsx)(ot,{link:"/education/marling",image:ft,content:"Marling School"})]})]})]})})]})}}]),i}(e.Component),mt=i(7721),vt=i.n(mt),yt=i(4157),gt=[5,4,3,2,1],xt=[1,1,1,1,1],bt="r",wt=!0,_t=0,St=0,At=0,Tt=!1,Et=Math.floor(window.innerWidth/20),Mt=Math.floor(window.innerHeight/20),Ct="r",Pt="d",Rt=!0,kt=[],Lt=0;Lt<Mt;Lt++){kt.push([]);for(var Ot=0;Ot<Et;Ot++)kt[Lt].push(0)}var Dt,It=new yt.AStarFinder;function Ft(){"r"===bt&&gt[0]+1>=Et&&(Ct=bt,bt=xt[0]+1>=Mt?"u":xt[0]-1<0?"d":Pt),"l"===bt&&gt[0]-1<0&&(Ct=bt,bt=xt[0]+1>=Mt?"u":xt[0]-1<0?"d":Pt),"u"===bt&&xt[0]-1<0&&(Ct=bt,bt=gt[0]+1>=Et?"l":gt[0]-1<0?"r":Pt),"d"===bt&&xt[0]+1>=Mt&&(Ct=bt,bt=gt[0]+1>=Et?"l":gt[0]-1<0?"r":Pt),Ct!==bt&&(Pt=Ct)}var jt=function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("div",{className:"App",children:(0,J.jsx)(vt(),{setup:function(t,e){t.createCanvas(20*Et,20*Mt).parent(e)},draw:function(t){t.background(220),kt=[];for(var e=0;e<Mt;e++){kt.push([]);for(var i=0;i<Et;i++)kt[e].push(0)}t.stroke(0);for(var r=0;r<t.width;r+=20)t.line(r,0,r,t.height);for(var n=0;n<t.height;n+=20)t.line(0,n,t.width,n);gt[0]===_t&&xt[0]===St&&(wt=!0,Rt=!0,At++,gt.push(gt[gt.length-1]),xt.push(xt[xt.length-1])),t.fill(255,0,0),t.square(20*gt[0],20*xt[0],20);for(var s=1;s<gt.length;s++)t.square(20*gt[s],20*xt[s],20),kt[xt[s]][gt[s]]="1";if(t.fill(0,255,0),wt){for(;Rt;)_t=Math.floor(Math.random()*(Et-4))+2,St=Math.floor(Math.random()*(Mt-4))+2,"1"===kt[St][_t]||(at=new yt.Grid(kt),(Dt=It.findPath(gt[0],xt[0],_t,St,at)).length>2&&(Rt=!1));wt=!1}t.square(20*_t,20*St,20),(gt[0]<0||gt[0]>=Et||xt[0]<0||xt[0]>=Mt)&&(Tt=!0,t.noLoop());for(var o=1;o<gt.length;o++)gt[o]===gt[0]&&xt[o]===xt[0]&&(Tt=!0,t.noLoop());t.fill(0,0,255),t.textSize(32),t.text("Score "+At,20,40),at=new yt.Grid(kt),Dt=It.findPath(gt[0],xt[0],_t,St,at),function(){gt[0]<_t?"l"!==bt&&(Ct=bt,bt="r"):gt[0]>_t?"r"!==bt&&(Ct=bt,bt="l"):xt[0]<St?"u"!==bt&&(Ct=bt,bt="d"):xt[0]>St&&"d"!==bt&&(Ct=bt,bt="u");Ct!==bt&&(Pt=Ct)}(),Ft(),function(){for(var t=0;t<gt.length;t++)"r"===bt&&gt[0]+1===gt[t]&&xt[0]===xt[t]&&(Ct=bt,bt=xt[0]+1===xt[t]&&gt[0]===gt[t]?"u":xt[0]-1===xt[t]&&gt[0]===gt[t]?"d":Pt),"l"===bt&&gt[0]-1===gt[t]&&xt[0]===xt[t]&&(Ct=bt,bt=xt[0]+1===xt[t]&&gt[0]===gt[t]?"u":xt[0]-1===xt[t]&&gt[0]===gt[t]?"d":Pt),"u"===bt&&xt[0]-1===xt[t]&&gt[0]===gt[t]&&(Ct=bt,bt=gt[0]+1===gt[t]&&xt[0]===xt[t]?"l":gt[0]-1===gt[t]&&xt[0]===xt[t]?"r":Pt),"d"===bt&&xt[0]+1===xt[t]&&gt[0]===gt[t]&&(Ct=bt,bt=gt[0]+1===gt[t]&&xt[0]===xt[t]?"l":gt[0]-1===gt[t]&&xt[0]===xt[t]?"r":Pt);Ct!==bt&&(Pt=Ct,Ft())}(),function(t){for(var e=gt.length-1;e>0;e--)gt[e]=gt[e-1];for(var i=xt.length-1;i>0;i--)xt[i]=xt[i-1];null===t||t.length<2?"r"===bt?gt[0]=gt[0]+1:"l"===bt?gt[0]=gt[0]-1:"u"===bt?xt[0]=xt[0]-1:"d"===bt&&(xt[0]=xt[0]+1):(gt[0]=t[1][0],xt[0]=t[1][1])}(Dt),Tt&&(t.fill(255,255,0),t.textSize(20),t.text("You died, hit space to play again",150,300),console.log(bt),console.log(Ct),console.log(Pt),gt=[5,4,3,2,1],xt=[1,1,1,1,1],bt="r",wt=!0,_t=0,St=0,At=0),t.frameRate(60),32===t.keyCode&&Tt&&(Tt=!1,t.loop())}})})]})},Bt=i(5861),Nt=i(181);function Ut(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,Nt.Z)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}var zt=i(6215),Gt=i(1120);function Vt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,Gt.Z)(t)););return t}function Ht(){return Ht="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=Vt(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},Ht.apply(this,arguments)}var Wt=i(7326);function Yt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}for(var Xt,Zt=i(7757),qt="139",Qt={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kt={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Jt=0,$t=1,te=2,ee=3,ie=0,re=1,ne=2,se=3,oe=0,ae=1,le=2,ue=1,he=2,ce=0,de=1,fe=2,pe=3,me=4,ve=5,ye=100,ge=101,xe=102,be=103,we=104,_e=200,Se=201,Ae=202,Te=203,Ee=204,Me=205,Ce=206,Pe=207,Re=208,ke=209,Le=210,Oe=0,De=1,Ie=2,Fe=3,je=4,Be=5,Ne=6,Ue=7,ze=0,Ge=1,Ve=2,He=0,We=1,Ye=2,Xe=3,Ze=4,qe=5,Qe=300,Ke=301,Je=302,$e=303,ti=304,ei=306,ii=1e3,ri=1001,ni=1002,si=1003,oi=1004,ai=1004,li=1005,ui=1005,hi=1006,ci=1007,di=1007,fi=1008,pi=1008,mi=1009,vi=1010,yi=1011,gi=1012,xi=1013,bi=1014,wi=1015,_i=1016,Si=1017,Ai=1018,Ti=1020,Ei=1021,Mi=1022,Ci=1023,Pi=1024,Ri=1025,ki=1026,Li=1027,Oi=1028,Di=1029,Ii=1030,Fi=1031,ji=1033,Bi=33776,Ni=33777,Ui=33778,zi=33779,Gi=35840,Vi=35841,Hi=35842,Wi=35843,Yi=36196,Xi=37492,Zi=37496,qi=37808,Qi=37809,Ki=37810,Ji=37811,$i=37812,tr=37813,er=37814,ir=37815,rr=37816,nr=37817,sr=37818,or=37819,ar=37820,lr=37821,ur=36492,hr=2200,cr=2201,dr=2202,fr=2300,pr=2301,mr=2302,vr=2400,yr=2401,gr=2402,xr=2500,br=2501,wr=0,_r=1,Sr=2,Ar=3e3,Tr=3001,Er=3200,Mr=3201,Cr=0,Pr=1,Rr="",kr="srgb",Lr="srgb-linear",Or=0,Dr=7680,Ir=7681,Fr=7682,jr=7683,Br=34055,Nr=34056,Ur=5386,zr=512,Gr=513,Vr=514,Hr=515,Wr=516,Yr=517,Xr=518,Zr=519,qr=35044,Qr=35048,Kr=35040,Jr=35045,$r=35049,tn=35041,en=35046,rn=35050,nn=35042,sn="100",on="300 es",an=1035,ln=function(){function t(){(0,X.Z)(this,t)}return(0,Z.Z)(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}},{key:"hasEventListener",value:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t);t.target=null}}}}]),t}(),un=[],hn=0;hn<256;hn++)un[hn]=(hn<16?"0":"")+hn.toString(16);var cn=1234567,dn=Math.PI/180,fn=180/Math.PI;function pn(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(un[255&t]+un[t>>8&255]+un[t>>16&255]+un[t>>24&255]+"-"+un[255&e]+un[e>>8&255]+"-"+un[e>>16&15|64]+un[e>>24&255]+"-"+un[63&i|128]+un[i>>8&255]+"-"+un[i>>16&255]+un[i>>24&255]+un[255&r]+un[r>>8&255]+un[r>>16&255]+un[r>>24&255]).toLowerCase()}function mn(t,e,i){return Math.max(e,Math.min(i,t))}function vn(t,e){return(t%e+e)%e}function yn(t,e,i){return(1-i)*t+i*e}function gn(t){return 0===(t&t-1)&&0!==t}function xn(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function bn(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}var wn=Object.freeze({__proto__:null,DEG2RAD:dn,RAD2DEG:fn,generateUUID:pn,clamp:mn,euclideanModulo:vn,mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},inverseLerp:function(t,e,i){return t!==e?(i-t)/(e-t):0},lerp:yn,damp:function(t,e,i,r){return yn(t,e,1-Math.exp(-i*r))},pingpong:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(vn(t,2*e)-e)},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(cn=t);var e=cn+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*dn},radToDeg:function(t){return t*fn},isPowerOfTwo:gn,ceilPowerOfTwo:xn,floorPowerOfTwo:bn,setQuaternionFromProperEuler:function(t,e,i,r,n){var s=Math.cos,o=Math.sin,a=s(i/2),l=o(i/2),u=s((e+r)/2),h=o((e+r)/2),c=s((e-r)/2),d=o((e-r)/2),f=s((r-e)/2),p=o((r-e)/2);switch(n){case"XYX":t.set(a*h,l*c,l*d,a*u);break;case"YZY":t.set(l*d,a*h,l*c,a*u);break;case"ZXZ":t.set(l*c,l*d,a*h,a*u);break;case"XZX":t.set(a*h,l*p,l*f,a*u);break;case"YXY":t.set(l*f,a*h,l*p,a*u);break;case"ZYZ":t.set(l*p,l*f,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}},normalize:function(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}},denormalize:function(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}}),_n=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,X.Z)(this,e),this.x=t,this.y=i}return(0,Z.Z)(e,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,s=this.y-t.y;return this.x=n*i-s*r+t.x,this.y=n*r+s*i+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:t,value:Zt.mark((function t(){return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator);_n.prototype.isVector2=!0;var Sn=function(){function t(){(0,X.Z)(this,t),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return(0,Z.Z)(t,[{key:"set",value:function(t,e,i,r,n,s,o,a,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=o,u[3]=e,u[4]=n,u[5]=a,u[6]=i,u[7]=s,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}},{key:"extractBasis",value:function(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var i=t.elements,r=e.elements,n=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],h=i[7],c=i[2],d=i[5],f=i[8],p=r[0],m=r[3],v=r[6],y=r[1],g=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=s*p+o*y+a*b,n[3]=s*m+o*g+a*w,n[6]=s*v+o*x+a*_,n[1]=l*p+u*y+h*b,n[4]=l*m+u*g+h*w,n[7]=l*v+u*x+h*_,n[2]=c*p+d*y+f*b,n[5]=c*m+d*g+f*w,n[8]=c*v+d*x+f*_,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8];return e*s*u-e*o*l-i*n*u+i*o*a+r*n*l-r*s*a}},{key:"invert",value:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=u*s-o*l,c=o*a-u*n,d=l*n-s*a,f=e*h+i*c+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return t[0]=h*p,t[1]=(r*l-u*i)*p,t[2]=(o*i-r*s)*p,t[3]=c*p,t[4]=(u*e-r*a)*p,t[5]=(r*n-o*e)*p,t[6]=d*p,t[7]=(i*a-l*e)*p,t[8]=(s*e-i*n)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,i,r,n,s,o){var a=Math.cos(n),l=Math.sin(n);return this.set(i*a,i*l,-i*(a*s+l*o)+s+t,-r*l,r*a,-r*(-l*s+a*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],s=r[3],o=r[6],a=r[1],l=r[4],u=r[7];return r[0]=e*n+i*a,r[3]=e*s+i*l,r[6]=e*o+i*u,r[1]=-i*n+e*a,r[4]=-i*s+e*l,r[7]=-i*o+e*u,this}},{key:"translate",value:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}},{key:"equals",value:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;i<9;i++)this.elements[i]=t[i+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),t}();function An(t){for(var e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}Sn.prototype.isMatrix3=!0;var Tn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function En(t,e){return new Tn[t](e)}function Mn(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Cn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Pn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var Rn=(Yt(Xt={},kr,Yt({},Lr,Cn)),Yt(Xt,Lr,Yt({},kr,Pn)),Xt),kn={legacyMode:!0,get workingColorSpace(){return Lr},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,i){if(this.legacyMode||e===i||!e||!i)return t;if(Rn[e]&&void 0!==Rn[e][i]){var r=Rn[e][i];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},On={r:0,g:0,b:0},Dn={h:0,s:0,l:0},In={h:0,s:0,l:0};function Fn(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}function jn(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}var Bn,Nn=function(){function t(e,i,r){return(0,X.Z)(this,t),void 0===i&&void 0===r?this.set(e):this.setRGB(e,i,r)}return(0,Z.Z)(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr;return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,kn.toWorkingColorSpace(this,e),this}},{key:"setRGB",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lr;return this.r=t,this.g=e,this.b=i,kn.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lr;if(t=vn(t,1),e=mn(e,0,1),i=mn(i,0,1),0===e)this.r=this.g=this.b=i;else{var n=i<=.5?i*(1+e):i+e-i*e,s=2*i-n;this.r=Fn(s,n,t+1/3),this.g=Fn(s,n,t),this.b=Fn(s,n,t-1/3)}return kn.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr;function r(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(e=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){var n,s=e[1],o=e[2];switch(s){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,kn.toWorkingColorSpace(this,i),r(n[4]),this;if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,kn.toWorkingColorSpace(this,i),r(n[4]),this;break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,l=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return r(n[4]),this.setHSL(a,l,u,i)}}}else if(e=/^\#([A-Fa-f\d]+)$/.exec(t)){var h=e[1],c=h.length;if(3===c)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,kn.toWorkingColorSpace(this,i),this;if(6===c)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,kn.toWorkingColorSpace(this,i),this}return t&&t.length>0?this.setColorName(t,i):this}},{key:"setColorName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr,i=Ln[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copySRGBToLinear",value:function(t){return this.r=Cn(t.r),this.g=Cn(t.g),this.b=Cn(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=Pn(t.r),this.g=Pn(t.g),this.b=Pn(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return kn.fromWorkingColorSpace(jn(this,On),t),mn(255*On.r,0,255)<<16^mn(255*On.g,0,255)<<8^mn(255*On.b,0,255)<<0}},{key:"getHexString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return("000000"+this.getHex(t).toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;kn.fromWorkingColorSpace(jn(this,On),e);var i,r,n=On.r,s=On.g,o=On.b,a=Math.max(n,s,o),l=Math.min(n,s,o),u=(l+a)/2;if(l===a)i=0,r=0;else{var h=a-l;switch(r=u<=.5?h/(a+l):h/(2-a-l),a){case n:i=(s-o)/h+(s<o?6:0);break;case s:i=(o-n)/h+2;break;case o:i=(n-s)/h+4}i/=6}return t.h=i,t.s=r,t.l=u,t}},{key:"getRGB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;return kn.fromWorkingColorSpace(jn(this,On),e),t.r=On.r,t.g=On.g,t.b=On.b,t}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return kn.fromWorkingColorSpace(jn(this,On),t),t!==kr?"color(".concat(t," ").concat(On.r," ").concat(On.g," ").concat(On.b,")"):"rgb(".concat(255*On.r|0,",").concat(255*On.g|0,",").concat(255*On.b|0,")")}},{key:"offsetHSL",value:function(t,e,i){return this.getHSL(Dn),Dn.h+=t,Dn.s+=e,Dn.l+=i,this.setHSL(Dn.h,Dn.s,Dn.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Dn),t.getHSL(In);var i=yn(Dn.h,In.h,e),r=yn(Dn.s,In.s,e),n=yn(Dn.l,In.l,e);return this.setHSL(i,r,n),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();Nn.NAMES=Ln,Nn.prototype.isColor=!0,Nn.prototype.r=1,Nn.prototype.g=1,Nn.prototype.b=1;var Un=function(){function t(){(0,X.Z)(this,t)}return(0,Z.Z)(t,null,[{key:"getDataURL",value:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Bn&&(Bn=Mn("canvas")),Bn.width=t.width,Bn.height=t.height;var i=Bn.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Bn}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var e=Mn("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);for(var r=i.getImageData(0,0,t.width,t.height),n=r.data,s=0;s<n.length;s++)n[s]=255*Cn(n[s]/255);return i.putImageData(r,0,0),e}if(t.data){for(var o=t.data.slice(0),a=0;a<o.length;a++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[a]=Math.floor(255*Cn(o[a]/255)):o[a]=Cn(o[a]);return{data:o,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}]),t}(),zn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,X.Z)(this,t),this.uuid=pn(),this.data=e,this.version=0}return(0,Z.Z)(t,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];var i={uuid:this.uuid,url:""},r=this.data;if(null!==r){var n;if(Array.isArray(r)){n=[];for(var s=0,o=r.length;s<o;s++)r[s].isDataTexture?n.push(Gn(r[s].image)):n.push(Gn(r[s]))}else n=Gn(r);i.url=n}return e||(t.images[this.uuid]=i),i}}]),t}();function Gn(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?Un.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}zn.prototype.isSource=!0;var Vn=0,Hn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.DEFAULT_IMAGE,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.DEFAULT_MAPPING,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ri,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hi,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fi,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ci,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:mi,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ar;return(0,X.Z)(this,i),t=e.call(this),Object.defineProperty((0,Wt.Z)(t),"id",{value:Vn++}),t.uuid=pn(),t.name="",t.source=new zn(r),t.mipmaps=[],t.mapping=n,t.wrapS=s,t.wrapT=o,t.magFilter=a,t.minFilter=l,t.anisotropy=c,t.format=u,t.internalFormat=null,t.type=h,t.offset=new _n(0,0),t.repeat=new _n(1,1),t.center=new _n(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new Sn,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,t.encoding=d,t.userData={},t.version=0,t.onUpdate=null,t.isRenderTargetTexture=!1,t.needsPMREMUpdate=!1,t}return(0,Z.Z)(i,[{key:"image",get:function(){return this.source.data},set:function(t){this.source.data=t}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(this.mapping!==Qe)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ii:t.x=t.x-Math.floor(t.x);break;case ri:t.x=t.x<0?0:1;break;case ni:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ii:t.y=t.y-Math.floor(t.y);break;case ri:t.y=t.y<0?0:1;break;case ni:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}},{key:"needsUpdate",set:function(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}]),i}(ln);Hn.DEFAULT_IMAGE=null,Hn.DEFAULT_MAPPING=Qe,Hn.prototype.isTexture=!0;var Wn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,X.Z)(this,e),this.x=t,this.y=i,this.z=r,this.w=n}return(0,Z.Z)(e,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r+s[12]*n,this.y=s[1]*e+s[5]*i+s[9]*r+s[13]*n,this.z=s[2]*e+s[6]*i+s[10]*r+s[14]*n,this.w=s[3]*e+s[7]*i+s[11]*r+s[15]*n,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,i,r,n,s=.01,o=.1,a=t.elements,l=a[0],u=a[4],h=a[8],c=a[1],d=a[5],f=a[9],p=a[2],m=a[6],v=a[10];if(Math.abs(u-c)<s&&Math.abs(h-p)<s&&Math.abs(f-m)<s){if(Math.abs(u+c)<o&&Math.abs(h+p)<o&&Math.abs(f+m)<o&&Math.abs(l+d+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var y=(l+1)/2,g=(d+1)/2,x=(v+1)/2,b=(u+c)/4,w=(h+p)/4,_=(f+m)/4;return y>g&&y>x?y<s?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(y)),n=w/i):g>x?g<s?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(g)),n=_/r):x<s?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var S=Math.sqrt((m-f)*(m-f)+(h-p)*(h-p)+(c-u)*(c-u));return Math.abs(S)<.001&&(S=1),this.x=(m-f)/S,this.y=(h-p)/S,this.z=(c-u)/S,this.w=Math.acos((l+d+v-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:t,value:Zt.mark((function t(){return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:return t.next=8,this.w;case 8:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator);Wn.prototype.isVector4=!0;var Yn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,X.Z)(this,i),(n=e.call(this)).width=t,n.height=r,n.depth=1,n.scissor=new Wn(0,0,t,r),n.scissorTest=!1,n.viewport=new Wn(0,0,t,r);var o={width:t,height:r,depth:1};return n.texture=new Hn(o,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),n.texture.isRenderTargetTexture=!0,n.texture.flipY=!1,n.texture.generateMipmaps=void 0!==s.generateMipmaps&&s.generateMipmaps,n.texture.internalFormat=void 0!==s.internalFormat?s.internalFormat:null,n.texture.minFilter=void 0!==s.minFilter?s.minFilter:hi,n.depthBuffer=void 0===s.depthBuffer||s.depthBuffer,n.stencilBuffer=void 0!==s.stencilBuffer&&s.stencilBuffer,n.depthTexture=void 0!==s.depthTexture?s.depthTexture:null,n.samples=void 0!==s.samples?s.samples:0,n}return(0,Z.Z)(i,[{key:"setSize",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===t&&this.height===e&&this.depth===i||(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),i}(ln);Yn.prototype.isWebGLRenderTarget=!0;var Xn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,X.Z)(this,i),(t=e.call(this,null)).image={data:r,width:n,height:s,depth:o},t.magFilter=si,t.minFilter=si,t.wrapR=ri,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return(0,Z.Z)(i)}(Hn);Xn.prototype.isDataArrayTexture=!0;var Zn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;return(0,X.Z)(this,i),(s=e.call(this,t,r)).depth=n,s.texture=new Xn(null,t,r,n),s.texture.isRenderTargetTexture=!0,s}return(0,Z.Z)(i)}(Yn);Zn.prototype.isWebGLArrayRenderTarget=!0;var qn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,X.Z)(this,i),(t=e.call(this,null)).image={data:r,width:n,height:s,depth:o},t.magFilter=si,t.minFilter=si,t.wrapR=ri,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return(0,Z.Z)(i)}(Hn);qn.prototype.isData3DTexture=!0;var Qn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;return(0,X.Z)(this,i),(s=e.call(this,t,r)).depth=n,s.texture=new qn(null,t,r,n),s.texture.isRenderTargetTexture=!0,s}return(0,Z.Z)(i)}(Yn);Qn.prototype.isWebGL3DRenderTarget=!0;var Kn=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,X.Z)(this,i);var a=(s=e.call(this,t,r,o)).texture;s.texture=[];for(var l=0;l<n;l++)s.texture[l]=a.clone(),s.texture[l].isRenderTargetTexture=!0;return s}return(0,Z.Z)(i,[{key:"setSize",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(var r=0,n=this.texture.length;r<n;r++)this.texture[r].image.width=t,this.texture[r].image.height=e,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}},{key:"copy",value:function(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(var e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone();return this}}]),i}(Yn);Kn.prototype.isWebGLMultipleRenderTargets=!0;var Jn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,X.Z)(this,t),this._x=e,this._y=i,this._z=r,this._w=n}return(0,Z.Z)(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,s=t._order,o=Math.cos,a=Math.sin,l=o(i/2),u=o(r/2),h=o(n/2),c=a(i/2),d=a(r/2),f=a(n/2);switch(s){case"XYZ":this._x=c*u*h+l*d*f,this._y=l*d*h-c*u*f,this._z=l*u*f+c*d*h,this._w=l*u*h-c*d*f;break;case"YXZ":this._x=c*u*h+l*d*f,this._y=l*d*h-c*u*f,this._z=l*u*f-c*d*h,this._w=l*u*h+c*d*f;break;case"ZXY":this._x=c*u*h-l*d*f,this._y=l*d*h+c*u*f,this._z=l*u*f+c*d*h,this._w=l*u*h-c*d*f;break;case"ZYX":this._x=c*u*h-l*d*f,this._y=l*d*h+c*u*f,this._z=l*u*f-c*d*h,this._w=l*u*h+c*d*f;break;case"YZX":this._x=c*u*h+l*d*f,this._y=l*d*h+c*u*f,this._z=l*u*f-c*d*h,this._w=l*u*h-c*d*f;break;case"XZY":this._x=c*u*h-l*d*f,this._y=l*d*h-c*u*f,this._z=l*u*f+c*d*h,this._w=l*u*h+c*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,i=e[0],r=e[4],n=e[8],s=e[1],o=e[5],a=e[9],l=e[2],u=e[6],h=e[10],c=i+o+h;if(c>0){var d=.5/Math.sqrt(c+1);this._w=.25/d,this._x=(u-a)*d,this._y=(n-l)*d,this._z=(s-r)*d}else if(i>o&&i>h){var f=2*Math.sqrt(1+i-o-h);this._w=(u-a)/f,this._x=.25*f,this._y=(r+s)/f,this._z=(n+l)/f}else if(o>h){var p=2*Math.sqrt(1+o-i-h);this._w=(n-l)/p,this._x=(r+s)/p,this._y=.25*p,this._z=(a+u)/p}else{var m=2*Math.sqrt(1+h-i-o);this._w=(s-r)/m,this._x=(n+l)/m,this._y=(a+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(mn(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var i=t._x,r=t._y,n=t._z,s=t._w,o=e._x,a=e._y,l=e._z,u=e._w;return this._x=i*u+s*o+r*l-n*a,this._y=r*u+s*a+n*o-i*l,this._z=n*u+s*l+i*a-r*o,this._w=s*u-i*o-r*a-n*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,s=this._w,o=s*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=i,this._y=r,this._z=n,this;var a=1-o*o;if(a<=Number.EPSILON){var l=1-e;return this._w=l*s+e*this._w,this._x=l*i+e*this._x,this._y=l*r+e*this._y,this._z=l*n+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(a),h=Math.atan2(u,o),c=Math.sin((1-e)*h)/u,d=Math.sin(e*h)/u;return this._w=s*c+this._w*d,this._x=i*c+this._x*d,this._y=r*c+this._y*d,this._z=n*c+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(t,e,i){return this.copy(t).slerp(e,i)}},{key:"random",value:function(){var t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),n=2*Math.PI*Math.random();return this.set(e*Math.cos(r),i*Math.sin(n),i*Math.cos(n),e*Math.sin(r))}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(t,e,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(t,e,r)}},{key:"slerpFlat",value:function(t,e,i,r,n,s,o){var a=i[r+0],l=i[r+1],u=i[r+2],h=i[r+3],c=n[s+0],d=n[s+1],f=n[s+2],p=n[s+3];if(0===o)return t[e+0]=a,t[e+1]=l,t[e+2]=u,void(t[e+3]=h);if(1===o)return t[e+0]=c,t[e+1]=d,t[e+2]=f,void(t[e+3]=p);if(h!==p||a!==c||l!==d||u!==f){var m=1-o,v=a*c+l*d+u*f+h*p,y=v>=0?1:-1,g=1-v*v;if(g>Number.EPSILON){var x=Math.sqrt(g),b=Math.atan2(x,v*y);m=Math.sin(m*b)/x,o=Math.sin(o*b)/x}var w=o*y;if(a=a*m+c*w,l=l*m+d*w,u=u*m+f*w,h=h*m+p*w,m===1-o){var _=1/Math.sqrt(a*a+l*l+u*u+h*h);a*=_,l*=_,u*=_,h*=_}}t[e]=a,t[e+1]=l,t[e+2]=u,t[e+3]=h}},{key:"multiplyQuaternionsFlat",value:function(t,e,i,r,n,s){var o=i[r],a=i[r+1],l=i[r+2],u=i[r+3],h=n[s],c=n[s+1],d=n[s+2],f=n[s+3];return t[e]=o*f+u*h+a*d-l*c,t[e+1]=a*f+u*c+l*h-o*d,t[e+2]=l*f+u*d+o*c-a*h,t[e+3]=u*f-o*h-a*c-l*d,t}}]),t}();Jn.prototype.isQuaternion=!0;var $n=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,X.Z)(this,e),this.x=t,this.y=i,this.z=r}return(0,Z.Z)(e,[{key:"set",value:function(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(es.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(es.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,s=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*s,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*s,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*s,this}},{key:"applyQuaternion",value:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,o=t.z,a=t.w,l=a*e+s*r-o*i,u=a*i+o*e-n*r,h=a*r+n*i-s*e,c=-n*e-s*i-o*r;return this.x=l*a+c*-n+u*-o-h*-s,this.y=u*a+c*-s+h*-n-l*-o,this.z=h*a+c*-o+l*-s-u*-n,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var i=t.x,r=t.y,n=t.z,s=e.x,o=e.y,a=e.z;return this.x=r*a-n*o,this.y=n*s-i*a,this.z=i*o-r*s,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}},{key:"projectOnPlane",value:function(t){return ts.copy(this).projectOnVector(t),this.sub(ts)}},{key:"reflect",value:function(t){return this.sub(ts.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var i=this.dot(t)/e;return Math.acos(mn(i,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"setFromEuler",value:function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-Math.pow(t,2));return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}},{key:t,value:Zt.mark((function t(){return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator);$n.prototype.isVector3=!0;var ts=new $n,es=new Jn,is=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n(1/0,1/0,1/0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n(-1/0,-1/0,-1/0);(0,X.Z)(this,t),this.min=e,this.max=i}return(0,Z.Z)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,s=-1/0,o=-1/0,a=0,l=t.length;a<l;a+=3){var u=t[a],h=t[a+1],c=t[a+2];u<e&&(e=u),h<i&&(i=h),c<r&&(r=c),u>n&&(n=u),h>s&&(s=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,s,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,s=-1/0,o=-1/0,a=0,l=t.count;a<l;a++){var u=t.getX(a),h=t.getY(a),c=t.getZ(a);u<e&&(e=u),h<i&&(i=h),c<r&&(r=c),u>n&&(n=u),h>s&&(s=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,s,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var i=ns.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}},{key:"setFromObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.updateWorldMatrix(!1,!1);var i=t.geometry;if(void 0!==i)if(e&&void 0!=i.attributes&&void 0!==i.attributes.position)for(var r=i.attributes.position,n=0,s=r.count;n<s;n++)ns.fromBufferAttribute(r,n).applyMatrix4(t.matrixWorld),this.expandByPoint(ns);else null===i.boundingBox&&i.computeBoundingBox(),ss.copy(i.boundingBox),ss.applyMatrix4(t.matrixWorld),this.union(ss);for(var o=t.children,a=0,l=o.length;a<l;a++)this.expandByObject(o[a],e);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,ns),ns.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(ds),fs.subVectors(this.max,ds),os.subVectors(t.a,ds),as.subVectors(t.b,ds),ls.subVectors(t.c,ds),us.subVectors(as,os),hs.subVectors(ls,as),cs.subVectors(os,ls);var e=[0,-us.z,us.y,0,-hs.z,hs.y,0,-cs.z,cs.y,us.z,0,-us.x,hs.z,0,-hs.x,cs.z,0,-cs.x,-us.y,us.x,0,-hs.y,hs.x,0,-cs.y,cs.x,0];return!!vs(e,os,as,ls,fs)&&(!!vs(e=[1,0,0,0,1,0,0,0,1],os,as,ls,fs)&&(ps.crossVectors(us,hs),vs(e=[ps.x,ps.y,ps.z],os,as,ls,fs)))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return ns.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return this.getCenter(t.center),t.radius=.5*this.getSize(ns).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(rs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),rs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),rs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),rs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),rs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),rs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),rs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),rs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(rs)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();is.prototype.isBox3=!0;var rs=[new $n,new $n,new $n,new $n,new $n,new $n,new $n,new $n],ns=new $n,ss=new is,os=new $n,as=new $n,ls=new $n,us=new $n,hs=new $n,cs=new $n,ds=new $n,fs=new $n,ps=new $n,ms=new $n;function vs(t,e,i,r,n){for(var s=0,o=t.length-3;s<=o;s+=3){ms.fromArray(t,s);var a=n.x*Math.abs(ms.x)+n.y*Math.abs(ms.y)+n.z*Math.abs(ms.z),l=e.dot(ms),u=i.dot(ms),h=r.dot(ms);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}var ys=new is,gs=new $n,xs=new $n,bs=new $n,ws=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,X.Z)(this,t),this.center=e,this.radius=i}return(0,Z.Z)(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var i=this.center;void 0!==e?i.copy(e):ys.setFromPoints(t).getCenter(i);for(var r=0,n=0,s=t.length;n<s;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){bs.subVectors(t,this.center);var e=bs.lengthSq();if(e>this.radius*this.radius){var i=Math.sqrt(e),r=.5*(i-this.radius);this.center.add(bs.multiplyScalar(r/i)),this.radius+=r}return this}},{key:"union",value:function(t){return!0===this.center.equals(t.center)?xs.set(0,0,1).multiplyScalar(t.radius):xs.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(gs.copy(t.center).add(xs)),this.expandByPoint(gs.copy(t.center).sub(xs)),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),_s=new $n,Ss=new $n,As=new $n,Ts=new $n,Es=new $n,Ms=new $n,Cs=new $n,Ps=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n(0,0,-1);(0,X.Z)(this,t),this.origin=e,this.direction=i}return(0,Z.Z)(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,_s)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=_s.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(_s.copy(this.direction).multiplyScalar(e).add(this.origin),_s.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,i,r){Ss.copy(t).add(e).multiplyScalar(.5),As.copy(e).sub(t).normalize(),Ts.copy(this.origin).sub(Ss);var n,s,o,a,l=.5*t.distanceTo(e),u=-this.direction.dot(As),h=Ts.dot(this.direction),c=-Ts.dot(As),d=Ts.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(s=u*h-c,a=l*f,(n=u*c-h)>=0)if(s>=-a)if(s<=a){var p=1/f;o=(n*=p)*(n+u*(s*=p)+2*h)+s*(u*n+s+2*c)+d}else s=l,o=-(n=Math.max(0,-(u*s+h)))*n+s*(s+2*c)+d;else s=-l,o=-(n=Math.max(0,-(u*s+h)))*n+s*(s+2*c)+d;else s<=-a?o=-(n=Math.max(0,-(-u*l+h)))*n+(s=n>0?-l:Math.min(Math.max(-l,-c),l))*(s+2*c)+d:s<=a?(n=0,o=(s=Math.min(Math.max(-l,-c),l))*(s+2*c)+d):o=-(n=Math.max(0,-(u*l+h)))*n+(s=n>0?l:Math.min(Math.max(-l,-c),l))*(s+2*c)+d;else s=u>0?-l:l,o=-(n=Math.max(0,-(u*s+h)))*n+s*(s+2*c)+d;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(As).multiplyScalar(s).add(Ss),o}},{key:"intersectSphere",value:function(t,e){_s.subVectors(t.center,this.origin);var i=_s.dot(this.direction),r=_s.dot(_s)-i*i,n=t.radius*t.radius;if(r>n)return null;var s=Math.sqrt(n-r),o=i-s,a=i+s;return o<0&&a<0?null:o<0?this.at(a,e):this.at(o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}},{key:"intersectPlane",value:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var i,r,n,s,o,a,l=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,c=this.origin;return l>=0?(i=(t.min.x-c.x)*l,r=(t.max.x-c.x)*l):(i=(t.max.x-c.x)*l,r=(t.min.x-c.x)*l),u>=0?(n=(t.min.y-c.y)*u,s=(t.max.y-c.y)*u):(n=(t.max.y-c.y)*u,s=(t.min.y-c.y)*u),i>s||n>r?null:((n>i||i!==i)&&(i=n),(s<r||r!==r)&&(r=s),h>=0?(o=(t.min.z-c.z)*h,a=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,a=(t.min.z-c.z)*h),i>a||o>r?null:((o>i||i!==i)&&(i=o),(a<r||r!==r)&&(r=a),r<0?null:this.at(i>=0?i:r,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,_s)}},{key:"intersectTriangle",value:function(t,e,i,r,n){Es.subVectors(e,t),Ms.subVectors(i,t),Cs.crossVectors(Es,Ms);var s,o=this.direction.dot(Cs);if(o>0){if(r)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}Ts.subVectors(this.origin,t);var a=s*this.direction.dot(Ms.crossVectors(Ts,Ms));if(a<0)return null;var l=s*this.direction.dot(Es.cross(Ts));if(l<0)return null;if(a+l>o)return null;var u=-s*Ts.dot(Cs);return u<0?null:this.at(u/o,n)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Rs=function(){function t(){(0,X.Z)(this,t),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return(0,Z.Z)(t,[{key:"set",value:function(t,e,i,r,n,s,o,a,l,u,h,c,d,f,p,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=s,v[9]=o,v[13]=a,v[2]=l,v[6]=u,v[10]=h,v[14]=c,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,i=t.elements,r=1/ks.setFromMatrixColumn(t,0).length(),n=1/ks.setFromMatrixColumn(t,1).length(),s=1/ks.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*n,e[5]=i[5]*n,e[6]=i[6]*n,e[7]=0,e[8]=i[8]*s,e[9]=i[9]*s,e[10]=i[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,r=t.y,n=t.z,s=Math.cos(i),o=Math.sin(i),a=Math.cos(r),l=Math.sin(r),u=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=s*u,d=s*h,f=o*u,p=o*h;e[0]=a*u,e[4]=-a*h,e[8]=l,e[1]=d+f*l,e[5]=c-p*l,e[9]=-o*a,e[2]=p-c*l,e[6]=f+d*l,e[10]=s*a}else if("YXZ"===t.order){var m=a*u,v=a*h,y=l*u,g=l*h;e[0]=m+g*o,e[4]=y*o-v,e[8]=s*l,e[1]=s*h,e[5]=s*u,e[9]=-o,e[2]=v*o-y,e[6]=g+m*o,e[10]=s*a}else if("ZXY"===t.order){var x=a*u,b=a*h,w=l*u,_=l*h;e[0]=x-_*o,e[4]=-s*h,e[8]=w+b*o,e[1]=b+w*o,e[5]=s*u,e[9]=_-x*o,e[2]=-s*l,e[6]=o,e[10]=s*a}else if("ZYX"===t.order){var S=s*u,A=s*h,T=o*u,E=o*h;e[0]=a*u,e[4]=T*l-A,e[8]=S*l+E,e[1]=a*h,e[5]=E*l+S,e[9]=A*l-T,e[2]=-l,e[6]=o*a,e[10]=s*a}else if("YZX"===t.order){var M=s*a,C=s*l,P=o*a,R=o*l;e[0]=a*u,e[4]=R-M*h,e[8]=P*h+C,e[1]=h,e[5]=s*u,e[9]=-o*u,e[2]=-l*u,e[6]=C*h+P,e[10]=M-R*h}else if("XZY"===t.order){var k=s*a,L=s*l,O=o*a,D=o*l;e[0]=a*u,e[4]=-h,e[8]=l*u,e[1]=k*h+D,e[5]=s*u,e[9]=L*h-O,e[2]=O*h-L,e[6]=o*u,e[10]=D*h+k}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(Os,t,Ds)}},{key:"lookAt",value:function(t,e,i){var r=this.elements;return js.subVectors(t,e),0===js.lengthSq()&&(js.z=1),js.normalize(),Is.crossVectors(i,js),0===Is.lengthSq()&&(1===Math.abs(i.z)?js.x+=1e-4:js.z+=1e-4,js.normalize(),Is.crossVectors(i,js)),Is.normalize(),Fs.crossVectors(js,Is),r[0]=Is.x,r[4]=Fs.x,r[8]=js.x,r[1]=Is.y,r[5]=Fs.y,r[9]=js.y,r[2]=Is.z,r[6]=Fs.z,r[10]=js.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var i=t.elements,r=e.elements,n=this.elements,s=i[0],o=i[4],a=i[8],l=i[12],u=i[1],h=i[5],c=i[9],d=i[13],f=i[2],p=i[6],m=i[10],v=i[14],y=i[3],g=i[7],x=i[11],b=i[15],w=r[0],_=r[4],S=r[8],A=r[12],T=r[1],E=r[5],M=r[9],C=r[13],P=r[2],R=r[6],k=r[10],L=r[14],O=r[3],D=r[7],I=r[11],F=r[15];return n[0]=s*w+o*T+a*P+l*O,n[4]=s*_+o*E+a*R+l*D,n[8]=s*S+o*M+a*k+l*I,n[12]=s*A+o*C+a*L+l*F,n[1]=u*w+h*T+c*P+d*O,n[5]=u*_+h*E+c*R+d*D,n[9]=u*S+h*M+c*k+d*I,n[13]=u*A+h*C+c*L+d*F,n[2]=f*w+p*T+m*P+v*O,n[6]=f*_+p*E+m*R+v*D,n[10]=f*S+p*M+m*k+v*I,n[14]=f*A+p*C+m*L+v*F,n[3]=y*w+g*T+x*P+b*O,n[7]=y*_+g*E+x*R+b*D,n[11]=y*S+g*M+x*k+b*I,n[15]=y*A+g*C+x*L+b*F,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],s=t[1],o=t[5],a=t[9],l=t[13],u=t[2],h=t[6],c=t[10],d=t[14];return t[3]*(+n*a*h-r*l*h-n*o*c+i*l*c+r*o*d-i*a*d)+t[7]*(+e*a*d-e*l*c+n*s*c-r*s*d+r*l*u-n*a*u)+t[11]*(+e*l*h-e*o*d-n*s*h+i*s*d+n*o*u-i*l*u)+t[15]*(-r*o*u-e*a*h+e*o*c+r*s*h-i*s*c+i*a*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=t[9],c=t[10],d=t[11],f=t[12],p=t[13],m=t[14],v=t[15],y=h*m*l-p*c*l+p*a*d-o*m*d-h*a*v+o*c*v,g=f*c*l-u*m*l-f*a*d+s*m*d+u*a*v-s*c*v,x=u*p*l-f*h*l+f*o*d-s*p*d-u*o*v+s*h*v,b=f*h*a-u*p*a-f*o*c+s*p*c+u*o*m-s*h*m,w=e*y+i*g+r*x+n*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/w;return t[0]=y*_,t[1]=(p*c*n-h*m*n-p*r*d+i*m*d+h*r*v-i*c*v)*_,t[2]=(o*m*n-p*a*n+p*r*l-i*m*l-o*r*v+i*a*v)*_,t[3]=(h*a*n-o*c*n-h*r*l+i*c*l+o*r*d-i*a*d)*_,t[4]=g*_,t[5]=(u*m*n-f*c*n+f*r*d-e*m*d-u*r*v+e*c*v)*_,t[6]=(f*a*n-s*m*n-f*r*l+e*m*l+s*r*v-e*a*v)*_,t[7]=(s*c*n-u*a*n+u*r*l-e*c*l-s*r*d+e*a*d)*_,t[8]=x*_,t[9]=(f*h*n-u*p*n-f*i*d+e*p*d+u*i*v-e*h*v)*_,t[10]=(s*p*n-f*o*n+f*i*l-e*p*l-s*i*v+e*o*v)*_,t[11]=(u*o*n-s*h*n-u*i*l+e*h*l+s*i*d-e*o*d)*_,t[12]=b*_,t[13]=(u*p*r-f*h*r+f*i*c-e*p*c-u*i*m+e*h*m)*_,t[14]=(f*o*r-s*p*r-f*i*a+e*p*a+s*i*m-e*o*m)*_,t[15]=(s*h*r-u*o*r+u*i*a-e*h*a-s*i*c+e*o*c)*_,this}},{key:"scale",value:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}},{key:"makeTranslation",value:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,s=t.x,o=t.y,a=t.z,l=n*s,u=n*o;return this.set(l*s+i,l*o-r*a,l*a+r*o,0,l*o+r*a,u*o+i,u*a-r*s,0,l*a-r*o,u*a+r*s,n*a*a+i,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,i,r,n,s){return this.set(1,i,n,0,t,1,s,0,e,r,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,i){var r=this.elements,n=e._x,s=e._y,o=e._z,a=e._w,l=n+n,u=s+s,h=o+o,c=n*l,d=n*u,f=n*h,p=s*u,m=s*h,v=o*h,y=a*l,g=a*u,x=a*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(p+v))*b,r[1]=(d+x)*b,r[2]=(f-g)*b,r[3]=0,r[4]=(d-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+y)*w,r[7]=0,r[8]=(f+g)*_,r[9]=(m-y)*_,r[10]=(1-(c+p))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}},{key:"decompose",value:function(t,e,i){var r=this.elements,n=ks.set(r[0],r[1],r[2]).length(),s=ks.set(r[4],r[5],r[6]).length(),o=ks.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],Ls.copy(this);var a=1/n,l=1/s,u=1/o;return Ls.elements[0]*=a,Ls.elements[1]*=a,Ls.elements[2]*=a,Ls.elements[4]*=l,Ls.elements[5]*=l,Ls.elements[6]*=l,Ls.elements[8]*=u,Ls.elements[9]*=u,Ls.elements[10]*=u,e.setFromRotationMatrix(Ls),i.x=n,i.y=s,i.z=o,this}},{key:"makePerspective",value:function(t,e,i,r,n,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*n/(e-t),l=2*n/(i-r),u=(e+t)/(e-t),h=(i+r)/(i-r),c=-(s+n)/(s-n),d=-2*s*n/(s-n);return o[0]=a,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,i,r,n,s){var o=this.elements,a=1/(e-t),l=1/(i-r),u=1/(s-n),h=(e+t)*a,c=(i+r)*l,d=(s+n)*u;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;i<16;i++)this.elements[i]=t[i+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}]),t}();Rs.prototype.isMatrix4=!0;var ks=new $n,Ls=new Rs,Os=new $n(0,0,0),Ds=new $n(1,1,1),Is=new $n,Fs=new $n,js=new $n,Bs=new Rs,Ns=new Jn,Us=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;(0,X.Z)(this,t),this._x=e,this._y=i,this._z=r,this._order=n}return(0,Z.Z)(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.elements,n=r[0],s=r[4],o=r[8],a=r[1],l=r[5],u=r[9],h=r[2],c=r[6],d=r[10];switch(e){case"XYZ":this._y=Math.asin(mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-s,n)):(this._x=Math.atan2(c,l),this._z=0);break;case"YXZ":this._x=Math.asin(-mn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-h,n),this._z=0);break;case"ZXY":this._x=Math.asin(mn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(a,n));break;case"ZYX":this._y=Math.asin(-mn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(c,d),this._z=Math.atan2(a,n)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,n)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-mn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(c,l),this._y=Math.atan2(o,n)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===i&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,i){return Bs.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Bs,e,i)}},{key:"setFromVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return Ns.setFromEuler(this),this.setFromQuaternion(Ns,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}]),t}();Us.prototype.isEuler=!0,Us.DefaultOrder="XYZ",Us.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var zs=function(){function t(){(0,X.Z)(this,t),this.mask=1}return(0,Z.Z)(t,[{key:"set",value:function(t){this.mask=(1<<t|0)>>>0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!==(this.mask&t.mask)}},{key:"isEnabled",value:function(t){return 0!==(this.mask&(1<<t|0))}}]),t}(),Gs=0,Vs=new $n,Hs=new Jn,Ws=new Rs,Ys=new $n,Xs=new $n,Zs=new $n,qs=new Jn,Qs=new $n(1,0,0),Ks=new $n(0,1,0),Js=new $n(0,0,1),$s={type:"added"},to={type:"removed"},eo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;(0,X.Z)(this,i),t=e.call(this),Object.defineProperty((0,Wt.Z)(t),"id",{value:Gs++}),t.uuid=pn(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=i.DefaultUp.clone();var r=new $n,n=new Us,s=new Jn,o=new $n(1,1,1);return n._onChange((function(){s.setFromEuler(n,!1)})),s._onChange((function(){n.setFromQuaternion(s,void 0,!1)})),Object.defineProperties((0,Wt.Z)(t),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Rs},normalMatrix:{value:new Sn}}),t.matrix=new Rs,t.matrixWorld=new Rs,t.matrixAutoUpdate=i.DefaultMatrixAutoUpdate,t.matrixWorldNeedsUpdate=!1,t.layers=new zs,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}return(0,Z.Z)(i,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return Hs.setFromAxisAngle(t,e),this.quaternion.multiply(Hs),this}},{key:"rotateOnWorldAxis",value:function(t,e){return Hs.setFromAxisAngle(t,e),this.quaternion.premultiply(Hs),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(Qs,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(Ks,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(Js,t)}},{key:"translateOnAxis",value:function(t,e){return Vs.copy(t).applyQuaternion(this.quaternion),this.position.add(Vs.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(Qs,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(Ks,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(Js,t)}},{key:"localToWorld",value:function(t){return t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return t.applyMatrix4(Ws.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,i){t.isVector3?Ys.copy(t):Ys.set(t,e,i);var r=this.parent;this.updateWorldMatrix(!0,!1),Xs.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ws.lookAt(Xs,Ys,this.up):Ws.lookAt(Ys,Xs,this.up),this.quaternion.setFromRotationMatrix(Ws),r&&(Ws.extractRotation(r.matrixWorld),Hs.setFromRotationMatrix(Ws),this.quaternion.premultiply(Hs.invert()))}},{key:"add",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent($s)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(to)),this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(to)}return this.children.length=0,this}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),Ws.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ws.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ws),this.add(t),t.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xs,t,Zs),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xs,qs,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}},{key:"updateWorldMatrix",value:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,s=r.length;n<s;n++)r[n].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var o=s.shapes;if(Array.isArray(o))for(var a=0,l=o.length;a<l;a++){var u=o[a];n(t.shapes,u)}else n(t.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(n(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var h=[],c=0,d=this.material.length;c<d;c++)h.push(n(t.materials,this.material[c]));r.material=h}else r.material=n(t.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(n(t.animations,m))}}if(e){var v=A(t.geometries),y=A(t.materials),g=A(t.textures),x=A(t.images),b=A(t.shapes),w=A(t.skeletons),_=A(t.animations),S=A(t.nodes);v.length>0&&(i.geometries=v),y.length>0&&(i.materials=y),g.length>0&&(i.textures=g),x.length>0&&(i.images=x),b.length>0&&(i.shapes=b),w.length>0&&(i.skeletons=w),_.length>0&&(i.animations=_),S.length>0&&(i.nodes=S)}return i.object=r,i;function A(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}}]),i}(ln);eo.DefaultUp=new $n(0,1,0),eo.DefaultMatrixAutoUpdate=!0,eo.prototype.isObject3D=!0;var io=new $n,ro=new $n,no=new $n,so=new $n,oo=new $n,ao=new $n,lo=new $n,uo=new $n,ho=new $n,co=new $n,fo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $n;(0,X.Z)(this,t),this.a=e,this.b=i,this.c=r}return(0,Z.Z)(t,[{key:"set",value:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}},{key:"setFromPointsAndIndices",value:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}},{key:"setFromAttributeAndIndices",value:function(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return io.subVectors(this.c,this.b),ro.subVectors(this.a,this.b),.5*io.cross(ro).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,i){return t.getBarycoord(e,this.a,this.b,this.c,i)}},{key:"getUV",value:function(e,i,r,n,s){return t.getUV(e,this.a,this.b,this.c,i,r,n,s)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var i,r,n=this.a,s=this.b,o=this.c;oo.subVectors(s,n),ao.subVectors(o,n),uo.subVectors(t,n);var a=oo.dot(uo),l=ao.dot(uo);if(a<=0&&l<=0)return e.copy(n);ho.subVectors(t,s);var u=oo.dot(ho),h=ao.dot(ho);if(u>=0&&h<=u)return e.copy(s);var c=a*h-u*l;if(c<=0&&a>=0&&u<=0)return i=a/(a-u),e.copy(n).addScaledVector(oo,i);co.subVectors(t,o);var d=oo.dot(co),f=ao.dot(co);if(f>=0&&d<=f)return e.copy(o);var p=d*l-a*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),e.copy(n).addScaledVector(ao,r);var m=u*f-d*h;if(m<=0&&h-u>=0&&d-f>=0)return lo.subVectors(o,s),r=(h-u)/(h-u+(d-f)),e.copy(s).addScaledVector(lo,r);var v=1/(m+p+c);return i=p*v,r=c*v,e.copy(n).addScaledVector(oo,i).addScaledVector(ao,r)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,i,r){r.subVectors(i,e),io.subVectors(t,e),r.cross(io);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,i,r,n){io.subVectors(r,e),ro.subVectors(i,e),no.subVectors(t,e);var s=io.dot(io),o=io.dot(ro),a=io.dot(no),l=ro.dot(ro),u=ro.dot(no),h=s*l-o*o;if(0===h)return n.set(-2,-1,-1);var c=1/h,d=(l*a-o*u)*c,f=(s*u-o*a)*c;return n.set(1-d-f,f,d)}},{key:"containsPoint",value:function(t,e,i,r){return this.getBarycoord(t,e,i,r,so),so.x>=0&&so.y>=0&&so.x+so.y<=1}},{key:"getUV",value:function(t,e,i,r,n,s,o,a){return this.getBarycoord(t,e,i,r,so),a.set(0,0),a.addScaledVector(n,so.x),a.addScaledVector(s,so.y),a.addScaledVector(o,so.z),a}},{key:"isFrontFacing",value:function(t,e,i,r){return io.subVectors(i,e),ro.subVectors(t,e),io.cross(ro).dot(r)<0}}]),t}(),po=0,mo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),t=e.call(this),Object.defineProperty((0,Wt.Z)(t),"id",{value:po++}),t.uuid=pn(),t.name="",t.type="Material",t.fog=!0,t.blending=de,t.side=oe,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.blendSrc=Ee,t.blendDst=Me,t.blendEquation=ye,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.depthFunc=Fe,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=Zr,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=Dr,t.stencilZFail=Dr,t.stencilZPass=Dr,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t._alphaTest=0,t}return(0,Z.Z)(i,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===ue;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==de&&(i.blending=this.blending),this.side!==oe&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),s=r(t.images);n.length>0&&(i.textures=n),s.length>0&&(i.images=s)}return i}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),i}(ln);mo.prototype.isMaterial=!0,mo.fromType=function(){return null};var vo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="MeshBasicMaterial",r.color=new Nn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ze,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}]),i}(mo);vo.prototype.isMeshBasicMaterial=!0;var yo=new $n,go=new _n,xo=function(){function t(e,i,r){if((0,X.Z)(this,t),Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=i,this.count=void 0!==e?e.length/i:0,this.normalized=!0===r,this.usage=qr,this.updateRange={offset:0,count:-1},this.version=0}return(0,Z.Z)(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"copyColorsArray",value:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var s=t[r];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),s=new Nn),e[i++]=s.r,e[i++]=s.g,e[i++]=s.b}return this}},{key:"copyVector2sArray",value:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var s=t[r];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),s=new _n),e[i++]=s.x,e[i++]=s.y}return this}},{key:"copyVector3sArray",value:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var s=t[r];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),s=new $n),e[i++]=s.x,e[i++]=s.y,e[i++]=s.z}return this}},{key:"copyVector4sArray",value:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var s=t[r];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),s=new Wn),e[i++]=s.x,e[i++]=s.y,e[i++]=s.z,e[i++]=s.w}return this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,i=this.count;e<i;e++)go.fromBufferAttribute(this,e),go.applyMatrix3(t),this.setXY(e,go.x,go.y);else if(3===this.itemSize)for(var r=0,n=this.count;r<n;r++)yo.fromBufferAttribute(this,r),yo.applyMatrix3(t),this.setXYZ(r,yo.x,yo.y,yo.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,i=this.count;e<i;e++)yo.fromBufferAttribute(this,e),yo.applyMatrix4(t),this.setXYZ(e,yo.x,yo.y,yo.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,i=this.count;e<i;e++)yo.fromBufferAttribute(this,e),yo.applyNormalMatrix(t),this.setXYZ(e,yo.x,yo.y,yo.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,i=this.count;e<i;e++)yo.fromBufferAttribute(this,e),yo.transformDirection(t),this.setXYZ(e,yo.x,yo.y,yo.z);return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"getX",value:function(t){return this.array[t*this.itemSize]}},{key:"setX",value:function(t,e){return this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){return this.array[t*this.itemSize+1]}},{key:"setY",value:function(t,e){return this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){return this.array[t*this.itemSize+2]}},{key:"setZ",value:function(t,e){return this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){return this.array[t*this.itemSize+3]}},{key:"setW",value:function(t,e){return this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this}},{key:"setXYZ",value:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}},{key:"setXYZW",value:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==qr&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}]),t}();xo.prototype.isBufferAttribute=!0;var bo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Int8Array(t),r,n)}return(0,Z.Z)(i)}(xo),wo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Uint8Array(t),r,n)}return(0,Z.Z)(i)}(xo),_o=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Uint8ClampedArray(t),r,n)}return(0,Z.Z)(i)}(xo),So=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Int16Array(t),r,n)}return(0,Z.Z)(i)}(xo),Ao=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Uint16Array(t),r,n)}return(0,Z.Z)(i)}(xo),To=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Int32Array(t),r,n)}return(0,Z.Z)(i)}(xo),Eo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Uint32Array(t),r,n)}return(0,Z.Z)(i)}(xo),Mo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Uint16Array(t),r,n)}return(0,Z.Z)(i)}(xo);Mo.prototype.isFloat16BufferAttribute=!0;var Co=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Float32Array(t),r,n)}return(0,Z.Z)(i)}(xo),Po=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),e.call(this,new Float64Array(t),r,n)}return(0,Z.Z)(i)}(xo),Ro=0,ko=new Rs,Lo=new eo,Oo=new $n,Do=new is,Io=new is,Fo=new $n,jo=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),t=e.call(this),Object.defineProperty((0,Wt.Z)(t),"id",{value:Ro++}),t.uuid=pn(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}return(0,Z.Z)(i,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return Array.isArray(t)?this.index=new(An(t)?Eo:Ao)(t,1):this.index=t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:i})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var r=(new Sn).getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}var n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(t),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return ko.makeRotationFromQuaternion(t),this.applyMatrix4(ko),this}},{key:"rotateX",value:function(t){return ko.makeRotationX(t),this.applyMatrix4(ko),this}},{key:"rotateY",value:function(t){return ko.makeRotationY(t),this.applyMatrix4(ko),this}},{key:"rotateZ",value:function(t){return ko.makeRotationZ(t),this.applyMatrix4(ko),this}},{key:"translate",value:function(t,e,i){return ko.makeTranslation(t,e,i),this.applyMatrix4(ko),this}},{key:"scale",value:function(t,e,i){return ko.makeScale(t,e,i),this.applyMatrix4(ko),this}},{key:"lookAt",value:function(t){return Lo.lookAt(t),Lo.updateMatrix(),this.applyMatrix4(Lo.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Oo).negate(),this.translate(Oo.x,Oo.y,Oo.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new Co(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new is);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new $n(-1/0,-1/0,-1/0),new $n(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var n=e[i];Do.setFromBufferAttribute(n),this.morphTargetsRelative?(Fo.addVectors(this.boundingBox.min,Do.min),this.boundingBox.expandByPoint(Fo),Fo.addVectors(this.boundingBox.max,Do.max),this.boundingBox.expandByPoint(Fo)):(this.boundingBox.expandByPoint(Do.min),this.boundingBox.expandByPoint(Do.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new ws);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new $n,1/0);if(t){var i=this.boundingSphere.center;if(Do.setFromBufferAttribute(t),e)for(var r=0,n=e.length;r<n;r++){var s=e[r];Io.setFromBufferAttribute(s),this.morphTargetsRelative?(Fo.addVectors(Do.min,Io.min),Do.expandByPoint(Fo),Fo.addVectors(Do.max,Io.max),Do.expandByPoint(Fo)):(Do.expandByPoint(Io.min),Do.expandByPoint(Io.max))}Do.getCenter(i);for(var o=0,a=0,l=t.count;a<l;a++)Fo.fromBufferAttribute(t,a),o=Math.max(o,i.distanceToSquared(Fo));if(e)for(var u=0,h=e.length;u<h;u++)for(var c=e[u],d=this.morphTargetsRelative,f=0,p=c.count;f<p;f++)Fo.fromBufferAttribute(c,f),d&&(Oo.fromBufferAttribute(t,f),Fo.add(Oo)),o=Math.max(o,i.distanceToSquared(Fo));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var i=t.array,r=e.position.array,n=e.normal.array,s=e.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new xo(new Float32Array(4*o),4));for(var a=this.getAttribute("tangent").array,l=[],u=[],h=0;h<o;h++)l[h]=new $n,u[h]=new $n;var c=new $n,d=new $n,f=new $n,p=new _n,m=new _n,v=new _n,y=new $n,g=new $n,x=this.groups;0===x.length&&(x=[{start:0,count:i.length}]);for(var b=0,w=x.length;b<w;++b)for(var _=x[b],S=_.start,A=S,T=S+_.count;A<T;A+=3)F(i[A+0],i[A+1],i[A+2]);for(var E=new $n,M=new $n,C=new $n,P=new $n,R=0,k=x.length;R<k;++R)for(var L=x[R],O=L.start,D=O,I=O+L.count;D<I;D+=3)j(i[D+0]),j(i[D+1]),j(i[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function F(t,e,i){c.fromArray(r,3*t),d.fromArray(r,3*e),f.fromArray(r,3*i),p.fromArray(s,2*t),m.fromArray(s,2*e),v.fromArray(s,2*i),d.sub(c),f.sub(c),m.sub(p),v.sub(p);var n=1/(m.x*v.y-v.x*m.y);isFinite(n)&&(y.copy(d).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(n),g.copy(f).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(n),l[t].add(y),l[e].add(y),l[i].add(y),u[t].add(g),u[e].add(g),u[i].add(g))}function j(t){C.fromArray(n,3*t),P.copy(C);var e=l[t];E.copy(e),E.sub(C.multiplyScalar(C.dot(e))).normalize(),M.crossVectors(P,e);var i=M.dot(u[t])<0?-1:1;a[4*t]=E.x,a[4*t+1]=E.y,a[4*t+2]=E.z,a[4*t+3]=i}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var i=this.getAttribute("normal");if(void 0===i)i=new xo(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(var r=0,n=i.count;r<n;r++)i.setXYZ(r,0,0,0);var s=new $n,o=new $n,a=new $n,l=new $n,u=new $n,h=new $n,c=new $n,d=new $n;if(t)for(var f=0,p=t.count;f<p;f+=3){var m=t.getX(f+0),v=t.getX(f+1),y=t.getX(f+2);s.fromBufferAttribute(e,m),o.fromBufferAttribute(e,v),a.fromBufferAttribute(e,y),c.subVectors(a,o),d.subVectors(s,o),c.cross(d),l.fromBufferAttribute(i,m),u.fromBufferAttribute(i,v),h.fromBufferAttribute(i,y),l.add(c),u.add(c),h.add(c),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(v,u.x,u.y,u.z),i.setXYZ(y,h.x,h.y,h.z)}else for(var g=0,x=e.count;g<x;g+=3)s.fromBufferAttribute(e,g+0),o.fromBufferAttribute(e,g+1),a.fromBufferAttribute(e,g+2),c.subVectors(a,o),d.subVectors(s,o),c.cross(d),i.setXYZ(g+0,c.x,c.y,c.z),i.setXYZ(g+1,c.x,c.y,c.z),i.setXYZ(g+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}},{key:"merge",value:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,s=t.attributes[r],o=s.array,a=s.itemSize*e,l=Math.min(o.length,n.length-a),u=0,h=a;u<l;u++,h++)n[h]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,i=t.count;e<i;e++)Fo.fromBufferAttribute(t,e),Fo.normalize(),t.setXYZ(e,Fo.x,Fo.y,Fo.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=t.normalized,s=new i.constructor(e.length*r),o=0,a=0,l=0,u=e.length;l<u;l++){o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*r;for(var h=0;h<r;h++)s[a++]=i[o++]}return new xo(s,r,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new i,r=this.index.array,n=this.attributes;for(var s in n){var o=t(n[s],r);e.setAttribute(s,o)}var a=this.morphAttributes;for(var l in a){for(var u=[],h=a[l],c=0,d=h.length;c<d;c++){var f=t(h[c],r);u.push(f)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var y=p[m];e.addGroup(y.start,y.count,y.materialIndex)}return e}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var s in n){var o=n[s];t.data.attributes[s]=o.toJSON(t.data)}var a={},l=!1;for(var u in this.morphAttributes){for(var h=this.morphAttributes[u],c=[],d=0,f=h.length;d<f;d++){var p=h[d];c.push(p.toJSON(t.data))}c.length>0&&(a[u]=c,l=!0)}l&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone(e));var r=t.attributes;for(var n in r){var s=r[n];this.setAttribute(n,s.clone(e))}var o=t.morphAttributes;for(var a in o){for(var l=[],u=o[a],h=0,c=u.length;h<c;h++)l.push(u[h].clone(e));this.morphAttributes[a]=l}this.morphTargetsRelative=t.morphTargetsRelative;for(var d=t.groups,f=0,p=d.length;f<p;f++){var m=d[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=t.boundingBox;null!==v&&(this.boundingBox=v.clone());var y=t.boundingSphere;return null!==y&&(this.boundingSphere=y.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),i}(ln);jo.prototype.isBufferGeometry=!0;var Bo=new Rs,No=new Ps,Uo=new ws,zo=new $n,Go=new $n,Vo=new $n,Ho=new $n,Wo=new $n,Yo=new $n,Xo=new $n,Zo=new $n,qo=new $n,Qo=new _n,Ko=new _n,Jo=new _n,$o=new $n,ta=new $n,ea=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vo;return(0,X.Z)(this,i),(t=e.call(this)).type="Mesh",t.geometry=r,t.material=n,t.updateMorphTargets(),t}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,i=Object.keys(e);if(i.length>0){var r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var n=0,s=r.length;n<s;n++){var o=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=n}}}}else{var a=t.morphTargets;void 0!==a&&a.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(t,e){var i,r=this.geometry,n=this.material,s=this.matrixWorld;if(void 0!==n&&(null===r.boundingSphere&&r.computeBoundingSphere(),Uo.copy(r.boundingSphere),Uo.applyMatrix4(s),!1!==t.ray.intersectsSphere(Uo)&&(Bo.copy(s).invert(),No.copy(t.ray).applyMatrix4(Bo),null===r.boundingBox||!1!==No.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,a=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,h=r.attributes.uv,c=r.attributes.uv2,d=r.groups,f=r.drawRange;if(null!==o)if(Array.isArray(n))for(var p=0,m=d.length;p<m;p++)for(var v=d[p],y=n[v.materialIndex],g=Math.max(v.start,f.start),x=Math.min(o.count,Math.min(v.start+v.count,f.start+f.count));g<x;g+=3){var b=o.getX(g),w=o.getX(g+1),_=o.getX(g+2);(i=ia(this,y,t,No,a,l,u,h,c,b,w,_))&&(i.faceIndex=Math.floor(g/3),i.face.materialIndex=v.materialIndex,e.push(i))}else for(var S=Math.max(0,f.start),A=Math.min(o.count,f.start+f.count);S<A;S+=3){var T=o.getX(S),E=o.getX(S+1),M=o.getX(S+2);(i=ia(this,n,t,No,a,l,u,h,c,T,E,M))&&(i.faceIndex=Math.floor(S/3),e.push(i))}else if(void 0!==a)if(Array.isArray(n))for(var C=0,P=d.length;C<P;C++)for(var R=d[C],k=n[R.materialIndex],L=Math.max(R.start,f.start),O=Math.min(a.count,Math.min(R.start+R.count,f.start+f.count));L<O;L+=3){(i=ia(this,k,t,No,a,l,u,h,c,L,L+1,L+2))&&(i.faceIndex=Math.floor(L/3),i.face.materialIndex=R.materialIndex,e.push(i))}else for(var D=Math.max(0,f.start),I=Math.min(a.count,f.start+f.count);D<I;D+=3){(i=ia(this,n,t,No,a,l,u,h,c,D,D+1,D+2))&&(i.faceIndex=Math.floor(D/3),e.push(i))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),i}(eo);function ia(t,e,i,r,n,s,o,a,l,u,h,c){zo.fromBufferAttribute(n,u),Go.fromBufferAttribute(n,h),Vo.fromBufferAttribute(n,c);var d=t.morphTargetInfluences;if(s&&d){Xo.set(0,0,0),Zo.set(0,0,0),qo.set(0,0,0);for(var f=0,p=s.length;f<p;f++){var m=d[f],v=s[f];0!==m&&(Ho.fromBufferAttribute(v,u),Wo.fromBufferAttribute(v,h),Yo.fromBufferAttribute(v,c),o?(Xo.addScaledVector(Ho,m),Zo.addScaledVector(Wo,m),qo.addScaledVector(Yo,m)):(Xo.addScaledVector(Ho.sub(zo),m),Zo.addScaledVector(Wo.sub(Go),m),qo.addScaledVector(Yo.sub(Vo),m)))}zo.add(Xo),Go.add(Zo),Vo.add(qo)}t.isSkinnedMesh&&(t.boneTransform(u,zo),t.boneTransform(h,Go),t.boneTransform(c,Vo));var y=function(t,e,i,r,n,s,o,a){if(null===(e.side===ae?r.intersectTriangle(o,s,n,!0,a):r.intersectTriangle(n,s,o,e.side!==le,a)))return null;ta.copy(a),ta.applyMatrix4(t.matrixWorld);var l=i.ray.origin.distanceTo(ta);return l<i.near||l>i.far?null:{distance:l,point:ta.clone(),object:t}}(t,e,i,r,zo,Go,Vo,$o);if(y){a&&(Qo.fromBufferAttribute(a,u),Ko.fromBufferAttribute(a,h),Jo.fromBufferAttribute(a,c),y.uv=fo.getUV($o,zo,Go,Vo,Qo,Ko,Jo,new _n)),l&&(Qo.fromBufferAttribute(l,u),Ko.fromBufferAttribute(l,h),Jo.fromBufferAttribute(l,c),y.uv2=fo.getUV($o,zo,Go,Vo,Qo,Ko,Jo,new _n));var g={a:u,b:h,c:c,normal:new $n,materialIndex:0};fo.getNormal(zo,Go,Vo,g.normal),y.face=g}return y}ea.prototype.isMesh=!0;var ra=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,X.Z)(this,i),(t=e.call(this)).type="BoxGeometry",t.parameters={width:r,height:n,depth:s,widthSegments:o,heightSegments:a,depthSegments:l};var u=(0,Wt.Z)(t);o=Math.floor(o),a=Math.floor(a),l=Math.floor(l);var h=[],c=[],d=[],f=[],p=0,m=0;function v(t,e,i,r,n,s,o,a,l,v,y){for(var g=s/l,x=o/v,b=s/2,w=o/2,_=a/2,S=l+1,A=v+1,T=0,E=0,M=new $n,C=0;C<A;C++)for(var P=C*x-w,R=0;R<S;R++){var k=R*g-b;M[t]=k*r,M[e]=P*n,M[i]=_,c.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[i]=a>0?1:-1,d.push(M.x,M.y,M.z),f.push(R/l),f.push(1-C/v),T+=1}for(var L=0;L<v;L++)for(var O=0;O<l;O++){var D=p+O+S*L,I=p+O+S*(L+1),F=p+(O+1)+S*(L+1),j=p+(O+1)+S*L;h.push(D,I,j),h.push(I,F,j),E+=6}u.addGroup(m,E,y),m+=E,p+=T}return v("z","y","x",-1,-1,s,n,r,l,a,0),v("z","y","x",1,-1,s,n,-r,l,a,1),v("x","z","y",1,1,r,s,n,o,l,2),v("x","z","y",1,-1,r,s,-n,o,l,3),v("x","y","z",1,-1,r,n,s,o,a,4),v("x","y","z",-1,-1,r,n,-s,o,a,5),t.setIndex(h),t.setAttribute("position",new Co(c,3)),t.setAttribute("normal",new Co(d,3)),t.setAttribute("uv",new Co(f,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}]),i}(jo);function na(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function sa(t){for(var e={},i=0;i<t.length;i++){var r=na(t[i]);for(var n in r)e[n]=r[n]}return e}var oa={clone:na,merge:sa},aa=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(t)),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=na(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);for(var r in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var n=this.uniforms[r].value;n&&n.isTexture?e.uniforms[r]={type:"t",value:n.toJSON(t).uuid}:n&&n.isColor?e.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?e.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?e.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?e.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?e.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?e.uniforms[r]={type:"m4",value:n.toArray()}:e.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var s={};for(var o in this.extensions)!0===this.extensions[o]&&(s[o]=!0);return Object.keys(s).length>0&&(e.extensions=s),e}}]),i}(mo);aa.prototype.isShaderMaterial=!0;var la=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="Camera",t.matrixWorldInverse=new Rs,t.projectionMatrix=new Rs,t.projectionMatrixInverse=new Rs,t}return(0,Z.Z)(i,[{key:"copy",value:function(t,e){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}},{key:"updateMatrixWorld",value:function(t){Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){Ht((0,Gt.Z)(i.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),i}(eo);la.prototype.isCamera=!0;var ua=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,X.Z)(this,i),(t=e.call(this)).type="PerspectiveCamera",t.fov=r,t.zoom=1,t.near=s,t.far=o,t.focus=10,t.aspect=n,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}return(0,Z.Z)(i,[{key:"copy",value:function(t,e){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*fn*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*dn*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*fn*Math.atan(Math.tan(.5*dn*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(t,e,i,r,n,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=this.near,e=t*Math.tan(.5*dn*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,s=this.view;if(null!==this.view&&this.view.enabled){var o=s.fullWidth,a=s.fullHeight;n+=s.offsetX*r/o,e-=s.offsetY*i/a,r*=s.width/o,i*=s.height/a}var l=this.filmOffset;0!==l&&(n+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}]),i}(la);ua.prototype.isPerspectiveCamera=!0;var ha=90,ca=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;if((0,X.Z)(this,i),(s=e.call(this)).type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),(0,zt.Z)(s);s.renderTarget=n;var o=new ua(ha,1,t,r);o.layers=s.layers,o.up.set(0,-1,0),o.lookAt(new $n(1,0,0)),s.add(o);var a=new ua(ha,1,t,r);a.layers=s.layers,a.up.set(0,-1,0),a.lookAt(new $n(-1,0,0)),s.add(a);var l=new ua(ha,1,t,r);l.layers=s.layers,l.up.set(0,0,1),l.lookAt(new $n(0,1,0)),s.add(l);var u=new ua(ha,1,t,r);u.layers=s.layers,u.up.set(0,0,-1),u.lookAt(new $n(0,-1,0)),s.add(u);var h=new ua(ha,1,t,r);h.layers=s.layers,h.up.set(0,-1,0),h.lookAt(new $n(0,0,1)),s.add(h);var c=new ua(ha,1,t,r);return c.layers=s.layers,c.up.set(0,-1,0),c.lookAt(new $n(0,0,-1)),s.add(c),s}return(0,Z.Z)(i,[{key:"update",value:function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,r=(0,n.Z)(this.children,6),s=r[0],o=r[1],a=r[2],l=r[3],u=r[4],h=r[5],c=t.getRenderTarget(),d=t.outputEncoding,f=t.toneMapping,p=t.xr.enabled;t.outputEncoding=Ar,t.toneMapping=He,t.xr.enabled=!1;var m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,s),t.setRenderTarget(i,1),t.render(e,o),t.setRenderTarget(i,2),t.render(e,a),t.setRenderTarget(i,3),t.render(e,l),t.setRenderTarget(i,4),t.render(e,u),i.texture.generateMipmaps=m,t.setRenderTarget(i,5),t.render(e,h),t.setRenderTarget(c),t.outputEncoding=d,t.toneMapping=f,t.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}]),i}(eo),da=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s,o,a,l,u,h,c){var d;return(0,X.Z)(this,i),t=void 0!==t?t:[],r=void 0!==r?r:Ke,(d=e.call(this,t,r,n,s,o,a,l,u,h,c)).flipY=!1,d}return(0,Z.Z)(i,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}]),i}(Hn);da.prototype.isCubeTexture=!0;var fa=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,X.Z)(this,i);var s={width:t,height:t,depth:1},o=[s,s,s,s,s,s];return(r=e.call(this,t,t,n)).texture=new da(o,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),r.texture.isRenderTargetTexture=!0,r.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,r.texture.minFilter=void 0!==n.minFilter?n.minFilter:hi,r}return(0,Z.Z)(i,[{key:"fromEquirectangularTexture",value:function(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var i={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new ra(5,5,5),o=new aa({name:"CubemapFromEquirect",uniforms:na(i),vertexShader:r,fragmentShader:n,side:ae,blending:ce});o.uniforms.tEquirect.value=e;var a=new ea(s,o),l=e.minFilter;return e.minFilter===fi&&(e.minFilter=hi),new ca(1,10,this).update(t,a),e.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}},{key:"clear",value:function(t,e,i,r){for(var n=t.getRenderTarget(),s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(e,i,r);t.setRenderTarget(n)}}]),i}(Yn);fa.prototype.isWebGLCubeRenderTarget=!0;var pa=new $n,ma=new $n,va=new Sn,ya=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n(1,0,0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,X.Z)(this,t),this.normal=e,this.constant=i}return(0,Z.Z)(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,i){var r=pa.subVectors(i,e).cross(ma.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){var i=t.delta(pa),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;var n=-(t.start.dot(this.normal)+this.constant)/r;return n<0||n>1?null:e.copy(i).multiplyScalar(n).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var i=e||va.getNormalMatrix(t),r=this.coplanarPoint(pa).applyMatrix4(t),n=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(n),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();ya.prototype.isPlane=!0;var ga=new ws,xa=new $n,ba=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ya,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ya,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ya,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ya,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ya,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ya;(0,X.Z)(this,t),this.planes=[e,i,r,n,s,o]}return(0,Z.Z)(t,[{key:"set",value:function(t,e,i,r,n,s){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(s),this}},{key:"copy",value:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],s=i[2],o=i[3],a=i[4],l=i[5],u=i[6],h=i[7],c=i[8],d=i[9],f=i[10],p=i[11],m=i[12],v=i[13],y=i[14],g=i[15];return e[0].setComponents(o-r,h-a,p-c,g-m).normalize(),e[1].setComponents(o+r,h+a,p+c,g+m).normalize(),e[2].setComponents(o+n,h+l,p+d,g+v).normalize(),e[3].setComponents(o-n,h-l,p-d,g-v).normalize(),e[4].setComponents(o-s,h-u,p-f,g-y).normalize(),e[5].setComponents(o+s,h+u,p+f,g+y).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ga.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ga)}},{key:"intersectsSprite",value:function(t){return ga.center.set(0,0,0),ga.radius=.7071067811865476,ga.applyMatrix4(t.matrixWorld),this.intersectsSphere(ga)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++){if(e[n].distanceToPoint(i)<r)return!1}return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(xa.x=r.normal.x>0?t.max.x:t.min.x,xa.y=r.normal.y>0?t.max.y:t.min.y,xa.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(xa)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();function wa(){var t=null,e=!1,i=null,r=null;function n(e,s){i(e,s),r=t.requestAnimationFrame(n)}return{start:function(){!0!==e&&null!==i&&(r=t.requestAnimationFrame(n),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function _a(t,e){var i=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var i=r.get(e);i&&(t.deleteBuffer(i.buffer),r.delete(e))},update:function(e,n){if(e.isGLBufferAttribute){var s=r.get(e);(!s||s.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var o=r.get(e);void 0===o?r.set(e,function(e,r){var n,s=e.array,o=e.usage,a=t.createBuffer();if(t.bindBuffer(r,a),t.bufferData(r,s,o),e.onUploadCallback(),s instanceof Float32Array)n=5126;else if(s instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!i)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");n=5131}else n=5123;else if(s instanceof Int16Array)n=5122;else if(s instanceof Uint32Array)n=5125;else if(s instanceof Int32Array)n=5124;else if(s instanceof Int8Array)n=5120;else if(s instanceof Uint8Array)n=5121;else{if(!(s instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+s);n=5121}return{buffer:a,type:n,bytesPerElement:s.BYTES_PER_ELEMENT,version:e.version}}(e,n)):o.version<e.version&&(!function(e,r,n){var s=r.array,o=r.updateRange;t.bindBuffer(n,e),-1===o.count?t.bufferSubData(n,0,s):(i?t.bufferSubData(n,o.offset*s.BYTES_PER_ELEMENT,s,o.offset,o.count):t.bufferSubData(n,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,e,n),o.version=e.version)}}}}var Sa=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,X.Z)(this,i),(t=e.call(this)).type="PlaneGeometry",t.parameters={width:r,height:n,widthSegments:s,heightSegments:o};for(var a=r/2,l=n/2,u=Math.floor(s),h=Math.floor(o),c=u+1,d=h+1,f=r/u,p=n/h,m=[],v=[],y=[],g=[],x=0;x<d;x++)for(var b=x*p-l,w=0;w<c;w++){var _=w*f-a;v.push(_,-b,0),y.push(0,0,1),g.push(w/u),g.push(1-x/h)}for(var S=0;S<h;S++)for(var A=0;A<u;A++){var T=A+c*S,E=A+c*(S+1),M=A+1+c*(S+1),C=A+1+c*S;m.push(T,E,C),m.push(E,M,C)}return t.setIndex(m),t.setAttribute("position",new Co(v,3)),t.setAttribute("normal",new Co(y,3)),t.setAttribute("uv",new Co(g,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.width,t.height,t.widthSegments,t.heightSegments)}}]),i}(jo),Aa={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Ta={common:{diffuse:{value:new Nn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Sn},uv2Transform:{value:new Sn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sn}},sprite:{diffuse:{value:new Nn(16777215)},opacity:{value:1},center:{value:new _n(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sn}}},Ea={basic:{uniforms:sa([Ta.common,Ta.specularmap,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.fog]),vertexShader:Aa.meshbasic_vert,fragmentShader:Aa.meshbasic_frag},lambert:{uniforms:sa([Ta.common,Ta.specularmap,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.fog,Ta.lights,{emissive:{value:new Nn(0)}}]),vertexShader:Aa.meshlambert_vert,fragmentShader:Aa.meshlambert_frag},phong:{uniforms:sa([Ta.common,Ta.specularmap,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.fog,Ta.lights,{emissive:{value:new Nn(0)},specular:{value:new Nn(1118481)},shininess:{value:30}}]),vertexShader:Aa.meshphong_vert,fragmentShader:Aa.meshphong_frag},standard:{uniforms:sa([Ta.common,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.roughnessmap,Ta.metalnessmap,Ta.fog,Ta.lights,{emissive:{value:new Nn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Aa.meshphysical_vert,fragmentShader:Aa.meshphysical_frag},toon:{uniforms:sa([Ta.common,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.gradientmap,Ta.fog,Ta.lights,{emissive:{value:new Nn(0)}}]),vertexShader:Aa.meshtoon_vert,fragmentShader:Aa.meshtoon_frag},matcap:{uniforms:sa([Ta.common,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.fog,{matcap:{value:null}}]),vertexShader:Aa.meshmatcap_vert,fragmentShader:Aa.meshmatcap_frag},points:{uniforms:sa([Ta.points,Ta.fog]),vertexShader:Aa.points_vert,fragmentShader:Aa.points_frag},dashed:{uniforms:sa([Ta.common,Ta.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Aa.linedashed_vert,fragmentShader:Aa.linedashed_frag},depth:{uniforms:sa([Ta.common,Ta.displacementmap]),vertexShader:Aa.depth_vert,fragmentShader:Aa.depth_frag},normal:{uniforms:sa([Ta.common,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,{opacity:{value:1}}]),vertexShader:Aa.meshnormal_vert,fragmentShader:Aa.meshnormal_frag},sprite:{uniforms:sa([Ta.sprite,Ta.fog]),vertexShader:Aa.sprite_vert,fragmentShader:Aa.sprite_frag},background:{uniforms:{uvTransform:{value:new Sn},t2D:{value:null}},vertexShader:Aa.background_vert,fragmentShader:Aa.background_frag},cube:{uniforms:sa([Ta.envmap,{opacity:{value:1}}]),vertexShader:Aa.cube_vert,fragmentShader:Aa.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Aa.equirect_vert,fragmentShader:Aa.equirect_frag},distanceRGBA:{uniforms:sa([Ta.common,Ta.displacementmap,{referencePosition:{value:new $n},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Aa.distanceRGBA_vert,fragmentShader:Aa.distanceRGBA_frag},shadow:{uniforms:sa([Ta.lights,Ta.fog,{color:{value:new Nn(0)},opacity:{value:1}}]),vertexShader:Aa.shadow_vert,fragmentShader:Aa.shadow_frag}};function Ma(t,e,i,r,n,s){var o,a,l=new Nn(0),u=!0===n?0:1,h=null,c=0,d=null;function f(t,e){i.buffers.color.setClear(t.r,t.g,t.b,e,s)}return{getClearColor:function(){return l},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(t),f(l,u=e)},getClearAlpha:function(){return u},setClearAlpha:function(t){f(l,u=t)},render:function(i,n){var s=!1,p=!0===n.isScene?n.background:null;p&&p.isTexture&&(p=e.get(p));var m=t.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(p=null),null===p?f(l,u):p&&p.isColor&&(f(p,1),s=!0),(t.autoClear||s)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.mapping===ei)?(void 0===a&&((a=new ea(new ra(1,1,1),new aa({name:"BackgroundCubeMaterial",uniforms:na(Ea.cube.uniforms),vertexShader:Ea.cube.vertexShader,fragmentShader:Ea.cube.fragmentShader,side:ae,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),a.material.uniforms.envMap.value=p,a.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,h===p&&c===p.version&&d===t.toneMapping||(a.material.needsUpdate=!0,h=p,c=p.version,d=t.toneMapping),i.unshift(a,a.geometry,a.material,0,0,null)):p&&p.isTexture&&(void 0===o&&((o=new ea(new Sa(2,2),new aa({name:"BackgroundMaterial",uniforms:na(Ea.background.uniforms),vertexShader:Ea.background.vertexShader,fragmentShader:Ea.background.fragmentShader,side:oe,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),h===p&&c===p.version&&d===t.toneMapping||(o.material.needsUpdate=!0,h=p,c=p.version,d=t.toneMapping),i.unshift(o,o.geometry,o.material,0,0,null))}}}function Ca(t,e,i,r){var n=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||null!==s,a={},l=f(null),u=l,h=!1;function c(e){return r.isWebGL2?t.bindVertexArray(e):s.bindVertexArrayOES(e)}function d(e){return r.isWebGL2?t.deleteVertexArray(e):s.deleteVertexArrayOES(e)}function f(t){for(var e=[],i=[],r=[],s=0;s<n;s++)e[s]=0,i[s]=0,r[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:i,attributeDivisors:r,object:t,attributes:{},index:null}}function p(){for(var t=u.newAttributes,e=0,i=t.length;e<i;e++)t[e]=0}function m(t){v(t,0)}function v(i,n){var s=u.newAttributes,o=u.enabledAttributes,a=u.attributeDivisors;(s[i]=1,0===o[i]&&(t.enableVertexAttribArray(i),o[i]=1),a[i]!==n)&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),a[i]=n)}function y(){for(var e=u.newAttributes,i=u.enabledAttributes,r=0,n=i.length;r<n;r++)i[r]!==e[r]&&(t.disableVertexAttribArray(r),i[r]=0)}function g(e,i,n,s,o,a){!0!==r.isWebGL2||5124!==n&&5125!==n?t.vertexAttribPointer(e,i,n,s,o,a):t.vertexAttribIPointer(e,i,n,o,a)}function x(){b(),h=!0,u!==l&&c((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(n,l,d,x,b){var w=!1;if(o){var _=function(e,i,n){var o=!0===n.wireframe,l=a[e.id];void 0===l&&(l={},a[e.id]=l);var u=l[i.id];void 0===u&&(u={},l[i.id]=u);var h=u[o];void 0===h&&(h=f(r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()),u[o]=h);return h}(x,d,l);u!==_&&c((u=_).object),w=function(t,e){var i=u.attributes,r=t.attributes,n=0;for(var s in r){var o=i[s],a=r[s];if(void 0===o)return!0;if(o.attribute!==a)return!0;if(o.data!==a.data)return!0;n++}return u.attributesNum!==n||u.index!==e}(x,b),w&&function(t,e){var i={},r=t.attributes,n=0;for(var s in r){var o=r[s],a={};a.attribute=o,o.data&&(a.data=o.data),i[s]=a,n++}u.attributes=i,u.attributesNum=n,u.index=e}(x,b)}else{var S=!0===l.wireframe;u.geometry===x.id&&u.program===d.id&&u.wireframe===S||(u.geometry=x.id,u.program=d.id,u.wireframe=S,w=!0)}!0===n.isInstancedMesh&&(w=!0),null!==b&&i.update(b,34963),(w||h)&&(h=!1,function(n,s,o,a){if(!1===r.isWebGL2&&(n.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();var l=a.attributes,u=o.getAttributes(),h=s.defaultAttributeValues;for(var c in u){var d=u[c];if(d.location>=0){var f=l[c];if(void 0===f&&("instanceMatrix"===c&&n.instanceMatrix&&(f=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(f=n.instanceColor)),void 0!==f){var x=f.normalized,b=f.itemSize,w=i.get(f);if(void 0===w)continue;var _=w.buffer,S=w.type,A=w.bytesPerElement;if(f.isInterleavedBufferAttribute){var T=f.data,E=T.stride,M=f.offset;if(T.isInstancedInterleavedBuffer){for(var C=0;C<d.locationSize;C++)v(d.location+C,T.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=T.meshPerAttribute*T.count)}else for(var P=0;P<d.locationSize;P++)m(d.location+P);t.bindBuffer(34962,_);for(var R=0;R<d.locationSize;R++)g(d.location+R,b/d.locationSize,S,x,E*A,(M+b/d.locationSize*R)*A)}else{if(f.isInstancedBufferAttribute){for(var k=0;k<d.locationSize;k++)v(d.location+k,f.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var L=0;L<d.locationSize;L++)m(d.location+L);t.bindBuffer(34962,_);for(var O=0;O<d.locationSize;O++)g(d.location+O,b/d.locationSize,S,x,b*A,b/d.locationSize*O*A)}}else if(void 0!==h){var D=h[c];if(void 0!==D)switch(D.length){case 2:t.vertexAttrib2fv(d.location,D);break;case 3:t.vertexAttrib3fv(d.location,D);break;case 4:t.vertexAttrib4fv(d.location,D);break;default:t.vertexAttrib1fv(d.location,D)}}}}y()}(n,l,d,x),null!==b&&t.bindBuffer(34963,i.get(b).buffer))},reset:x,resetDefaultState:b,dispose:function(){for(var t in x(),a){var e=a[t];for(var i in e){var r=e[i];for(var n in r)d(r[n].object),delete r[n];delete e[i]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0!==a[t.id]){var e=a[t.id];for(var i in e){var r=e[i];for(var n in r)d(r[n].object),delete r[n];delete e[i]}delete a[t.id]}},releaseStatesOfProgram:function(t){for(var e in a){var i=a[e];if(void 0!==i[t.id]){var r=i[t.id];for(var n in r)d(r[n].object),delete r[n];delete i[t.id]}}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:y}}function Pa(t,e,i,r){var n,s=r.isWebGL2;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n,1)},this.renderInstances=function(r,o,a){if(0!==a){var l,u;if(s)l=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](n,r,o,a),i.update(o,n,a)}}}function Ra(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var s="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,o=void 0!==i.precision?i.precision:"highp",a=n(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var l=s||e.has("WEBGL_draw_buffers"),u=!0===i.logarithmicDepthBuffer,h=t.getParameter(34930),c=t.getParameter(35660),d=t.getParameter(3379),f=t.getParameter(34076),p=t.getParameter(34921),m=t.getParameter(36347),v=t.getParameter(36348),y=t.getParameter(36349),g=c>0,x=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){var i=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:g,floatFragmentTextures:x,floatVertexTextures:g&&x,maxSamples:s?t.getParameter(36183):0}}function ka(t){var e=this,i=null,r=0,n=!1,s=!1,o=new ya,a=new Sn,l={value:null,needsUpdate:!1};function u(){l.value!==i&&(l.value=i,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(t,i,r,n){var s=null!==t?t.length:0,u=null;if(0!==s){if(u=l.value,!0!==n||null===u){var h=r+4*s,c=i.matrixWorldInverse;a.getNormalMatrix(c),(null===u||u.length<h)&&(u=new Float32Array(h));for(var d=0,f=r;d!==s;++d,f+=4)o.copy(t[d]).applyMatrix4(c,a),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return e.numPlanes=s,e.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,s){var o=0!==t.length||e||0!==r||n;return n=e,i=h(t,s,0),r=t.length,o},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,u()},this.setState=function(e,o,a){var c=e.clippingPlanes,d=e.clipIntersection,f=e.clipShadows,p=t.get(e);if(!n||null===c||0===c.length||s&&!f)s?h(null):u();else{var m=s?0:r,v=4*m,y=p.clippingState||null;l.value=y,y=h(c,o,v,a);for(var g=0;g!==v;++g)y[g]=i[g];p.clippingState=y,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function La(t){var e=new WeakMap;function i(t,e){return e===$e?t.mapping=Ke:e===ti&&(t.mapping=Je),t}function r(t){var i=t.target;i.removeEventListener("dispose",r);var n=e.get(i);void 0!==n&&(e.delete(i),n.dispose())}return{get:function(n){if(n&&n.isTexture&&!1===n.isRenderTargetTexture){var s=n.mapping;if(s===$e||s===ti){if(e.has(n))return i(e.get(n).texture,n.mapping);var o=n.image;if(o&&o.height>0){var a=new fa(o.height/2);return a.fromEquirectangularTexture(t,n),e.set(n,a),n.addEventListener("dispose",r),i(a.texture,n.mapping)}return null}}return n},dispose:function(){e=new WeakMap}}}Ea.physical={uniforms:sa([Ea.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new _n(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Nn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new _n},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Nn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Nn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Aa.meshphysical_vert,fragmentShader:Aa.meshphysical_frag};var Oa=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,X.Z)(this,i),(t=e.call(this)).type="OrthographicCamera",t.zoom=1,t.view=null,t.left=r,t.right=n,t.top=s,t.bottom=o,t.near=a,t.far=l,t.updateProjectionMatrix(),t}return(0,Z.Z)(i,[{key:"copy",value:function(t,e){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,i,r,n,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,s=i+t,o=r+e,a=r-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s=(n+=l*this.view.offsetX)+l*this.view.width,a=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(n,s,o,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),i}(la);Oa.prototype.isOrthographicCamera=!0;var Da=[.125,.215,.35,.446,.526,.582],Ia=20,Fa=new Oa,ja=new Nn,Ba=null,Na=(1+Math.sqrt(5))/2,Ua=1/Na,za=[new $n(1,1,1),new $n(-1,1,1),new $n(1,1,-1),new $n(-1,1,-1),new $n(0,Na,Ua),new $n(0,Na,-Ua),new $n(Ua,0,Na),new $n(-Ua,0,Na),new $n(Na,Ua,0),new $n(-Na,Ua,0)],Ga=function(){function t(e){(0,X.Z)(this,t),this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,Z.Z)(t,[{key:"fromScene",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Ba=this._renderer.getRenderTarget(),this._setSize(256);var n=this._allocateTargets();return n.depthBuffer=!0,this._sceneToCubeUV(t,i,r,n),e>0&&this._blur(n,0,0,e),this._applyPMREM(n),this._cleanup(n),n}},{key:"fromEquirectangular",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}},{key:"fromCubemap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ya(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Wa(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}},{key:"_cleanup",value:function(t){this._renderer.setRenderTarget(Ba),t.scissorTest=!1,Ha(t,0,0,t.width,t.height)}},{key:"_fromTexture",value:function(t,e){t.mapping===Ke||t.mapping===Je?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Ba=this._renderer.getRenderTarget();var i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}},{key:"_allocateTargets",value:function(){var t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,i={magFilter:hi,minFilter:hi,generateMipmaps:!1,type:_i,format:Ci,encoding:Ar,depthBuffer:!1},r=Va(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Va(t,e,i);var n=this._lodMax,s=function(t){for(var e=[],i=[],r=[],n=t,s=t-4+1+Da.length,o=0;o<s;o++){var a=Math.pow(2,n);i.push(a);var l=1/a;o>t-4?l=Da[o-t+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(a-1),h=-u/2,c=1+u/2,d=[h,h,c,h,c,c,h,h,c,c,h,c],f=6,p=6,m=3,v=2,y=1,g=new Float32Array(m*p*f),x=new Float32Array(v*p*f),b=new Float32Array(y*p*f),w=0;w<f;w++){var _=w%3*2/3-1,S=w>2?0:-1,A=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];g.set(A,m*p*w),x.set(d,v*p*w);var T=[w,w,w,w,w,w];b.set(T,y*p*w)}var E=new jo;E.setAttribute("position",new xo(g,m)),E.setAttribute("uv",new xo(x,v)),E.setAttribute("faceIndex",new xo(b,y)),e.push(E),n>4&&n--}return{lodPlanes:e,sizeLods:i,sigmas:r}}(n);this._sizeLods=s.sizeLods,this._lodPlanes=s.lodPlanes,this._sigmas=s.sigmas,this._blurMaterial=function(t,e,i){var r=new Float32Array(Ia),n=new $n(0,1,0);return new aa({name:"SphericalGaussianBlur",defines:{n:Ia,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:ce,depthTest:!1,depthWrite:!1})}(n,t,e)}return r}},{key:"_compileMaterial",value:function(t){var e=new ea(this._lodPlanes[0],t);this._renderer.compile(e,Fa)}},{key:"_sceneToCubeUV",value:function(t,e,i,r){var n=new ua(90,1,e,i),s=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,u=a.toneMapping;a.getClearColor(ja),a.toneMapping=He,a.autoClear=!1;var h=new vo({name:"PMREM.Background",side:ae,depthWrite:!1,depthTest:!1}),c=new ea(new ra,h),d=!1,f=t.background;f?f.isColor&&(h.color.copy(f),t.background=null,d=!0):(h.color.copy(ja),d=!0);for(var p=0;p<6;p++){var m=p%3;0===m?(n.up.set(0,s[p],0),n.lookAt(o[p],0,0)):1===m?(n.up.set(0,0,s[p]),n.lookAt(0,o[p],0)):(n.up.set(0,s[p],0),n.lookAt(0,0,o[p]));var v=this._cubeSize;Ha(r,m*v,p>2?v:0,v,v),a.setRenderTarget(r),d&&a.render(c,n),a.render(t,n)}c.geometry.dispose(),c.material.dispose(),a.toneMapping=u,a.autoClear=l,t.background=f}},{key:"_textureToCubeUV",value:function(t,e){var i=this._renderer,r=t.mapping===Ke||t.mapping===Je;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ya()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Wa());var n=r?this._cubemapMaterial:this._equirectMaterial,s=new ea(this._lodPlanes[0],n);n.uniforms.envMap.value=t;var o=this._cubeSize;Ha(e,0,0,3*o,2*o),i.setRenderTarget(e),i.render(s,Fa)}},{key:"_applyPMREM",value:function(t){var e=this._renderer,i=e.autoClear;e.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var n=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=za[(r-1)%za.length];this._blur(t,r-1,r,n,s)}e.autoClear=i}},{key:"_blur",value:function(t,e,i,r,n){var s=this._pingPongRenderTarget;this._halfBlur(t,s,e,i,r,"latitudinal",n),this._halfBlur(s,t,i,i,r,"longitudinal",n)}},{key:"_halfBlur",value:function(t,e,i,r,n,s,o){var a=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new ea(this._lodPlanes[r],l),h=l.uniforms,c=this._sizeLods[i]-1,d=isFinite(n)?Math.PI/(2*c):2*Math.PI/39,f=n/d,p=isFinite(n)?1+Math.floor(3*f):Ia;p>Ia&&console.warn("sigmaRadians, ".concat(n,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Ia));for(var m=[],v=0,y=0;y<Ia;++y){var g=y/f,x=Math.exp(-g*g/2);m.push(x),0===y?v+=x:y<p&&(v+=2*x)}for(var b=0;b<m.length;b++)m[b]=m[b]/v;h.envMap.value=t.texture,h.samples.value=p,h.weights.value=m,h.latitudinal.value="latitudinal"===s,o&&(h.poleAxis.value=o);var w=this._lodMax;h.dTheta.value=d,h.mipInt.value=w-i;var _=this._sizeLods[r];Ha(e,3*_*(r>w-4?r-w+4:0),4*(this._cubeSize-_),3*_,2*_),a.setRenderTarget(e),a.render(u,Fa)}}]),t}();function Va(t,e,i){var r=new Yn(t,e,i);return r.texture.mapping=ei,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ha(t,e,i,r,n){t.viewport.set(e,i,r,n),t.scissor.set(e,i,r,n)}function Wa(){return new aa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:ce,depthTest:!1,depthWrite:!1})}function Ya(){return new aa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:ce,depthTest:!1,depthWrite:!1})}function Xa(t){var e=new WeakMap,i=null;function r(t){var i=t.target;i.removeEventListener("dispose",r);var n=e.get(i);void 0!==n&&(e.delete(i),n.dispose())}return{get:function(n){if(n&&n.isTexture){var s=n.mapping,o=s===$e||s===ti,a=s===Ke||s===Je;if(o||a){if(n.isRenderTargetTexture&&!0===n.needsPMREMUpdate){n.needsPMREMUpdate=!1;var l=e.get(n);return null===i&&(i=new Ga(t)),l=o?i.fromEquirectangular(n,l):i.fromCubemap(n,l),e.set(n,l),l.texture}if(e.has(n))return e.get(n).texture;var u=n.image;if(o&&u&&u.height>0||a&&u&&function(t){for(var e=0,i=6,r=0;r<i;r++)void 0!==t[r]&&e++;return e===i}(u)){null===i&&(i=new Ga(t));var h=o?i.fromEquirectangular(n):i.fromCubemap(n);return e.set(n,h),n.addEventListener("dispose",r),h.texture}return null}}return n},dispose:function(){e=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function Za(t){var e={};function i(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(t){return null!==i(t)},init:function(t){t.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(t){var e=i(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function qa(t,e,i,r){var n={},s=new WeakMap;function o(t){var a=t.target;for(var l in null!==a.index&&e.remove(a.index),a.attributes)e.remove(a.attributes[l]);a.removeEventListener("dispose",o),delete n[a.id];var u=s.get(a);u&&(e.remove(u),s.delete(a)),r.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,i.memory.geometries--}function a(t){var i=[],r=t.index,n=t.attributes.position,o=0;if(null!==r){var a=r.array;o=r.version;for(var l=0,u=a.length;l<u;l+=3){var h=a[l+0],c=a[l+1],d=a[l+2];i.push(h,c,c,d,d,h)}}else{var f=n.array;o=n.version;for(var p=0,m=f.length/3-1;p<m;p+=3){var v=p+0,y=p+1,g=p+2;i.push(v,y,y,g,g,v)}}var x=new(An(i)?Eo:Ao)(i,1);x.version=o;var b=s.get(t);b&&e.remove(b),s.set(t,x)}return{get:function(t,e){return!0===n[e.id]||(e.addEventListener("dispose",o),n[e.id]=!0,i.memory.geometries++),e},update:function(t){var i=t.attributes;for(var r in i)e.update(i[r],34962);var n=t.morphAttributes;for(var s in n)for(var o=n[s],a=0,l=o.length;a<l;a++)e.update(o[a],34962)},getWireframeAttribute:function(t){var e=s.get(t);if(e){var i=t.index;null!==i&&e.version<i.version&&a(t)}else a(t);return s.get(t)}}}function Qa(t,e,i,r){var n,s,o,a=r.isWebGL2;this.setMode=function(t){n=t},this.setIndex=function(t){s=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,s,e*o),i.update(r,n,1)},this.renderInstances=function(r,l,u){if(0!==u){var h,c;if(a)h=t,c="drawElementsInstanced";else if(c="drawElementsInstancedANGLE",null===(h=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[c](n,l,s,r*o,u),i.update(l,n,u)}}}function Ka(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function Ja(t,e){return t[0]-e[0]}function $a(t,e){return Math.abs(e[1])-Math.abs(t[1])}function tl(t,e){var i=1,r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?i=127:r instanceof Int16Array?i=32767:r instanceof Int32Array?i=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(i)}function el(t,e,i){for(var r={},n=new Float32Array(8),s=new WeakMap,o=new Wn,a=[],l=0;l<8;l++)a[l]=[l,0];return{update:function(l,u,h,c){var d=l.morphTargetInfluences;if(!0===e.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0,m=s.get(u);if(void 0===m||m.count!==p){void 0!==m&&m.texture.dispose();var v=void 0!==u.morphAttributes.position,y=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,x=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],w=u.morphAttributes.color||[],_=0;!0===v&&(_=1),!0===y&&(_=2),!0===g&&(_=3);var S=u.attributes.position.count*_,A=1;S>e.maxTextureSize&&(A=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);var T=new Float32Array(S*A*4*p),E=new Xn(T,S,A,p);E.type=wi,E.needsUpdate=!0;for(var M=4*_,C=0;C<p;C++)for(var P=x[C],R=b[C],k=w[C],L=S*A*4*C,O=0;O<P.count;O++){var D=O*M;!0===v&&(o.fromBufferAttribute(P,O),!0===P.normalized&&tl(o,P),T[L+D+0]=o.x,T[L+D+1]=o.y,T[L+D+2]=o.z,T[L+D+3]=0),!0===y&&(o.fromBufferAttribute(R,O),!0===R.normalized&&tl(o,R),T[L+D+4]=o.x,T[L+D+5]=o.y,T[L+D+6]=o.z,T[L+D+7]=0),!0===g&&(o.fromBufferAttribute(k,O),!0===k.normalized&&tl(o,k),T[L+D+8]=o.x,T[L+D+9]=o.y,T[L+D+10]=o.z,T[L+D+11]=4===k.itemSize?o.w:1)}m={count:p,texture:E,size:new _n(S,A)},s.set(u,m),u.addEventListener("dispose",(function t(){E.dispose(),s.delete(u),u.removeEventListener("dispose",t)}))}for(var I=0,F=0;F<d.length;F++)I+=d[F];var j=u.morphTargetsRelative?1:1-I;c.getUniforms().setValue(t,"morphTargetBaseInfluence",j),c.getUniforms().setValue(t,"morphTargetInfluences",d),c.getUniforms().setValue(t,"morphTargetsTexture",m.texture,i),c.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{var B=void 0===d?0:d.length,N=r[u.id];if(void 0===N||N.length!==B){N=[];for(var U=0;U<B;U++)N[U]=[U,0];r[u.id]=N}for(var z=0;z<B;z++){var G=N[z];G[0]=z,G[1]=d[z]}N.sort($a);for(var V=0;V<8;V++)V<B&&N[V][1]?(a[V][0]=N[V][0],a[V][1]=N[V][1]):(a[V][0]=Number.MAX_SAFE_INTEGER,a[V][1]=0);a.sort(Ja);for(var H=u.morphAttributes.position,W=u.morphAttributes.normal,Y=0,X=0;X<8;X++){var Z=a[X],q=Z[0],Q=Z[1];q!==Number.MAX_SAFE_INTEGER&&Q?(H&&u.getAttribute("morphTarget"+X)!==H[q]&&u.setAttribute("morphTarget"+X,H[q]),W&&u.getAttribute("morphNormal"+X)!==W[q]&&u.setAttribute("morphNormal"+X,W[q]),n[X]=Q,Y+=Q):(H&&!0===u.hasAttribute("morphTarget"+X)&&u.deleteAttribute("morphTarget"+X),W&&!0===u.hasAttribute("morphNormal"+X)&&u.deleteAttribute("morphNormal"+X),n[X]=0)}var K=u.morphTargetsRelative?1:1-Y;c.getUniforms().setValue(t,"morphTargetBaseInfluence",K),c.getUniforms().setValue(t,"morphTargetInfluences",n)}}}}function il(t,e,i,r){var n=new WeakMap;function s(t){var e=t.target;e.removeEventListener("dispose",s),i.remove(e.instanceMatrix),null!==e.instanceColor&&i.remove(e.instanceColor)}return{update:function(t){var o=r.render.frame,a=t.geometry,l=e.get(t,a);return n.get(l)!==o&&(e.update(l),n.set(l,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",s)&&t.addEventListener("dispose",s),i.update(t.instanceMatrix,34962),null!==t.instanceColor&&i.update(t.instanceColor,34962)),l},dispose:function(){n=new WeakMap}}}var rl=new Hn,nl=new Xn,sl=new qn,ol=new da,al=[],ll=[],ul=new Float32Array(16),hl=new Float32Array(9),cl=new Float32Array(4);function dl(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,s=al[n];if(void 0===s&&(s=new Float32Array(n),al[n]=s),0!==e){r.toArray(s,0);for(var o=1,a=0;o!==e;++o)a+=i,t[o].toArray(s,a)}return s}function fl(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function pl(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function ml(t,e){var i=ll[e];void 0===i&&(i=new Int32Array(e),ll[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function vl(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function yl(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(fl(i,e))return;t.uniform2fv(this.addr,e),pl(i,e)}}function gl(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(fl(i,e))return;t.uniform3fv(this.addr,e),pl(i,e)}}function xl(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(fl(i,e))return;t.uniform4fv(this.addr,e),pl(i,e)}}function bl(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(fl(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),pl(i,e)}else{if(fl(i,r))return;cl.set(r),t.uniformMatrix2fv(this.addr,!1,cl),pl(i,r)}}function wl(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(fl(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),pl(i,e)}else{if(fl(i,r))return;hl.set(r),t.uniformMatrix3fv(this.addr,!1,hl),pl(i,r)}}function _l(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(fl(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),pl(i,e)}else{if(fl(i,r))return;ul.set(r),t.uniformMatrix4fv(this.addr,!1,ul),pl(i,r)}}function Sl(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function Al(t,e){var i=this.cache;fl(i,e)||(t.uniform2iv(this.addr,e),pl(i,e))}function Tl(t,e){var i=this.cache;fl(i,e)||(t.uniform3iv(this.addr,e),pl(i,e))}function El(t,e){var i=this.cache;fl(i,e)||(t.uniform4iv(this.addr,e),pl(i,e))}function Ml(t,e){var i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function Cl(t,e){var i=this.cache;fl(i,e)||(t.uniform2uiv(this.addr,e),pl(i,e))}function Pl(t,e){var i=this.cache;fl(i,e)||(t.uniform3uiv(this.addr,e),pl(i,e))}function Rl(t,e){var i=this.cache;fl(i,e)||(t.uniform4uiv(this.addr,e),pl(i,e))}function kl(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2D(e||rl,n)}function Ll(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||sl,n)}function Ol(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTextureCube(e||ol,n)}function Dl(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||nl,n)}function Il(t,e){t.uniform1fv(this.addr,e)}function Fl(t,e){var i=dl(e,this.size,2);t.uniform2fv(this.addr,i)}function jl(t,e){var i=dl(e,this.size,3);t.uniform3fv(this.addr,i)}function Bl(t,e){var i=dl(e,this.size,4);t.uniform4fv(this.addr,i)}function Nl(t,e){var i=dl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Ul(t,e){var i=dl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function zl(t,e){var i=dl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Gl(t,e){t.uniform1iv(this.addr,e)}function Vl(t,e){t.uniform2iv(this.addr,e)}function Hl(t,e){t.uniform3iv(this.addr,e)}function Wl(t,e){t.uniform4iv(this.addr,e)}function Yl(t,e){t.uniform1uiv(this.addr,e)}function Xl(t,e){t.uniform2uiv(this.addr,e)}function Zl(t,e){t.uniform3uiv(this.addr,e)}function ql(t,e){t.uniform4uiv(this.addr,e)}function Ql(t,e,i){var r=e.length,n=ml(i,r);t.uniform1iv(this.addr,n);for(var s=0;s!==r;++s)i.setTexture2D(e[s]||rl,n[s])}function Kl(t,e,i){var r=e.length,n=ml(i,r);t.uniform1iv(this.addr,n);for(var s=0;s!==r;++s)i.setTexture3D(e[s]||sl,n[s])}function Jl(t,e,i){var r=e.length,n=ml(i,r);t.uniform1iv(this.addr,n);for(var s=0;s!==r;++s)i.setTextureCube(e[s]||ol,n[s])}function $l(t,e,i){var r=e.length,n=ml(i,r);t.uniform1iv(this.addr,n);for(var s=0;s!==r;++s)i.setTexture2DArray(e[s]||nl,n[s])}function tu(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return vl;case 35664:return yl;case 35665:return gl;case 35666:return xl;case 35674:return bl;case 35675:return wl;case 35676:return _l;case 5124:case 35670:return Sl;case 35667:case 35671:return Al;case 35668:case 35672:return Tl;case 35669:case 35673:return El;case 5125:return Ml;case 36294:return Cl;case 36295:return Pl;case 36296:return Rl;case 35678:case 36198:case 36298:case 36306:case 35682:return kl;case 35679:case 36299:case 36307:return Ll;case 35680:case 36300:case 36308:case 36293:return Ol;case 36289:case 36303:case 36311:case 36292:return Dl}}(e.type)}function eu(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Il;case 35664:return Fl;case 35665:return jl;case 35666:return Bl;case 35674:return Nl;case 35675:return Ul;case 35676:return zl;case 5124:case 35670:return Gl;case 35667:case 35671:return Vl;case 35668:case 35672:return Hl;case 35669:case 35673:return Wl;case 5125:return Yl;case 36294:return Xl;case 36295:return Zl;case 36296:return ql;case 35678:case 36198:case 36298:case 36306:case 35682:return Ql;case 35679:case 36299:case 36307:return Kl;case 35680:case 36300:case 36308:case 36293:return Jl;case 36289:case 36303:case 36311:case 36292:return $l}}(e.type)}function iu(t){this.id=t,this.seq=[],this.map={}}eu.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),pl(e,t)},iu.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,s=r.length;n!==s;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var ru=/(\w+)(\])?(\[|\.)?/g;function nu(t,e){t.seq.push(e),t.map[e.id]=e}function su(t,e,i){var r=t.name,n=r.length;for(ru.lastIndex=0;;){var s=ru.exec(r),o=ru.lastIndex,a=s[1],l="]"===s[2],u=s[3];if(l&&(a|=0),void 0===u||"["===u&&o+2===n){nu(i,void 0===u?new tu(a,t,e):new eu(a,t,e));break}var h=i.map[a];void 0===h&&nu(i,h=new iu(a)),i=h}}function ou(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);su(n,t.getUniformLocation(e,n.name),this)}}function au(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}ou.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},ou.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},ou.upload=function(t,e,i,r){for(var n=0,s=e.length;n!==s;++n){var o=e[n],a=i[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,r)}},ou.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var s=t[r];s.id in e&&i.push(s)}return i};var lu=0;function uu(t,e,i){var r=t.getShaderParameter(e,35713),n=t.getShaderInfoLog(e).trim();if(r&&""===n)return"";var s=parseInt(/ERROR: 0:(\d+)/.exec(n)[1]);return i.toUpperCase()+"\n\n"+n+"\n\n"+function(t,e){for(var i=t.split("\n"),r=[],n=Math.max(e-6,0),s=Math.min(e+6,i.length),o=n;o<s;o++)r.push(o+1+": "+i[o]);return r.join("\n")}(t.getShaderSource(e),s)}function hu(t,e){var i=function(t){switch(t){case Ar:return["Linear","( value )"];case Tr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function cu(t,e){var i;switch(e){case We:i="Linear";break;case Ye:i="Reinhard";break;case Xe:i="OptimizedCineon";break;case Ze:i="ACESFilmic";break;case qe:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function du(t){return""!==t}function fu(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pu(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var mu=/^[ \t]*#include +<([\w\d./]+)>/gm;function vu(t){return t.replace(mu,yu)}function yu(t,e){var i=Aa[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return vu(i)}var gu=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,xu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bu(t){return t.replace(xu,_u).replace(gu,wu)}function wu(t,e,i,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),_u(t,e,i,r)}function _u(t,e,i,r){for(var n="",s=parseInt(e);s<parseInt(i);s++)n+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return n}function Su(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Au(t,e,i,r){var n,s,o=t.getContext(),a=i.defines,l=i.vertexShader,u=i.fragmentShader,h=function(t){var e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===re?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ne?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===se&&(e="SHADOWMAP_TYPE_VSM"),e}(i),c=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ke:case Je:e="ENVMAP_TYPE_CUBE";break;case ei:e="ENVMAP_TYPE_CUBE_UV"}return e}(i),d=function(t){var e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===Je&&(e="ENVMAP_MODE_REFRACTION");return e}(i),f=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case ze:e="ENVMAP_BLENDING_MULTIPLY";break;case Ge:e="ENVMAP_BLENDING_MIX";break;case Ve:e="ENVMAP_BLENDING_ADD"}return e}(i),p=function(t){var e=t.envMapCubeUVHeight;if(null===e)return null;var i=Math.log2(e/32+1)+3,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:r,maxMip:i}}(i),m=i.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(du).join("\n")}(i),v=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(a),y=o.createProgram(),g=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?((n=[v].filter(du).join("\n")).length>0&&(n+="\n"),(s=[m,v].filter(du).join("\n")).length>0&&(s+="\n")):(n=[Su(i),"#define SHADER_NAME "+i.shaderName,v,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+h:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(du).join("\n"),s=[m,Su(i),"#define SHADER_NAME "+i.shaderName,v,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+d:"",i.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+h:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==He?"#define TONE_MAPPING":"",i.toneMapping!==He?Aa.tonemapping_pars_fragment:"",i.toneMapping!==He?cu("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Aa.encodings_pars_fragment,hu("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(du).join("\n")),l=pu(l=fu(l=vu(l),i),i),u=pu(u=fu(u=vu(u),i),i),l=bu(l),u=bu(u),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(g="#version 300 es\n",n=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+n,s=["#define varying in",i.glslVersion===on?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===on?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s);var x,b,w=g+s+u,_=au(o,35633,g+n+l),S=au(o,35632,w);if(o.attachShader(y,_),o.attachShader(y,S),void 0!==i.index0AttributeName?o.bindAttribLocation(y,0,i.index0AttributeName):!0===i.morphTargets&&o.bindAttribLocation(y,0,"position"),o.linkProgram(y),t.debug.checkShaderErrors){var A=o.getProgramInfoLog(y).trim(),T=o.getShaderInfoLog(_).trim(),E=o.getShaderInfoLog(S).trim(),M=!0,C=!0;if(!1===o.getProgramParameter(y,35714)){M=!1;var P=uu(o,_,"vertex"),R=uu(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+A+"\n"+P+"\n"+R)}else""!==A?console.warn("THREE.WebGLProgram: Program Info Log:",A):""!==T&&""!==E||(C=!1);C&&(this.diagnostics={runnable:M,programLog:A,vertexShader:{log:T,prefix:n},fragmentShader:{log:E,prefix:s}})}return o.deleteShader(_),o.deleteShader(S),this.getUniforms=function(){return void 0===x&&(x=new ou(o,y)),x},this.getAttributes=function(){return void 0===b&&(b=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var s=t.getActiveAttrib(e,n),o=s.name,a=1;35674===s.type&&(a=2),35675===s.type&&(a=3),35676===s.type&&(a=4),i[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return i}(o,y)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(y),this.program=void 0},this.name=i.shaderName,this.id=lu++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=S,this}var Tu=0,Eu=function(){function t(){(0,X.Z)(this,t),this.shaderCache=new Map,this.materialCache=new Map}return(0,Z.Z)(t,[{key:"update",value:function(t){var e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),n=this._getShaderStage(i),s=this._getShaderCacheForMaterial(t);return!1===s.has(r)&&(s.add(r),r.usedTimes++),!1===s.has(n)&&(s.add(n),n.usedTimes++),this}},{key:"remove",value:function(t){var e,i=Ut(this.materialCache.get(t));try{for(i.s();!(e=i.n()).done;){var r=e.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(n){i.e(n)}finally{i.f()}return this.materialCache.delete(t),this}},{key:"getVertexShaderID",value:function(t){return this._getShaderStage(t.vertexShader).id}},{key:"getFragmentShaderID",value:function(t){return this._getShaderStage(t.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(t){var e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}},{key:"_getShaderStage",value:function(t){var e=this.shaderCache;if(!1===e.has(t)){var i=new Mu(t);e.set(t,i)}return e.get(t)}}]),t}(),Mu=(0,Z.Z)((function t(e){(0,X.Z)(this,t),this.id=Tu++,this.code=e,this.usedTimes=0}));function Cu(t,e,i,r,n,s,o){var a=new zs,l=new Eu,u=[],h=n.isWebGL2,c=n.logarithmicDepthBuffer,d=n.floatVertexTextures,f=n.maxVertexUniforms,p=n.vertexTextures,m=n.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(s,a,u,y,g){var x=y.fog,b=g.geometry,w=s.isMeshStandardMaterial?y.environment:null,_=(s.isMeshStandardMaterial?i:e).get(s.envMap||w),S=_&&_.mapping===ei?_.image.height:null,A=v[s.type],T=g.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(d)return 1024;var i=f,r=Math.floor((i-20)/4),n=Math.min(r,e.length);return n<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n}(g):0;null!==s.precision&&(m=n.getMaxPrecision(s.precision))!==s.precision&&console.warn("THREE.WebGLProgram.getParameters:",s.precision,"not supported, using",m,"instead.");var E,M,C,P,R=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,k=void 0!==R?R.length:0,L=0;if(void 0!==b.morphAttributes.position&&(L=1),void 0!==b.morphAttributes.normal&&(L=2),void 0!==b.morphAttributes.color&&(L=3),A){var O=Ea[A];E=O.vertexShader,M=O.fragmentShader}else E=s.vertexShader,M=s.fragmentShader,l.update(s),C=l.getVertexShaderID(s),P=l.getFragmentShaderID(s);var D=t.getRenderTarget(),I=s.alphaTest>0,F=s.clearcoat>0;return{isWebGL2:h,shaderID:A,shaderName:s.type,vertexShader:E,fragmentShader:M,defines:s.defines,customVertexShaderID:C,customFragmentShaderID:P,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:m,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:p,outputEncoding:null===D?t.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:Ar,map:!!s.map,matcap:!!s.matcap,envMap:!!_,envMapMode:_&&_.mapping,envMapCubeUVHeight:S,lightMap:!!s.lightMap,aoMap:!!s.aoMap,emissiveMap:!!s.emissiveMap,bumpMap:!!s.bumpMap,normalMap:!!s.normalMap,objectSpaceNormalMap:s.normalMapType===Pr,tangentSpaceNormalMap:s.normalMapType===Cr,decodeVideoTexture:!!s.map&&!0===s.map.isVideoTexture&&s.map.encoding===Tr,clearcoat:F,clearcoatMap:F&&!!s.clearcoatMap,clearcoatRoughnessMap:F&&!!s.clearcoatRoughnessMap,clearcoatNormalMap:F&&!!s.clearcoatNormalMap,displacementMap:!!s.displacementMap,roughnessMap:!!s.roughnessMap,metalnessMap:!!s.metalnessMap,specularMap:!!s.specularMap,specularIntensityMap:!!s.specularIntensityMap,specularColorMap:!!s.specularColorMap,opaque:!1===s.transparent&&s.blending===de,alphaMap:!!s.alphaMap,alphaTest:I,gradientMap:!!s.gradientMap,sheen:s.sheen>0,sheenColorMap:!!s.sheenColorMap,sheenRoughnessMap:!!s.sheenRoughnessMap,transmission:s.transmission>0,transmissionMap:!!s.transmissionMap,thicknessMap:!!s.thicknessMap,combine:s.combine,vertexTangents:!!s.normalMap&&!!b.attributes.tangent,vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs:!!s.map||!!s.bumpMap||!!s.normalMap||!!s.specularMap||!!s.alphaMap||!!s.emissiveMap||!!s.roughnessMap||!!s.metalnessMap||!!s.clearcoatMap||!!s.clearcoatRoughnessMap||!!s.clearcoatNormalMap||!!s.displacementMap||!!s.transmissionMap||!!s.thicknessMap||!!s.specularIntensityMap||!!s.specularColorMap||!!s.sheenColorMap||!!s.sheenRoughnessMap,uvsVertexOnly:!(s.map||s.bumpMap||s.normalMap||s.specularMap||s.alphaMap||s.emissiveMap||s.roughnessMap||s.metalnessMap||s.clearcoatNormalMap||s.transmission>0||s.transmissionMap||s.thicknessMap||s.specularIntensityMap||s.specularColorMap||s.sheen>0||s.sheenColorMap||s.sheenRoughnessMap)&&!!s.displacementMap,fog:!!x,useFog:s.fog,fogExp2:x&&x.isFogExp2,flatShading:!!s.flatShading,sizeAttenuation:s.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===g.isSkinnedMesh&&T>0,maxBones:T,useVertexTexture:d,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:k,morphTextureStride:L,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:s.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:s.toneMapped?t.toneMapping:He,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:s.premultipliedAlpha,doubleSided:s.side===le,flipSided:s.side===ae,depthPacking:void 0!==s.depthPacking&&s.depthPacking,index0AttributeName:s.index0AttributeName,extensionDerivatives:s.extensions&&s.extensions.derivatives,extensionFragDepth:s.extensions&&s.extensions.fragDepth,extensionDrawBuffers:s.extensions&&s.extensions.drawBuffers,extensionShaderTextureLOD:s.extensions&&s.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:s.customProgramCacheKey()}},getProgramCacheKey:function(e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(e.customVertexShaderID),i.push(e.customFragmentShaderID)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputEncoding),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.combine),t.push(e.vertexUvs),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.maxBones),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection)}(i,e),function(t,e){a.disableAll(),e.isWebGL2&&a.enable(0);e.supportsVertexTextures&&a.enable(1);e.instancing&&a.enable(2);e.instancingColor&&a.enable(3);e.map&&a.enable(4);e.matcap&&a.enable(5);e.envMap&&a.enable(6);e.lightMap&&a.enable(7);e.aoMap&&a.enable(8);e.emissiveMap&&a.enable(9);e.bumpMap&&a.enable(10);e.normalMap&&a.enable(11);e.objectSpaceNormalMap&&a.enable(12);e.tangentSpaceNormalMap&&a.enable(13);e.clearcoat&&a.enable(14);e.clearcoatMap&&a.enable(15);e.clearcoatRoughnessMap&&a.enable(16);e.clearcoatNormalMap&&a.enable(17);e.displacementMap&&a.enable(18);e.specularMap&&a.enable(19);e.roughnessMap&&a.enable(20);e.metalnessMap&&a.enable(21);e.gradientMap&&a.enable(22);e.alphaMap&&a.enable(23);e.alphaTest&&a.enable(24);e.vertexColors&&a.enable(25);e.vertexAlphas&&a.enable(26);e.vertexUvs&&a.enable(27);e.vertexTangents&&a.enable(28);e.uvsVertexOnly&&a.enable(29);e.fog&&a.enable(30);t.push(a.mask),a.disableAll(),e.useFog&&a.enable(0);e.flatShading&&a.enable(1);e.logarithmicDepthBuffer&&a.enable(2);e.skinning&&a.enable(3);e.useVertexTexture&&a.enable(4);e.morphTargets&&a.enable(5);e.morphNormals&&a.enable(6);e.morphColors&&a.enable(7);e.premultipliedAlpha&&a.enable(8);e.shadowMapEnabled&&a.enable(9);e.physicallyCorrectLights&&a.enable(10);e.doubleSided&&a.enable(11);e.flipSided&&a.enable(12);e.depthPacking&&a.enable(13);e.dithering&&a.enable(14);e.specularIntensityMap&&a.enable(15);e.specularColorMap&&a.enable(16);e.transmission&&a.enable(17);e.transmissionMap&&a.enable(18);e.thicknessMap&&a.enable(19);e.sheen&&a.enable(20);e.sheenColorMap&&a.enable(21);e.sheenRoughnessMap&&a.enable(22);e.decodeVideoTexture&&a.enable(23);e.opaque&&a.enable(24);t.push(a.mask)}(i,e),i.push(t.outputEncoding)),i.push(e.customProgramCacheKey),i.join()},getUniforms:function(t){var e,i=v[t.type];if(i){var r=Ea[i];e=oa.clone(r.uniforms)}else e=t.uniforms;return e},acquireProgram:function(e,i){for(var r,n=0,o=u.length;n<o;n++){var a=u[n];if(a.cacheKey===i){++(r=a).usedTimes;break}}return void 0===r&&(r=new Au(t,i,e,s),u.push(r)),r},releaseProgram:function(t){if(0===--t.usedTimes){var e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:u,dispose:function(){l.dispose()}}}function Pu(){var t=new WeakMap;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new WeakMap}}}function Ru(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ku(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Lu(){var t=[],e=0,i=[],r=[],n=[];function s(i,r,n,s,o,a){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:n,groupOrder:s,renderOrder:i.renderOrder,z:o,group:a},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=n,l.groupOrder=s,l.renderOrder=i.renderOrder,l.z=o,l.group=a),e++,l}return{opaque:i,transmissive:r,transparent:n,init:function(){e=0,i.length=0,r.length=0,n.length=0},push:function(t,e,o,a,l,u){var h=s(t,e,o,a,l,u);o.transmission>0?r.push(h):!0===o.transparent?n.push(h):i.push(h)},unshift:function(t,e,o,a,l,u){var h=s(t,e,o,a,l,u);o.transmission>0?r.unshift(h):!0===o.transparent?n.unshift(h):i.unshift(h)},finish:function(){for(var i=e,r=t.length;i<r;i++){var n=t[i];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||Ru),r.length>1&&r.sort(e||ku),n.length>1&&n.sort(e||ku)}}}function Ou(){var t=new WeakMap;return{get:function(e,i){var r;return!1===t.has(e)?(r=new Lu,t.set(e,[r])):i>=t.get(e).length?(r=new Lu,t.get(e).push(r)):r=t.get(e)[i],r},dispose:function(){t=new WeakMap}}}function Du(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new $n,color:new Nn};break;case"SpotLight":i={position:new $n,direction:new $n,color:new Nn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new $n,color:new Nn,distance:0,decay:0};break;case"HemisphereLight":i={direction:new $n,skyColor:new Nn,groundColor:new Nn};break;case"RectAreaLight":i={color:new Nn,position:new $n,halfWidth:new $n,halfHeight:new $n}}return t[e.id]=i,i}}}var Iu=0;function Fu(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function ju(t,e){for(var i=new Du,r=function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _n};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _n,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=i,i}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},s=0;s<9;s++)n.probe.push(new $n);var o=new $n,a=new Rs,l=new Rs;return{setup:function(s,o){for(var a=0,l=0,u=0,h=0;h<9;h++)n.probe[h].set(0,0,0);var c=0,d=0,f=0,p=0,m=0,v=0,y=0,g=0;s.sort(Fu);for(var x=!0!==o?Math.PI:1,b=0,w=s.length;b<w;b++){var _=s[b],S=_.color,A=_.intensity,T=_.distance,E=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)a+=S.r*A*x,l+=S.g*A*x,u+=S.b*A*x;else if(_.isLightProbe)for(var M=0;M<9;M++)n.probe[M].addScaledVector(_.sh.coefficients[M],A);else if(_.isDirectionalLight){var C=i.get(_);if(C.color.copy(_.color).multiplyScalar(_.intensity*x),_.castShadow){var P=_.shadow,R=r.get(_);R.shadowBias=P.bias,R.shadowNormalBias=P.normalBias,R.shadowRadius=P.radius,R.shadowMapSize=P.mapSize,n.directionalShadow[c]=R,n.directionalShadowMap[c]=E,n.directionalShadowMatrix[c]=_.shadow.matrix,v++}n.directional[c]=C,c++}else if(_.isSpotLight){var k=i.get(_);if(k.position.setFromMatrixPosition(_.matrixWorld),k.color.copy(S).multiplyScalar(A*x),k.distance=T,k.coneCos=Math.cos(_.angle),k.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),k.decay=_.decay,_.castShadow){var L=_.shadow,O=r.get(_);O.shadowBias=L.bias,O.shadowNormalBias=L.normalBias,O.shadowRadius=L.radius,O.shadowMapSize=L.mapSize,n.spotShadow[f]=O,n.spotShadowMap[f]=E,n.spotShadowMatrix[f]=_.shadow.matrix,g++}n.spot[f]=k,f++}else if(_.isRectAreaLight){var D=i.get(_);D.color.copy(S).multiplyScalar(A),D.halfWidth.set(.5*_.width,0,0),D.halfHeight.set(0,.5*_.height,0),n.rectArea[p]=D,p++}else if(_.isPointLight){var I=i.get(_);if(I.color.copy(_.color).multiplyScalar(_.intensity*x),I.distance=_.distance,I.decay=_.decay,_.castShadow){var F=_.shadow,j=r.get(_);j.shadowBias=F.bias,j.shadowNormalBias=F.normalBias,j.shadowRadius=F.radius,j.shadowMapSize=F.mapSize,j.shadowCameraNear=F.camera.near,j.shadowCameraFar=F.camera.far,n.pointShadow[d]=j,n.pointShadowMap[d]=E,n.pointShadowMatrix[d]=_.shadow.matrix,y++}n.point[d]=I,d++}else if(_.isHemisphereLight){var B=i.get(_);B.skyColor.copy(_.color).multiplyScalar(A*x),B.groundColor.copy(_.groundColor).multiplyScalar(A*x),n.hemi[m]=B,m++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(n.rectAreaLTC1=Ta.LTC_FLOAT_1,n.rectAreaLTC2=Ta.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(n.rectAreaLTC1=Ta.LTC_HALF_1,n.rectAreaLTC2=Ta.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=a,n.ambient[1]=l,n.ambient[2]=u;var N=n.hash;N.directionalLength===c&&N.pointLength===d&&N.spotLength===f&&N.rectAreaLength===p&&N.hemiLength===m&&N.numDirectionalShadows===v&&N.numPointShadows===y&&N.numSpotShadows===g||(n.directional.length=c,n.spot.length=f,n.rectArea.length=p,n.point.length=d,n.hemi.length=m,n.directionalShadow.length=v,n.directionalShadowMap.length=v,n.pointShadow.length=y,n.pointShadowMap.length=y,n.spotShadow.length=g,n.spotShadowMap.length=g,n.directionalShadowMatrix.length=v,n.pointShadowMatrix.length=y,n.spotShadowMatrix.length=g,N.directionalLength=c,N.pointLength=d,N.spotLength=f,N.rectAreaLength=p,N.hemiLength=m,N.numDirectionalShadows=v,N.numPointShadows=y,N.numSpotShadows=g,n.version=Iu++)},setupView:function(t,e){for(var i=0,r=0,s=0,u=0,h=0,c=e.matrixWorldInverse,d=0,f=t.length;d<f;d++){var p=t[d];if(p.isDirectionalLight){var m=n.directional[i];m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(c),i++}else if(p.isSpotLight){var v=n.spot[s];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(c),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(c),s++}else if(p.isRectAreaLight){var y=n.rectArea[u];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(c),l.identity(),a.copy(p.matrixWorld),a.premultiply(c),l.extractRotation(a),y.halfWidth.set(.5*p.width,0,0),y.halfHeight.set(0,.5*p.height,0),y.halfWidth.applyMatrix4(l),y.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var g=n.point[r];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(c),r++}else if(p.isHemisphereLight){var x=n.hemi[h];x.direction.setFromMatrixPosition(p.matrixWorld),x.direction.transformDirection(c),x.direction.normalize(),h++}}},state:n}}function Bu(t,e){var i=new ju(t,e),r=[],n=[];return{init:function(){r.length=0,n.length=0},state:{lightsArray:r,shadowsArray:n,lights:i},setupLights:function(t){i.setup(r,t)},setupLightsView:function(t){i.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){n.push(t)}}}function Nu(t,e){var i=new WeakMap;return{get:function(r){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===i.has(r)?(n=new Bu(t,e),i.set(r,[n])):s>=i.get(r).length?(n=new Bu(t,e),i.get(r).push(n)):n=i.get(r)[s],n},dispose:function(){i=new WeakMap}}}var Uu=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="MeshDepthMaterial",r.depthPacking=Er,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),i}(mo);Uu.prototype.isMeshDepthMaterial=!0;var zu=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="MeshDistanceMaterial",r.referencePosition=new $n,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]),i}(mo);zu.prototype.isMeshDistanceMaterial=!0;function Gu(t,e,i){var r=new ba,n=new _n,s=new _n,o=new Wn,a=new Uu({depthPacking:Mr}),l=new zu,u={},h=i.maxTextureSize,c={0:ae,1:oe,2:le},d=new aa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _n},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;var p=new jo;p.setAttribute("position",new xo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new ea(p,d),v=this;function y(i,r){var n=e.update(m);d.defines.VSM_SAMPLES!==i.blurSamples&&(d.defines.VSM_SAMPLES=i.blurSamples,f.defines.VSM_SAMPLES=i.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),d.uniforms.shadow_pass.value=i.map.texture,d.uniforms.resolution.value=i.mapSize,d.uniforms.radius.value=i.radius,t.setRenderTarget(i.mapPass),t.clear(),t.renderBufferDirect(r,null,n,d,m,null),f.uniforms.shadow_pass.value=i.mapPass.texture,f.uniforms.resolution.value=i.mapSize,f.uniforms.radius.value=i.radius,t.setRenderTarget(i.map),t.clear(),t.renderBufferDirect(r,null,n,f,m,null)}function g(e,i,r,n,s,o){var h=null,d=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(h=void 0!==d?d:!0===r.isPointLight?l:a,t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length||i.displacementMap&&0!==i.displacementScale||i.alphaMap&&i.alphaTest>0){var f=h.uuid,p=i.uuid,m=u[f];void 0===m&&(m={},u[f]=m);var v=m[p];void 0===v&&(v=h.clone(),m[p]=v),h=v}return h.visible=i.visible,h.wireframe=i.wireframe,h.side=o===se?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:c[i.side],h.alphaMap=i.alphaMap,h.alphaTest=i.alphaTest,h.clipShadows=i.clipShadows,h.clippingPlanes=i.clippingPlanes,h.clipIntersection=i.clipIntersection,h.displacementMap=i.displacementMap,h.displacementScale=i.displacementScale,h.displacementBias=i.displacementBias,h.wireframeLinewidth=i.wireframeLinewidth,h.linewidth=i.linewidth,!0===r.isPointLight&&!0===h.isMeshDistanceMaterial&&(h.referencePosition.setFromMatrixPosition(r.matrixWorld),h.nearDistance=n,h.farDistance=s),h}function x(i,n,s,o,a){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&a===se)&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,i.matrixWorld);var l=e.update(i),u=i.material;if(Array.isArray(u))for(var h=l.groups,c=0,d=h.length;c<d;c++){var f=h[c],p=u[f.materialIndex];if(p&&p.visible){var m=g(i,p,o,s.near,s.far,a);t.renderBufferDirect(s,null,l,m,i,f)}}else if(u.visible){var v=g(i,u,o,s.near,s.far,a);t.renderBufferDirect(s,null,l,v,i,null)}}for(var y=i.children,b=0,w=y.length;b<w;b++)x(y[b],n,s,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=re,this.render=function(e,i,a){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==e.length){var l=t.getRenderTarget(),u=t.getActiveCubeFace(),c=t.getActiveMipmapLevel(),d=t.state;d.setBlending(ce),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=e.length;f<p;f++){var m=e[f],g=m.shadow;if(void 0!==g){if(!1!==g.autoUpdate||!1!==g.needsUpdate){n.copy(g.mapSize);var b=g.getFrameExtents();if(n.multiply(b),s.copy(g.mapSize),(n.x>h||n.y>h)&&(n.x>h&&(s.x=Math.floor(h/b.x),n.x=s.x*b.x,g.mapSize.x=s.x),n.y>h&&(s.y=Math.floor(h/b.y),n.y=s.y*b.y,g.mapSize.y=s.y)),null!==g.map||g.isPointLightShadow||this.type!==se||(g.map=new Yn(n.x,n.y),g.map.texture.name=m.name+".shadowMap",g.mapPass=new Yn(n.x,n.y),g.camera.updateProjectionMatrix()),null===g.map){var w={minFilter:si,magFilter:si,format:Ci};g.map=new Yn(n.x,n.y,w),g.map.texture.name=m.name+".shadowMap",g.camera.updateProjectionMatrix()}t.setRenderTarget(g.map),t.clear();for(var _=g.getViewportCount(),S=0;S<_;S++){var A=g.getViewport(S);o.set(s.x*A.x,s.y*A.y,s.x*A.z,s.y*A.w),d.viewport(o),g.updateMatrices(m,S),r=g.getFrustum(),x(i,a,g.camera,m,this.type)}g.isPointLightShadow||this.type!==se||y(g,a),g.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,t.setRenderTarget(l,u,c)}}}function Vu(t,e,i){var r,n,s=i.isWebGL2;var o=new function(){var e=!1,i=new Wn,r=null,n=new Wn(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,s,o,a){!0===a&&(e*=o,r*=o,s*=o),i.set(e,r,s,o),!1===n.equals(i)&&(t.clearColor(e,r,s,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},a=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?U(2929):z(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Oe:t.depthFunc(512);break;case De:t.depthFunc(519);break;case Ie:t.depthFunc(513);break;case Fe:t.depthFunc(515);break;case je:t.depthFunc(514);break;case Be:t.depthFunc(518);break;case Ne:t.depthFunc(516);break;case Ue:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},l=new function(){var e=!1,i=null,r=null,n=null,s=null,o=null,a=null,l=null,u=null;return{setTest:function(t){e||(t?U(2960):z(2960))},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&s===o||(t.stencilFunc(e,i,o),r=e,n=i,s=o)},setOp:function(e,i,r){o===e&&a===i&&l===r||(t.stencilOp(e,i,r),o=e,a=i,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,i=null,r=null,n=null,s=null,o=null,a=null,l=null,u=null}}},u={},h={},c=new WeakMap,d=[],f=null,p=!1,m=null,v=null,y=null,g=null,x=null,b=null,w=null,_=!1,S=null,A=null,T=null,E=null,M=null,C=t.getParameter(35661),P=!1,R=0,k=t.getParameter(7938);-1!==k.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(k)[1]),P=R>=1):-1!==k.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),P=R>=2);var L=null,O={},D=t.getParameter(3088),I=t.getParameter(2978),F=(new Wn).fromArray(D),j=(new Wn).fromArray(I);function B(e,i,r){var n=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return s}var N={};function U(e){!0!==u[e]&&(t.enable(e),u[e]=!0)}function z(e){!1!==u[e]&&(t.disable(e),u[e]=!1)}N[3553]=B(3553,3553,1),N[34067]=B(34067,34069,6),o.setClear(0,0,0,1),a.setClear(1),l.setClear(0),U(2929),a.setFunc(Fe),Y(!1),X($t),U(2884),W(ce);var G=(Yt(r={},ye,32774),Yt(r,ge,32778),Yt(r,xe,32779),r);if(s)G[be]=32775,G[we]=32776;else{var V=e.get("EXT_blend_minmax");null!==V&&(G[be]=V.MIN_EXT,G[we]=V.MAX_EXT)}var H=(Yt(n={},_e,0),Yt(n,Se,1),Yt(n,Ae,768),Yt(n,Ee,770),Yt(n,Le,776),Yt(n,Re,774),Yt(n,Ce,772),Yt(n,Te,769),Yt(n,Me,771),Yt(n,ke,775),Yt(n,Pe,773),n);function W(e,i,r,n,s,o,a,l){if(e!==ce){if(!1===p&&(U(3042),p=!0),e===ve)s=s||i,o=o||r,a=a||n,i===v&&s===x||(t.blendEquationSeparate(G[i],G[s]),v=i,x=s),r===y&&n===g&&o===b&&a===w||(t.blendFuncSeparate(H[r],H[n],H[o],H[a]),y=r,g=n,b=o,w=a),m=e,_=null;else if(e!==m||l!==_){if(v===ye&&x===ye||(t.blendEquation(32774),v=ye,x=ye),l)switch(e){case de:t.blendFuncSeparate(1,771,1,771);break;case fe:t.blendFunc(1,1);break;case pe:t.blendFuncSeparate(0,769,0,1);break;case me:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case de:t.blendFuncSeparate(770,771,1,771);break;case fe:t.blendFunc(770,1);break;case pe:t.blendFuncSeparate(0,769,0,1);break;case me:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}y=null,g=null,b=null,w=null,m=e,_=l}}else!0===p&&(z(3042),p=!1)}function Y(e){S!==e&&(e?t.frontFace(2304):t.frontFace(2305),S=e)}function X(e){e!==Jt?(U(2884),e!==A&&(e===$t?t.cullFace(1029):e===te?t.cullFace(1028):t.cullFace(1032))):z(2884),A=e}function Z(e,i,r){e?(U(32823),E===i&&M===r||(t.polygonOffset(i,r),E=i,M=r)):z(32823)}function q(e){void 0===e&&(e=33984+C-1),L!==e&&(t.activeTexture(e),L=e)}return{buffers:{color:o,depth:a,stencil:l},enable:U,disable:z,bindFramebuffer:function(e,i){return h[e]!==i&&(t.bindFramebuffer(e,i),h[e]=i,s&&(36009===e&&(h[36160]=i),36160===e&&(h[36009]=i)),!0)},drawBuffers:function(r,n){var s=d,o=!1;if(r)if(void 0===(s=c.get(n))&&(s=[],c.set(n,s)),r.isWebGLMultipleRenderTargets){var a=r.texture;if(s.length!==a.length||36064!==s[0]){for(var l=0,u=a.length;l<u;l++)s[l]=36064+l;s.length=a.length,o=!0}}else 36064!==s[0]&&(s[0]=36064,o=!0);else 1029!==s[0]&&(s[0]=1029,o=!0);o&&(i.isWebGL2?t.drawBuffers(s):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(s))},useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:W,setMaterial:function(t,e){t.side===le?z(2884):U(2884);var i=t.side===ae;e&&(i=!i),Y(i),t.blending===de&&!1===t.transparent?W(ce):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),o.setMask(t.colorWrite);var r=t.stencilWrite;l.setTest(r),r&&(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Z(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?U(32926):z(32926)},setFlipSided:Y,setCullFace:X,setLineWidth:function(e){e!==T&&(P&&t.lineWidth(e),T=e)},setPolygonOffset:Z,setScissorTest:function(t){t?U(3089):z(3089)},activeTexture:q,bindTexture:function(e,i){null===L&&q();var r=O[L];void 0===r&&(r={type:void 0,texture:void 0},O[L]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||N[e]),r.type=e,r.texture=i)},unbindTexture:function(){var e=O[L];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===F.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),F.copy(e))},viewport:function(e){!1===j.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),j.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===s&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},L=null,O={},h={},c=new WeakMap,d=[],f=null,p=!1,m=null,v=null,y=null,g=null,x=null,b=null,w=null,_=!1,S=null,A=null,T=null,E=null,M=null,F.set(0,0,t.canvas.width,t.canvas.height),j.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),l.reset()}}}function Hu(t,e,i,r,n,s,o){var a,l,u,h=n.isWebGL2,c=n.maxTextures,d=n.maxCubemapSize,f=n.maxTextureSize,p=n.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap,g=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function b(t,e){return x?new OffscreenCanvas(t,e):Mn("canvas")}function w(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var s=e?bn:Math.floor,o=s(n*t.width),a=s(n*t.height);void 0===u&&(u=b(o,a));var l=i?b(o,a):u;return l.width=o,l.height=a,l.getContext("2d").drawImage(t,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+a+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function _(t){return gn(t.width)&&gn(t.height)}function S(t,e){return t.generateMipmaps&&e&&t.minFilter!==si&&t.minFilter!==hi}function A(e){t.generateMipmap(e)}function T(i,r,n,s){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===h)return r;if(null!==i){if(void 0!==t[i])return t[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}var a=r;return 6403===r&&(5126===n&&(a=33326),5131===n&&(a=33325),5121===n&&(a=33321)),33319===r&&(5126===n&&(a=33328),5131===n&&(a=33327),5121===n&&(a=33323)),6408===r&&(5126===n&&(a=34836),5131===n&&(a=34842),5121===n&&(a=s===Tr&&!1===o?35907:32856),32819===n&&(a=32854),32820===n&&(a=32855)),33325!==a&&33326!==a&&33327!==a&&33328!==a&&34842!==a&&34836!==a||e.get("EXT_color_buffer_float"),a}function E(t,e,i){return!0===S(t,i)||t.isFramebufferTexture&&t.minFilter!==si&&t.minFilter!==hi?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function M(t){return t===si||t===oi||t===li?9728:9729}function C(t){var e=t.target;e.removeEventListener("dispose",C),function(t){var e=r.get(t);if(void 0===e.__webglInit)return;var i=t.source,n=g.get(i);if(n){var s=n[e.__cacheKey];s.usedTimes--,0===s.usedTimes&&R(t),0===Object.keys(n).length&&g.delete(i)}r.remove(t)}(e),e.isVideoTexture&&y.delete(e)}function P(e){var i=e.target;i.removeEventListener("dispose",P),function(e){var i=e.texture,n=r.get(e),s=r.get(i);void 0!==s.__webglTexture&&(t.deleteTexture(s.__webglTexture),o.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(var l=0,u=i.length;l<u;l++){var h=r.get(i[l]);h.__webglTexture&&(t.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(i[l])}r.remove(i),r.remove(e)}(i)}function R(e){var i=r.get(e);t.deleteTexture(i.__webglTexture);var n=e.source;delete g.get(n)[i.__cacheKey],o.memory.textures--}var k=0;function L(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=o.render.frame;y.get(t)!==e&&(y.set(t,e),t.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&n.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void j(n,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}var O=(Yt(a={},ii,10497),Yt(a,ri,33071),Yt(a,ni,33648),a),D=(Yt(l={},si,9728),Yt(l,oi,9984),Yt(l,li,9986),Yt(l,hi,9729),Yt(l,ci,9985),Yt(l,fi,9987),l);function I(i,s,o){if(o?(t.texParameteri(i,10242,O[s.wrapS]),t.texParameteri(i,10243,O[s.wrapT]),32879!==i&&35866!==i||t.texParameteri(i,32882,O[s.wrapR]),t.texParameteri(i,10240,D[s.magFilter]),t.texParameteri(i,10241,D[s.minFilter])):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),s.wrapS===ri&&s.wrapT===ri||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(i,10240,M(s.magFilter)),t.texParameteri(i,10241,M(s.minFilter)),s.minFilter!==si&&s.minFilter!==hi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){var a=e.get("EXT_texture_filter_anisotropic");if(s.type===wi&&!1===e.has("OES_texture_float_linear"))return;if(!1===h&&s.type===_i&&!1===e.has("OES_texture_half_float_linear"))return;(s.anisotropy>1||r.get(s).__currentAnisotropy)&&(t.texParameterf(i,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,n.getMaxAnisotropy())),r.get(s).__currentAnisotropy=s.anisotropy)}}function F(e,i){var r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",C));var n=i.source,s=g.get(n);void 0===s&&(s={},g.set(n,s));var a=function(t){var e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.encoding),e.join()}(i);if(a!==e.__cacheKey){void 0===s[a]&&(s[a]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,r=!0),s[a].usedTimes++;var l=s[e.__cacheKey];void 0!==l&&(s[e.__cacheKey].usedTimes--,0===l.usedTimes&&R(i)),e.__cacheKey=a,e.__webglTexture=s[a].texture}return r}function j(e,r,n){var o=3553;r.isDataArrayTexture&&(o=35866),r.isData3DTexture&&(o=32879);var a=F(e,r),l=r.source;if(i.activeTexture(33984+n),i.bindTexture(o,e.__webglTexture),l.version!==l.__currentVersion||!0===a){t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);var u,c=function(t){return!h&&(t.wrapS!==ri||t.wrapT!==ri||t.minFilter!==si&&t.minFilter!==hi)}(r)&&!1===_(r.image),d=w(r.image,c,!1,f),p=_(d=V(r,d))||h,m=s.convert(r.format,r.encoding),v=s.convert(r.type),y=T(r.internalFormat,m,v,r.encoding,r.isVideoTexture);I(o,r,p);var g=r.mipmaps,x=h&&!0!==r.isVideoTexture,b=void 0===e.__version,M=E(r,d,p);if(r.isDepthTexture)y=6402,h?y=r.type===wi?36012:r.type===bi?33190:r.type===Ti?35056:33189:r.type===wi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===ki&&6402===y&&r.type!==gi&&r.type!==bi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=gi,v=s.convert(r.type)),r.format===Li&&6402===y&&(y=34041,r.type!==Ti&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ti,v=s.convert(r.type))),x&&b?i.texStorage2D(3553,1,y,d.width,d.height):i.texImage2D(3553,0,y,d.width,d.height,0,m,v,null);else if(r.isDataTexture)if(g.length>0&&p){x&&b&&i.texStorage2D(3553,M,y,g[0].width,g[0].height);for(var C=0,P=g.length;C<P;C++)u=g[C],x?i.texSubImage2D(3553,C,0,0,u.width,u.height,m,v,u.data):i.texImage2D(3553,C,y,u.width,u.height,0,m,v,u.data);r.generateMipmaps=!1}else x?(b&&i.texStorage2D(3553,M,y,d.width,d.height),i.texSubImage2D(3553,0,0,0,d.width,d.height,m,v,d.data)):i.texImage2D(3553,0,y,d.width,d.height,0,m,v,d.data);else if(r.isCompressedTexture){x&&b&&i.texStorage2D(3553,M,y,g[0].width,g[0].height);for(var R=0,k=g.length;R<k;R++)u=g[R],r.format!==Ci?null!==m?x?i.compressedTexSubImage2D(3553,R,0,0,u.width,u.height,m,u.data):i.compressedTexImage2D(3553,R,y,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?i.texSubImage2D(3553,R,0,0,u.width,u.height,m,v,u.data):i.texImage2D(3553,R,y,u.width,u.height,0,m,v,u.data)}else if(r.isDataArrayTexture)x?(b&&i.texStorage3D(35866,M,y,d.width,d.height,d.depth),i.texSubImage3D(35866,0,0,0,0,d.width,d.height,d.depth,m,v,d.data)):i.texImage3D(35866,0,y,d.width,d.height,d.depth,0,m,v,d.data);else if(r.isData3DTexture)x?(b&&i.texStorage3D(32879,M,y,d.width,d.height,d.depth),i.texSubImage3D(32879,0,0,0,0,d.width,d.height,d.depth,m,v,d.data)):i.texImage3D(32879,0,y,d.width,d.height,d.depth,0,m,v,d.data);else if(r.isFramebufferTexture)x&&b?i.texStorage2D(3553,M,y,d.width,d.height):i.texImage2D(3553,0,y,d.width,d.height,0,m,v,null);else if(g.length>0&&p){x&&b&&i.texStorage2D(3553,M,y,g[0].width,g[0].height);for(var L=0,O=g.length;L<O;L++)u=g[L],x?i.texSubImage2D(3553,L,0,0,m,v,u):i.texImage2D(3553,L,y,m,v,u);r.generateMipmaps=!1}else x?(b&&i.texStorage2D(3553,M,y,d.width,d.height),i.texSubImage2D(3553,0,0,0,m,v,d)):i.texImage2D(3553,0,y,m,v,d);S(r,p)&&A(o),l.__currentVersion=l.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}function B(e,n,o,a,l){var u=s.convert(o.format,o.encoding),h=s.convert(o.type),c=T(o.internalFormat,u,h,o.encoding);r.get(n).__hasExternalTextures||(32879===l||35866===l?i.texImage3D(l,0,c,n.width,n.height,n.depth,0,u,h,null):i.texImage2D(l,0,c,n.width,n.height,0,u,h,null)),i.bindFramebuffer(36160,e),G(n)?m.framebufferTexture2DMultisampleEXT(36160,a,l,r.get(o).__webglTexture,0,z(n)):t.framebufferTexture2D(36160,a,l,r.get(o).__webglTexture,0),i.bindFramebuffer(36160,null)}function N(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){var n=33189;if(r||G(i)){var o=i.depthTexture;o&&o.isDepthTexture&&(o.type===wi?n=36012:o.type===bi&&(n=33190));var a=z(i);G(i)?m.renderbufferStorageMultisampleEXT(36161,a,n,i.width,i.height):t.renderbufferStorageMultisample(36161,a,n,i.width,i.height)}else t.renderbufferStorage(36161,n,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer){var l=z(i);r&&!1===G(i)?t.renderbufferStorageMultisample(36161,l,35056,i.width,i.height):G(i)?m.renderbufferStorageMultisampleEXT(36161,l,35056,i.width,i.height):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e)}else{var u=!0===i.isWebGLMultipleRenderTargets?i.texture[0]:i.texture,h=s.convert(u.format,u.encoding),c=s.convert(u.type),d=T(u.internalFormat,h,c,u.encoding),f=z(i);r&&!1===G(i)?t.renderbufferStorageMultisample(36161,f,d,i.width,i.height):G(i)?m.renderbufferStorageMultisampleEXT(36161,f,d,i.width,i.height):t.renderbufferStorage(36161,d,i.width,i.height)}t.bindRenderbuffer(36161,null)}function U(e){var n=r.get(e),s=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!n.__autoAllocateDepthBuffer){if(s)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),L(n.depthTexture,0);var s=r.get(n.depthTexture).__webglTexture,o=z(n);if(n.depthTexture.format===ki)G(n)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,s,0,o):t.framebufferTexture2D(36160,36096,3553,s,0);else{if(n.depthTexture.format!==Li)throw new Error("Unknown depthTexture format");G(n)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,s,0,o):t.framebufferTexture2D(36160,33306,3553,s,0)}}(n.__webglFramebuffer,e)}else if(s){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)i.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),N(n.__webglDepthbuffer[o],e,!1)}else i.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),N(n.__webglDepthbuffer,e,!1);i.bindFramebuffer(36160,null)}function z(t){return Math.min(p,t.samples)}function G(t){var i=r.get(t);return h&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==i.__useRenderToTexture}function V(t,i){var r=t.encoding,n=t.format,s=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===an||r!==Ar&&(r===Tr?!1===h?!0===e.has("EXT_sRGB")&&n===Ci?(t.format=an,t.minFilter=hi,t.generateMipmaps=!1):i=Un.sRGBToLinear(i):n===Ci&&s===mi||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),i}this.allocateTextureUnit=function(){var t=k;return t>=c&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+c),k+=1,t},this.resetTextureUnits=function(){k=0},this.setTexture2D=L,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?j(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?j(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=function(e,n){var o=r.get(e);e.version>0&&o.__version!==e.version?function(e,r,n){if(6!==r.image.length)return;var o=F(e,r),a=r.source;if(i.activeTexture(33984+n),i.bindTexture(34067,e.__webglTexture),a.version!==a.__currentVersion||!0===o){t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);for(var l=r.isCompressedTexture||r.image[0].isCompressedTexture,u=r.image[0]&&r.image[0].isDataTexture,c=[],f=0;f<6;f++)c[f]=l||u?u?r.image[f].image:r.image[f]:w(r.image[f],!1,!0,d),c[f]=V(r,c[f]);var p,m=c[0],v=_(m)||h,y=s.convert(r.format,r.encoding),g=s.convert(r.type),x=T(r.internalFormat,y,g,r.encoding),b=h&&!0!==r.isVideoTexture,M=void 0===e.__version,C=E(r,m,v);if(I(34067,r,v),l){b&&M&&i.texStorage2D(34067,C,x,m.width,m.height);for(var P=0;P<6;P++){p=c[P].mipmaps;for(var R=0;R<p.length;R++){var k=p[R];r.format!==Ci?null!==y?b?i.compressedTexSubImage2D(34069+P,R,0,0,k.width,k.height,y,k.data):i.compressedTexImage2D(34069+P,R,x,k.width,k.height,0,k.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):b?i.texSubImage2D(34069+P,R,0,0,k.width,k.height,y,g,k.data):i.texImage2D(34069+P,R,x,k.width,k.height,0,y,g,k.data)}}}else{p=r.mipmaps,b&&M&&(p.length>0&&C++,i.texStorage2D(34067,C,x,c[0].width,c[0].height));for(var L=0;L<6;L++)if(u){b?i.texSubImage2D(34069+L,0,0,0,c[L].width,c[L].height,y,g,c[L].data):i.texImage2D(34069+L,0,x,c[L].width,c[L].height,0,y,g,c[L].data);for(var O=0;O<p.length;O++){var D=p[O].image[L].image;b?i.texSubImage2D(34069+L,O+1,0,0,D.width,D.height,y,g,D.data):i.texImage2D(34069+L,O+1,x,D.width,D.height,0,y,g,D.data)}}else{b?i.texSubImage2D(34069+L,0,0,0,y,g,c[L]):i.texImage2D(34069+L,0,x,y,g,c[L]);for(var j=0;j<p.length;j++){var B=p[j];b?i.texSubImage2D(34069+L,j+1,0,0,y,g,B.image[L]):i.texImage2D(34069+L,j+1,x,y,g,B.image[L])}}}S(r,v)&&A(34067),a.__currentVersion=a.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}(o,e,n):(i.activeTexture(33984+n),i.bindTexture(34067,o.__webglTexture))},this.rebindTextures=function(t,e,i){var n=r.get(t);void 0!==e&&B(n.__webglFramebuffer,t,t.texture,36064,3553),void 0!==i&&U(t)},this.setupRenderTarget=function(e){var a=e.texture,l=r.get(e),u=r.get(a);e.addEventListener("dispose",P),!0!==e.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=t.createTexture()),u.__version=a.version,o.memory.textures++);var c=!0===e.isWebGLCubeRenderTarget,d=!0===e.isWebGLMultipleRenderTargets,f=_(e)||h;if(c){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=t.createFramebuffer()}else if(l.__webglFramebuffer=t.createFramebuffer(),d)if(n.drawBuffers)for(var m=e.texture,v=0,y=m.length;v<y;v++){var g=r.get(m[v]);void 0===g.__webglTexture&&(g.__webglTexture=t.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(h&&e.samples>0&&!1===G(e)){l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var x=s.convert(a.format,a.encoding),b=s.convert(a.type),w=T(a.internalFormat,x,b,a.encoding),E=z(e);t.renderbufferStorageMultisample(36161,E,w,e.width,e.height),i.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),N(l.__webglDepthRenderbuffer,e,!0)),i.bindFramebuffer(36160,null)}if(c){i.bindTexture(34067,u.__webglTexture),I(34067,a,f);for(var M=0;M<6;M++)B(l.__webglFramebuffer[M],e,a,36064,34069+M);S(a,f)&&A(34067),i.unbindTexture()}else if(d){for(var C=e.texture,R=0,k=C.length;R<k;R++){var L=C[R],O=r.get(L);i.bindTexture(3553,O.__webglTexture),I(3553,L,f),B(l.__webglFramebuffer,e,L,36064+R,3553),S(L,f)&&A(3553)}i.unbindTexture()}else{var D=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(h?D=e.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(D,u.__webglTexture),I(D,a,f),B(l.__webglFramebuffer,e,a,36064,D),S(a,f)&&A(D),i.unbindTexture()}e.depthBuffer&&U(e)},this.updateRenderTargetMipmap=function(t){for(var e=_(t)||h,n=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],s=0,o=n.length;s<o;s++){var a=n[s];if(S(a,e)){var l=t.isWebGLCubeRenderTarget?34067:3553,u=r.get(a).__webglTexture;i.bindTexture(l,u),A(l),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(h&&e.samples>0&&!1===G(e)){var n=e.width,s=e.height,o=16384,a=[36064],l=e.stencilBuffer?33306:36096;e.depthBuffer&&a.push(l);var u=r.get(e),c=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;!1===c&&(e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024)),i.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,u.__webglFramebuffer),!0===c&&(t.invalidateFramebuffer(36008,[l]),t.invalidateFramebuffer(36009,[l])),t.blitFramebuffer(0,0,n,s,0,0,n,s,o,9728),v&&t.invalidateFramebuffer(36008,a),i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=B,this.useMultisampledRTT=G}function Wu(t,e,i){var r=i.isWebGL2;return{convert:function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t===mi)return 5121;if(t===Si)return 32819;if(t===Ai)return 32820;if(t===vi)return 5120;if(t===yi)return 5122;if(t===gi)return 5123;if(t===xi)return 5124;if(t===bi)return 5125;if(t===wi)return 5126;if(t===_i)return r?5131:null!==(i=e.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(t===Ei)return 6406;if(t===Ci)return 6408;if(t===Pi)return 6409;if(t===Ri)return 6410;if(t===ki)return 6402;if(t===Li)return 34041;if(t===Oi)return 6403;if(t===Mi)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(t===an)return null!==(i=e.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(t===Di)return 36244;if(t===Ii)return 33319;if(t===Fi)return 33320;if(t===ji)return 36249;if(t===Bi||t===Ni||t===Ui||t===zi)if(n===Tr){if(null===(i=e.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(t===Bi)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(t===Ni)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(t===Ui)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(t===zi)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=e.get("WEBGL_compressed_texture_s3tc")))return null;if(t===Bi)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Ni)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Ui)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===zi)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===Gi||t===Vi||t===Hi||t===Wi){if(null===(i=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(t===Gi)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Vi)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Hi)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Wi)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Yi)return null!==(i=e.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(t===Xi||t===Zi){if(null===(i=e.get("WEBGL_compressed_texture_etc")))return null;if(t===Xi)return n===Tr?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(t===Zi)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(t===qi||t===Qi||t===Ki||t===Ji||t===$i||t===tr||t===er||t===ir||t===rr||t===nr||t===sr||t===or||t===ar||t===lr){if(null===(i=e.get("WEBGL_compressed_texture_astc")))return null;if(t===qi)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(t===Qi)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(t===Ki)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(t===Ji)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(t===$i)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(t===tr)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(t===er)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(t===ir)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(t===rr)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(t===nr)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(t===sr)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(t===or)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(t===ar)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(t===lr)return n===Tr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(t===ur){if(null===(i=e.get("EXT_texture_compression_bptc")))return null;if(t===ur)return n===Tr?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}return t===Ti?r?34042:null!==(i=e.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var Yu=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,X.Z)(this,i),(t=e.call(this)).cameras=r,t}return(0,Z.Z)(i)}(ua);Yu.prototype.isArrayCamera=!0;var Xu=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="Group",t}return(0,Z.Z)(i)}(eo);Xu.prototype.isGroup=!0;var Zu={type:"move"},qu=function(){function t(){(0,X.Z)(this,t),this._targetRay=null,this._grip=null,this._hand=null}return(0,Z.Z)(t,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Xu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Xu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $n,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $n),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Xu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $n,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $n),this._grip}},{key:"dispatchEvent",value:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}},{key:"disconnect",value:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(t,e,i){var r=null,n=null,s=null,o=this._targetRay,a=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==o&&null!==(r=e.getPose(t.targetRaySpace,i))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Zu)),l&&t.hand){s=!0;var u,h=Ut(t.hand.values());try{for(h.s();!(u=h.n()).done;){var c=u.value,d=e.getJointPose(c,i);if(void 0===l.joints[c.jointName]){var f=new Xu;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[c.jointName]=f,l.add(f)}var p=l.joints[c.jointName];null!==d&&(p.matrix.fromArray(d.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=d.radius),p.visible=null!==d}}catch(g){h.e(g)}finally{h.f()}var m=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],y=m.position.distanceTo(v.position);l.inputState.pinching&&y>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&y<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&null!==(n=e.getPose(t.gripSpace,i))&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==r),null!==a&&(a.visible=null!==n),null!==l&&(l.visible=null!==s),this}}]),t}(),Qu=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s,o,a,l,u,h,c){var d;if((0,X.Z)(this,i),(c=void 0!==c?c:ki)!==ki&&c!==Li)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===n&&c===ki&&(n=gi),void 0===n&&c===Li&&(n=Ti),(d=e.call(this,null,s,o,a,l,u,c,n,h)).image={width:t,height:r},d.magFilter=void 0!==l?l:si,d.minFilter=void 0!==u?u:si,d.flipY=!1,d.generateMipmaps=!1,d}return(0,Z.Z)(i)}(Hn);Qu.prototype.isDepthTexture=!0;var Ku=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;(0,X.Z)(this,i),n=e.call(this);var s=(0,Wt.Z)(n),o=null,a=1,l=null,u="local-floor",h=null,c=null,d=null,f=null,p=null,m=r.getContextAttributes(),v=null,y=null,g=[],x=new Map,b=new ua;b.layers.enable(1),b.viewport=new Wn;var w=new ua;w.layers.enable(2),w.viewport=new Wn;var _=[b,w],S=new Yu;S.layers.enable(1),S.layers.enable(2);var A=null,T=null;function E(t){var e=x.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function M(){x.forEach((function(t,e){t.disconnect(e)})),x.clear(),A=null,T=null,t.setRenderTarget(v),f=null,d=null,c=null,o=null,y=null,O.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}function C(t){for(var e=o.inputSources,i=0;i<g.length;i++)x.set(e[i],g[i]);for(var r=0;r<t.removed.length;r++){var n=t.removed[r],s=x.get(n);s&&(s.dispatchEvent({type:"disconnected",data:n}),x.delete(n))}for(var a=0;a<t.added.length;a++){var l=t.added[a],u=x.get(l);u&&u.dispatchEvent({type:"connected",data:l})}}n.cameraAutoUpdate=!0,n.enabled=!1,n.isPresenting=!1,n.getController=function(t){var e=g[t];return void 0===e&&(e=new qu,g[t]=e),e.getTargetRaySpace()},n.getControllerGrip=function(t){var e=g[t];return void 0===e&&(e=new qu,g[t]=e),e.getGripSpace()},n.getHand=function(t){var e=g[t];return void 0===e&&(e=new qu,g[t]=e),e.getHandSpace()},n.setFramebufferScaleFactor=function(t){a=t,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},n.setReferenceSpaceType=function(t){u=t,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},n.getReferenceSpace=function(){return l},n.getBaseLayer=function(){return null!==d?d:f},n.getBinding=function(){return c},n.getFrame=function(){return p},n.getSession=function(){return o},n.setSession=function(){var e=(0,Bt.Z)(Zt.mark((function e(i){var n,h,p,g,x;return Zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=i)){e.next=24;break}if(v=t.getRenderTarget(),o.addEventListener("select",E),o.addEventListener("selectstart",E),o.addEventListener("selectend",E),o.addEventListener("squeeze",E),o.addEventListener("squeezestart",E),o.addEventListener("squeezeend",E),o.addEventListener("end",M),o.addEventListener("inputsourceschange",C),!0===m.xrCompatible){e.next=14;break}return e.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===t.capabilities.isWebGL2?(n={antialias:void 0!==o.renderState.layers||m.antialias,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a},f=new XRWebGLLayer(o,r,n),o.updateRenderState({baseLayer:f}),y=new Yn(f.framebufferWidth,f.framebufferHeight,{format:Ci,type:mi,encoding:t.outputEncoding})):(h=null,p=null,g=null,m.depth&&(g=m.stencil?35056:33190,h=m.stencil?Li:ki,p=m.stencil?Ti:gi),x={colorFormat:t.outputEncoding===Tr?35907:32856,depthFormat:g,scaleFactor:a},c=new XRWebGLBinding(o,r),d=c.createProjectionLayer(x),o.updateRenderState({layers:[d]}),y=new Yn(d.textureWidth,d.textureHeight,{format:Ci,type:mi,depthTexture:new Qu(d.textureWidth,d.textureHeight,p,void 0,void 0,void 0,void 0,void 0,void 0,h),stencilBuffer:m.stencil,encoding:t.outputEncoding,samples:m.antialias?4:0}),t.properties.get(y).__ignoreDepthValues=d.ignoreDepthValues),y.isXRRenderTarget=!0,this.setFoveation(1),e.next=19,o.requestReferenceSpace(u);case 19:l=e.sent,O.setContext(o),O.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var P=new $n,R=new $n;function k(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}n.updateCamera=function(t){if(null!==o){S.near=w.near=b.near=t.near,S.far=w.far=b.far=t.far,A===S.near&&T===S.far||(o.updateRenderState({depthNear:S.near,depthFar:S.far}),A=S.near,T=S.far);var e=t.parent,i=S.cameras;k(S,e);for(var r=0;r<i.length;r++)k(i[r],e);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),t.position.copy(S.position),t.quaternion.copy(S.quaternion),t.scale.copy(S.scale),t.matrix.copy(S.matrix),t.matrixWorld.copy(S.matrixWorld);for(var n=t.children,s=0,a=n.length;s<a;s++)n[s].updateMatrixWorld(!0);2===i.length?function(t,e,i){P.setFromMatrixPosition(e.matrixWorld),R.setFromMatrixPosition(i.matrixWorld);var r=P.distanceTo(R),n=e.projectionMatrix.elements,s=i.projectionMatrix.elements,o=n[14]/(n[10]-1),a=n[14]/(n[10]+1),l=(n[9]+1)/n[5],u=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(s[8]+1)/s[0],d=o*h,f=o*c,p=r/(-h+c),m=p*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var v=o+p,y=a+p,g=d-m,x=f+(r-m),b=l*a/y*v,w=u*a/y*v;t.projectionMatrix.makePerspective(g,x,b,w,v,y)}(S,b,w):S.projectionMatrix.copy(b.projectionMatrix)}},n.getCamera=function(){return S},n.getFoveation=function(){return null!==d?d.fixedFoveation:null!==f?f.fixedFoveation:void 0},n.setFoveation=function(t){null!==d&&(d.fixedFoveation=t),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=t)};var L=null;var O=new wa;return O.setAnimationLoop((function(e,i){if(h=i.getViewerPose(l),p=i,null!==h){var r=h.views;null!==f&&(t.setRenderTargetFramebuffer(y,f.framebuffer),t.setRenderTarget(y));var n=!1;r.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(var s=0;s<r.length;s++){var a=r[s],u=null;if(null!==f)u=f.getViewport(a);else{var m=c.getViewSubImage(d,a);u=m.viewport,0===s&&(t.setRenderTargetTextures(y,m.colorTexture,d.ignoreDepthValues?void 0:m.depthStencilTexture),t.setRenderTarget(y))}var v=_[s];v.matrix.fromArray(a.transform.matrix),v.projectionMatrix.fromArray(a.projectionMatrix),v.viewport.set(u.x,u.y,u.width,u.height),0===s&&S.matrix.copy(v.matrix),!0===n&&S.cameras.push(v)}}for(var x=o.inputSources,b=0;b<g.length;b++){var w=g[b],A=x[b];w.update(A,i,l)}L&&L(e,i),p=null})),n.setAnimationLoop=function(t){L=t},n.dispose=function(){},n}return(0,Z.Z)(i)}(ln);function Ju(t,e){function i(i,r){i.opacity.value=r.opacity,r.color&&i.diffuse.value.copy(r.color),r.emissive&&i.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(i.map.value=r.map),r.alphaMap&&(i.alphaMap.value=r.alphaMap),r.bumpMap&&(i.bumpMap.value=r.bumpMap,i.bumpScale.value=r.bumpScale,r.side===ae&&(i.bumpScale.value*=-1)),r.displacementMap&&(i.displacementMap.value=r.displacementMap,i.displacementScale.value=r.displacementScale,i.displacementBias.value=r.displacementBias),r.emissiveMap&&(i.emissiveMap.value=r.emissiveMap),r.normalMap&&(i.normalMap.value=r.normalMap,i.normalScale.value.copy(r.normalScale),r.side===ae&&i.normalScale.value.negate()),r.specularMap&&(i.specularMap.value=r.specularMap),r.alphaTest>0&&(i.alphaTest.value=r.alphaTest);var n,s,o=e.get(r).envMap;if(o&&(i.envMap.value=o,i.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,i.reflectivity.value=r.reflectivity,i.ior.value=r.ior,i.refractionRatio.value=r.refractionRatio),r.lightMap){i.lightMap.value=r.lightMap;var a=!0!==t.physicallyCorrectLights?Math.PI:1;i.lightMapIntensity.value=r.lightMapIntensity*a}r.aoMap&&(i.aoMap.value=r.aoMap,i.aoMapIntensity.value=r.aoMapIntensity),r.map?n=r.map:r.specularMap?n=r.specularMap:r.displacementMap?n=r.displacementMap:r.normalMap?n=r.normalMap:r.bumpMap?n=r.bumpMap:r.roughnessMap?n=r.roughnessMap:r.metalnessMap?n=r.metalnessMap:r.alphaMap?n=r.alphaMap:r.emissiveMap?n=r.emissiveMap:r.clearcoatMap?n=r.clearcoatMap:r.clearcoatNormalMap?n=r.clearcoatNormalMap:r.clearcoatRoughnessMap?n=r.clearcoatRoughnessMap:r.specularIntensityMap?n=r.specularIntensityMap:r.specularColorMap?n=r.specularColorMap:r.transmissionMap?n=r.transmissionMap:r.thicknessMap?n=r.thicknessMap:r.sheenColorMap?n=r.sheenColorMap:r.sheenRoughnessMap&&(n=r.sheenRoughnessMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),i.uvTransform.value.copy(n.matrix)),r.aoMap?s=r.aoMap:r.lightMap&&(s=r.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),i.uv2Transform.value.copy(s.matrix))}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,r,n,s,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(t,r):r.isMeshToonMaterial?(i(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,r)):r.isMeshPhongMaterial?(i(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,r)):r.isMeshStandardMaterial?(i(t,r),function(t,i){t.roughness.value=i.roughness,t.metalness.value=i.metalness,i.roughnessMap&&(t.roughnessMap.value=i.roughnessMap);i.metalnessMap&&(t.metalnessMap.value=i.metalnessMap);e.get(i).envMap&&(t.envMapIntensity.value=i.envMapIntensity)}(t,r),r.isMeshPhysicalMaterial&&function(t,e,i){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===ae&&t.clearcoatNormalScale.value.negate()));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=i.texture,t.transmissionSamplerSize.value.set(i.width,i.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap);e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap)}(t,r,o)):r.isMeshMatcapMaterial?(i(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,r)):r.isMeshDepthMaterial?i(t,r):r.isMeshDistanceMaterial?(i(t,r),function(t,e){t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?i(t,r):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,i,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*i,t.scale.value=.5*r,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);var n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r,n,s):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);var i;e.map?i=e.map:e.alphaMap&&(i=e.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function $u(){var t=Mn("canvas");return t.style.display="block",t}function th(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=void 0!==e.canvas?e.canvas:$u(),r=void 0!==e.context?e.context:null,n=void 0===e.depth||e.depth,s=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",h=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=void 0!==e.context?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var c=null,d=null,f=[],p=[];this.domElement=i,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ar,this.physicallyCorrectLights=!1,this.toneMapping=He,this.toneMappingExposure=1;var m=this,v=!1,y=0,g=0,x=null,b=-1,w=null,_=new Wn,S=new Wn,A=null,T=i.width,E=i.height,M=1,C=null,P=null,R=new Wn(0,0,T,E),k=new Wn(0,0,T,E),L=!1,O=new ba,D=!1,I=!1,F=null,j=new Rs,B=new _n,N=new $n,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===x?M:1}var G,V,H,W,Y,X,Z,q,Q,K,J,$,tt,et,it,rt,nt,st,ot,at,lt,ut,ht,ct=r;function dt(t,e){for(var r=0;r<t.length;r++){var n=t[r],s=i.getContext(n,e);if(null!==s)return s}return null}try{var ft={alpha:!0,depth:n,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(qt)),i.addEventListener("webglcontextlost",yt,!1),i.addEventListener("webglcontextrestored",gt,!1),null===ct){var pt=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&pt.shift(),null===(ct=dt(pt,ft)))throw dt(pt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(jt){throw console.error("THREE.WebGLRenderer: "+jt.message),jt}function mt(){G=new Za(ct),V=new Ra(ct,G,e),G.init(V),ut=new Wu(ct,G,V),H=new Vu(ct,G,V),W=new Ka(ct),Y=new Pu,X=new Hu(ct,G,H,Y,V,ut,W),Z=new La(m),q=new Xa(m),Q=new _a(ct,V),ht=new Ca(ct,G,Q,V),K=new qa(ct,Q,W,ht),J=new il(ct,K,Q,W),ot=new el(ct,V,X),rt=new ka(Y),$=new Cu(m,Z,q,G,V,ht,rt),tt=new Ju(m,Y),et=new Ou,it=new Nu(G,V),st=new Ma(m,Z,H,J,t,a),nt=new Gu(m,J,V),at=new Pa(ct,G,W,V),lt=new Qa(ct,G,W,V),W.programs=$.programs,m.capabilities=V,m.extensions=G,m.properties=Y,m.renderLists=et,m.shadowMap=nt,m.state=H,m.info=W}mt();var vt=new Ku(m,ct);function yt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var t=W.autoReset,e=nt.enabled,i=nt.autoUpdate,r=nt.needsUpdate,n=nt.type;mt(),W.autoReset=t,nt.enabled=e,nt.autoUpdate=i,nt.needsUpdate=r,nt.type=n}function xt(t){var e=t.target;e.removeEventListener("dispose",xt),bt(e)}function bt(t){wt(t),Y.remove(t)}function wt(t){var e=Y.get(t).programs;void 0!==e&&(e.forEach((function(t){$.releaseProgram(t)})),t.isShaderMaterial&&$.releaseShaderCache(t))}this.xr=vt,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){var t=G.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=G.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(t){void 0!==t&&(M=t,this.setSize(T,E,!1))},this.getSize=function(t){return t.set(T,E)},this.setSize=function(t,e,r){vt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=t,E=e,i.width=Math.floor(t*M),i.height=Math.floor(e*M),!1!==r&&(i.style.width=t+"px",i.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return t.set(T*M,E*M).floor()},this.setDrawingBufferSize=function(t,e,r){T=t,E=e,M=r,i.width=Math.floor(t*r),i.height=Math.floor(e*r),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return t.copy(_)},this.getViewport=function(t){return t.copy(R)},this.setViewport=function(t,e,i,r){t.isVector4?R.set(t.x,t.y,t.z,t.w):R.set(t,e,i,r),H.viewport(_.copy(R).multiplyScalar(M).floor())},this.getScissor=function(t){return t.copy(k)},this.setScissor=function(t,e,i,r){t.isVector4?k.set(t.x,t.y,t.z,t.w):k.set(t,e,i,r),H.scissor(S.copy(k).multiplyScalar(M).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(t){H.setScissorTest(L=t)},this.setOpaqueSort=function(t){C=t},this.setTransparentSort=function(t){P=t},this.getClearColor=function(t){return t.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;t&&(r|=16384),e&&(r|=256),i&&(r|=1024),ct.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",yt,!1),i.removeEventListener("webglcontextrestored",gt,!1),et.dispose(),it.dispose(),Y.dispose(),Z.dispose(),q.dispose(),J.dispose(),ht.dispose(),$.dispose(),vt.dispose(),vt.removeEventListener("sessionstart",At),vt.removeEventListener("sessionend",Tt),F&&(F.dispose(),F=null),Et.stop()},this.renderBufferDirect=function(t,e,i,r,n,s){null===e&&(e=U);var o=n.isMesh&&n.matrixWorld.determinant()<0,a=Dt(t,e,i,r,n);H.setMaterial(r,o);var l=i.index,u=i.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var h,c=1;!0===r.wireframe&&(l=K.getWireframeAttribute(i),c=2),ht.setup(n,r,a,i,l);var d=at;null!==l&&(h=Q.get(l),(d=lt).setIndex(h));var f=null!==l?l.count:u.count,p=i.drawRange.start*c,m=i.drawRange.count*c,v=null!==s?s.start*c:0,y=null!==s?s.count*c:1/0,g=Math.max(p,v),x=Math.min(f,p+m,v+y)-1,b=Math.max(0,x-g+1);if(0!==b){if(n.isMesh)!0===r.wireframe?(H.setLineWidth(r.wireframeLinewidth*z()),d.setMode(1)):d.setMode(4);else if(n.isLine){var w=r.linewidth;void 0===w&&(w=1),H.setLineWidth(w*z()),n.isLineSegments?d.setMode(1):n.isLineLoop?d.setMode(2):d.setMode(3)}else n.isPoints?d.setMode(0):n.isSprite&&d.setMode(4);if(n.isInstancedMesh)d.renderInstances(g,b,n.count);else if(i.isInstancedBufferGeometry){var _=Math.min(i.instanceCount,i._maxInstanceCount);d.renderInstances(g,b,_)}else d.render(g,b)}},this.compile=function(t,e){(d=it.get(t)).init(),p.push(d),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))})),d.setupLights(m.physicallyCorrectLights),t.traverse((function(e){var i=e.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){Lt(i[r],t,e)}else Lt(i,t,e)})),p.pop(),d=null};var _t=null;function St(t){_t&&_t(t)}function At(){Et.stop()}function Tt(){Et.start()}var Et=new wa;function Mt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||O.intersectsSprite(t)){r&&N.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);var n=J.update(t),s=t.material;s.visible&&c.push(t,n,s,i,N.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==W.render.frame&&(t.skeleton.update(),t.skeleton.frame=W.render.frame),!t.frustumCulled||O.intersectsObject(t))){r&&N.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);var o=J.update(t),a=t.material;if(Array.isArray(a))for(var l=o.groups,u=0,h=l.length;u<h;u++){var f=l[u],p=a[f.materialIndex];p&&p.visible&&c.push(t,o,p,i,N.z,f)}else a.visible&&c.push(t,o,a,i,N.z,null)}for(var m=t.children,v=0,y=m.length;v<y;v++)Mt(m[v],e,i,r)}}function Ct(t,e,i,r){var n=t.opaque,s=t.transmissive,o=t.transparent;d.setupLightsView(i),s.length>0&&Pt(n,e,i),r&&H.viewport(_.copy(r)),n.length>0&&Rt(n,e,i),s.length>0&&Rt(s,e,i),o.length>0&&Rt(o,e,i),H.buffers.depth.setTest(!0),H.buffers.depth.setMask(!0),H.buffers.color.setMask(!0),H.setPolygonOffset(!1)}function Pt(t,e,i){var r=V.isWebGL2;null===F&&(F=new Yn(1,1,{generateMipmaps:!0,type:null!==ut.convert(_i)?_i:mi,minFilter:fi,samples:r&&!0===o?4:0})),m.getDrawingBufferSize(B),r?F.setSize(B.x,B.y):F.setSize(bn(B.x),bn(B.y));var n=m.getRenderTarget();m.setRenderTarget(F),m.clear();var s=m.toneMapping;m.toneMapping=He,Rt(t,e,i),m.toneMapping=s,X.updateMultisampleRenderTarget(F),X.updateRenderTargetMipmap(F),m.setRenderTarget(n)}function Rt(t,e,i){for(var r=!0===e.isScene?e.overrideMaterial:null,n=0,s=t.length;n<s;n++){var o=t[n],a=o.object,l=o.geometry,u=null===r?o.material:r,h=o.group;a.layers.test(i.layers)&&kt(a,e,i,l,u,h)}}function kt(t,e,i,r,n,s){t.onBeforeRender(m,e,i,r,n,s),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),n.onBeforeRender(m,e,i,r,t,s),!0===n.transparent&&n.side===le?(n.side=ae,n.needsUpdate=!0,m.renderBufferDirect(i,e,r,n,t,s),n.side=oe,n.needsUpdate=!0,m.renderBufferDirect(i,e,r,n,t,s),n.side=le):m.renderBufferDirect(i,e,r,n,t,s),t.onAfterRender(m,e,i,r,n,s)}function Lt(t,e,i){!0!==e.isScene&&(e=U);var r=Y.get(t),n=d.state.lights,s=d.state.shadowsArray,o=n.state.version,a=$.getParameters(t,n.state,s,e,i),l=$.getProgramCacheKey(a),u=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?q:Z).get(t.envMap||r.environment),void 0===u&&(t.addEventListener("dispose",xt),u=new Map,r.programs=u);var h=u.get(l);if(void 0!==h){if(r.currentProgram===h&&r.lightsStateVersion===o)return Ot(t,a),h}else a.uniforms=$.getUniforms(t),t.onBuild(i,a,m),t.onBeforeCompile(a,m),h=$.acquireProgram(a,l),u.set(l,h),r.uniforms=a.uniforms;var c=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(c.clippingPlanes=rt.uniform),Ot(t,a),r.needsLights=Ft(t),r.lightsStateVersion=o,r.needsLights&&(c.ambientLightColor.value=n.state.ambient,c.lightProbe.value=n.state.probe,c.directionalLights.value=n.state.directional,c.directionalLightShadows.value=n.state.directionalShadow,c.spotLights.value=n.state.spot,c.spotLightShadows.value=n.state.spotShadow,c.rectAreaLights.value=n.state.rectArea,c.ltc_1.value=n.state.rectAreaLTC1,c.ltc_2.value=n.state.rectAreaLTC2,c.pointLights.value=n.state.point,c.pointLightShadows.value=n.state.pointShadow,c.hemisphereLights.value=n.state.hemi,c.directionalShadowMap.value=n.state.directionalShadowMap,c.directionalShadowMatrix.value=n.state.directionalShadowMatrix,c.spotShadowMap.value=n.state.spotShadowMap,c.spotShadowMatrix.value=n.state.spotShadowMatrix,c.pointShadowMap.value=n.state.pointShadowMap,c.pointShadowMatrix.value=n.state.pointShadowMatrix);var f=h.getUniforms(),p=ou.seqWithValue(f.seq,c);return r.currentProgram=h,r.uniformsList=p,h}function Ot(t,e){var i=Y.get(t);i.outputEncoding=e.outputEncoding,i.instancing=e.instancing,i.skinning=e.skinning,i.morphTargets=e.morphTargets,i.morphNormals=e.morphNormals,i.morphColors=e.morphColors,i.morphTargetsCount=e.morphTargetsCount,i.numClippingPlanes=e.numClippingPlanes,i.numIntersection=e.numClipIntersection,i.vertexAlphas=e.vertexAlphas,i.vertexTangents=e.vertexTangents,i.toneMapping=e.toneMapping}function Dt(t,e,i,r,n){!0!==e.isScene&&(e=U),X.resetTextureUnits();var s=e.fog,o=r.isMeshStandardMaterial?e.environment:null,a=null===x?m.outputEncoding:!0===x.isXRRenderTarget?x.texture.encoding:Ar,l=(r.isMeshStandardMaterial?q:Z).get(r.envMap||o),u=!0===r.vertexColors&&!!i.attributes.color&&4===i.attributes.color.itemSize,h=!!r.normalMap&&!!i.attributes.tangent,c=!!i.morphAttributes.position,f=!!i.morphAttributes.normal,p=!!i.morphAttributes.color,v=r.toneMapped?m.toneMapping:He,y=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,g=void 0!==y?y.length:0,_=Y.get(r),S=d.state.lights;if(!0===D&&(!0===I||t!==w)){var A=t===w&&r.id===b;rt.setState(r,t,A)}var T=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==S.state.version||_.outputEncoding!==a||n.isInstancedMesh&&!1===_.instancing?T=!0:n.isInstancedMesh||!0!==_.instancing?n.isSkinnedMesh&&!1===_.skinning?T=!0:n.isSkinnedMesh||!0!==_.skinning?_.envMap!==l||r.fog&&_.fog!==s?T=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===rt.numPlanes&&_.numIntersection===rt.numIntersection?(_.vertexAlphas!==u||_.vertexTangents!==h||_.morphTargets!==c||_.morphNormals!==f||_.morphColors!==p||_.toneMapping!==v||!0===V.isWebGL2&&_.morphTargetsCount!==g)&&(T=!0):T=!0:T=!0:T=!0:(T=!0,_.__version=r.version);var C=_.currentProgram;!0===T&&(C=Lt(r,e,n));var P=!1,R=!1,k=!1,L=C.getUniforms(),O=_.uniforms;if(H.useProgram(C.program)&&(P=!0,R=!0,k=!0),r.id!==b&&(b=r.id,R=!0),P||w!==t){if(L.setValue(ct,"projectionMatrix",t.projectionMatrix),V.logarithmicDepthBuffer&&L.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,R=!0,k=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var j=L.map.cameraPosition;void 0!==j&&j.setValue(ct,N.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&L.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||n.isSkinnedMesh)&&L.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(n.isSkinnedMesh){L.setOptional(ct,n,"bindMatrix"),L.setOptional(ct,n,"bindMatrixInverse");var B=n.skeleton;B&&(V.floatVertexTextures?(null===B.boneTexture&&B.computeBoneTexture(),L.setValue(ct,"boneTexture",B.boneTexture,X),L.setValue(ct,"boneTextureSize",B.boneTextureSize)):L.setOptional(ct,B,"boneMatrices"))}var z=i.morphAttributes;return(void 0!==z.position||void 0!==z.normal||void 0!==z.color&&!0===V.isWebGL2)&&ot.update(n,i,r,C),(R||_.receiveShadow!==n.receiveShadow)&&(_.receiveShadow=n.receiveShadow,L.setValue(ct,"receiveShadow",n.receiveShadow)),R&&(L.setValue(ct,"toneMappingExposure",m.toneMappingExposure),_.needsLights&&It(O,k),s&&r.fog&&tt.refreshFogUniforms(O,s),tt.refreshMaterialUniforms(O,r,M,E,F),ou.upload(ct,_.uniformsList,O,X)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ou.upload(ct,_.uniformsList,O,X),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&L.setValue(ct,"center",n.center),L.setValue(ct,"modelViewMatrix",n.modelViewMatrix),L.setValue(ct,"normalMatrix",n.normalMatrix),L.setValue(ct,"modelMatrix",n.matrixWorld),C}function It(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function Ft(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}Et.setAnimationLoop(St),"undefined"!==typeof self&&Et.setContext(self),this.setAnimationLoop=function(t){_t=t,vt.setAnimationLoop(t),null===t?Et.stop():Et.start()},vt.addEventListener("sessionstart",At),vt.addEventListener("sessionend",Tt),this.render=function(t,e){if(void 0===e||!0===e.isCamera){if(!0!==v){!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===vt.enabled&&!0===vt.isPresenting&&(!0===vt.cameraAutoUpdate&&vt.updateCamera(e),e=vt.getCamera()),!0===t.isScene&&t.onBeforeRender(m,t,e,x),(d=it.get(t,p.length)).init(),p.push(d),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),O.setFromProjectionMatrix(j),I=this.localClippingEnabled,D=rt.init(this.clippingPlanes,I,e),(c=et.get(t,f.length)).init(),f.push(c),Mt(t,e,0,m.sortObjects),c.finish(),!0===m.sortObjects&&c.sort(C,P),!0===D&&rt.beginShadows();var i=d.state.shadowsArray;if(nt.render(i,t,e),!0===D&&rt.endShadows(),!0===this.info.autoReset&&this.info.reset(),st.render(c,t),d.setupLights(m.physicallyCorrectLights),e.isArrayCamera)for(var r=e.cameras,n=0,s=r.length;n<s;n++){var o=r[n];Ct(c,t,o,o.viewport)}else Ct(c,t,e);null!==x&&(X.updateMultisampleRenderTarget(x),X.updateRenderTargetMipmap(x)),!0===t.isScene&&t.onAfterRender(m,t,e),ht.resetDefaultState(),b=-1,w=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),c=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(t,e,i){Y.get(t.texture).__webglTexture=e,Y.get(t.depthTexture).__webglTexture=i;var r=Y.get(t);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===i,r.__autoAllocateDepthBuffer||!0===G.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){var i=Y.get(t);i.__webglFramebuffer=e,i.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=t,y=e,g=i;var r=!0;if(t){var n=Y.get(t);void 0!==n.__useDefaultFramebuffer?(H.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?X.setupRenderTarget(t):n.__hasExternalTextures&&X.rebindTextures(t,Y.get(t.texture).__webglTexture,Y.get(t.depthTexture).__webglTexture)}var s=null,o=!1,a=!1;if(t){var l=t.texture;(l.isData3DTexture||l.isDataArrayTexture)&&(a=!0);var u=Y.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(s=u[e],o=!0):s=V.isWebGL2&&t.samples>0&&!1===X.useMultisampledRTT(t)?Y.get(t).__webglMultisampledFramebuffer:u,_.copy(t.viewport),S.copy(t.scissor),A=t.scissorTest}else _.copy(R).multiplyScalar(M).floor(),S.copy(k).multiplyScalar(M).floor(),A=L;var h=H.bindFramebuffer(36160,s);if(h&&V.drawBuffers&&r&&H.drawBuffers(t,s),H.viewport(_),H.scissor(S),H.setScissorTest(A),o){var c=Y.get(t.texture);ct.framebufferTexture2D(36160,36064,34069+e,c.__webglTexture,i)}else if(a){var d=Y.get(t.texture),f=e||0;ct.framebufferTextureLayer(36160,36064,d.__webglTexture,i||0,f)}b=-1},this.readRenderTargetPixels=function(t,e,i,r,n,s,o){if(t&&t.isWebGLRenderTarget){var a=Y.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(a=a[o]),a){H.bindFramebuffer(36160,a);try{var l=t.texture,u=l.format,h=l.type;if(u!==Ci&&ut.convert(u)!==ct.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var c=h===_i&&(G.has("EXT_color_buffer_half_float")||V.isWebGL2&&G.has("EXT_color_buffer_float"));if(h!==mi&&ut.convert(h)!==ct.getParameter(35738)&&(h!==wi||!(V.isWebGL2||G.has("OES_texture_float")||G.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&ct.readPixels(e,i,r,n,ut.convert(u),ut.convert(h),s)}finally{var d=null!==x?Y.get(x).__webglFramebuffer:null;H.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===e.isFramebufferTexture){var r=Math.pow(2,-i),n=Math.floor(e.image.width*r),s=Math.floor(e.image.height*r);X.setTexture2D(e,0),ct.copyTexSubImage2D(3553,i,0,0,t.x,t.y,n,s),H.unbindTexture()}else console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=e.image.width,s=e.image.height,o=ut.convert(i.format),a=ut.convert(i.type);X.setTexture2D(i,0),ct.pixelStorei(37440,i.flipY),ct.pixelStorei(37441,i.premultiplyAlpha),ct.pixelStorei(3317,i.unpackAlignment),e.isDataTexture?ct.texSubImage2D(3553,r,t.x,t.y,n,s,o,a,e.image.data):e.isCompressedTexture?ct.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):ct.texSubImage2D(3553,r,t.x,t.y,o,a,e.image),0===r&&i.generateMipmaps&&ct.generateMipmap(3553),H.unbindTexture()},this.copyTextureToTexture3D=function(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var s,o=t.max.x-t.min.x+1,a=t.max.y-t.min.y+1,l=t.max.z-t.min.z+1,u=ut.convert(r.format),h=ut.convert(r.type);if(r.isData3DTexture)X.setTexture3D(r,0),s=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");X.setTexture2DArray(r,0),s=35866}ct.pixelStorei(37440,r.flipY),ct.pixelStorei(37441,r.premultiplyAlpha),ct.pixelStorei(3317,r.unpackAlignment);var c=ct.getParameter(3314),d=ct.getParameter(32878),f=ct.getParameter(3316),p=ct.getParameter(3315),v=ct.getParameter(32877),y=i.isCompressedTexture?i.mipmaps[0]:i.image;ct.pixelStorei(3314,y.width),ct.pixelStorei(32878,y.height),ct.pixelStorei(3316,t.min.x),ct.pixelStorei(3315,t.min.y),ct.pixelStorei(32877,t.min.z),i.isDataTexture||i.isData3DTexture?ct.texSubImage3D(s,n,e.x,e.y,e.z,o,a,l,u,h,y.data):i.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ct.compressedTexSubImage3D(s,n,e.x,e.y,e.z,o,a,l,u,y.data)):ct.texSubImage3D(s,n,e.x,e.y,e.z,o,a,l,u,h,y),ct.pixelStorei(3314,c),ct.pixelStorei(32878,d),ct.pixelStorei(3316,f),ct.pixelStorei(3315,p),ct.pixelStorei(32877,v),0===n&&r.generateMipmaps&&ct.generateMipmap(s),H.unbindTexture()}},this.initTexture=function(t){X.setTexture2D(t,0),H.unbindTexture()},this.resetState=function(){y=0,g=0,x=null,H.reset(),ht.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}th.prototype.isWebGLRenderer=!0;var eh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i)}(th);eh.prototype.isWebGL1Renderer=!0;var ih=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,X.Z)(this,t),this.name="",this.color=new Nn(e),this.density=i}return(0,Z.Z)(t,[{key:"clone",value:function(){return new t(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),t}();ih.prototype.isFogExp2=!0;var rh=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,X.Z)(this,t),this.name="",this.color=new Nn(e),this.near=i,this.far=r}return(0,Z.Z)(t,[{key:"clone",value:function(){return new t(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),t}();rh.prototype.isFog=!0;var nh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,Wt.Z)(t)})),t}return(0,Z.Z)(i,[{key:"copy",value:function(t,e){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}]),i}(eo);nh.prototype.isScene=!0;var sh=function(){function t(e,i){(0,X.Z)(this,t),this.array=e,this.stride=i,this.count=void 0!==e?e.length/i:0,this.usage=qr,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=pn()}return(0,Z.Z)(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"clone",value:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=pn()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"toJSON",value:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=pn()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),t}();sh.prototype.isInterleavedBuffer=!0;var oh=new $n,ah=function(){function t(e,i,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,X.Z)(this,t),this.name="",this.data=e,this.itemSize=i,this.offset=r,this.normalized=!0===n}return(0,Z.Z)(t,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(t){this.data.needsUpdate=t}},{key:"applyMatrix4",value:function(t){for(var e=0,i=this.data.count;e<i;e++)oh.fromBufferAttribute(this,e),oh.applyMatrix4(t),this.setXYZ(e,oh.x,oh.y,oh.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,i=this.count;e<i;e++)oh.fromBufferAttribute(this,e),oh.applyNormalMatrix(t),this.setXYZ(e,oh.x,oh.y,oh.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,i=this.count;e<i;e++)oh.fromBufferAttribute(this,e),oh.transformDirection(t),this.setXYZ(e,oh.x,oh.y,oh.z);return this}},{key:"setX",value:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}},{key:"setY",value:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}},{key:"setZ",value:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}},{key:"setW",value:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}},{key:"getX",value:function(t){return this.data.array[t*this.data.stride+this.offset]}},{key:"getY",value:function(t){return this.data.array[t*this.data.stride+this.offset+1]}},{key:"getZ",value:function(t){return this.data.array[t*this.data.stride+this.offset+2]}},{key:"getW",value:function(t){return this.data.array[t*this.data.stride+this.offset+3]}},{key:"setXY",value:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this}},{key:"setXYZ",value:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}},{key:"setXYZW",value:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}},{key:"clone",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var i=[],r=0;r<this.count;r++)for(var n=r*this.data.stride+this.offset,s=0;s<this.itemSize;s++)i.push(this.data.array[n+s]);return new xo(new this.array.constructor(i),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new t(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],i=0;i<this.count;i++)for(var r=i*this.data.stride+this.offset,n=0;n<this.itemSize;n++)e.push(this.data.array[r+n]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),t}();ah.prototype.isInterleavedBufferAttribute=!0;var lh,uh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="SpriteMaterial",r.color=new Nn(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}]),i}(mo);uh.prototype.isSpriteMaterial=!0;var hh=new $n,ch=new $n,dh=new $n,fh=new _n,ph=new _n,mh=new Rs,vh=new $n,yh=new $n,gh=new $n,xh=new _n,bh=new _n,wh=new _n,_h=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;if((0,X.Z)(this,i),(r=e.call(this)).type="Sprite",void 0===lh){lh=new jo;var n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new sh(n,5);lh.setIndex([0,1,2,0,2,3]),lh.setAttribute("position",new ah(s,3,0,!1)),lh.setAttribute("uv",new ah(s,2,3,!1))}return r.geometry=lh,r.material=void 0!==t?t:new uh,r.center=new _n(.5,.5),r}return(0,Z.Z)(i,[{key:"raycast",value:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ch.setFromMatrixScale(this.matrixWorld),mh.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),dh.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ch.multiplyScalar(-dh.z);var i,r,n=this.material.rotation;0!==n&&(r=Math.cos(n),i=Math.sin(n));var s=this.center;Sh(vh.set(-.5,-.5,0),dh,s,ch,i,r),Sh(yh.set(.5,-.5,0),dh,s,ch,i,r),Sh(gh.set(.5,.5,0),dh,s,ch,i,r),xh.set(0,0),bh.set(1,0),wh.set(1,1);var o=t.ray.intersectTriangle(vh,yh,gh,!1,hh);if(null!==o||(Sh(yh.set(-.5,.5,0),dh,s,ch,i,r),bh.set(0,1),null!==(o=t.ray.intersectTriangle(vh,gh,yh,!1,hh)))){var a=t.ray.origin.distanceTo(hh);a<t.near||a>t.far||e.push({distance:a,point:hh.clone(),uv:fo.getUV(hh,vh,yh,gh,xh,bh,wh,new _n),face:null,object:this})}}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}]),i}(eo);function Sh(t,e,i,r,n,s){fh.subVectors(t,i).addScalar(.5).multiply(r),void 0!==n?(ph.x=s*fh.x-n*fh.y,ph.y=n*fh.x+s*fh.y):ph.copy(fh),t.copy(e),t.x+=ph.x,t.y+=ph.y,t.applyMatrix4(mh)}_h.prototype.isSprite=!0;var Ah=new $n,Th=new $n,Eh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this))._currentLevel=0,t.type="LOD",Object.defineProperties((0,Wt.Z)(t),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),t.autoUpdate=!0,t}return(0,Z.Z)(i,[{key:"copy",value:function(t){Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t,!1);for(var e=t.levels,r=0,n=e.length;r<n;r++){var s=e[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=t.autoUpdate,this}},{key:"addLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=Math.abs(e);var i,r=this.levels;for(i=0;i<r.length&&!(e<r[i].distance);i++);return r.splice(i,0,{distance:e,object:t}),this.add(t),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(t){var e=this.levels;if(e.length>0){var i,r;for(i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object}return null}},{key:"raycast",value:function(t,e){if(this.levels.length>0){Ah.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(Ah);this.getObjectForDistance(i).raycast(t,e)}}},{key:"update",value:function(t){var e=this.levels;if(e.length>1){Ah.setFromMatrixPosition(t.matrixWorld),Th.setFromMatrixPosition(this.matrixWorld);var i,r,n=Ah.distanceTo(Th)/t.zoom;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var r=this.levels,n=0,s=r.length;n<s;n++){var o=r[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}]),i}(eo),Mh=new $n,Ch=new Wn,Ph=new Wn,Rh=new $n,kh=new Rs,Lh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="SkinnedMesh",n.bindMode="attached",n.bindMatrix=new Rs,n.bindMatrixInverse=new Rs,n}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}},{key:"bind",value:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var t=new Wn,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}},{key:"updateMatrixWorld",value:function(t){Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(t,e){var i=this.skeleton,r=this.geometry;Ch.fromBufferAttribute(r.attributes.skinIndex,t),Ph.fromBufferAttribute(r.attributes.skinWeight,t),Mh.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var n=0;n<4;n++){var s=Ph.getComponent(n);if(0!==s){var o=Ch.getComponent(n);kh.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),e.addScaledVector(Rh.copy(Mh).applyMatrix4(kh),s)}}return e.applyMatrix4(this.bindMatrixInverse)}}]),i}(ea);Lh.prototype.isSkinnedMesh=!0;var Oh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="Bone",t}return(0,Z.Z)(i)}(eo);Oh.prototype.isBone=!0;var Dh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:si,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:si,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return(0,X.Z)(this,i),(t=e.call(this,null,l,u,h,c,d,o,a,f,p)).image={data:r,width:n,height:s},t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return(0,Z.Z)(i)}(Hn);Dh.prototype.isDataTexture=!0;var Ih=new Rs,Fh=new Rs,jh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,X.Z)(this,t),this.uuid=pn(),this.bones=e.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return(0,Z.Z)(t,[{key:"init",value:function(){var t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Rs)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var t=0,e=this.bones.length;t<e;t++){var i=new Rs;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}},{key:"pose",value:function(){for(var t=0,e=this.bones.length;t<e;t++){var i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(var r=0,n=this.bones.length;r<n;r++){var s=this.bones[r];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}},{key:"update",value:function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,s=t.length;n<s;n++){var o=t[n]?t[n].matrixWorld:Fh;Ih.multiplyMatrices(o,e[n]),Ih.toArray(i,16*n)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new t(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var t=Math.sqrt(4*this.bones.length);t=xn(t),t=Math.max(t,4);var e=new Float32Array(t*t*4);e.set(this.boneMatrices);var i=new Dh(e,t,t,Ci,wi);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}},{key:"getBoneByName",value:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(t,e){this.uuid=t.uuid;for(var i=0,r=t.bones.length;i<r;i++){var n=t.bones[i],s=e[n];void 0===s&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),s=new Oh),this.bones.push(s),this.boneInverses.push((new Rs).fromArray(t.boneInverses[i]))}return this.init(),this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;for(var e=this.bones,i=this.boneInverses,r=0,n=e.length;r<n;r++){var s=e[r];t.bones.push(s.uuid);var o=i[r];t.boneInverses.push(o.toArray())}return t}}]),t}(),Bh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,X.Z)(this,i),"number"===typeof n&&(o=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(s=e.call(this,t,r,n)).meshPerAttribute=o,s}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}]),i}(xo);Bh.prototype.isInstancedBufferAttribute=!0;var Nh=new Rs,Uh=new Rs,zh=[],Gh=new ea,Vh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;return(0,X.Z)(this,i),(s=e.call(this,t,r)).instanceMatrix=new Bh(new Float32Array(16*n),16),s.instanceColor=null,s.count=n,s.frustumCulled=!1,s}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}},{key:"getColorAt",value:function(t,e){e.fromArray(this.instanceColor.array,3*t)}},{key:"getMatrixAt",value:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)}},{key:"raycast",value:function(t,e){var i=this.matrixWorld,r=this.count;if(Gh.geometry=this.geometry,Gh.material=this.material,void 0!==Gh.material)for(var n=0;n<r;n++){this.getMatrixAt(n,Nh),Uh.multiplyMatrices(i,Nh),Gh.matrixWorld=Uh,Gh.raycast(t,zh);for(var s=0,o=zh.length;s<o;s++){var a=zh[s];a.instanceId=n,a.object=this,e.push(a)}zh.length=0}}},{key:"setColorAt",value:function(t,e){null===this.instanceColor&&(this.instanceColor=new Bh(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}},{key:"setMatrixAt",value:function(t,e){e.toArray(this.instanceMatrix.array,16*t)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),i}(ea);Vh.prototype.isInstancedMesh=!0;var Hh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="LineBasicMaterial",r.color=new Nn(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}]),i}(mo);Hh.prototype.isLineBasicMaterial=!0;var Wh=new $n,Yh=new $n,Xh=new Rs,Zh=new Ps,qh=new ws,Qh=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hh;return(0,X.Z)(this,i),(t=e.call(this)).type="Line",t.geometry=r,t.material=n,t.updateMorphTargets(),t}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.material=t.material,this.geometry=t.geometry,this}},{key:"computeLineDistances",value:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)Wh.fromBufferAttribute(e,r-1),Yh.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=Wh.distanceTo(Yh);t.setAttribute("lineDistance",new Co(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(t,e){var i=this.geometry,r=this.matrixWorld,n=t.params.Line.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),qh.copy(i.boundingSphere),qh.applyMatrix4(r),qh.radius+=n,!1!==t.ray.intersectsSphere(qh)){Xh.copy(r).invert(),Zh.copy(t.ray).applyMatrix4(Xh);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,l=new $n,u=new $n,h=new $n,c=new $n,d=this.isLineSegments?2:1;if(i.isBufferGeometry){var f=i.index,p=i.attributes.position;if(null!==f)for(var m=Math.max(0,s.start),v=Math.min(f.count,s.start+s.count)-1;m<v;m+=d){var y=f.getX(m),g=f.getX(m+1);if(l.fromBufferAttribute(p,y),u.fromBufferAttribute(p,g),!(Zh.distanceSqToSegment(l,u,c,h)>a)){c.applyMatrix4(this.matrixWorld);var x=t.ray.origin.distanceTo(c);x<t.near||x>t.far||e.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,s.start),w=Math.min(p.count,s.start+s.count)-1;b<w;b+=d){if(l.fromBufferAttribute(p,b),u.fromBufferAttribute(p,b+1),!(Zh.distanceSqToSegment(l,u,c,h)>a)){c.applyMatrix4(this.matrixWorld);var _=t.ray.origin.distanceTo(c);_<t.near||_>t.far||e.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,i=Object.keys(e);if(i.length>0){var r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var n=0,s=r.length;n<s;n++){var o=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=n}}}}else{var a=t.morphTargets;void 0!==a&&a.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),i}(eo);Qh.prototype.isLine=!0;var Kh=new $n,Jh=new $n,$h=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="LineSegments",n}return(0,Z.Z)(i,[{key:"computeLineDistances",value:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[],r=0,n=e.count;r<n;r+=2)Kh.fromBufferAttribute(e,r),Jh.fromBufferAttribute(e,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+Kh.distanceTo(Jh);t.setAttribute("lineDistance",new Co(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),i}(Qh);$h.prototype.isLineSegments=!0;var tc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="LineLoop",n}return(0,Z.Z)(i)}(Qh);tc.prototype.isLineLoop=!0;var ec=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="PointsMaterial",r.color=new Nn(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}]),i}(mo);ec.prototype.isPointsMaterial=!0;var ic=new Rs,rc=new Ps,nc=new ws,sc=new $n,oc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ec;return(0,X.Z)(this,i),(t=e.call(this)).type="Points",t.geometry=r,t.material=n,t.updateMorphTargets(),t}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.material=t.material,this.geometry=t.geometry,this}},{key:"raycast",value:function(t,e){var i=this.geometry,r=this.matrixWorld,n=t.params.Points.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),nc.copy(i.boundingSphere),nc.applyMatrix4(r),nc.radius+=n,!1!==t.ray.intersectsSphere(nc)){ic.copy(r).invert(),rc.copy(t.ray).applyMatrix4(ic);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(i.isBufferGeometry){var l=i.index,u=i.attributes.position;if(null!==l)for(var h=Math.max(0,s.start),c=Math.min(l.count,s.start+s.count);h<c;h++){var d=l.getX(h);sc.fromBufferAttribute(u,d),ac(sc,d,a,r,t,e,this)}else for(var f=Math.max(0,s.start),p=Math.min(u.count,s.start+s.count);f<p;f++)sc.fromBufferAttribute(u,f),ac(sc,f,a,r,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,i=Object.keys(e);if(i.length>0){var r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var n=0,s=r.length;n<s;n++){var o=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=n}}}}else{var a=t.morphTargets;void 0!==a&&a.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),i}(eo);function ac(t,e,i,r,n,s,o){var a=rc.distanceSqToPoint(t);if(a<i){var l=new $n;rc.closestPointToPoint(t,l),l.applyMatrix4(r);var u=n.ray.origin.distanceTo(l);if(u<n.near||u>n.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}oc.prototype.isPoints=!0;var lc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s,o,a,l,u,h){var c;(0,X.Z)(this,i),(c=e.call(this,t,r,n,s,o,a,l,u,h)).minFilter=void 0!==a?a:hi,c.magFilter=void 0!==o?o:hi,c.generateMipmaps=!1;var d=(0,Wt.Z)(c);return"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){d.needsUpdate=!0,t.requestVideoFrameCallback(e)})),c}return(0,Z.Z)(i,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),i}(Hn);lc.prototype.isVideoTexture=!0;var uc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;return(0,X.Z)(this,i),(s=e.call(this,{width:t,height:r})).format=n,s.magFilter=si,s.minFilter=si,s.generateMipmaps=!1,s.needsUpdate=!0,s}return(0,Z.Z)(i)}(Hn);uc.prototype.isFramebufferTexture=!0;var hc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s,o,a,l,u,h,c,d,f){var p;return(0,X.Z)(this,i),(p=e.call(this,null,a,l,u,h,c,s,o,d,f)).image={width:r,height:n},p.mipmaps=t,p.flipY=!1,p.generateMipmaps=!1,p}return(0,Z.Z)(i)}(Hn);hc.prototype.isCompressedTexture=!0;var cc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s,o,a,l,u,h){var c;return(0,X.Z)(this,i),(c=e.call(this,t,r,n,s,o,a,l,u,h)).needsUpdate=!0,c}return(0,Z.Z)(i)}(Hn);cc.prototype.isCanvasTexture=!0;var dc=function(){function t(){(0,X.Z)(this,t),this.type="Curve",this.arcLengthDivisions=200}return(0,Z.Z)(t,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)}},{key:"getPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i=[],r=this.getPoint(0),n=0;i.push(0);for(var s=1;s<=t;s++)n+=(e=this.getPoint(s/t)).distanceTo(r),i.push(n),r=e;return this.cacheArcLengths=i,i}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){var i,r=this.getLengths(),n=0,s=r.length;i=e||t*r[s-1];for(var o,a=0,l=s-1;a<=l;)if((o=r[n=Math.floor(a+(l-a)/2)]-i)<0)a=n+1;else{if(!(o>0)){l=n;break}l=n-1}if(r[n=l]===i)return n/(s-1);var u=r[n];return(n+(i-u)/(r[n+1]-u))/(s-1)}},{key:"getTangent",value:function(t,e){var i=1e-4,r=t-i,n=t+i;r<0&&(r=0),n>1&&(n=1);var s=this.getPoint(r),o=this.getPoint(n),a=e||(s.isVector2?new _n:new $n);return a.copy(o).sub(s).normalize(),a}},{key:"getTangentAt",value:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)}},{key:"computeFrenetFrames",value:function(t,e){for(var i=new $n,r=[],n=[],s=[],o=new $n,a=new Rs,l=0;l<=t;l++){var u=l/t;r[l]=this.getTangentAt(u,new $n)}n[0]=new $n,s[0]=new $n;var h=Number.MAX_VALUE,c=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);c<=h&&(h=c,i.set(1,0,0)),d<=h&&(h=d,i.set(0,1,0)),f<=h&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),n[0].crossVectors(r[0],o),s[0].crossVectors(r[0],n[0]);for(var p=1;p<=t;p++){if(n[p]=n[p-1].clone(),s[p]=s[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos(mn(r[p-1].dot(r[p]),-1,1));n[p].applyMatrix4(a.makeRotationAxis(o,m))}s[p].crossVectors(r[p],n[p])}if(!0===e){var v=Math.acos(mn(n[0].dot(n[t]),-1,1));v/=t,r[0].dot(o.crossVectors(n[0],n[t]))>0&&(v=-v);for(var y=1;y<=t;y++)n[y].applyMatrix4(a.makeRotationAxis(r[y],v*y)),s[y].crossVectors(r[y],n[y])}return{tangents:r,normals:n,binormals:s}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]),t}(),fc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,X.Z)(this,i),(t=e.call(this)).type="EllipseCurve",t.aX=r,t.aY=n,t.xRadius=s,t.yRadius=o,t.aStartAngle=a,t.aEndAngle=l,t.aClockwise=u,t.aRotation=h,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t,e){for(var i=e||new _n,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,s=Math.abs(n)<Number.EPSILON;n<0;)n+=r;for(;n>r;)n-=r;n<Number.EPSILON&&(n=s?0:r),!0!==this.aClockwise||s||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=a-this.aX,d=l-this.aY;a=c*u-d*h+this.aX,l=c*h+d*u+this.aY}return i.set(a,l)}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}]),i}(dc);fc.prototype.isEllipseCurve=!0;var pc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s,o,a){var l;return(0,X.Z)(this,i),(l=e.call(this,t,r,n,n,s,o,a)).type="ArcCurve",l}return(0,Z.Z)(i)}(fc);function mc(){var t=0,e=0,i=0,r=0;function n(n,s,o,a){t=n,e=o,i=-3*n+3*s-2*o-a,r=2*n-2*s+o+a}return{initCatmullRom:function(t,e,i,r,s){n(e,i,s*(i-t),s*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,s,o,a){var l=(e-t)/s-(i-t)/(s+o)+(i-e)/o,u=(i-e)/o-(r-e)/(o+a)+(r-i)/a;n(e,i,l*=o,u*=o)},calc:function(n){var s=n*n;return t+e*n+i*s+r*(s*n)}}}pc.prototype.isArcCurve=!0;var vc=new $n,yc=new mc,gc=new mc,xc=new mc,bc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,X.Z)(this,i),(t=e.call(this)).type="CatmullRomCurve3",t.points=r,t.closed=n,t.curveType=s,t.tension=o,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,n=r,s=this.points,o=s.length,a=(o-(this.closed?0:1))*t,l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?e=s[(l-1)%o]:(vc.subVectors(s[0],s[1]).add(s[0]),e=vc);var h=s[l%o],c=s[(l+1)%o];if(this.closed||l+2<o?i=s[(l+2)%o]:(vc.subVectors(s[o-1],s[o-2]).add(s[o-1]),i=vc),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(e.distanceToSquared(h),d),p=Math.pow(h.distanceToSquared(c),d),m=Math.pow(c.distanceToSquared(i),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),yc.initNonuniformCatmullRom(e.x,h.x,c.x,i.x,f,p,m),gc.initNonuniformCatmullRom(e.y,h.y,c.y,i.y,f,p,m),xc.initNonuniformCatmullRom(e.z,h.z,c.z,i.z,f,p,m)}else"catmullrom"===this.curveType&&(yc.initCatmullRom(e.x,h.x,c.x,i.x,this.tension),gc.initCatmullRom(e.y,h.y,c.y,i.y,this.tension),xc.initCatmullRom(e.z,h.z,c.z,i.z,this.tension));return n.set(yc.calc(u),gc.calc(u),xc.calc(u)),n}},{key:"copy",value:function(t){Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(t){Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new $n).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}]),i}(dc);function wc(t,e,i,r,n){var s=.5*(r-e),o=.5*(n-i),a=t*t;return(2*i-2*r+s+o)*(t*a)+(-3*i+3*r-2*s-o)*a+s*t+i}function _c(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function Sc(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}bc.prototype.isCatmullRomCurve3=!0;var Ac=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new _n;return(0,X.Z)(this,i),(t=e.call(this)).type="CubicBezierCurve",t.v0=r,t.v1=n,t.v2=s,t.v3=o,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n,i=e,r=this.v0,n=this.v1,s=this.v2,o=this.v3;return i.set(Sc(t,r.x,n.x,s.x,o.x),Sc(t,r.y,n.y,s.y,o.y)),i}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),i}(dc);Ac.prototype.isCubicBezierCurve=!0;var Tc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new $n;return(0,X.Z)(this,i),(t=e.call(this)).type="CubicBezierCurve3",t.v0=r,t.v1=n,t.v2=s,t.v3=o,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,i=e,r=this.v0,n=this.v1,s=this.v2,o=this.v3;return i.set(Sc(t,r.x,n.x,s.x,o.x),Sc(t,r.y,n.y,s.y,o.y),Sc(t,r.z,n.z,s.z,o.z)),i}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),i}(dc);Tc.prototype.isCubicBezierCurve3=!0;var Ec=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n;return(0,X.Z)(this,i),(t=e.call(this)).type="LineCurve",t.v1=r,t.v2=n,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n,i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(t,e){var i=e||new _n;return i.copy(this.v2).sub(this.v1).normalize(),i}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),i}(dc);Ec.prototype.isLineCurve=!0;var Mc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n;return(0,X.Z)(this,i),(t=e.call(this)).type="LineCurve3",t.isLineCurve3=!0,t.v1=r,t.v2=n,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),i}(dc),Cc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _n;return(0,X.Z)(this,i),(t=e.call(this)).type="QuadraticBezierCurve",t.v0=r,t.v1=n,t.v2=s,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n,i=e,r=this.v0,n=this.v1,s=this.v2;return i.set(_c(t,r.x,n.x,s.x),_c(t,r.y,n.y,s.y)),i}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),i}(dc);Cc.prototype.isQuadraticBezierCurve=!0;var Pc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $n;return(0,X.Z)(this,i),(t=e.call(this)).type="QuadraticBezierCurve3",t.v0=r,t.v1=n,t.v2=s,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n,i=e,r=this.v0,n=this.v1,s=this.v2;return i.set(_c(t,r.x,n.x,s.x),_c(t,r.y,n.y,s.y),_c(t,r.z,n.z,s.z)),i}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),i}(dc);Pc.prototype.isQuadraticBezierCurve3=!0;var Rc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,X.Z)(this,i),(t=e.call(this)).type="SplineCurve",t.points=r,t}return(0,Z.Z)(i,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n,i=e,r=this.points,n=(r.length-1)*t,s=Math.floor(n),o=n-s,a=r[0===s?s:s-1],l=r[s],u=r[s>r.length-2?r.length-1:s+1],h=r[s>r.length-3?r.length-1:s+2];return i.set(wc(o,a.x,l.x,u.x,h.x),wc(o,a.y,l.y,u.y,h.y)),i}},{key:"copy",value:function(t){Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t}},{key:"fromJSON",value:function(t){Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new _n).fromArray(n))}return this}}]),i}(dc);Rc.prototype.isSplineCurve=!0;var kc=Object.freeze({__proto__:null,ArcCurve:pc,CatmullRomCurve3:bc,CubicBezierCurve:Ac,CubicBezierCurve3:Tc,EllipseCurve:fc,LineCurve:Ec,LineCurve3:Mc,QuadraticBezierCurve:Cc,QuadraticBezierCurve3:Pc,SplineCurve:Rc}),Lc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="CurvePath",t.curves=[],t.autoClose=!1,t}return(0,Z.Z)(i,[{key:"add",value:function(t){this.curves.push(t)}},{key:"closePath",value:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Ec(e,t))}},{key:"getPoint",value:function(t,e){for(var i=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=i){var s=r[n]-i,o=this.curves[n],a=o.getLength(),l=0===a?0:1-s/a;return o.getPointAt(l,e)}n++}return null}},{key:"getLength",value:function(){var t=this.getCurveLengths();return t[t.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}},{key:"getPoints",value:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,i=[],r=0,n=this.curves;r<n.length;r++)for(var s=n[r],o=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,a=s.getPoints(o),l=0;l<a.length;l++){var u=a[l];t&&t.equals(u)||(i.push(u),t=u)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}},{key:"copy",value:function(t){Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,r=this.curves.length;e<r;e++){var n=this.curves[e];t.curves.push(n.toJSON())}return t}},{key:"fromJSON",value:function(t){Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push((new kc[n.type]).fromJSON(n))}return this}}]),i}(dc),Oc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="Path",r.currentPoint=new _n,t&&r.setFromPoints(t),r}return(0,Z.Z)(i,[{key:"setFromPoints",value:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}},{key:"moveTo",value:function(t,e){return this.currentPoint.set(t,e),this}},{key:"lineTo",value:function(t,e){var i=new Ec(this.currentPoint.clone(),new _n(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,i,r){var n=new Cc(this.currentPoint.clone(),new _n(t,e),new _n(i,r));return this.curves.push(n),this.currentPoint.set(i,r),this}},{key:"bezierCurveTo",value:function(t,e,i,r,n,s){var o=new Ac(this.currentPoint.clone(),new _n(t,e),new _n(i,r),new _n(n,s));return this.curves.push(o),this.currentPoint.set(n,s),this}},{key:"splineThru",value:function(t){var e=[this.currentPoint.clone()].concat(t),i=new Rc(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}},{key:"arc",value:function(t,e,i,r,n,s){var o=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+o,e+a,i,r,n,s),this}},{key:"absarc",value:function(t,e,i,r,n,s){return this.absellipse(t,e,i,i,r,n,s),this}},{key:"ellipse",value:function(t,e,i,r,n,s,o,a){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+l,e+u,i,r,n,s,o,a),this}},{key:"absellipse",value:function(t,e,i,r,n,s,o,a){var l=new fc(t,e,i,r,n,s,o,a);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var h=l.getPoint(1);return this.currentPoint.copy(h),this}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.currentPoint.copy(t.currentPoint),this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.currentPoint=this.currentPoint.toArray(),t}},{key:"fromJSON",value:function(t){return Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}]),i}(Lc),Dc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new _n(0,.5),new _n(.5,0),new _n(0,-.5)],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,X.Z)(this,i),(t=e.call(this)).type="LatheGeometry",t.parameters={points:r,segments:n,phiStart:s,phiLength:o},n=Math.floor(n),o=mn(o,0,2*Math.PI);for(var a=[],l=[],u=[],h=[],c=[],d=1/n,f=new $n,p=new _n,m=new $n,v=new $n,y=new $n,g=0,x=0,b=0;b<=r.length-1;b++)switch(b){case 0:g=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,m.x=1*x,m.y=-g,m.z=0*x,y.copy(m),m.normalize(),h.push(m.x,m.y,m.z);break;case r.length-1:h.push(y.x,y.y,y.z);break;default:g=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,m.x=1*x,m.y=-g,m.z=0*x,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),h.push(m.x,m.y,m.z),y.copy(v)}for(var w=0;w<=n;w++)for(var _=s+w*d*o,S=Math.sin(_),A=Math.cos(_),T=0;T<=r.length-1;T++){f.x=r[T].x*S,f.y=r[T].y,f.z=r[T].x*A,l.push(f.x,f.y,f.z),p.x=w/n,p.y=T/(r.length-1),u.push(p.x,p.y);var E=h[3*T+0]*S,M=h[3*T+1],C=h[3*T+0]*A;c.push(E,M,C)}for(var P=0;P<n;P++)for(var R=0;R<r.length-1;R++){var k=R+P*r.length,L=k,O=k+r.length,D=k+r.length+1,I=k+1;a.push(L,O,I),a.push(D,I,O)}return t.setIndex(a),t.setAttribute("position",new Co(l,3)),t.setAttribute("uv",new Co(u,2)),t.setAttribute("normal",new Co(c,3)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.points,t.segments,t.phiStart,t.phiLength)}}]),i}(jo),Ic=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;(0,X.Z)(this,i);var a=new Oc;return a.absarc(0,-n/2,r,1.5*Math.PI,0),a.absarc(0,n/2,r,0,.5*Math.PI),(t=e.call(this,a.getPoints(s),o)).type="CapsuleGeometry",t.parameters={radius:r,height:n,capSegments:s,radialSegments:o},t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.length,t.capSegments,t.radialSegments)}}]),i}(Dc),Fc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,X.Z)(this,i),(t=e.call(this)).type="CircleGeometry",t.parameters={radius:r,segments:n,thetaStart:s,thetaLength:o},n=Math.max(3,n);var a=[],l=[],u=[],h=[],c=new $n,d=new _n;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(var f=0,p=3;f<=n;f++,p+=3){var m=s+f/n*o;c.x=r*Math.cos(m),c.y=r*Math.sin(m),l.push(c.x,c.y,c.z),u.push(0,0,1),d.x=(l[p]/r+1)/2,d.y=(l[p+1]/r+1)/2,h.push(d.x,d.y)}for(var v=1;v<=n;v++)a.push(v,v+1,0);return t.setIndex(a),t.setAttribute("position",new Co(l,3)),t.setAttribute("normal",new Co(u,3)),t.setAttribute("uv",new Co(h,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.segments,t.thetaStart,t.thetaLength)}}]),i}(jo),jc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,X.Z)(this,i),(t=e.call(this)).type="CylinderGeometry",t.parameters={radiusTop:r,radiusBottom:n,height:s,radialSegments:o,heightSegments:a,openEnded:l,thetaStart:u,thetaLength:h};var c=(0,Wt.Z)(t);o=Math.floor(o),a=Math.floor(a);var d=[],f=[],p=[],m=[],v=0,y=[],g=s/2,x=0;function b(){for(var t=new $n,e=new $n,i=0,l=(n-r)/s,b=0;b<=a;b++){for(var w=[],_=b/a,S=_*(n-r)+r,A=0;A<=o;A++){var T=A/o,E=T*h+u,M=Math.sin(E),C=Math.cos(E);e.x=S*M,e.y=-_*s+g,e.z=S*C,f.push(e.x,e.y,e.z),t.set(M,l,C).normalize(),p.push(t.x,t.y,t.z),m.push(T,1-_),w.push(v++)}y.push(w)}for(var P=0;P<o;P++)for(var R=0;R<a;R++){var k=y[R][P],L=y[R+1][P],O=y[R+1][P+1],D=y[R][P+1];d.push(k,L,D),d.push(L,O,D),i+=6}c.addGroup(x,i,0),x+=i}function w(t){for(var e=v,i=new _n,s=new $n,a=0,l=!0===t?r:n,y=!0===t?1:-1,b=1;b<=o;b++)f.push(0,g*y,0),p.push(0,y,0),m.push(.5,.5),v++;for(var w=v,_=0;_<=o;_++){var S=_/o*h+u,A=Math.cos(S),T=Math.sin(S);s.x=l*T,s.y=g*y,s.z=l*A,f.push(s.x,s.y,s.z),p.push(0,y,0),i.x=.5*A+.5,i.y=.5*T*y+.5,m.push(i.x,i.y),v++}for(var E=0;E<o;E++){var M=e+E,C=w+E;!0===t?d.push(C,C+1,M):d.push(C+1,C,M),a+=3}c.addGroup(x,a,!0===t?1:2),x+=a}return b(),!1===l&&(r>0&&w(!0),n>0&&w(!1)),t.setIndex(d),t.setAttribute("position",new Co(f,3)),t.setAttribute("normal",new Co(p,3)),t.setAttribute("uv",new Co(m,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}]),i}(jo),Bc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,X.Z)(this,i),(t=e.call(this,0,r,n,s,o,a,l,u)).type="ConeGeometry",t.parameters={radius:r,height:n,radialSegments:s,heightSegments:o,openEnded:a,thetaStart:l,thetaLength:u},t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}]),i}(jc),Nc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,X.Z)(this,i),(t=e.call(this)).type="PolyhedronGeometry",t.parameters={vertices:r,indices:n,radius:s,detail:o};var a=[],l=[];function u(t){for(var e=new $n,i=new $n,r=new $n,s=0;s<n.length;s+=3)m(n[s+0],e),m(n[s+1],i),m(n[s+2],r),h(e,i,r,t)}function h(t,e,i,r){for(var n=r+1,s=[],o=0;o<=n;o++){s[o]=[];for(var a=t.clone().lerp(i,o/n),l=e.clone().lerp(i,o/n),u=n-o,h=0;h<=u;h++)s[o][h]=0===h&&o===n?a:a.clone().lerp(l,h/u)}for(var c=0;c<n;c++)for(var d=0;d<2*(n-c)-1;d++){var f=Math.floor(d/2);d%2===0?(p(s[c][f+1]),p(s[c+1][f]),p(s[c][f])):(p(s[c][f+1]),p(s[c+1][f+1]),p(s[c+1][f]))}}function c(t){for(var e=new $n,i=0;i<a.length;i+=3)e.x=a[i+0],e.y=a[i+1],e.z=a[i+2],e.normalize().multiplyScalar(t),a[i+0]=e.x,a[i+1]=e.y,a[i+2]=e.z}function d(){for(var t=new $n,e=0;e<a.length;e+=3){t.x=a[e+0],t.y=a[e+1],t.z=a[e+2];var i=g(t)/2/Math.PI+.5,r=x(t)/Math.PI+.5;l.push(i,1-r)}v(),f()}function f(){for(var t=0;t<l.length;t+=6){var e=l[t+0],i=l[t+2],r=l[t+4],n=Math.max(e,i,r),s=Math.min(e,i,r);n>.9&&s<.1&&(e<.2&&(l[t+0]+=1),i<.2&&(l[t+2]+=1),r<.2&&(l[t+4]+=1))}}function p(t){a.push(t.x,t.y,t.z)}function m(t,e){var i=3*t;e.x=r[i+0],e.y=r[i+1],e.z=r[i+2]}function v(){for(var t=new $n,e=new $n,i=new $n,r=new $n,n=new _n,s=new _n,o=new _n,u=0,h=0;u<a.length;u+=9,h+=6){t.set(a[u+0],a[u+1],a[u+2]),e.set(a[u+3],a[u+4],a[u+5]),i.set(a[u+6],a[u+7],a[u+8]),n.set(l[h+0],l[h+1]),s.set(l[h+2],l[h+3]),o.set(l[h+4],l[h+5]),r.copy(t).add(e).add(i).divideScalar(3);var c=g(r);y(n,h+0,t,c),y(s,h+2,e,c),y(o,h+4,i,c)}}function y(t,e,i,r){r<0&&1===t.x&&(l[e]=t.x-1),0===i.x&&0===i.z&&(l[e]=r/2/Math.PI+.5)}function g(t){return Math.atan2(t.z,-t.x)}function x(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}return u(o),c(s),d(),t.setAttribute("position",new Co(a,3)),t.setAttribute("normal",new Co(a.slice(),3)),t.setAttribute("uv",new Co(l,2)),0===o?t.computeVertexNormals():t.normalizeNormals(),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.vertices,t.indices,t.radius,t.details)}}]),i}(jo),Uc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,X.Z)(this,i);var s=(1+Math.sqrt(5))/2,o=1/s,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-s,0,-o,s,0,o,-s,0,o,s,-o,-s,0,-o,s,0,o,-s,0,o,s,0,-s,0,-o,s,0,-o,-s,0,o,s,0,o],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(t=e.call(this,a,l,r,n)).type="DodecahedronGeometry",t.parameters={radius:r,detail:n},t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.detail)}}]),i}(Nc),zc=new $n,Gc=new $n,Vc=new $n,Hc=new fo,Wc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if((0,X.Z)(this,i),(t=e.call(this)).type="EdgesGeometry",t.parameters={geometry:r,thresholdAngle:n},null!==r){for(var s=4,o=Math.pow(10,s),a=Math.cos(dn*n),l=r.getIndex(),u=r.getAttribute("position"),h=l?l.count:u.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),p={},m=[],v=0;v<h;v+=3){l?(c[0]=l.getX(v),c[1]=l.getX(v+1),c[2]=l.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var y=Hc.a,g=Hc.b,x=Hc.c;if(y.fromBufferAttribute(u,c[0]),g.fromBufferAttribute(u,c[1]),x.fromBufferAttribute(u,c[2]),Hc.getNormal(Vc),f[0]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),f[1]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),f[2]="".concat(Math.round(x.x*o),",").concat(Math.round(x.y*o),",").concat(Math.round(x.z*o)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var b=0;b<3;b++){var w=(b+1)%3,_=f[b],S=f[w],A=Hc[d[b]],T=Hc[d[w]],E="".concat(_,"_").concat(S),M="".concat(S,"_").concat(_);M in p&&p[M]?(Vc.dot(p[M].normal)<=a&&(m.push(A.x,A.y,A.z),m.push(T.x,T.y,T.z)),p[M]=null):E in p||(p[E]={index0:c[b],index1:c[w],normal:Vc.clone()})}}for(var C in p)if(p[C]){var P=p[C],R=P.index0,k=P.index1;zc.fromBufferAttribute(u,R),Gc.fromBufferAttribute(u,k),m.push(zc.x,zc.y,zc.z),m.push(Gc.x,Gc.y,Gc.z)}t.setAttribute("position",new Co(m,3))}return t}return(0,Z.Z)(i)}(jo),Yc=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this,t)).uuid=pn(),r.type="Shape",r.holes=[],r}return(0,Z.Z)(i,[{key:"getPointsHoles",value:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}},{key:"extractPoints",value:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}},{key:"copy",value:function(t){Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push(n.clone())}return this}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,r=this.holes.length;e<r;e++){var n=this.holes[e];t.holes.push(n.toJSON())}return t}},{key:"fromJSON",value:function(t){Ht((0,Gt.Z)(i.prototype),"fromJSON",this).call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push((new Oc).fromJSON(n))}return this}}]),i}(Oc),Xc=function(t,e){var i,r,n,s,o,a,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,h=e&&e.length,c=h?e[0]*u:t.length,d=Zc(t,0,c,u,!0),f=[];if(!d||d.next===d.prev)return f;if(h&&(d=ed(t,e,d,u)),t.length>80*u){i=n=t[0],r=s=t[1];for(var p=u;p<c;p+=u)(o=t[p])<i&&(i=o),(a=t[p+1])<r&&(r=a),o>n&&(n=o),a>s&&(s=a);l=0!==(l=Math.max(n-i,s-r))?1/l:0}return Qc(d,f,u,i,r,l),f};function Zc(t,e,i,r,n){var s,o;if(n===function(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}(t,e,i,r)>0)for(s=e;s<i;s+=r)o=vd(s,t[s],t[s+1],o);else for(s=i-r;s>=e;s-=r)o=vd(s,t[s],t[s+1],o);return o&&hd(o,o.next)&&(yd(o),o=o.next),o}function qc(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!hd(r,r.next)&&0!==ud(r.prev,r,r.next))r=r.next;else{if(yd(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function Qc(t,e,i,r,n,s,o){if(t){!o&&s&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=sd(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,l,u=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(l=u;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}s.nextZ=null,u*=2}while(o>1)}(n)}(t,r,n,s);for(var a,l,u=t;t.prev!==t.next;)if(a=t.prev,l=t.next,s?Jc(t,r,n,s):Kc(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),yd(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?Qc(t=$c(qc(t),e,i),e,i,r,n,s,2):2===o&&td(t,e,i,r,n,s):Qc(qc(t),e,i,r,n,s,1);break}}}function Kc(t){var e=t.prev,i=t,r=t.next;if(ud(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(ad(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&ud(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function Jc(t,e,i,r){var n=t.prev,s=t,o=t.next;if(ud(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,l=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,u=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,h=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,c=sd(a,l,e,i,r),d=sd(u,h,e,i,r),f=t.prevZ,p=t.nextZ;f&&f.z>=c&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&ad(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&ud(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&ad(n.x,n.y,s.x,s.y,o.x,o.y,p.x,p.y)&&ud(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&ad(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&ud(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&ad(n.x,n.y,s.x,s.y,o.x,o.y,p.x,p.y)&&ud(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function $c(t,e,i){var r=t;do{var n=r.prev,s=r.next.next;!hd(n,s)&&cd(n,r,r.next,s)&&pd(n,s)&&pd(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),yd(r),yd(r.next),r=t=s),r=r.next}while(r!==t);return qc(r)}function td(t,e,i,r,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&ld(o,a)){var l=md(o,a);return o=qc(o,o.next),l=qc(l,l.next),Qc(o,e,i,r,n,s),void Qc(l,e,i,r,n,s)}a=a.next}o=o.next}while(o!==t)}function ed(t,e,i,r){var n,s,o,a=[];for(n=0,s=e.length;n<s;n++)(o=Zc(t,e[n]*r,n<s-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),a.push(od(o));for(a.sort(id),n=0;n<a.length;n++)rd(a[n],i),i=qc(i,i.next);return i}function id(t,e){return t.x-e.x}function rd(t,e){if(e=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i;var l,u=i,h=i.x,c=i.y,d=1/0;r=i;do{n>=r.x&&r.x>=h&&n!==r.x&&ad(s<c?n:o,s,h,c,s<c?o:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),pd(r,t)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&nd(i,r)))&&(i=r,d=l)),r=r.next}while(r!==u);return i}(t,e),e){var i=md(e,t);qc(e,e.next),qc(i,i.next)}}function nd(t,e){return ud(t.prev,t,e.prev)<0&&ud(e.next,t,t.next)<0}function sd(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function od(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function ad(t,e,i,r,n,s,o,a){return(n-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(r-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(n-o)*(r-a)>=0}function ld(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&cd(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(pd(t,e)&&pd(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!==i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(ud(t.prev,t,e.prev)||ud(t,e.prev,e))||hd(t,e)&&ud(t.prev,t,t.next)>0&&ud(e.prev,e,e.next)>0)}function ud(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function hd(t,e){return t.x===e.x&&t.y===e.y}function cd(t,e,i,r){var n=fd(ud(t,e,i)),s=fd(ud(t,e,r)),o=fd(ud(i,r,t)),a=fd(ud(i,r,e));return n!==s&&o!==a||(!(0!==n||!dd(t,i,e))||(!(0!==s||!dd(t,r,e))||(!(0!==o||!dd(i,t,r))||!(0!==a||!dd(i,e,r)))))}function dd(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function fd(t){return t>0?1:t<0?-1:0}function pd(t,e){return ud(t.prev,t,t.next)<0?ud(t,e,t.next)>=0&&ud(t,t.prev,e)>=0:ud(t,e,t.prev)<0||ud(t,t.next,e)<0}function md(t,e){var i=new gd(t.i,t.x,t.y),r=new gd(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function vd(t,e,i,r){var n=new gd(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function yd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function gd(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var xd=function(){function t(){(0,X.Z)(this,t)}return(0,Z.Z)(t,null,[{key:"area",value:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i}},{key:"isClockWise",value:function(e){return t.area(e)<0}},{key:"triangulateShape",value:function(t,e){var i=[],r=[],n=[];bd(t),wd(i,t);var s=t.length;e.forEach(bd);for(var o=0;o<e.length;o++)r.push(s),s+=e[o].length,wd(i,e[o]);for(var a=Xc(i,r),l=0;l<a.length;l+=3)n.push(a.slice(l,l+3));return n}}]),t}();function bd(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function wd(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}var _d=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yc([new _n(.5,.5),new _n(-.5,.5),new _n(-.5,-.5),new _n(.5,-.5)]),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,X.Z)(this,i),(t=e.call(this)).type="ExtrudeGeometry",t.parameters={shapes:r,options:n},r=Array.isArray(r)?r:[r];for(var s=(0,Wt.Z)(t),o=[],a=[],l=0,u=r.length;l<u;l++){var h=r[l];c(h)}function c(t){var e=[],i=void 0!==n.curveSegments?n.curveSegments:12,r=void 0!==n.steps?n.steps:1,l=void 0!==n.depth?n.depth:1,u=void 0===n.bevelEnabled||n.bevelEnabled,h=void 0!==n.bevelThickness?n.bevelThickness:.2,c=void 0!==n.bevelSize?n.bevelSize:h-.1,d=void 0!==n.bevelOffset?n.bevelOffset:0,f=void 0!==n.bevelSegments?n.bevelSegments:3,p=n.extrudePath,m=void 0!==n.UVGenerator?n.UVGenerator:Sd;void 0!==n.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=n.amount);var v,y,g,x,b,w=!1;p&&(v=p.getSpacedPoints(r),w=!0,u=!1,y=p.computeFrenetFrames(r,!1),g=new $n,x=new $n,b=new $n),u||(f=0,h=0,c=0,d=0);var _=t.extractPoints(i),S=_.shape,A=_.holes;if(!xd.isClockWise(S)){S=S.reverse();for(var T=0,E=A.length;T<E;T++){var M=A[T];xd.isClockWise(M)&&(A[T]=M.reverse())}}for(var C=xd.triangulateShape(S,A),P=S,R=0,k=A.length;R<k;R++){var L=A[R];S=S.concat(L)}function O(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}var D=S.length,I=C.length;function F(t,e,i){var r,n,s,o=t.x-e.x,a=t.y-e.y,l=i.x-t.x,u=i.y-t.y,h=o*o+a*a,c=o*u-a*l;if(Math.abs(c)>Number.EPSILON){var d=Math.sqrt(h),f=Math.sqrt(l*l+u*u),p=e.x-a/d,m=e.y+o/d,v=((i.x-u/f-p)*u-(i.y+l/f-m)*l)/(o*u-a*l),y=(r=p+o*v-t.x)*r+(n=m+a*v-t.y)*n;if(y<=2)return new _n(r,n);s=Math.sqrt(y/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(a)===Math.sign(u)&&(g=!0),g?(r=-a,n=o,s=Math.sqrt(h)):(r=o,n=a,s=Math.sqrt(h/2))}return new _n(r/s,n/s)}for(var j=[],B=0,N=P.length,U=N-1,z=B+1;B<N;B++,U++,z++)U===N&&(U=0),z===N&&(z=0),j[B]=F(P[B],P[U],P[z]);for(var G,V=[],H=j.concat(),W=0,Y=A.length;W<Y;W++){var X=A[W];G=[];for(var Z=0,q=X.length,Q=q-1,K=Z+1;Z<q;Z++,Q++,K++)Q===q&&(Q=0),K===q&&(K=0),G[Z]=F(X[Z],X[Q],X[K]);V.push(G),H=H.concat(G)}for(var J=0;J<f;J++){for(var $=J/f,tt=h*Math.cos($*Math.PI/2),et=c*Math.sin($*Math.PI/2)+d,it=0,rt=P.length;it<rt;it++){var nt=O(P[it],j[it],et);kt(nt.x,nt.y,-tt)}for(var st=0,ot=A.length;st<ot;st++){var at=A[st];G=V[st];for(var lt=0,ut=at.length;lt<ut;lt++){var ht=O(at[lt],G[lt],et);kt(ht.x,ht.y,-tt)}}}for(var ct=c+d,dt=0;dt<D;dt++){var ft=u?O(S[dt],H[dt],ct):S[dt];w?(x.copy(y.normals[0]).multiplyScalar(ft.x),g.copy(y.binormals[0]).multiplyScalar(ft.y),b.copy(v[0]).add(x).add(g),kt(b.x,b.y,b.z)):kt(ft.x,ft.y,0)}for(var pt=1;pt<=r;pt++)for(var mt=0;mt<D;mt++){var vt=u?O(S[mt],H[mt],ct):S[mt];w?(x.copy(y.normals[pt]).multiplyScalar(vt.x),g.copy(y.binormals[pt]).multiplyScalar(vt.y),b.copy(v[pt]).add(x).add(g),kt(b.x,b.y,b.z)):kt(vt.x,vt.y,l/r*pt)}for(var yt=f-1;yt>=0;yt--){for(var gt=yt/f,xt=h*Math.cos(gt*Math.PI/2),bt=c*Math.sin(gt*Math.PI/2)+d,wt=0,_t=P.length;wt<_t;wt++){var St=O(P[wt],j[wt],bt);kt(St.x,St.y,l+xt)}for(var At=0,Tt=A.length;At<Tt;At++){var Et=A[At];G=V[At];for(var Mt=0,Ct=Et.length;Mt<Ct;Mt++){var Pt=O(Et[Mt],G[Mt],bt);w?kt(Pt.x,Pt.y+v[r-1].y,v[r-1].x+xt):kt(Pt.x,Pt.y,l+xt)}}}function Rt(t,e){for(var i=t.length;--i>=0;){var n=i,s=i-1;s<0&&(s=t.length-1);for(var o=0,a=r+2*f;o<a;o++){var l=D*o,u=D*(o+1);Ot(e+n+l,e+s+l,e+s+u,e+n+u)}}}function kt(t,i,r){e.push(t),e.push(i),e.push(r)}function Lt(t,e,i){Dt(t),Dt(e),Dt(i);var r=o.length/3,n=m.generateTopUV(s,o,r-3,r-2,r-1);It(n[0]),It(n[1]),It(n[2])}function Ot(t,e,i,r){Dt(t),Dt(e),Dt(r),Dt(e),Dt(i),Dt(r);var n=o.length/3,a=m.generateSideWallUV(s,o,n-6,n-3,n-2,n-1);It(a[0]),It(a[1]),It(a[3]),It(a[1]),It(a[2]),It(a[3])}function Dt(t){o.push(e[3*t+0]),o.push(e[3*t+1]),o.push(e[3*t+2])}function It(t){a.push(t.x),a.push(t.y)}!function(){var t=o.length/3;if(u){for(var e=0,i=D*e,n=0;n<I;n++){var a=C[n];Lt(a[2]+i,a[1]+i,a[0]+i)}i=D*(e=r+2*f);for(var l=0;l<I;l++){var h=C[l];Lt(h[0]+i,h[1]+i,h[2]+i)}}else{for(var c=0;c<I;c++){var d=C[c];Lt(d[2],d[1],d[0])}for(var p=0;p<I;p++){var m=C[p];Lt(m[0]+D*r,m[1]+D*r,m[2]+D*r)}}s.addGroup(t,o.length/3-t,0)}(),function(){var t=o.length/3,e=0;Rt(P,e),e+=P.length;for(var i=0,r=A.length;i<r;i++){var n=A[i];Rt(n,e),e+=n.length}s.addGroup(t,o.length/3-t,1)}()}return t.setAttribute("position",new Co(o,3)),t.setAttribute("uv",new Co(a,2)),t.computeVertexNormals(),t}return(0,Z.Z)(i,[{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return function(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var s=t[r];i.shapes.push(s.uuid)}else i.shapes.push(t.uuid);void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON());return i}(this.parameters.shapes,this.parameters.options,t)}}],[{key:"fromJSON",value:function(t,e){for(var r=[],n=0,s=t.shapes.length;n<s;n++){var o=e[t.shapes[n]];r.push(o)}var a=t.options.extrudePath;return void 0!==a&&(t.options.extrudePath=(new kc[a.type]).fromJSON(a)),new i(r,t.options)}}]),i}(jo),Sd={generateTopUV:function(t,e,i,r,n){var s=e[3*i],o=e[3*i+1],a=e[3*r],l=e[3*r+1],u=e[3*n],h=e[3*n+1];return[new _n(s,o),new _n(a,l),new _n(u,h)]},generateSideWallUV:function(t,e,i,r,n,s){var o=e[3*i],a=e[3*i+1],l=e[3*i+2],u=e[3*r],h=e[3*r+1],c=e[3*r+2],d=e[3*n],f=e[3*n+1],p=e[3*n+2],m=e[3*s],v=e[3*s+1],y=e[3*s+2];return Math.abs(a-h)<Math.abs(o-u)?[new _n(o,1-l),new _n(u,1-c),new _n(d,1-p),new _n(m,1-y)]:[new _n(a,1-l),new _n(h,1-c),new _n(f,1-p),new _n(v,1-y)]}};var Ad=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,X.Z)(this,i);var s=(1+Math.sqrt(5))/2,o=[-1,s,0,1,s,0,-1,-s,0,1,-s,0,0,-1,s,0,1,s,0,-1,-s,0,1,-s,s,0,-1,s,0,1,-s,0,-1,-s,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(t=e.call(this,o,a,r,n)).type="IcosahedronGeometry",t.parameters={radius:r,detail:n},t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.detail)}}]),i}(Nc),Td=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,X.Z)(this,i);var s=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(t=e.call(this,s,o,r,n)).type="OctahedronGeometry",t.parameters={radius:r,detail:n},t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.detail)}}]),i}(Nc),Ed=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,X.Z)(this,i),(t=e.call(this)).type="RingGeometry",t.parameters={innerRadius:r,outerRadius:n,thetaSegments:s,phiSegments:o,thetaStart:a,thetaLength:l},s=Math.max(3,s);for(var u=[],h=[],c=[],d=[],f=r,p=(n-r)/(o=Math.max(1,o)),m=new $n,v=new _n,y=0;y<=o;y++){for(var g=0;g<=s;g++){var x=a+g/s*l;m.x=f*Math.cos(x),m.y=f*Math.sin(x),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,d.push(v.x,v.y)}f+=p}for(var b=0;b<o;b++)for(var w=b*(s+1),_=0;_<s;_++){var S=_+w,A=S,T=S+s+1,E=S+s+2,M=S+1;u.push(A,T,M),u.push(T,E,M)}return t.setIndex(u),t.setAttribute("position",new Co(h,3)),t.setAttribute("normal",new Co(c,3)),t.setAttribute("uv",new Co(d,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}]),i}(jo),Md=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yc([new _n(0,.5),new _n(-.5,-.5),new _n(.5,-.5)]),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,X.Z)(this,i),(t=e.call(this)).type="ShapeGeometry",t.parameters={shapes:r,curveSegments:n};var s=[],o=[],a=[],l=[],u=0,h=0;if(!1===Array.isArray(r))d(r);else for(var c=0;c<r.length;c++)d(r[c]),t.addGroup(u,h,c),u+=h,h=0;function d(t){var e=o.length/3,i=t.extractPoints(n),r=i.shape,u=i.holes;!1===xd.isClockWise(r)&&(r=r.reverse());for(var c=0,d=u.length;c<d;c++){var f=u[c];!0===xd.isClockWise(f)&&(u[c]=f.reverse())}for(var p=xd.triangulateShape(r,u),m=0,v=u.length;m<v;m++){var y=u[m];r=r.concat(y)}for(var g=0,x=r.length;g<x;g++){var b=r[g];o.push(b.x,b.y,0),a.push(0,0,1),l.push(b.x,b.y)}for(var w=0,_=p.length;w<_;w++){var S=p[w],A=S[0]+e,T=S[1]+e,E=S[2]+e;s.push(A,T,E),h+=3}}return t.setIndex(s),t.setAttribute("position",new Co(o,3)),t.setAttribute("normal",new Co(a,3)),t.setAttribute("uv",new Co(l,2)),t}return(0,Z.Z)(i,[{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}],[{key:"fromJSON",value:function(t,e){for(var r=[],n=0,s=t.shapes.length;n<s;n++){var o=e[t.shapes[n]];r.push(o)}return new i(r,t.curveSegments)}}]),i}(jo);var Cd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,X.Z)(this,i),(t=e.call(this)).type="SphereGeometry",t.parameters={radius:r,widthSegments:n,heightSegments:s,phiStart:o,phiLength:a,thetaStart:l,thetaLength:u},n=Math.max(3,Math.floor(n)),s=Math.max(2,Math.floor(s));for(var h=Math.min(l+u,Math.PI),c=0,d=[],f=new $n,p=new $n,m=[],v=[],y=[],g=[],x=0;x<=s;x++){var b=[],w=x/s,_=0;0==x&&0==l?_=.5/n:x==s&&h==Math.PI&&(_=-.5/n);for(var S=0;S<=n;S++){var A=S/n;f.x=-r*Math.cos(o+A*a)*Math.sin(l+w*u),f.y=r*Math.cos(l+w*u),f.z=r*Math.sin(o+A*a)*Math.sin(l+w*u),v.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),g.push(A+_,1-w),b.push(c++)}d.push(b)}for(var T=0;T<s;T++)for(var E=0;E<n;E++){var M=d[T][E+1],C=d[T][E],P=d[T+1][E],R=d[T+1][E+1];(0!==T||l>0)&&m.push(M,C,R),(T!==s-1||h<Math.PI)&&m.push(C,P,R)}return t.setIndex(m),t.setAttribute("position",new Co(v,3)),t.setAttribute("normal",new Co(y,3)),t.setAttribute("uv",new Co(g,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}]),i}(jo),Pd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,X.Z)(this,i);var s=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(t=e.call(this,s,o,r,n)).type="TetrahedronGeometry",t.parameters={radius:r,detail:n},t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.detail)}}]),i}(Nc),Rd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,X.Z)(this,i),(t=e.call(this)).type="TorusGeometry",t.parameters={radius:r,tube:n,radialSegments:s,tubularSegments:o,arc:a},s=Math.floor(s),o=Math.floor(o);for(var l=[],u=[],h=[],c=[],d=new $n,f=new $n,p=new $n,m=0;m<=s;m++)for(var v=0;v<=o;v++){var y=v/o*a,g=m/s*Math.PI*2;f.x=(r+n*Math.cos(g))*Math.cos(y),f.y=(r+n*Math.cos(g))*Math.sin(y),f.z=n*Math.sin(g),u.push(f.x,f.y,f.z),d.x=r*Math.cos(y),d.y=r*Math.sin(y),p.subVectors(f,d).normalize(),h.push(p.x,p.y,p.z),c.push(v/o),c.push(m/s)}for(var x=1;x<=s;x++)for(var b=1;b<=o;b++){var w=(o+1)*x+b-1,_=(o+1)*(x-1)+b-1,S=(o+1)*(x-1)+b,A=(o+1)*x+b;l.push(w,_,A),l.push(_,S,A)}return t.setIndex(l),t.setAttribute("position",new Co(u,3)),t.setAttribute("normal",new Co(h,3)),t.setAttribute("uv",new Co(c,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}]),i}(jo),kd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;(0,X.Z)(this,i),(t=e.call(this)).type="TorusKnotGeometry",t.parameters={radius:r,tube:n,tubularSegments:s,radialSegments:o,p:a,q:l},s=Math.floor(s),o=Math.floor(o);for(var u=[],h=[],c=[],d=[],f=new $n,p=new $n,m=new $n,v=new $n,y=new $n,g=new $n,x=new $n,b=0;b<=s;++b){var w=b/s*a*Math.PI*2;L(w,a,l,r,m),L(w+.01,a,l,r,v),g.subVectors(v,m),x.addVectors(v,m),y.crossVectors(g,x),x.crossVectors(y,g),y.normalize(),x.normalize();for(var _=0;_<=o;++_){var S=_/o*Math.PI*2,A=-n*Math.cos(S),T=n*Math.sin(S);f.x=m.x+(A*x.x+T*y.x),f.y=m.y+(A*x.y+T*y.y),f.z=m.z+(A*x.z+T*y.z),h.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),d.push(b/s),d.push(_/o)}}for(var E=1;E<=s;E++)for(var M=1;M<=o;M++){var C=(o+1)*(E-1)+(M-1),P=(o+1)*E+(M-1),R=(o+1)*E+M,k=(o+1)*(E-1)+M;u.push(C,P,k),u.push(P,R,k)}function L(t,e,i,r,n){var s=Math.cos(t),o=Math.sin(t),a=i/e*t,l=Math.cos(a);n.x=r*(2+l)*.5*s,n.y=r*(2+l)*o*.5,n.z=r*Math.sin(a)*.5}return t.setIndex(u),t.setAttribute("position",new Co(h,3)),t.setAttribute("normal",new Co(c,3)),t.setAttribute("uv",new Co(d,2)),t}return(0,Z.Z)(i,null,[{key:"fromJSON",value:function(t){return new i(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}]),i}(jo),Ld=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pc(new $n(-1,-1,0),new $n(-1,1,0),new $n(1,1,0)),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,X.Z)(this,i),(t=e.call(this)).type="TubeGeometry",t.parameters={path:r,tubularSegments:n,radius:s,radialSegments:o,closed:a};var l=r.computeFrenetFrames(n,a);t.tangents=l.tangents,t.normals=l.normals,t.binormals=l.binormals;var u=new $n,h=new $n,c=new _n,d=new $n,f=[],p=[],m=[],v=[];function y(){for(var t=0;t<n;t++)g(t);g(!1===a?n:0),b(),x()}function g(t){d=r.getPointAt(t/n,d);for(var e=l.normals[t],i=l.binormals[t],a=0;a<=o;a++){var c=a/o*Math.PI*2,m=Math.sin(c),v=-Math.cos(c);h.x=v*e.x+m*i.x,h.y=v*e.y+m*i.y,h.z=v*e.z+m*i.z,h.normalize(),p.push(h.x,h.y,h.z),u.x=d.x+s*h.x,u.y=d.y+s*h.y,u.z=d.z+s*h.z,f.push(u.x,u.y,u.z)}}function x(){for(var t=1;t<=n;t++)for(var e=1;e<=o;e++){var i=(o+1)*(t-1)+(e-1),r=(o+1)*t+(e-1),s=(o+1)*t+e,a=(o+1)*(t-1)+e;v.push(i,r,a),v.push(r,s,a)}}function b(){for(var t=0;t<=n;t++)for(var e=0;e<=o;e++)c.x=t/n,c.y=e/o,m.push(c.x,c.y)}return y(),t.setIndex(v),t.setAttribute("position",new Co(f,3)),t.setAttribute("normal",new Co(p,3)),t.setAttribute("uv",new Co(m,2)),t}return(0,Z.Z)(i,[{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this);return t.path=this.parameters.path.toJSON(),t}}],[{key:"fromJSON",value:function(t){return new i((new kc[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}]),i}(jo),Od=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,X.Z)(this,i),(t=e.call(this)).type="WireframeGeometry",t.parameters={geometry:r},null!==r){var n=[],s=new Set,o=new $n,a=new $n;if(null!==r.index){var l=r.attributes.position,u=r.index,h=r.groups;0===h.length&&(h=[{start:0,count:u.count,materialIndex:0}]);for(var c=0,d=h.length;c<d;++c)for(var f=h[c],p=f.start,m=f.count,v=p,y=p+m;v<y;v+=3)for(var g=0;g<3;g++){var x=u.getX(v+g),b=u.getX(v+(g+1)%3);o.fromBufferAttribute(l,x),a.fromBufferAttribute(l,b),!0===Dd(o,a,s)&&(n.push(o.x,o.y,o.z),n.push(a.x,a.y,a.z))}}else for(var w=r.attributes.position,_=0,S=w.count/3;_<S;_++)for(var A=0;A<3;A++){var T=3*_+A,E=3*_+(A+1)%3;o.fromBufferAttribute(w,T),a.fromBufferAttribute(w,E),!0===Dd(o,a,s)&&(n.push(o.x,o.y,o.z),n.push(a.x,a.y,a.z))}t.setAttribute("position",new Co(n,3))}return t}return(0,Z.Z)(i)}(jo);function Dd(t,e,i){var r="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z),n="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z);return!0!==i.has(r)&&!0!==i.has(n)&&(i.add(r),i.add(n),!0)}var Id=Object.freeze({__proto__:null,BoxGeometry:ra,BoxBufferGeometry:ra,CapsuleGeometry:Ic,CapsuleBufferGeometry:Ic,CircleGeometry:Fc,CircleBufferGeometry:Fc,ConeGeometry:Bc,ConeBufferGeometry:Bc,CylinderGeometry:jc,CylinderBufferGeometry:jc,DodecahedronGeometry:Uc,DodecahedronBufferGeometry:Uc,EdgesGeometry:Wc,ExtrudeGeometry:_d,ExtrudeBufferGeometry:_d,IcosahedronGeometry:Ad,IcosahedronBufferGeometry:Ad,LatheGeometry:Dc,LatheBufferGeometry:Dc,OctahedronGeometry:Td,OctahedronBufferGeometry:Td,PlaneGeometry:Sa,PlaneBufferGeometry:Sa,PolyhedronGeometry:Nc,PolyhedronBufferGeometry:Nc,RingGeometry:Ed,RingBufferGeometry:Ed,ShapeGeometry:Md,ShapeBufferGeometry:Md,SphereGeometry:Cd,SphereBufferGeometry:Cd,TetrahedronGeometry:Pd,TetrahedronBufferGeometry:Pd,TorusGeometry:Rd,TorusBufferGeometry:Rd,TorusKnotGeometry:kd,TorusKnotBufferGeometry:kd,TubeGeometry:Ld,TubeBufferGeometry:Ld,WireframeGeometry:Od}),Fd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="ShadowMaterial",r.color=new Nn(0),r.transparent=!0,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this}}]),i}(mo);Fd.prototype.isShadowMaterial=!0;var jd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this,t)).type="RawShaderMaterial",r}return(0,Z.Z)(i)}(aa);jd.prototype.isRawShaderMaterial=!0;var Bd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Nn(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Cr,r.normalScale=new _n(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}]),i}(mo);Bd.prototype.isMeshStandardMaterial=!0;var Nd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new _n(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,Wt.Z)(r),"reflectivity",{get:function(){return mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),r.sheenColor=new Nn(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new Nn(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Nn(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._transmission=0,r.setValues(t),r}return(0,Z.Z)(i,[{key:"sheen",get:function(){return this._sheen},set:function(t){this._sheen>0!==t>0&&this.version++,this._sheen=t}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(t){this._clearcoat>0!==t>0&&this.version++,this._clearcoat=t}},{key:"transmission",get:function(){return this._transmission},set:function(t){this._transmission>0!==t>0&&this.version++,this._transmission=t}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}]),i}(Bd);Nd.prototype.isMeshPhysicalMaterial=!0;var Ud=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="MeshPhongMaterial",r.color=new Nn(16777215),r.specular=new Nn(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Cr,r.normalScale=new _n(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ze,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}]),i}(mo);Ud.prototype.isMeshPhongMaterial=!0;var zd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new Nn(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Cr,r.normalScale=new _n(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}]),i}(mo);zd.prototype.isMeshToonMaterial=!0;var Gd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Cr,r.normalScale=new _n(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.flatShading=!1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}]),i}(mo);Gd.prototype.isMeshNormalMaterial=!0;var Vd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="MeshLambertMaterial",r.color=new Nn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ze,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}]),i}(mo);Vd.prototype.isMeshLambertMaterial=!0;var Hd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Nn(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Cr,r.normalScale=new _n(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}]),i}(mo);Hd.prototype.isMeshMatcapMaterial=!0;var Wd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(t),r}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}]),i}(Hh);Wd.prototype.isLineDashedMaterial=!0;var Yd={ShadowMaterial:Fd,SpriteMaterial:uh,RawShaderMaterial:jd,ShaderMaterial:aa,PointsMaterial:ec,MeshPhysicalMaterial:Nd,MeshStandardMaterial:Bd,MeshPhongMaterial:Ud,MeshToonMaterial:zd,MeshNormalMaterial:Gd,MeshLambertMaterial:Vd,MeshDepthMaterial:Uu,MeshDistanceMaterial:zu,MeshBasicMaterial:vo,MeshMatcapMaterial:Hd,LineDashedMaterial:Wd,LineBasicMaterial:Hh,Material:mo};mo.fromType=function(t){return new Yd[t]};var Xd={arraySlice:function(t,e,i){return Xd.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),s=0,o=0;o!==r;++s)for(var a=i[s]*e,l=0;l!==e;++l)n[o++]=t[a+l];return n},flattenJSON:function(t,e,i,r){for(var n=1,s=t[0];void 0!==s&&void 0===s[r];)s=t[n++];if(void 0!==s){var o=s[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=s[r])&&(e.push(s.time),i.push.apply(i,o)),s=t[n++]}while(void 0!==s);else if(void 0!==o.toArray)do{void 0!==(o=s[r])&&(e.push(s.time),o.toArray(i,i.length)),s=t[n++]}while(void 0!==s);else do{void 0!==(o=s[r])&&(e.push(s.time),i.push(o)),s=t[n++]}while(void 0!==s)}},subclip:function(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,s=t.clone();s.name=e;for(var o=[],a=0;a<s.tracks.length;++a){for(var l=s.tracks[a],u=l.getValueSize(),h=[],c=[],d=0;d<l.times.length;++d){var f=l.times[d]*n;if(!(f<i||f>=r)){h.push(l.times[d]);for(var p=0;p<u;++p)c.push(l.values[d*u+p])}}0!==h.length&&(l.times=Xd.convertArray(h,l.times.constructor),l.values=Xd.convertArray(c,l.values.constructor),o.push(l))}s.tracks=o;for(var m=1/0,v=0;v<s.tracks.length;++v)m>s.tracks[v].times[0]&&(m=s.tracks[v].times[0]);for(var y=0;y<s.tracks.length;++y)s.tracks[y].shift(-1*m);return s.resetDuration(),s},makeClipAdditive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var n=i.tracks.length,s=e/r,o=function(e){var r=i.tracks[e],n=r.ValueTypeName;if("bool"===n||"string"===n)return"continue";var o=t.tracks.find((function(t){return t.name===r.name&&t.ValueTypeName===n}));if(void 0===o)return"continue";var a=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);var u=0,h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);var c=r.times.length-1,d=void 0;if(s<=r.times[0]){var f=a,p=l-a;d=Xd.arraySlice(r.values,f,p)}else if(s>=r.times[c]){var m=c*l+a,v=m+l-a;d=Xd.arraySlice(r.values,m,v)}else{var y=r.createInterpolant(),g=a,x=l-a;y.evaluate(s),d=Xd.arraySlice(y.resultBuffer,g,x)}"quaternion"===n&&(new Jn).fromArray(d).normalize().conjugate().toArray(d);for(var b=o.times.length,w=0;w<b;++w){var _=w*h+u;if("quaternion"===n)Jn.multiplyQuaternionsFlat(o.values,_,d,0,o.values,_);else for(var S=h-2*u,A=0;A<S;++A)o.values[_+A]-=d[A]}},a=0;a<n;++a)o(a);return t.blendMode=br,t}},Zd=function(){function t(e,i,r,n){(0,X.Z)(this,t),this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new i.constructor(r),this.sampleValues=i,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,Z.Z)(t,[{key:"evaluate",value:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var s;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}s=e.length;break i}if(t>=n)break t;var a=e[1];t<a&&(i=2,n=a);for(var l=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===l)break;if(r=n,t>=(n=e[--i-1]))break e}s=i,i=0}for(;i<s;){var u=i+s>>>1;t<e[u]?s=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,s=0;s!==r;++s)e[s]=i[n+s];return e}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),t}();Zd.prototype.beforeStart_=Zd.prototype.copySampleValue_,Zd.prototype.afterEnd_=Zd.prototype.copySampleValue_;var qd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s){var o;return(0,X.Z)(this,i),(o=e.call(this,t,r,n,s))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:vr,endingEnd:vr},o}return(0,Z.Z)(i,[{key:"intervalChanged_",value:function(t,e,i){var r=this.parameterPositions,n=t-2,s=t+1,o=r[n],a=r[s];if(void 0===o)switch(this.getSettings_().endingStart){case yr:n=t,o=2*e-i;break;case gr:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===a)switch(this.getSettings_().endingEnd){case yr:s=t,a=2*i-e;break;case gr:s=1,a=i+r[1]-r[0];break;default:s=t-1,a=e}var l=.5*(i-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(a-i),this._offsetPrev=n*u,this._offsetNext=s*u}},{key:"interpolate_",value:function(t,e,i,r){for(var n=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,l=a-o,u=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,d=this._weightNext,f=(i-e)/(r-e),p=f*f,m=p*f,v=-c*m+2*c*p-c*f,y=(1+c)*m+(-1.5-2*c)*p+(-.5+c)*f+1,g=(-1-d)*m+(1.5+d)*p+.5*f,x=d*m-d*p,b=0;b!==o;++b)n[b]=v*s[u+b]+y*s[l+b]+g*s[a+b]+x*s[h+b];return n}}]),i}(Zd),Qd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s){return(0,X.Z)(this,i),e.call(this,t,r,n,s)}return(0,Z.Z)(i,[{key:"interpolate_",value:function(t,e,i,r){for(var n=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,l=a-o,u=(i-e)/(r-e),h=1-u,c=0;c!==o;++c)n[c]=s[l+c]*h+s[a+c]*u;return n}}]),i}(Zd),Kd=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s){return(0,X.Z)(this,i),e.call(this,t,r,n,s)}return(0,Z.Z)(i,[{key:"interpolate_",value:function(t){return this.copySampleValue_(t-1)}}]),i}(Zd),Jd=function(){function t(e,i,r,n){if((0,X.Z)(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===i||0===i.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xd.convertArray(i,this.TimeBufferType),this.values=Xd.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}return(0,Z.Z)(t,[{key:"InterpolantFactoryMethodDiscrete",value:function(t){return new Kd(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodLinear",value:function(t){return new Qd(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodSmooth",value:function(t){return new qd(this.times,this.values,this.getValueSize(),t)}},{key:"setInterpolation",value:function(t){var e;switch(t){case fr:e=this.InterpolantFactoryMethodDiscrete;break;case pr:e=this.InterpolantFactoryMethodLinear;break;case mr:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fr;case this.InterpolantFactoryMethodLinear:return pr;case this.InterpolantFactoryMethodSmooth:return mr}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this}},{key:"scale",value:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this}},{key:"trim",value:function(t,e){for(var i=this.times,r=i.length,n=0,s=r-1;n!==r&&i[n]<t;)++n;for(;-1!==s&&i[s]>e;)--s;if(++s,0!==n||s!==r){n>=s&&(n=(s=Math.max(s,1))-1);var o=this.getValueSize();this.times=Xd.arraySlice(i,n,s),this.values=Xd.arraySlice(this.values,n*o,s*o)}return this}},{key:"validate",value:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var s=null,o=0;o!==n;o++){var a=i[o];if("number"===typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),t=!1;break}if(null!==s&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),t=!1;break}s=a}if(void 0!==r&&Xd.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var h=r[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),t=!1;break}}return t}},{key:"optimize",value:function(){for(var t=Xd.arraySlice(this.times),e=Xd.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===mr,n=t.length-1,s=1,o=1;o<n;++o){var a=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(r)a=!0;else for(var u=o*i,h=u-i,c=u+i,d=0;d!==i;++d){var f=e[u+d];if(f!==e[h+d]||f!==e[c+d]){a=!0;break}}if(a){if(o!==s){t[s]=t[o];for(var p=o*i,m=s*i,v=0;v!==i;++v)e[m+v]=e[p+v]}++s}}if(n>0){t[s]=t[n];for(var y=n*i,g=s*i,x=0;x!==i;++x)e[g+x]=e[y+x];++s}return s!==t.length?(this.times=Xd.arraySlice(t,0,s),this.values=Xd.arraySlice(e,0,s*i)):(this.times=t,this.values=e),this}},{key:"clone",value:function(){var t=Xd.arraySlice(this.times,0),e=Xd.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}],[{key:"toJSON",value:function(t){var e,i=t.constructor;if(i.toJSON!==this.toJSON)e=i.toJSON(t);else{e={name:t.name,times:Xd.convertArray(t.times,Array),values:Xd.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}]),t}();Jd.prototype.TimeBufferType=Float32Array,Jd.prototype.ValueBufferType=Float32Array,Jd.prototype.DefaultInterpolation=pr;var $d=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i)}(Jd);$d.prototype.ValueTypeName="bool",$d.prototype.ValueBufferType=Array,$d.prototype.DefaultInterpolation=fr,$d.prototype.InterpolantFactoryMethodLinear=void 0,$d.prototype.InterpolantFactoryMethodSmooth=void 0;var tf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i)}(Jd);tf.prototype.ValueTypeName="color";var ef=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i)}(Jd);ef.prototype.ValueTypeName="number";var rf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s){return(0,X.Z)(this,i),e.call(this,t,r,n,s)}return(0,Z.Z)(i,[{key:"interpolate_",value:function(t,e,i,r){for(var n=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(i-e)/(r-e),l=t*o,u=l+o;l!==u;l+=4)Jn.slerpFlat(n,0,s,l-o,s,l,a);return n}}]),i}(Zd),nf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"InterpolantFactoryMethodLinear",value:function(t){return new rf(this.times,this.values,this.getValueSize(),t)}}]),i}(Jd);nf.prototype.ValueTypeName="quaternion",nf.prototype.DefaultInterpolation=pr,nf.prototype.InterpolantFactoryMethodSmooth=void 0;var sf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i)}(Jd);sf.prototype.ValueTypeName="string",sf.prototype.ValueBufferType=Array,sf.prototype.DefaultInterpolation=fr,sf.prototype.InterpolantFactoryMethodLinear=void 0,sf.prototype.InterpolantFactoryMethodSmooth=void 0;var of=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i)}(Jd);of.prototype.ValueTypeName="vector";var af=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xr;(0,X.Z)(this,t),this.name=e,this.tracks=r,this.duration=i,this.blendMode=n,this.uuid=pn(),this.duration<0&&this.resetDuration()}return(0,Z.Z)(t,[{key:"resetDuration",value:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}},{key:"trim",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}},{key:"optimize",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},{key:"clone",value:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,s=i.length;n!==s;++n)e.push(lf(i[n]).scale(r));var o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}},{key:"toJSON",value:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},n=0,s=i.length;n!==s;++n)e.push(Jd.toJSON(i[n]));return r}},{key:"CreateFromMorphTargetSequence",value:function(t,e,i,r){for(var n=e.length,s=[],o=0;o<n;o++){var a=[],l=[];a.push((o+n-1)%n,o,(o+1)%n),l.push(0,1,0);var u=Xd.getKeyframeOrder(a);a=Xd.sortedArray(a,1,u),l=Xd.sortedArray(l,1,u),r||0!==a[0]||(a.push(n),l.push(l[0])),s.push(new ef(".morphTargetInfluences["+e[o].name+"]",a,l).scale(1/i))}return new this(t,-1,s)}},{key:"findByName",value:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,s=0,o=t.length;s<o;s++){var a=t[s],l=a.name.match(n);if(l&&l.length>1){var u=l[1],h=r[u];h||(r[u]=h=[]),h.push(a)}}var c=[];for(var d in r)c.push(this.CreateFromMorphTargetSequence(d,r[d],e,i));return c}},{key:"parseAnimation",value:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(t,e,i,r,n){if(0!==i.length){var s=[],o=[];Xd.flattenJSON(i,s,o,r),0!==s.length&&n.push(new t(e,s,o))}},r=[],n=t.name||"default",s=t.fps||30,o=t.blendMode,a=t.length||-1,l=t.hierarchy||[],u=0;u<l.length;u++){var h=l[u].keys;if(h&&0!==h.length)if(h[0].morphTargets){var c={},d=void 0;for(d=0;d<h.length;d++)if(h[d].morphTargets)for(var f=0;f<h[d].morphTargets.length;f++)c[h[d].morphTargets[f]]=-1;for(var p in c){for(var m=[],v=[],y=0;y!==h[d].morphTargets.length;++y){var g=h[d];m.push(g.time),v.push(g.morphTarget===p?1:0)}r.push(new ef(".morphTargetInfluence["+p+"]",m,v))}a=c.length*s}else{var x=".bones["+e[u].name+"]";i(of,x+".position",h,"pos",r),i(nf,x+".quaternion",h,"rot",r),i(of,x+".scale",h,"scl",r)}}return 0===r.length?null:new this(n,a,r,o)}}]),t}();function lf(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ef;case"vector":case"vector2":case"vector3":case"vector4":return of;case"color":return tf;case"quaternion":return nf;case"bool":case"boolean":return $d;case"string":return sf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];Xd.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}var uf={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},hf=(0,Z.Z)((function t(e,i,r){(0,X.Z)(this,t);var n=this,s=!1,o=0,a=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=i,this.onError=r,this.itemStart=function(t){a++,!1===s&&void 0!==n.onStart&&n.onStart(t,o,a),s=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(s=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return l?l(t):t},this.setURLModifier=function(t){return l=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){var e=u.indexOf(t);return-1!==e&&u.splice(e,2),this},this.getHandler=function(t){for(var e=0,i=u.length;e<i;e+=2){var r=u[e],n=u[e+1];if(r.global&&(r.lastIndex=0),r.test(t))return n}return null}})),cf=new hf,df=function(){function t(e){(0,X.Z)(this,t),this.manager=void 0!==e?e:cf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,Z.Z)(t,[{key:"load",value:function(){}},{key:"loadAsync",value:function(t,e){var i=this;return new Promise((function(r,n){i.load(t,r,e,n)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),t}(),ff={},pf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this;void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var s=uf.get(t);if(void 0!==s)return this.manager.itemStart(t),setTimeout((function(){e&&e(s),n.manager.itemEnd(t)}),0),s;if(void 0===ff[t]){ff[t]=[],ff[t].push({onLoad:e,onProgress:i,onError:r});var o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then((function(e){if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;var i=ff[t],r=e.body.getReader(),n=e.headers.get("Content-Length"),s=n?parseInt(n):0,o=0!==s,a=0,l=new ReadableStream({start:function(t){!function e(){r.read().then((function(r){var n=r.done,l=r.value;if(n)t.close();else{a+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:a,total:s}),h=0,c=i.length;h<c;h++){var d=i[h];d.onProgress&&d.onProgress(u)}t.enqueue(l),e()}}))}()}});return new Response(l)}throw Error('fetch for "'.concat(e.url,'" responded with ').concat(e.status,": ").concat(e.statusText))})).then((function(t){switch(l){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((function(t){return(new DOMParser).parseFromString(t,a)}));case"json":return t.json();default:if(void 0===a)return t.text();var e=/charset="?([^;"\s]*)"?/i.exec(a),i=e&&e[1]?e[1].toLowerCase():void 0,r=new TextDecoder(i);return t.arrayBuffer().then((function(t){return r.decode(t)}))}})).then((function(e){uf.add(t,e);var i=ff[t];delete ff[t];for(var r=0,n=i.length;r<n;r++){var s=i[r];s.onLoad&&s.onLoad(e)}})).catch((function(e){var i=ff[t];if(void 0===i)throw n.manager.itemError(t),e;delete ff[t];for(var r=0,s=i.length;r<s;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t)})).finally((function(){n.manager.itemEnd(t)})),this.manager.itemStart(t)}else ff[t].push({onLoad:e,onProgress:i,onError:r})}},{key:"setResponseType",value:function(t){return this.responseType=t,this}},{key:"setMimeType",value:function(t){return this.mimeType=t,this}}]),i}(df),mf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=new pf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(i){try{e(n.parse(JSON.parse(i)))}catch(Lm){r?r(Lm):console.error(Lm),n.manager.itemError(t)}}),i,r)}},{key:"parse",value:function(t){for(var e=[],i=0;i<t.length;i++){var r=af.parse(t[i]);e.push(r)}return e}}]),i}(df),vf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=[],o=new hc,a=new pf(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(n.withCredentials);var l=0;function u(u){a.load(t[u],(function(t){var i=n.parse(t,!0);s[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=hi),o.image=s,o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(Array.isArray(t))for(var h=0,c=t.length;h<c;++h)u(h);else a.load(t,(function(t){var i=n.parse(t,!0);if(i.isCubemap){for(var r=i.mipmaps.length/i.mipmapCount,a=0;a<r;a++){s[a]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)s[a].mipmaps.push(i.mipmaps[a*i.mipmapCount+l]),s[a].format=i.format,s[a].width=i.width,s[a].height=i.height}o.image=s}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=hi),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o}}]),i}(df),yf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,s=uf.get(t);if(void 0!==s)return n.manager.itemStart(t),setTimeout((function(){e&&e(s),n.manager.itemEnd(t)}),0),s;var o=Mn("img");function a(){u(),uf.add(t,this),e&&e(this),n.manager.itemEnd(t)}function l(e){u(),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}function u(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o}}]),i}(df),gf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=new da,s=new yf(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);var o=0;function a(i){s.load(t[i],(function(t){n.images[i]=t,6===++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var l=0;l<t.length;++l)a(l);return n}}]),i}(df),xf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=new Dh,o=new pf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(n.withCredentials),o.load(t,(function(t){var i=n.parse(t);i&&(void 0!==i.image?s.image=i.image:void 0!==i.data&&(s.image.width=i.width,s.image.height=i.height,s.image.data=i.data),s.wrapS=void 0!==i.wrapS?i.wrapS:ri,s.wrapT=void 0!==i.wrapT?i.wrapT:ri,s.magFilter=void 0!==i.magFilter?i.magFilter:hi,s.minFilter=void 0!==i.minFilter?i.minFilter:hi,s.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.encoding&&(s.encoding=i.encoding),void 0!==i.flipY&&(s.flipY=i.flipY),void 0!==i.format&&(s.format=i.format),void 0!==i.type&&(s.type=i.type),void 0!==i.mipmaps&&(s.mipmaps=i.mipmaps,s.minFilter=fi),1===i.mipmapCount&&(s.minFilter=hi),void 0!==i.generateMipmaps&&(s.generateMipmaps=i.generateMipmaps),s.needsUpdate=!0,e&&e(s,i))}),i,r),s}}]),i}(df),bf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=new Hn,s=new yf(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,(function(t){n.image=t,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n}}]),i}(df),wf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,X.Z)(this,i),(r=e.call(this)).type="Light",r.color=new Nn(t),r.intensity=n,r}return(0,Z.Z)(i,[{key:"dispose",value:function(){}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),i}(eo);wf.prototype.isLight=!0;var _f=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;return(0,X.Z)(this,i),(s=e.call(this,t,n)).type="HemisphereLight",s.position.copy(eo.DefaultUp),s.updateMatrix(),s.groundColor=new Nn(r),s}return(0,Z.Z)(i,[{key:"copy",value:function(t){return wf.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}]),i}(wf);_f.prototype.isHemisphereLight=!0;var Sf=new Rs,Af=new $n,Tf=new $n,Ef=function(){function t(e){(0,X.Z)(this,t),this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _n(512,512),this.map=null,this.mapPass=null,this.matrix=new Rs,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ba,this._frameExtents=new _n(1,1),this._viewportCount=1,this._viewports=[new Wn(0,0,1,1)]}return(0,Z.Z)(t,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(t){var e=this.camera,i=this.matrix;Af.setFromMatrixPosition(t.matrixWorld),e.position.copy(Af),Tf.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Tf),e.updateMatrixWorld(),Sf.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sf),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)}},{key:"getViewport",value:function(t){return this._viewports[t]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}]),t}(),Mf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this,new ua(50,1,.5,500))).focus=1,t}return(0,Z.Z)(i,[{key:"updateMatrices",value:function(t){var e=this.camera,r=2*fn*t.angle*this.focus,n=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;r===e.fov&&n===e.aspect&&s===e.far||(e.fov=r,e.aspect=n,e.far=s,e.updateProjectionMatrix()),Ht((0,Gt.Z)(i.prototype),"updateMatrices",this).call(this,t)}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.focus=t.focus,this}}]),i}(Ef);Mf.prototype.isSpotLightShadow=!0;var Cf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="SpotLight",n.position.copy(eo.DefaultUp),n.updateMatrix(),n.target=new eo,n.distance=s,n.angle=o,n.penumbra=a,n.decay=l,n.shadow=new Mf,n}return(0,Z.Z)(i,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),i}(wf);Cf.prototype.isSpotLight=!0;var Pf=new Rs,Rf=new $n,kf=new $n,Lf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this,new ua(90,1,.5,500)))._frameExtents=new _n(4,2),t._viewportCount=6,t._viewports=[new Wn(2,1,1,1),new Wn(0,1,1,1),new Wn(3,1,1,1),new Wn(1,1,1,1),new Wn(3,0,1,1),new Wn(1,0,1,1)],t._cubeDirections=[new $n(1,0,0),new $n(-1,0,0),new $n(0,0,1),new $n(0,0,-1),new $n(0,1,0),new $n(0,-1,0)],t._cubeUps=[new $n(0,1,0),new $n(0,1,0),new $n(0,1,0),new $n(0,1,0),new $n(0,0,1),new $n(0,0,-1)],t}return(0,Z.Z)(i,[{key:"updateMatrices",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.camera,r=this.matrix,n=t.distance||i.far;n!==i.far&&(i.far=n,i.updateProjectionMatrix()),Rf.setFromMatrixPosition(t.matrixWorld),i.position.copy(Rf),kf.copy(i.position),kf.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(kf),i.updateMatrixWorld(),r.makeTranslation(-Rf.x,-Rf.y,-Rf.z),Pf.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Pf)}}]),i}(Ef);Lf.prototype.isPointLightShadow=!0;var Of=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="PointLight",n.distance=s,n.decay=o,n.shadow=new Lf,n}return(0,Z.Z)(i,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}]),i}(wf);Of.prototype.isPointLight=!0;var Df=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,new Oa(-5,5,5,-5,.5,500))}return(0,Z.Z)(i)}(Ef);Df.prototype.isDirectionalLightShadow=!0;var If=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="DirectionalLight",n.position.copy(eo.DefaultUp),n.updateMatrix(),n.target=new eo,n.shadow=new Df,n}return(0,Z.Z)(i,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),i}(wf);If.prototype.isDirectionalLight=!0;var Ff=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="AmbientLight",n}return(0,Z.Z)(i)}(wf);Ff.prototype.isAmbientLight=!0;var jf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,X.Z)(this,i),(n=e.call(this,t,r)).type="RectAreaLight",n.width=s,n.height=o,n}return(0,Z.Z)(i,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(t){this.intensity=t/(this.width*this.height*Math.PI)}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.width=t.width,this.height=t.height,this}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}]),i}(wf);jf.prototype.isRectAreaLight=!0;var Bf=function(){function t(){(0,X.Z)(this,t),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new $n)}return(0,Z.Z)(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var i=t.x,r=t.y,n=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.282095),e.addScaledVector(s[1],.488603*r),e.addScaledVector(s[2],.488603*n),e.addScaledVector(s[3],.488603*i),e.addScaledVector(s[4],i*r*1.092548),e.addScaledVector(s[5],r*n*1.092548),e.addScaledVector(s[6],.315392*(3*n*n-1)),e.addScaledVector(s[7],i*n*1.092548),e.addScaledVector(s[8],.546274*(i*i-r*r)),e}},{key:"getIrradianceAt",value:function(t,e){var i=t.x,r=t.y,n=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.886227),e.addScaledVector(s[1],1.023328*r),e.addScaledVector(s[2],1.023328*n),e.addScaledVector(s[3],1.023328*i),e.addScaledVector(s[4],.858086*i*r),e.addScaledVector(s[5],.858086*r*n),e.addScaledVector(s[6],.743125*n*n-.247708),e.addScaledVector(s[7],.858086*i*n),e.addScaledVector(s[8],.429043*(i*i-r*r)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}},{key:"scale",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}},{key:"lerp",value:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.coefficients,r=0;r<9;r++)i[r].fromArray(t,e+3*r);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.coefficients,r=0;r<9;r++)i[r].toArray(t,e+3*r);return t}}],[{key:"getBasisAt",value:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}]),t}();Bf.prototype.isSphericalHarmonics3=!0;var Nf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bf,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,X.Z)(this,i),(t=e.call(this,void 0,n)).sh=r,t}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.sh.copy(t.sh),this}},{key:"fromJSON",value:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return e.object.sh=this.sh.toArray(),e}}]),i}(wf);Nf.prototype.isLightProbe=!0;var Uf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this,t)).textures={},r}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=new pf(n.manager);s.setPath(n.path),s.setRequestHeader(n.requestHeader),s.setWithCredentials(n.withCredentials),s.load(t,(function(i){try{e(n.parse(JSON.parse(i)))}catch(Lm){r?r(Lm):console.error(Lm),n.manager.itemError(t)}}),i,r)}},{key:"parse",value:function(t){var e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=mo.fromType(t.type);if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=t.sheen),void 0!==t.sheenColor&&(r.sheenColor=(new Nn).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(r.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.specularIntensity&&(r.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.thickness&&(r.thickness=t.thickness),void 0!==t.attenuationDistance&&(r.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(t.attenuationColor),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.shadowSide&&(r.shadowSide=t.shadowSide),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.alphaToCoverage&&(r.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(r.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"===typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var n in t.uniforms){var s=t.uniforms[n];switch(r.uniforms[n]={},s.type){case"t":r.uniforms[n].value=i(s.value);break;case"c":r.uniforms[n].value=(new Nn).setHex(s.value);break;case"v2":r.uniforms[n].value=(new _n).fromArray(s.value);break;case"v3":r.uniforms[n].value=(new $n).fromArray(s.value);break;case"v4":r.uniforms[n].value=(new Wn).fromArray(s.value);break;case"m3":r.uniforms[n].value=(new Sn).fromArray(s.value);break;case"m4":r.uniforms[n].value=(new Rs).fromArray(s.value);break;default:r.uniforms[n].value=s.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var a=t.normalScale;!1===Array.isArray(a)&&(a=[a,a]),r.normalScale=(new _n).fromArray(a)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.specularIntensityMap&&(r.specularIntensityMap=i(t.specularIntensityMap)),void 0!==t.specularColorMap&&(r.specularColorMap=i(t.specularColorMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new _n).fromArray(t.clearcoatNormalScale)),void 0!==t.transmissionMap&&(r.transmissionMap=i(t.transmissionMap)),void 0!==t.thicknessMap&&(r.thicknessMap=i(t.thicknessMap)),void 0!==t.sheenColorMap&&(r.sheenColorMap=i(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(r.sheenRoughnessMap=i(t.sheenRoughnessMap)),r}},{key:"setTextures",value:function(t){return this.textures=t,this}}]),i}(df),zf=function(){function t(){(0,X.Z)(this,t)}return(0,Z.Z)(t,null,[{key:"decodeText",value:function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(Lm){return e}}},{key:"extractUrlBase",value:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}},{key:"resolveURL",value:function(t,e){return"string"!==typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}]),t}(),Gf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="InstancedBufferGeometry",t.instanceCount=1/0,t}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.instanceCount=t.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}]),i}(jo);Gf.prototype.isInstancedBufferGeometry=!0;var Vf,Hf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=new pf(n.manager);s.setPath(n.path),s.setRequestHeader(n.requestHeader),s.setWithCredentials(n.withCredentials),s.load(t,(function(i){try{e(n.parse(JSON.parse(i)))}catch(Lm){r?r(Lm):console.error(Lm),n.manager.itemError(t)}}),i,r)}},{key:"parse",value:function(t){var e={},i={};function r(t,r){if(void 0!==e[r])return e[r];var n=t.interleavedBuffers[r],s=function(t,e){if(void 0!==i[e])return i[e];var r=t.arrayBuffers[e],n=new Uint32Array(r).buffer;return i[e]=n,n}(t,n.buffer),o=En(n.type,s),a=new sh(o,n.stride);return a.uuid=n.uuid,e[r]=a,a}var n=t.isInstancedBufferGeometry?new Gf:new jo,s=t.data.index;if(void 0!==s){var o=En(s.type,s.array);n.setIndex(new xo(o,1))}var a=t.data.attributes;for(var l in a){var u=a[l],h=void 0;if(u.isInterleavedBufferAttribute){var c=r(t.data,u.data);h=new ah(c,u.itemSize,u.offset,u.normalized)}else{var d=En(u.type,u.array);h=new(u.isInstancedBufferAttribute?Bh:xo)(d,u.itemSize,u.normalized)}void 0!==u.name&&(h.name=u.name),void 0!==u.usage&&h.setUsage(u.usage),void 0!==u.updateRange&&(h.updateRange.offset=u.updateRange.offset,h.updateRange.count=u.updateRange.count),n.setAttribute(l,h)}var f=t.data.morphAttributes;if(f)for(var p in f){for(var m=f[p],v=[],y=0,g=m.length;y<g;y++){var x=m[y],b=void 0;if(x.isInterleavedBufferAttribute){var w=r(t.data,x.data);b=new ah(w,x.itemSize,x.offset,x.normalized)}else{var _=En(x.type,x.array);b=new xo(_,x.itemSize,x.normalized)}void 0!==x.name&&(b.name=x.name),v.push(b)}n.morphAttributes[p]=v}t.data.morphTargetsRelative&&(n.morphTargetsRelative=!0);var S=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==S)for(var A=0,T=S.length;A!==T;++A){var E=S[A];n.addGroup(E.start,E.count,E.materialIndex)}var M=t.data.boundingSphere;if(void 0!==M){var C=new $n;void 0!==M.center&&C.fromArray(M.center),n.boundingSphere=new ws(C,M.radius)}return t.name&&(n.name=t.name),t.userData&&(n.userData=t.userData),n}}]),i}(df),Wf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=""===this.path?zf.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;var o=new pf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(i){var s=null;try{s=JSON.parse(i)}catch(a){return void 0!==r&&r(a),void console.error("THREE:ObjectLoader: Can't parse "+t+".",a.message)}var o=s.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?n.parse(s,e):console.error("THREE.ObjectLoader: Can't load "+t)}),i,r)}},{key:"loadAsync",value:function(){var t=(0,Bt.Z)(Zt.mark((function t(e,i){var r,n,s,o,a,l;return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this,n=""===this.path?zf.extractUrlBase(e):this.path,this.resourcePath=this.resourcePath||n,(s=new pf(this.manager)).setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),t.next=9,s.loadAsync(e,i);case 9:if(o=t.sent,a=JSON.parse(o),void 0!==(l=a.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){t.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+e);case 14:return t.next=16,r.parseAsync(a);case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"parse",value:function(t,e){var i=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),n=this.parseGeometries(t.geometries,r),s=this.parseImages(t.images,(function(){void 0!==e&&e(l)})),o=this.parseTextures(t.textures,s),a=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,n,a,o,i),u=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,u),void 0!==e){var h=!1;for(var c in s)if(s[c]instanceof HTMLImageElement){h=!0;break}!1===h&&e(l)}return l}},{key:"parseAsync",value:function(){var t=(0,Bt.Z)(Zt.mark((function t(e){var i,r,n,s,o,a,l,u;return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),n=this.parseGeometries(e.geometries,r),t.next=5,this.parseImagesAsync(e.images);case 5:return s=t.sent,o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,n,a,o,i),u=this.parseSkeletons(e.skeletons,l),this.bindSkeletons(l,u),t.abrupt("return",l);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"parseShapes",value:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new Yc).fromJSON(t[i]);e[n.uuid]=n}return e}},{key:"parseSkeletons",value:function(t,e){var i={},r={};if(e.traverse((function(t){t.isBone&&(r[t.uuid]=t)})),void 0!==t)for(var n=0,s=t.length;n<s;n++){var o=(new jh).fromJSON(t[n],r);i[o.uuid]=o}return i}},{key:"parseGeometries",value:function(t,e){var i={};if(void 0!==t)for(var r=new Hf,n=0,s=t.length;n<s;n++){var o=void 0,a=t[n];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(a);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:a.type in Id?o=Id[a.type].fromJSON(a,e):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(a.type,'"'))}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),!0===o.isBufferGeometry&&void 0!==a.userData&&(o.userData=a.userData),i[a.uuid]=o}return i}},{key:"parseMaterials",value:function(t,e){var i={},r={};if(void 0!==t){var n=new Uf;n.setTextures(e);for(var s=0,o=t.length;s<o;s++){var a=t[s];if("MultiMaterial"===a.type){for(var l=[],u=0;u<a.materials.length;u++){var h=a.materials[u];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),l.push(i[h.uuid])}r[a.uuid]=l}else void 0===i[a.uuid]&&(i[a.uuid]=n.parse(a)),r[a.uuid]=i[a.uuid]}}return r}},{key:"parseAnimations",value:function(t){var e={};if(void 0!==t)for(var i=0;i<t.length;i++){var r=t[i],n=af.parse(r);e[n.uuid]=n}return e}},{key:"parseImages",value:function(t,e){var i,r=this,n={};function s(t){if("string"===typeof t){var e=t;return function(t){return r.manager.itemStart(t),i.load(t,(function(){r.manager.itemEnd(t)}),void 0,(function(){r.manager.itemError(t),r.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:r.resourcePath+e)}return t.data?{data:En(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){var o=new hf(e);(i=new yf(o)).setCrossOrigin(this.crossOrigin);for(var a=0,l=t.length;a<l;a++){var u=t[a],h=u.url;if(Array.isArray(h)){for(var c=[],d=0,f=h.length;d<f;d++){var p=s(h[d]);null!==p&&(p instanceof HTMLImageElement?c.push(p):c.push(new Dh(p.data,p.width,p.height)))}n[u.uuid]=new zn(c)}else{var m=s(u.url);n[u.uuid]=new zn(m)}}}return n}},{key:"parseImagesAsync",value:function(){var t=(0,Bt.Z)(Zt.mark((function t(e){var i,r,n,s,o,a,l,u,h,c,d,f,p,m,v;return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(){return o=(0,Bt.Z)(Zt.mark((function t(e){var r,s;return Zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=8;break}return s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=e)?r:i.resourcePath+r,t.next=5,n.loadAsync(s);case 5:return t.abrupt("return",t.sent);case 8:if(!e.data){t.next=12;break}return t.abrupt("return",{data:En(e.type,e.data),width:e.width,height:e.height});case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},s=function(t){return o.apply(this,arguments)},i=this,r={},!(void 0!==e&&e.length>0)){t.next=33;break}(n=new yf(this.manager)).setCrossOrigin(this.crossOrigin),a=0,l=e.length;case 8:if(!(a<l)){t.next=33;break}if(u=e[a],h=u.url,!Array.isArray(h)){t.next=26;break}c=[],d=0,f=h.length;case 14:if(!(d<f)){t.next=23;break}return p=h[d],t.next=18,s(p);case 18:null!==(m=t.sent)&&(m instanceof HTMLImageElement?c.push(m):c.push(new Dh(m.data,m.width,m.height)));case 20:d++,t.next=14;break;case 23:r[u.uuid]=new zn(c),t.next=30;break;case 26:return t.next=28,s(u.url);case 28:v=t.sent,r[u.uuid]=new zn(v);case 30:a++,t.next=8;break;case 33:return t.abrupt("return",r);case 34:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"parseTextures",value:function(t,e){function i(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var n=0,s=t.length;n<s;n++){var o=t[n];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var a=e[o.image],l=a.data,u=void 0;Array.isArray(l)?(u=new da,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new Dh:new Hn,l&&(u.needsUpdate=!0)),u.source=a,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=i(o.mapping,Yf)),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=i(o.wrap[0],Xf),u.wrapT=i(o.wrap[1],Xf)),void 0!==o.format&&(u.format=o.format),void 0!==o.type&&(u.type=o.type),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=i(o.minFilter,Zf)),void 0!==o.magFilter&&(u.magFilter=i(o.magFilter,Zf)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(u.userData=o.userData),r[o.uuid]=u}return r}},{key:"parseObject",value:function(t,e,i,r,n){var s,o,a;function l(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function u(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var s=t[r];void 0===i[s]&&console.warn("THREE.ObjectLoader: Undefined material",s),e.push(i[s])}return e}return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}}function h(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined texture",t),r[t]}switch(t.type){case"Scene":s=new nh,void 0!==t.background&&(Number.isInteger(t.background)?s.background=new Nn(t.background):s.background=h(t.background)),void 0!==t.environment&&(s.environment=h(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?s.fog=new rh(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(s.fog=new ih(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":s=new ua(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(s.focus=t.focus),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.filmGauge&&(s.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(s.filmOffset=t.filmOffset),void 0!==t.view&&(s.view=Object.assign({},t.view));break;case"OrthographicCamera":s=new Oa(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.view&&(s.view=Object.assign({},t.view));break;case"AmbientLight":s=new Ff(t.color,t.intensity);break;case"DirectionalLight":s=new If(t.color,t.intensity);break;case"PointLight":s=new Of(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":s=new jf(t.color,t.intensity,t.width,t.height);break;case"SpotLight":s=new Cf(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":s=new _f(t.color,t.groundColor,t.intensity);break;case"LightProbe":s=(new Nf).fromJSON(t);break;case"SkinnedMesh":o=l(t.geometry),a=u(t.material),s=new Lh(o,a),void 0!==t.bindMode&&(s.bindMode=t.bindMode),void 0!==t.bindMatrix&&s.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(s.skeleton=t.skeleton);break;case"Mesh":o=l(t.geometry),a=u(t.material),s=new ea(o,a);break;case"InstancedMesh":o=l(t.geometry),a=u(t.material);var c=t.count,d=t.instanceMatrix,f=t.instanceColor;(s=new Vh(o,a,c)).instanceMatrix=new Bh(new Float32Array(d.array),16),void 0!==f&&(s.instanceColor=new Bh(new Float32Array(f.array),f.itemSize));break;case"LOD":s=new Eh;break;case"Line":s=new Qh(l(t.geometry),u(t.material));break;case"LineLoop":s=new tc(l(t.geometry),u(t.material));break;case"LineSegments":s=new $h(l(t.geometry),u(t.material));break;case"PointCloud":case"Points":s=new oc(l(t.geometry),u(t.material));break;case"Sprite":s=new _h(u(t.material));break;case"Group":s=new Xu;break;case"Bone":s=new Oh;break;default:s=new eo}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0!==t.matrix?(s.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(s.matrixAutoUpdate=t.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.quaternion&&s.quaternion.fromArray(t.quaternion),void 0!==t.scale&&s.scale.fromArray(t.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(s.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(s.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(s.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&s.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(s.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.frustumCulled&&(s.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(s.renderOrder=t.renderOrder),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.layers&&(s.layers.mask=t.layers),void 0!==t.children)for(var p=t.children,m=0;m<p.length;m++)s.add(this.parseObject(p[m],e,i,r,n));if(void 0!==t.animations)for(var v=t.animations,y=0;y<v.length;y++){var g=v[y];s.animations.push(n[g])}if("LOD"===t.type){void 0!==t.autoUpdate&&(s.autoUpdate=t.autoUpdate);for(var x=t.levels,b=0;b<x.length;b++){var w=x[b],_=s.getObjectByProperty("uuid",w.object);void 0!==_&&s.addLevel(_,w.distance)}}return s}},{key:"bindSkeletons",value:function(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){var i=e[t.skeleton];void 0===i?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton):t.bind(i,t.bindMatrix)}}))}},{key:"setTexturePath",value:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}]),i}(df),Yf={UVMapping:Qe,CubeReflectionMapping:Ke,CubeRefractionMapping:Je,EquirectangularReflectionMapping:$e,EquirectangularRefractionMapping:ti,CubeUVReflectionMapping:ei},Xf={RepeatWrapping:ii,ClampToEdgeWrapping:ri,MirroredRepeatWrapping:ni},Zf={NearestFilter:si,NearestMipmapNearestFilter:oi,NearestMipmapLinearFilter:li,LinearFilter:hi,LinearMipmapNearestFilter:ci,LinearMipmapLinearFilter:fi},qf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),r=e.call(this,t),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,Z.Z)(i,[{key:"setOptions",value:function(t){return this.options=t,this}},{key:"load",value:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,s=uf.get(t);if(void 0!==s)return n.manager.itemStart(t),setTimeout((function(){e&&e(s),n.manager.itemEnd(t)}),0),s;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(t,o).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(n.options,{colorSpaceConversion:"none"}))})).then((function(i){uf.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)}}]),i}(df);qf.prototype.isImageBitmapLoader=!0;var Qf={getContext:function(){return void 0===Vf&&(Vf=new(window.AudioContext||window.webkitAudioContext)),Vf},setContext:function(t){Vf=t}},Kf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),e.call(this,t)}return(0,Z.Z)(i,[{key:"load",value:function(t,e,i,r){var n=this,s=new pf(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(i){try{var s=i.slice(0);Qf.getContext().decodeAudioData(s,(function(t){e(t)}))}catch(Lm){r?r(Lm):console.error(Lm),n.manager.itemError(t)}}),i,r)}}]),i}(df),Jf=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,X.Z)(this,i),n=e.call(this,void 0,s);var o=(new Nn).set(t),a=(new Nn).set(r),l=new $n(o.r,o.g,o.b),u=new $n(a.r,a.g,a.b),h=Math.sqrt(Math.PI),c=h*Math.sqrt(.75);return n.sh.coefficients[0].copy(l).add(u).multiplyScalar(h),n.sh.coefficients[1].copy(l).sub(u).multiplyScalar(c),n}return(0,Z.Z)(i)}(Nf);Jf.prototype.isHemisphereLightProbe=!0;var $f=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,X.Z)(this,i),r=e.call(this,void 0,n);var s=(new Nn).set(t);return r.sh.coefficients[0].set(s.r,s.g,s.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return(0,Z.Z)(i)}(Nf);$f.prototype.isAmbientLightProbe=!0;var tp=new Rs,ep=new Rs,ip=new Rs,rp=function(){function t(){(0,X.Z)(this,t),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ua,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ua,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return(0,Z.Z)(t,[{key:"update",value:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,ip.copy(t.projectionMatrix);var i,r,n=e.eyeSep/2,s=n*e.near/e.focus,o=e.near*Math.tan(dn*e.fov*.5)/e.zoom;ep.elements[12]=-n,tp.elements[12]=n,i=-o*e.aspect+s,r=o*e.aspect+s,ip.elements[0]=2*e.near/(r-i),ip.elements[8]=(r+i)/(r-i),this.cameraL.projectionMatrix.copy(ip),i=-o*e.aspect-s,r=o*e.aspect-s,ip.elements[0]=2*e.near/(r-i),ip.elements[8]=(r+i)/(r-i),this.cameraR.projectionMatrix.copy(ip)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(ep),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(tp)}}]),t}(),np=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,X.Z)(this,t),this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,Z.Z)(t,[{key:"start",value:function(){this.startTime=sp(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=sp();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}();function sp(){return("undefined"===typeof performance?Date:performance).now()}var op=new $n,ap=new Jn,lp=new $n,up=new $n,hp=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;return(0,X.Z)(this,i),(t=e.call(this)).type="AudioListener",t.context=Qf.getContext(),t.gain=t.context.createGain(),t.gain.connect(t.context.destination),t.filter=null,t.timeDelta=0,t._clock=new np,t}return(0,Z.Z)(i,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(t){Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t);var e=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(op,ap,lp),up.set(0,0,-1).applyQuaternion(ap),e.positionX){var n=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(op.x,n),e.positionY.linearRampToValueAtTime(op.y,n),e.positionZ.linearRampToValueAtTime(op.z,n),e.forwardX.linearRampToValueAtTime(up.x,n),e.forwardY.linearRampToValueAtTime(up.y,n),e.forwardZ.linearRampToValueAtTime(up.z,n),e.upX.linearRampToValueAtTime(r.x,n),e.upY.linearRampToValueAtTime(r.y,n),e.upZ.linearRampToValueAtTime(r.z,n)}else e.setPosition(op.x,op.y,op.z),e.setOrientation(up.x,up.y,up.z,r.x,r.y,r.z)}}]),i}(eo),cp=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this)).type="Audio",r.listener=t,r.context=t.context,r.gain=r.context.createGain(),r.gain.connect(t.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return(0,Z.Z)(i,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}},{key:"setMediaElementSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}},{key:"setMediaStreamSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}},{key:"setBuffer",value:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}},{key:"setDetune",value:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(t){return this.setFilters(t?[t]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(t){return this.loopStart=t,this}},{key:"setLoopEnd",value:function(t){return this.loopEnd=t,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}]),i}(eo),dp=new $n,fp=new Jn,pp=new $n,mp=new $n,vp=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this,t)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return(0,Z.Z)(i,[{key:"disconnect",value:function(){Ht((0,Gt.Z)(i.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(t){return this.panner.refDistance=t,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(t){return this.panner.rolloffFactor=t,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(t){return this.panner.distanceModel=t,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(t){return this.panner.maxDistance=t,this}},{key:"setDirectionalCone",value:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}},{key:"updateMatrixWorld",value:function(t){if(Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(dp,fp,pp),mp.set(0,0,1).applyQuaternion(fp);var e=this.panner;if(e.positionX){var r=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(dp.x,r),e.positionY.linearRampToValueAtTime(dp.y,r),e.positionZ.linearRampToValueAtTime(dp.z,r),e.orientationX.linearRampToValueAtTime(mp.x,r),e.orientationY.linearRampToValueAtTime(mp.y,r),e.orientationZ.linearRampToValueAtTime(mp.z,r)}else e.setPosition(dp.x,dp.y,dp.z),e.setOrientation(mp.x,mp.y,mp.z)}}}]),i}(cp),yp=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,X.Z)(this,t),this.analyser=e.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}return(0,Z.Z)(t,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}]),t}(),gp=function(){function t(e,i,r){var n,s,o;switch((0,X.Z)(this,t),this.binding=e,this.valueSize=r,i){case"quaternion":n=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,Z.Z)(t,[{key:"accumulate",value:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,s=this.cumulativeWeight;if(0===s){for(var o=0;o!==r;++o)i[n+o]=i[o];s=e}else{var a=e/(s+=e);this._mixBufferRegion(i,n,0,a,r)}this.cumulativeWeight=s}},{key:"accumulateAdditive",value:function(t){var e=this.buffer,i=this.valueSize,r=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}},{key:"apply",value:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,n<1){var a=e*this._origIndex;this._mixBufferRegion(i,r,a,1-n,e)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(var l=e,u=e+e;l!==u;++l)if(i[l]!==i[l+e]){o.setValue(i,r);break}}},{key:"saveOriginalState",value:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(var n=i,s=r;n!==s;++n)e[n]=e[r+n%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize,i=t;i<e;i++)this.buffer[i]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}},{key:"_select",value:function(t,e,i,r,n){if(r>=.5)for(var s=0;s!==n;++s)t[e+s]=t[i+s]}},{key:"_slerp",value:function(t,e,i,r){Jn.slerpFlat(t,e,t,e,t,i,r)}},{key:"_slerpAdditive",value:function(t,e,i,r,n){var s=this._workIndex*n;Jn.multiplyQuaternionsFlat(t,s,t,e,t,i),Jn.slerpFlat(t,e,t,e,t,s,r)}},{key:"_lerp",value:function(t,e,i,r,n){for(var s=1-r,o=0;o!==n;++o){var a=e+o;t[a]=t[a]*s+t[i+o]*r}}},{key:"_lerpAdditive",value:function(t,e,i,r,n){for(var s=0;s!==n;++s){var o=e+s;t[o]=t[o]+t[i+s]*r}}}]),t}(),xp="\\[\\]\\.:\\/",bp=new RegExp("[\\[\\]\\.:\\/]","g"),wp="[^\\[\\]\\.:\\/]",_p="[^"+xp.replace("\\.","")+"]",Sp=/((?:WC+[\/:])*)/.source.replace("WC",wp),Ap=/(WCOD+)?/.source.replace("WCOD",_p),Tp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wp),Ep=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wp),Mp=new RegExp("^"+Sp+Ap+Tp+Ep+"$"),Cp=["material","materials","bones"],Pp=function(){function t(e,i,r){(0,X.Z)(this,t);var n=r||Rp.parseTrackName(i);this._targetGroup=e,this._bindings=e.subscribe_(i,n)}return(0,Z.Z)(t,[{key:"getValue",value:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)}},{key:"setValue",value:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)}},{key:"bind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}},{key:"unbind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}]),t}(),Rp=function(){function t(e,i,r){(0,X.Z)(this,t),this.path=i,this.parsedPath=r||t.parseTrackName(i),this.node=t.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,Z.Z)(t,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(t,e){t[e]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]}},{key:"_getValue_arrayElement",value:function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(t,e){this.resolvedProperty.toArray(t,e)}},{key:"_setValue_direct",value:function(t,e){this.targetObject[this.propertyName]=t[e]}},{key:"_setValue_direct_setNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]}},{key:"_setValue_array_setNeedsUpdate",value:function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(t,e){this.resolvedProperty.fromArray(t,e)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(t,e){this.bind(),this.getValue(t,e)}},{key:"_setValue_unbound",value:function(t,e){this.bind(),this.setValue(t,e)}},{key:"bind",value:function(){var e=this.node,i=this.parsedPath,r=i.objectName,n=i.propertyName,s=i.propertyIndex;if(e||(e=t.findNode(this.rootNode,i.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=i.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var l=e[n];if(void 0!==l){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var h=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[s]&&(s=e.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=s}else void 0!==l.fromArray&&void 0!==l.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}else{var c=i.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(e,i,r){return e&&e.isAnimationObjectGroup?new t.Composite(e,i,r):new t(e,i,r)}},{key:"sanitizeNodeName",value:function(t){return t.replace(/\s/g,"_").replace(bp,"")}},{key:"parseTrackName",value:function(t){var e=Mp.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==Cp.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}},{key:"findNode",value:function(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var s=t(n.children);if(s)return s}return null}(t.children);if(r)return r}return null}}]),t}();Rp.Composite=Pp,Rp.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Rp.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Rp.prototype.GetterByBindingType=[Rp.prototype._getValue_direct,Rp.prototype._getValue_array,Rp.prototype._getValue_arrayElement,Rp.prototype._getValue_toArray],Rp.prototype.SetterByBindingTypeAndVersioning=[[Rp.prototype._setValue_direct,Rp.prototype._setValue_direct_setNeedsUpdate,Rp.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rp.prototype._setValue_array,Rp.prototype._setValue_array_setNeedsUpdate,Rp.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rp.prototype._setValue_arrayElement,Rp.prototype._setValue_arrayElement_setNeedsUpdate,Rp.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rp.prototype._setValue_fromArray,Rp.prototype._setValue_fromArray_setNeedsUpdate,Rp.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var kp=function(){function t(){(0,X.Z)(this,t),this.uuid=pn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}return(0,Z.Z)(t,[{key:"add",value:function(){for(var t=this._objects,e=this._indicesByUUID,i=this._paths,r=this._parsedPaths,n=this._bindings,s=n.length,o=void 0,a=t.length,l=this.nCachedObjects_,u=0,h=arguments.length;u!==h;++u){var c=arguments[u],d=c.uuid,f=e[d];if(void 0===f){f=a++,e[d]=f,t.push(c);for(var p=0,m=s;p!==m;++p)n[p].push(new Rp(c,i[p],r[p]))}else if(f<l){o=t[f];var v=--l,y=t[v];e[y.uuid]=f,t[f]=y,e[d]=v,t[v]=c;for(var g=0,x=s;g!==x;++g){var b=n[g],w=b[v],_=b[f];b[f]=w,void 0===_&&(_=new Rp(c,i[g],r[g])),b[v]=_}}else t[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length,n=this.nCachedObjects_,s=0,o=arguments.length;s!==o;++s){var a=arguments[s],l=a.uuid,u=e[l];if(void 0!==u&&u>=n){var h=n++,c=t[h];e[c.uuid]=u,t[u]=c,e[l]=h,t[h]=a;for(var d=0,f=r;d!==f;++d){var p=i[d],m=p[h],v=p[u];p[u]=m,p[h]=v}}}this.nCachedObjects_=n}},{key:"uncache",value:function(){for(var t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length,n=this.nCachedObjects_,s=t.length,o=0,a=arguments.length;o!==a;++o){var l=arguments[o],u=l.uuid,h=e[u];if(void 0!==h)if(delete e[u],h<n){var c=--n,d=t[c],f=--s,p=t[f];e[d.uuid]=h,t[h]=d,e[p.uuid]=c,t[c]=p,t.pop();for(var m=0,v=r;m!==v;++m){var y=i[m],g=y[c],x=y[f];y[h]=g,y[c]=x,y.pop()}}else{var b=--s,w=t[b];b>0&&(e[w.uuid]=h),t[h]=w,t.pop();for(var _=0,S=r;_!==S;++_){var A=i[_];A[h]=A[b],A.pop()}}}this.nCachedObjects_=n}},{key:"subscribe_",value:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,u=this.nCachedObjects_,h=new Array(l);r=n.length,i[t]=r,s.push(t),o.push(e),n.push(h);for(var c=u,d=a.length;c!==d;++c){var f=a[c];h[c]=new Rp(f,t,e)}return h}},{key:"unsubscribe_",value:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];e[t[o]]=i,s[i]=a,s.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}]),t}();kp.prototype.isAnimationObjectGroup=!0;var Lp=function(){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.blendMode;(0,X.Z)(this,t),this._mixer=e,this._clip=i,this._localRoot=r,this.blendMode=n;for(var s=i.tracks,o=s.length,a=new Array(o),l={endingStart:vr,endingEnd:vr},u=0;u!==o;++u){var h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cr,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,Z.Z)(t,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(t){return this._startTime=t,this}},{key:"setLoop",value:function(t,e){return this.loop=t,this.repetitions=e,this}},{key:"setEffectiveWeight",value:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(t){return this._scheduleFading(t,0,1)}},{key:"fadeOut",value:function(t){return this._scheduleFading(t,1,0)}},{key:"crossFadeFrom",value:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,s=n/r,o=r/n;t.warp(1,s,e),this.warp(o,1,e)}return this}},{key:"crossFadeTo",value:function(t,e,i){return t.crossFadeFrom(this,e,i)}},{key:"stopFading",value:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"setEffectiveTimeScale",value:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}},{key:"syncWith",value:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}},{key:"halt",value:function(t){return this.warp(this._effectiveTimeScale,0,t)}},{key:"warp",value:function(t,e,i){var r=this._mixer,n=r.time,s=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var a=o.parameterPositions,l=o.sampleValues;return a[0]=n,a[1]=n+i,l[0]=t/s,l[1]=e/s,this}},{key:"stopWarping",value:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var s=(t-n)*i;if(s<0||0===i)return;this._startTime=null,e=i*s}e*=this._updateTimeScale(t);var o=this._updateTime(e),a=this._updateWeight(t);if(a>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===br)for(var h=0,c=l.length;h!==c;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);else for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(r,a)}}else this._updateWeight(t)}},{key:"_updateWeight",value:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e}},{key:"_updateTimeScale",value:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e}},{key:"_updateTime",value:function(t){var e=this._clip.duration,i=this.loop,r=this.time+t,n=this._loopCount,s=i===dr;if(0===t)return-1===n?r:s&&1===(1&n)?e-r:r;if(i===hr){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),r>=e||r<0){var o=Math.floor(r/e);r-=e*o,n+=Math.abs(o);var a=this.repetitions-n;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===a){var l=t<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=n,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&1===(1&n))return e-r}return r}},{key:"_setEndings",value:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=yr,r.endingEnd=yr):(r.endingStart=t?this.zeroSlopeAtStart?yr:vr:gr,r.endingEnd=e?this.zeroSlopeAtEnd?yr:vr:gr)}},{key:"_scheduleFading",value:function(t,e,i){var r=this._mixer,n=r.time,s=this._weightInterpolant;null===s&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);var o=s.parameterPositions,a=s.sampleValues;return o[0]=n,a[0]=e,o[1]=n+t,a[1]=i,this}}]),t}(),Op=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;return(0,X.Z)(this,i),(r=e.call(this))._root=t,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,Z.Z)(i,[{key:"_bindAction",value:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,s=t._propertyBindings,o=t._interpolants,a=i.uuid,l=this._bindingsByRootAndName,u=l[a];void 0===u&&(u={},l[a]=u);for(var h=0;h!==n;++h){var c=r[h],d=c.name,f=u[d];if(void 0!==f)++f.referenceCount,s[h]=f;else{if(void 0!==(f=s[h])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,a,d));continue}var p=e&&e._propertyBindings[h].binding.parsedPath;++(f=new gp(Rp.create(i,d,p),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(f,a,d),s[h]=f}o[h].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,s=0,o=n.length;s!==o;++s){var a=n[s];0===a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}}},{key:"_deactivateAction",value:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions}},{key:"_addInactiveAction",value:function(t,e,i){var r=this._actions,n=this._actionsByClip,s=n[e];if(void 0===s)s={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=s;else{var o=s.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),s.actionByRoot[i]=t}},{key:"_removeInactiveAction",value:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,s=this._actionsByClip,o=s[n],a=o.knownActions,l=a[a.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,a[u]=l,a.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete s[n],this._removeInactiveBindingsForAction(t)}},{key:"_removeInactiveBindingsForAction",value:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0===--n.referenceCount&&this._removeInactiveBinding(n)}}},{key:"_lendAction",value:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n}},{key:"_takeBackAction",value:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n}},{key:"_addInactiveBinding",value:function(t,e,i){var r=this._bindingsByRootAndName,n=this._bindings,s=r[e];void 0===s&&(s={},r[e]=s),s[i]=t,t._cacheIndex=n.length,n.push(t)}},{key:"_removeInactiveBinding",value:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,s=this._bindingsByRootAndName,o=s[r],a=e[e.length-1],l=t._cacheIndex;a._cacheIndex=l,e[l]=a,e.pop(),delete o[n],0===Object.keys(o).length&&delete s[r]}},{key:"_lendBinding",value:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n}},{key:"_takeBackBinding",value:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n}},{key:"_lendControlInterpolant",value:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new Qd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i}},{key:"_takeBackControlInterpolant",value:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n}},{key:"clipAction",value:function(t,e,i){var r=e||this._root,n=r.uuid,s="string"===typeof t?af.findByName(r,t):t,o=null!==s?s.uuid:t,a=this._actionsByClip[o],l=null;if(void 0===i&&(i=null!==s?s.blendMode:xr),void 0!==a){var u=a.actionByRoot[n];if(void 0!==u&&u.blendMode===i)return u;l=a.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;var h=new Lp(this,s,e,i);return this._bindAction(h,l),this._addInactiveAction(h,o,n),h}},{key:"existingAction",value:function(t,e){var i=e||this._root,r=i.uuid,n="string"===typeof t?af.findByName(i,t):t,s=n?n.uuid:t,o=this._actionsByClip[s];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var t=this._actions,e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}},{key:"update",value:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=Math.sign(t),s=this._accuIndex^=1,o=0;o!==i;++o){e[o]._update(r,t,n,s)}for(var a=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)a[u].apply(s);return this}},{key:"setTime",value:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var s=n.knownActions,o=0,a=s.length;o!==a;++o){var l=s[o];this._deactivateAction(l);var u=l._cacheIndex,h=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=u,e[u]=h,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[i]}}},{key:"uncacheRoot",value:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var s=this._bindingsByRootAndName[e];if(void 0!==s)for(var o in s){var a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}},{key:"uncacheAction",value:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}]),i}(ln);Op.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Dp=function(){function t(e){(0,X.Z)(this,t),"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}return(0,Z.Z)(t,[{key:"clone",value:function(){return new t(void 0===this.value.clone?this.value:this.value.clone())}}]),t}(),Ip=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,X.Z)(this,i),(n=e.call(this,t,r)).meshPerAttribute=s,n}return(0,Z.Z)(i,[{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"clone",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"clone",this).call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e}},{key:"toJSON",value:function(t){var e=Ht((0,Gt.Z)(i.prototype),"toJSON",this).call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}]),i}(sh);Ip.prototype.isInstancedInterleavedBuffer=!0;var Fp=function(){function t(e,i,r,n,s){(0,X.Z)(this,t),this.buffer=e,this.type=i,this.itemSize=r,this.elementSize=n,this.count=s,this.version=0}return(0,Z.Z)(t,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setBuffer",value:function(t){return this.buffer=t,this}},{key:"setType",value:function(t,e){return this.type=t,this.elementSize=e,this}},{key:"setItemSize",value:function(t){return this.itemSize=t,this}},{key:"setCount",value:function(t){return this.count=t,this}}]),t}();Fp.prototype.isGLBufferAttribute=!0;var jp=function(){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,X.Z)(this,t),this.ray=new Ps(e,i),this.near=r,this.far=n,this.camera=null,this.layers=new zs,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,Z.Z)(t,[{key:"set",value:function(t,e){this.ray.set(t,e)}},{key:"setFromCamera",value:function(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}},{key:"intersectObject",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Np(t,this,i,e),i.sort(Bp),i}},{key:"intersectObjects",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,n=t.length;r<n;r++)Np(t[r],this,i,e);return i.sort(Bp),i}}]),t}();function Bp(t,e){return t.distance-e.distance}function Np(t,e,i,r){if(t.layers.test(e.layers)&&t.raycast(e,i),!0===r)for(var n=t.children,s=0,o=n.length;s<o;s++)Np(n[s],e,i,!0)}var Up=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,X.Z)(this,t),this.radius=e,this.phi=i,this.theta=r,this}return(0,Z.Z)(t,[{key:"set",value:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}},{key:"makeSafe",value:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(mn(e/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),zp=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,X.Z)(this,t),this.radius=e,this.theta=i,this.y=r,this}return(0,Z.Z)(t,[{key:"set",value:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}},{key:"copy",value:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Gp=new _n,Vp=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n(1/0,1/0),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _n(-1/0,-1/0);(0,X.Z)(this,t),this.min=e,this.max=i}return(0,Z.Z)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var i=Gp.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return Gp.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();Vp.prototype.isBox2=!0;var Hp=new $n,Wp=new $n,Yp=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n;(0,X.Z)(this,t),this.start=e,this.end=i}return(0,Z.Z)(t,[{key:"set",value:function(t,e){return this.start.copy(t),this.end.copy(e),this}},{key:"copy",value:function(t){return this.start.copy(t.start),this.end.copy(t.end),this}},{key:"getCenter",value:function(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(t){return t.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}},{key:"closestPointToPointParameter",value:function(t,e){Hp.subVectors(t,this.start),Wp.subVectors(this.end,this.start);var i=Wp.dot(Wp),r=Wp.dot(Hp)/i;return e&&(r=mn(r,0,1)),r}},{key:"closestPointToPoint",value:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}},{key:"equals",value:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Xp=new $n,Zp=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;(0,X.Z)(this,i),(n=e.call(this)).light=t,n.light.updateMatrixWorld(),n.matrix=t.matrixWorld,n.matrixAutoUpdate=!1,n.color=r;for(var s=new jo,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],a=0,l=1;a<32;a++,l++){var u=a/32*Math.PI*2,h=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}s.setAttribute("position",new Co(o,3));var c=new Hh({fog:!1,toneMapped:!1});return n.cone=new $h(s,c),n.add(n.cone),n.update(),n}return(0,Z.Z)(i,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Xp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Xp),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),i}(eo),qp=new $n,Qp=new Rs,Kp=new Rs,Jp=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;(0,X.Z)(this,i);for(var n=$p(t),s=new jo,o=[],a=[],l=new Nn(0,0,1),u=new Nn(0,1,0),h=0;h<n.length;h++){var c=n[h];c.parent&&c.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),a.push(l.r,l.g,l.b),a.push(u.r,u.g,u.b))}s.setAttribute("position",new Co(o,3)),s.setAttribute("color",new Co(a,3));var d=new Hh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=e.call(this,s,d)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=t,r.bones=n,r.matrix=t.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,Z.Z)(i,[{key:"updateMatrixWorld",value:function(t){var e=this.bones,r=this.geometry,n=r.getAttribute("position");Kp.copy(this.root.matrixWorld).invert();for(var s=0,o=0;s<e.length;s++){var a=e[s];a.parent&&a.parent.isBone&&(Qp.multiplyMatrices(Kp,a.matrixWorld),qp.setFromMatrixPosition(Qp),n.setXYZ(o,qp.x,qp.y,qp.z),Qp.multiplyMatrices(Kp,a.parent.matrixWorld),qp.setFromMatrixPosition(Qp),n.setXYZ(o+1,qp.x,qp.y,qp.z),o+=2)}r.getAttribute("position").needsUpdate=!0,Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t)}}]),i}($h);function $p(t){var e=[];!0===t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,$p(t.children[i]));return e}var tm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;(0,X.Z)(this,i);var o=new Cd(r,4,2),a=new vo({wireframe:!0,fog:!1,toneMapped:!1});return(s=e.call(this,o,a)).light=t,s.light.updateMatrixWorld(),s.color=n,s.type="PointLightHelper",s.matrix=s.light.matrixWorld,s.matrixAutoUpdate=!1,s.update(),s}return(0,Z.Z)(i,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),i}(ea),em=new $n,im=new Nn,rm=new Nn,nm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;(0,X.Z)(this,i),(s=e.call(this)).light=t,s.light.updateMatrixWorld(),s.matrix=t.matrixWorld,s.matrixAutoUpdate=!1,s.color=n;var o=new Td(r);o.rotateY(.5*Math.PI),s.material=new vo({wireframe:!0,fog:!1,toneMapped:!1}),void 0===s.color&&(s.material.vertexColors=!0);var a=o.getAttribute("position"),l=new Float32Array(3*a.count);return o.setAttribute("color",new xo(l,3)),s.add(new ea(o,s.material)),s.update(),s}return(0,Z.Z)(i,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");im.copy(this.light.color),rm.copy(this.light.groundColor);for(var i=0,r=e.count;i<r;i++){var n=i<r/2?im:rm;e.setXYZ(i,n.r,n.g,n.b)}e.needsUpdate=!0}t.lookAt(em.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),i}(eo),sm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,X.Z)(this,i),s=new Nn(s),o=new Nn(o);for(var a=n/2,l=r/n,u=r/2,h=[],c=[],d=0,f=0,p=-u;d<=n;d++,p+=l){h.push(-u,0,p,u,0,p),h.push(p,0,-u,p,0,u);var m=d===a?s:o;m.toArray(c,f),f+=3,m.toArray(c,f),f+=3,m.toArray(c,f),f+=3,m.toArray(c,f),f+=3}var v=new jo;v.setAttribute("position",new Co(h,3)),v.setAttribute("color",new Co(c,3));var y=new Hh({vertexColors:!0,toneMapped:!1});return(t=e.call(this,v,y)).type="GridHelper",t}return(0,Z.Z)(i)}($h),om=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;(0,X.Z)(this,i),a=new Nn(a),l=new Nn(l);for(var u=[],h=[],c=0;c<=n;c++){var d=c/n*(2*Math.PI),f=Math.sin(d)*r,p=Math.cos(d)*r;u.push(0,0,0),u.push(f,0,p);var m=1&c?a:l;h.push(m.r,m.g,m.b),h.push(m.r,m.g,m.b)}for(var v=0;v<=s;v++)for(var y=1&v?a:l,g=r-r/s*v,x=0;x<o;x++){var b=x/o*(2*Math.PI),w=Math.sin(b)*g,_=Math.cos(b)*g;u.push(w,0,_),h.push(y.r,y.g,y.b),b=(x+1)/o*(2*Math.PI),w=Math.sin(b)*g,_=Math.cos(b)*g,u.push(w,0,_),h.push(y.r,y.g,y.b)}var S=new jo;S.setAttribute("position",new Co(u,3)),S.setAttribute("color",new Co(h,3));var A=new Hh({vertexColors:!0,toneMapped:!1});return(t=e.call(this,S,A)).type="PolarGridHelper",t}return(0,Z.Z)(i)}($h),am=new $n,lm=new $n,um=new $n,hm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;(0,X.Z)(this,i),(s=e.call(this)).light=t,s.light.updateMatrixWorld(),s.matrix=t.matrixWorld,s.matrixAutoUpdate=!1,s.color=n,void 0===r&&(r=1);var o=new jo;o.setAttribute("position",new Co([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var a=new Hh({fog:!1,toneMapped:!1});return s.lightPlane=new Qh(o,a),s.add(s.lightPlane),(o=new jo).setAttribute("position",new Co([0,0,0,0,0,1],3)),s.targetLine=new Qh(o,a),s.add(s.targetLine),s.update(),s}return(0,Z.Z)(i,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){am.setFromMatrixPosition(this.light.matrixWorld),lm.setFromMatrixPosition(this.light.target.matrixWorld),um.subVectors(lm,am),this.lightPlane.lookAt(lm),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lm),this.targetLine.scale.z=um.length()}}]),i}(eo),cm=new $n,dm=new la,fm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r;(0,X.Z)(this,i);var n=new jo,s=new Hh({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],a=[],l={},u=new Nn(16755200),h=new Nn(16711680),c=new Nn(43775),d=new Nn(16777215),f=new Nn(3355443);function p(t,e,i){m(t,i),m(e,i)}function m(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===l[t]&&(l[t]=[]),l[t].push(o.length/3-1)}return p("n1","n2",u),p("n2","n4",u),p("n4","n3",u),p("n3","n1",u),p("f1","f2",u),p("f2","f4",u),p("f4","f3",u),p("f3","f1",u),p("n1","f1",u),p("n2","f2",u),p("n3","f3",u),p("n4","f4",u),p("p","n1",h),p("p","n2",h),p("p","n3",h),p("p","n4",h),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",d),p("p","c",f),p("cn1","cn2",f),p("cn3","cn4",f),p("cf1","cf2",f),p("cf3","cf4",f),n.setAttribute("position",new Co(o,3)),n.setAttribute("color",new Co(a,3)),(r=e.call(this,n,s)).type="CameraHelper",r.camera=t,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=t.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update(),r}return(0,Z.Z)(i,[{key:"update",value:function(){var t=this.geometry,e=this.pointMap;dm.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),pm("c",e,t,dm,0,0,-1),pm("t",e,t,dm,0,0,1),pm("n1",e,t,dm,-1,-1,-1),pm("n2",e,t,dm,1,-1,-1),pm("n3",e,t,dm,-1,1,-1),pm("n4",e,t,dm,1,1,-1),pm("f1",e,t,dm,-1,-1,1),pm("f2",e,t,dm,1,-1,1),pm("f3",e,t,dm,-1,1,1),pm("f4",e,t,dm,1,1,1),pm("u1",e,t,dm,.7,1.1,-1),pm("u2",e,t,dm,-.7,1.1,-1),pm("u3",e,t,dm,0,2,-1),pm("cf1",e,t,dm,-1,0,1),pm("cf2",e,t,dm,1,0,1),pm("cf3",e,t,dm,0,-1,1),pm("cf4",e,t,dm,0,1,1),pm("cn1",e,t,dm,-1,0,-1),pm("cn2",e,t,dm,1,0,-1),pm("cn3",e,t,dm,0,-1,-1),pm("cn4",e,t,dm,0,1,-1),t.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),i}($h);function pm(t,e,i,r,n,s,o){cm.set(n,s,o).unproject(r);var a=e[t];if(void 0!==a)for(var l=i.getAttribute("position"),u=0,h=a.length;u<h;u++)l.setXYZ(a[u],cm.x,cm.y,cm.z)}for(var mm,vm,ym=new is,gm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,X.Z)(this,i);var s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),a=new jo;return a.setIndex(new xo(s,1)),a.setAttribute("position",new xo(o,3)),(r=e.call(this,a,new Hh({color:n,toneMapped:!1}))).object=t,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return(0,Z.Z)(i,[{key:"update",value:function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ym.setFromObject(this.object),!ym.isEmpty()){var e=ym.min,i=ym.max,r=this.geometry.attributes.position,n=r.array;n[0]=i.x,n[1]=i.y,n[2]=i.z,n[3]=e.x,n[4]=i.y,n[5]=i.z,n[6]=e.x,n[7]=e.y,n[8]=i.z,n[9]=i.x,n[10]=e.y,n[11]=i.z,n[12]=i.x,n[13]=i.y,n[14]=e.z,n[15]=e.x,n[16]=i.y,n[17]=e.z,n[18]=e.x,n[19]=e.y,n[20]=e.z,n[21]=i.x,n[22]=e.y,n[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(t){return this.object=t,this.update(),this}},{key:"copy",value:function(t){return $h.prototype.copy.call(this,t),this.object=t.object,this}}]),i}($h),xm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,X.Z)(this,i);var s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new jo;return a.setIndex(new xo(s,1)),a.setAttribute("position",new Co(o,3)),(r=e.call(this,a,new Hh({color:n,toneMapped:!1}))).box=t,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return(0,Z.Z)(i,[{key:"updateMatrixWorld",value:function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t))}}]),i}($h),bm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;(0,X.Z)(this,i);var o=s,a=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],l=new jo;l.setAttribute("position",new Co(a,3)),l.computeBoundingSphere(),(r=e.call(this,l,new Hh({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=t,r.size=n;var u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],h=new jo;return h.setAttribute("position",new Co(u,3)),h.computeBoundingSphere(),r.add(new ea(h,new vo({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return(0,Z.Z)(i,[{key:"updateMatrixWorld",value:function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?ae:oe,this.lookAt(this.plane.normal),Ht((0,Gt.Z)(i.prototype),"updateMatrixWorld",this).call(this,t)}}]),i}(Qh),wm=new $n,_m=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n(0,0,1),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $n(0,0,0),s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*s,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*a;return(0,X.Z)(this,i),(t=e.call(this)).type="ArrowHelper",void 0===mm&&((mm=new jo).setAttribute("position",new Co([0,0,0,0,1,0],3)),(vm=new jc(0,.5,1,5,1)).translate(0,-.5,0)),t.position.copy(n),t.line=new Qh(mm,new Hh({color:o,toneMapped:!1})),t.line.matrixAutoUpdate=!1,t.add(t.line),t.cone=new ea(vm,new vo({color:o,toneMapped:!1})),t.cone.matrixAutoUpdate=!1,t.add(t.cone),t.setDirection(r),t.setLength(s,a,l),t}return(0,Z.Z)(i,[{key:"setDirection",value:function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{wm.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(wm,e)}}},{key:"setLength",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*e;this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}},{key:"setColor",value:function(t){this.line.material.color.set(t),this.cone.material.color.set(t)}},{key:"copy",value:function(t){return Ht((0,Gt.Z)(i.prototype),"copy",this).call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}]),i}(eo),Sm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,X.Z)(this,i);var n=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],s=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new jo;o.setAttribute("position",new Co(n,3)),o.setAttribute("color",new Co(s,3));var a=new Hh({vertexColors:!0,toneMapped:!1});return(t=e.call(this,o,a)).type="AxesHelper",t}return(0,Z.Z)(i,[{key:"setColors",value:function(t,e,i){var r=new Nn,n=this.geometry.attributes.color.array;return r.set(t),r.toArray(n,0),r.toArray(n,3),r.set(e),r.toArray(n,6),r.toArray(n,9),r.set(i),r.toArray(n,12),r.toArray(n,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),i}($h),Am=function(){function t(){(0,X.Z)(this,t),this.type="ShapePath",this.color=new Nn,this.subPaths=[],this.currentPath=null}return(0,Z.Z)(t,[{key:"moveTo",value:function(t,e){return this.currentPath=new Oc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}},{key:"lineTo",value:function(t,e){return this.currentPath.lineTo(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,i,r){return this.currentPath.quadraticCurveTo(t,e,i,r),this}},{key:"bezierCurveTo",value:function(t,e,i,r,n,s){return this.currentPath.bezierCurveTo(t,e,i,r,n,s),this}},{key:"splineThru",value:function(t){return this.currentPath.splineThru(t),this}},{key:"toShapes",value:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],s=new Yc;s.curves=n.curves,e.push(s)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,s=0;s<i;n=s++){var o=e[n],a=e[s],l=a.x-o.x,u=a.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[s],l=-l,a=e[n],u=-u),t.y<o.y||t.y>a.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=u*(t.x-o.x)-l*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(a.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=a.x)return!0}}return r}var n,s,o,a=xd.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===e)return i(l);var u=[];if(1===l.length)return s=l[0],(o=new Yc).curves=s.curves,u.push(o),u;var h=!a(l[0].getPoints());h=t?!h:h;var c,d,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var y=0,g=l.length;y<g;y++)n=a(c=(s=l[y]).getPoints()),(n=t?!n:n)?(!h&&p[v]&&v++,p[v]={s:new Yc,p:c},p[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!p[0])return i(l);if(p.length>1){for(var x=!1,b=0,w=0,_=p.length;w<_;w++)f[w]=[];for(var S=0,A=p.length;S<A;S++)for(var T=m[S],E=0;E<T.length;E++){for(var M=T[E],C=!0,P=0;P<p.length;P++)r(M.p,p[P].p)&&(S!==P&&b++,C?(C=!1,f[P].push(M)):x=!0);C&&f[S].push(M)}b>0&&!1===x&&(m=f)}for(var R=0,k=p.length;R<k;R++){o=p[R].s,u.push(o);for(var L=0,O=(d=m[R]).length;L<O;L++)o.holes.push(d[L].h)}return u}}]),t}(),Tm=function(){function t(){(0,X.Z)(this,t)}return(0,Z.Z)(t,null,[{key:"toHalfFloat",value:function(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=mn(t,-65504,65504),Mm[0]=t;var e=Cm[0],i=e>>23&511;return Pm[i]+((8388607&e)>>Rm[i])}},{key:"fromHalfFloat",value:function(t){var e=t>>10;return Cm[0]=Om[Im[e]+(1023&t)]+Dm[e],Mm[0]}}]),t}(),Em=new ArrayBuffer(4),Mm=new Float32Array(Em),Cm=new Uint32Array(Em),Pm=new Uint32Array(512),Rm=new Uint32Array(512),km=0;km<256;++km){var Lm=km-127;Lm<-27?(Pm[km]=0,Pm[256|km]=32768,Rm[km]=24,Rm[256|km]=24):Lm<-14?(Pm[km]=1024>>-Lm-14,Pm[256|km]=1024>>-Lm-14|32768,Rm[km]=-Lm-1,Rm[256|km]=-Lm-1):Lm<=15?(Pm[km]=Lm+15<<10,Pm[256|km]=Lm+15<<10|32768,Rm[km]=13,Rm[256|km]=13):Lm<128?(Pm[km]=31744,Pm[256|km]=64512,Rm[km]=24,Rm[256|km]=24):(Pm[km]=31744,Pm[256|km]=64512,Rm[km]=13,Rm[256|km]=13)}for(var Om=new Uint32Array(2048),Dm=new Uint32Array(64),Im=new Uint32Array(64),Fm=1;Fm<1024;++Fm){for(var jm=Fm<<13,Bm=0;0===(8388608&jm);)jm<<=1,Bm-=8388608;jm&=-8388609,Bm+=947912704,Om[Fm]=jm|Bm}for(var Nm=1024;Nm<2048;++Nm)Om[Nm]=939524096+(Nm-1024<<13);for(var Um=1;Um<31;++Um)Dm[Um]=Um<<23;Dm[31]=1199570944,Dm[32]=2147483648;for(var zm=33;zm<63;++zm)Dm[zm]=2147483648+(zm-32<<23);Dm[63]=3347054592;for(var Gm=1;Gm<64;++Gm)32!==Gm&&(Im[Gm]=1024);var Vm=0,Hm=1,Wm=0,Ym=1,Xm=2;function Zm(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function qm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}var Qm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.PointCloud has been renamed to THREE.Points."),e.call(this,t,r)}return(0,Z.Z)(i)}(oc),Km=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.Particle has been renamed to THREE.Sprite."),e.call(this,t)}return(0,Z.Z)(i)}(_h),Jm=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),e.call(this,t,r)}return(0,Z.Z)(i)}(oc),$m=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),e.call(this,t)}return(0,Z.Z)(i)}(ec),tv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),e.call(this,t)}return(0,Z.Z)(i)}(ec),ev=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),e.call(this,t)}return(0,Z.Z)(i)}(ec),iv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),e.call(this,t,r,n)}return(0,Z.Z)(i)}($n),rv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){var n;return(0,X.Z)(this,i),console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),(n=e.call(this,t,r)).setUsage(Qr),n}return(0,Z.Z)(i)}(xo),nv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(bo),sv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(wo),ov=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(_o),av=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(So),lv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(Ao),uv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(To),hv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(Eo),cv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(Co),dv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(Po);dc.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(dc.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Oc.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};var fv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),e.call(this,t)}return(0,Z.Z)(i)}(Sm),pv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),e.call(this,t,r)}return(0,Z.Z)(i)}(gm),mv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),e.call(this,new Wc(t.geometry),new Hh({color:void 0!==r?r:16777215}))}return(0,Z.Z)(i)}($h);sm.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Jp.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};var vv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r){return(0,X.Z)(this,i),console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),e.call(this,new Od(t.geometry),new Hh({color:void 0!==r?r:16777215}))}return(0,Z.Z)(i)}($h);df.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),zf.extractUrlBase(t)},df.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};var yv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),e.call(this,t)}return(0,Z.Z)(i)}(pf),gv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t){return(0,X.Z)(this,i),console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),e.call(this,t)}return(0,Z.Z)(i)}(xf);Vp.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},Vp.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Vp.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Vp.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)},is.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},is.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},is.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},is.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},is.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},Us.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},ws.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ba.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Yp.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Sn.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Sn.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Sn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Sn.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Sn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Sn.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Rs.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},Rs.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Rs.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new $n).setFromMatrixColumn(this,3)},Rs.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},Rs.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Rs.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Rs.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Rs.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Rs.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},Rs.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Rs.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Rs.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Rs.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Rs.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Rs.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Rs.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Rs.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Rs.prototype.makeFrustum=function(t,e,i,r,n,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,i,n,s)},Rs.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},ya.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Jn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Jn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Ps.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Ps.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},Ps.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},fo.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},fo.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},fo.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},fo.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},fo.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},fo.barycoordFromPoint=function(t,e,i,r,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),fo.getBarycoord(t,e,i,r,n)},fo.normal=function(t,e,i,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),fo.getNormal(t,e,i,r)},Yc.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},Yc.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new _d(this,t)},Yc.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Md(this,t)},_n.prototype.fromAttribute=function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},_n.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},_n.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},$n.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},$n.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},$n.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},$n.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},$n.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},$n.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},$n.prototype.fromAttribute=function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},$n.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},$n.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Wn.prototype.fromAttribute=function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},Wn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},eo.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},eo.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},eo.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},eo.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},eo.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(eo.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ea.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ea.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),wr},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Lh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ua.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(wf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(xo.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Qr},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Qr)}}}),xo.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Qr:qr),this},xo.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},xo.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},jo.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},jo.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new xo(arguments[1],arguments[2])))},jo.prototype.addDrawCall=function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},jo.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},jo.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},jo.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},jo.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(jo.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),sh.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Qr:qr),this},sh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},_d.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},_d.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},_d.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},nh.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Dp.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(mo.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Nn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===ue}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(aa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),th.prototype.clearTarget=function(t,e,i,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,i,r)},th.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},th.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},th.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},th.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},th.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},th.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},th.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},th.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},th.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},th.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},th.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},th.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},th.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},th.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},th.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},th.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},th.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},th.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},th.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},th.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},th.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},th.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},th.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},th.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(th.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Tr:Ar}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(Gu.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});var xv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){return(0,X.Z)(this,i),console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),e.call(this,t,n)}return(0,Z.Z)(i)}(fa);function bv(){console.error("THREE.CanvasRenderer has been removed")}function wv(){console.error("THREE.JSONLoader has been removed.")}Object.defineProperties(Yn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),cp.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Kf).load(t,(function(t){e.setBuffer(t)})),this},yp.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ca.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},ca.prototype.clear=function(t,e,i,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,i,r)},Un.crossOrigin=void 0,Un.loadTexture=function(t,e,i,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var n=new bf;n.setCrossOrigin(this.crossOrigin);var s=n.load(t,i,void 0,r);return e&&(s.mapping=e),s},Un.loadTextureCube=function(t,e,i,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var n=new gf;n.setCrossOrigin(this.crossOrigin);var s=n.load(t,i,void 0,r);return e&&(s.mapping=e),s},Un.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Un.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var _v={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Sv(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}var Av=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),e.call(this)}return(0,Z.Z)(i)}(jo),Tv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),e.call(this)}return(0,Z.Z)(i)}(jo);function Ev(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Mv(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Cv(){console.error("THREE.ImmediateRenderObject has been removed.")}var Pv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n){var s;return(0,X.Z)(this,i),console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),(s=e.call(this,t,r,n)).samples=4,s}return(0,Z.Z)(i)}(Yn),Rv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s){return(0,X.Z)(this,i),console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),e.call(this,t,r,n,s)}return(0,Z.Z)(i)}(Xn),kv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(t,r,n,s){return(0,X.Z)(this,i),console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),e.call(this,t,r,n,s)}return(0,Z.Z)(i)}(qn);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qt}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qt);var Lv=i(5083)(t),Ov=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"componentDidMount",value:function(){var t=new nh,e=new ua(75,window.innerWidth/window.innerHeight,.1,1e3),i=new th;i.setSize(window.innerWidth,window.innerHeight),this.mount.appendChild(i.domElement),e.position.set(0,0,100),e.lookAt(0,0,0);var r=new Of(16777215,1,0);r.position.set(0,0,100),t.add(r);var n=new Ff(16777215);t.add(n),e.position.z=10,new Lv(e);var s=Dv("yellow"),o=Dv("green"),a=Dv("purple"),l=Dv("blue"),u=Dv("red"),h=Dv("orange"),c=[o,a,l,u,h],d=[1,.9,.75,.55,.15],f=[0,0,0,0,0],p=[2,3,4,5,8];s.position.set(0,0,0),o.scale.set(.1,.1,.1),a.scale.set(.18,.18,.18),l.scale.set(.2,.2,.2),u.scale.set(.11,.11,.11),h.scale.set(.4,.4,.4),t.add(s),t.add(o),t.add(a),t.add(l),t.add(u),t.add(h);!function r(){requestAnimationFrame(r),i.render(t,e);for(var n=0;n<c.length;n++)c[n].position.set(p[n]*Math.sin(f[n]),0,p[n]*Math.cos(f[n])),f[n]+=d[n]*Math.PI/180}()}},{key:"render",value:function(){var t=this;return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("div",{ref:function(e){return t.mount=e}})]})}}]),i}(e.Component);function Dv(t){var e=new vo({color:t}),i=new Cd;return new ea(i,e)}var Iv=Ov,Fv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"projects",children:[(0,J.jsx)("div",{class:"alevelback"}),(0,J.jsxs)("section",{class:"projectcloseup",children:[(0,J.jsx)("h3",{children:"2D Puzzle Platformer"}),(0,J.jsx)("p",{children:"For my A Level Computer Science project."}),(0,J.jsxs)("p",{children:["View the ",(0,J.jsx)("a",{href:"https://marling-school.gitbook.io/ben-fielder-project/mwuMyra54ckM6LNoVF1W/",target:"_blank",rel:"noreferrer",id:"link-text",children:"documentation here"}),", and the ",(0,J.jsx)("a",{href:"https://github.com/Marling-CS-Projects/Ben-Fielder-A-Level-Project",target:"_blank",rel:"noreferrer",id:"link-text",children:"code here"}),"."]}),(0,J.jsx)("p",{children:"(Note: there may be some bugs as outlined in documentation)"}),(0,J.jsx)("br",{}),(0,J.jsx)(Y,{to:"/projects/puzzleplatformer/game",children:(0,J.jsxs)("button",{id:"playbutton",children:[(0,J.jsx)("span",{id:"span"}),"PLAY"]})})]})]})})]})}}]),i}(e.Component),jv=i(6710),Bv=i(9702),Nv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"projects",children:[(0,J.jsx)("div",{class:"birdsongidentifier"}),(0,J.jsxs)("section",{class:"projectcloseup",children:[(0,J.jsx)("h3",{children:"Portable Bird Song Identifier"}),(0,J.jsx)("p",{children:"A handheld device used to help you identfy birds from their song."}),(0,J.jsx)("p",{children:"The program is run on an Arduino Uno."}),(0,J.jsx)("p",{children:"Play the video to see an example (turn up the volume to hear the bird songs at the end)."}),(0,J.jsx)("br",{}),(0,J.jsx)("br",{}),(0,J.jsx)(jv.Z,{url:Bv,controls:!0,id:"video"})]})]})})]})}}]),i}(e.Component),Uv=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsx)("div",{children:(0,J.jsxs)("div",{id:"game",children:[(0,J.jsx)("div",{id:"game1"}),(0,J.jsx)("div",{id:"game2"})]})})}}]),i}(e.Component),zv=Uv,Gv=i(7744),Vv=i.n(Gv),Hv=function(t){return t.replace(/([A-Z])/g,(function(t){return"-".concat(t[0].toLowerCase())}))},Wv=function(t,e,i){var r=e.className||e.class,n=i.className||i.class,s=Zv(t),o=Zv(r?r.split(" "):[]),a=Zv(n?n.split(" "):[]),l=[];return s.forEach((function(t){o.has(t)?(l.push(t),o.delete(t)):a.has(t)||l.push(t)})),o.forEach((function(t){return l.push(t)})),l.join(" ")},Yv=function(t,e){var i="on"+t,r=i in e;if(!r){var n=e.createElement("div");n.setAttribute(i,"return;"),r="function"===typeof n[i]}return r},Xv=function(t,e,i){var r=t.__events||(t.__events={}),n=r[e];n&&t.removeEventListener(e,n),t.addEventListener(e,r[e]=function(t){i&&i.call(this,t)})},Zv=function(t){var e=new Map;return t.forEach((function(t){return e.set(t,t)})),e},qv=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},Qv=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]])}return i},Kv=function(t,i,r){var n=t.toLowerCase().split("-").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(""),s=function(i){(0,q.Z)(o,i);var s=(0,Q.Z)(o);function o(t){var e;return(0,X.Z)(this,o),(e=s.call(this,t)).setComponentElRef=function(t){e.componentEl=t},e}return(0,Z.Z)(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(t){!function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Element){var r=Wv(t.classList,e,i);""!==r&&(t.className=r),Object.keys(e).forEach((function(i){if("children"!==i&&"style"!==i&&"ref"!==i&&"class"!==i&&"className"!==i&&"forwardedRef"!==i)if(0===i.indexOf("on")&&i[2]===i[2].toUpperCase()){var r=i.substring(2),n=r[0].toLowerCase()+r.substring(1);"undefined"===typeof document||Yv(n,document)||Xv(t,n,e[i])}else t[i]=e[i],"string"===typeof e[i]?t.setAttribute(Hv(i),e[i]):t[i]=e[i]}))}}(this.componentEl,this.props,t)}},{key:"render",value:function(){var i=this.props,n=i.children,s=i.forwardedRef,o=i.style,a=(i.className,i.ref,Qv(i,["children","forwardedRef","style","className","ref"])),l=Object.keys(a).reduce((function(t,e){if(0===e.indexOf("on")&&e[2]===e[2].toUpperCase()){var i=e.substring(2).toLowerCase();"undefined"!==typeof document&&Yv(i,document)&&(t[e]=a[e])}else t[e]=a[e];return t}),{});r&&(l=r(this.props,l));var u=Object.assign(Object.assign({},l),{ref:qv(s,this.setComponentElRef),style:o});return e.createElement(t,u,n)}}],[{key:"displayName",get:function(){return n}}]),o}(e.Component);return i&&(s.contextType=i),function(t,i){var r=function(i,r){return e.createElement(t,Object.assign({},i,{forwardedRef:r}))};return r.displayName=i,e.forwardRef(r)}(s,n)};var Jv=i(6373),$v=function(t,e){return"undefined"===typeof window?Promise.resolve():(0,Jv.p)().then((function(){return(0,Jv.b)([["ion-phaser",[[0,"ion-phaser",{game:[1040],initialize:[4],getInstance:[64],destroy:[64]}]]]],e)}))};!function(){if("undefined"!==typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),function(){var t=[];if("undefined"!==typeof window){var e=window;e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove&&e.Element.prototype.getRootNode)||t.push(i.e(748).then(i.t.bind(i,7239,23)));"function"===typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(Lm){return!1}}()&&"undefined"!=typeof WeakMap||t.push(i.e(214).then(i.t.bind(i,8300,23)))}return Promise.all(t)}().then((function(){return $v()}));var ty=Kv("ion-phaser"),ey=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"PreloadScene")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.audio("worldmap","./assets/music/worldmap.mp3"),new FontFace("Future","url(assests/fonts/Kenney_Future_Narrow.ttf)").load().then((function(t){document.fonts.add(t)}))}},{key:"create",value:function(){this.music=this.sound.add("worldmap"),this.music.play({loop:!0}),this.scene.start("MainMenu")}}]),i}(Vv().Scene);function iy(t,e,i,r,n,s,o,a,l){var u;return l?((u=t.add.sprite(i.x*r,i.y*r,l)).setDisplaySize(i.w*r,i.h*r),t.anims.create({key:"off"+l,frames:[{key:l,frame:0}],frameRate:5}),t.anims.create({key:"over"+l,frames:[{key:l,frame:1}],frameRate:5}),t.anims.create({key:"down"+l,frames:[{key:l,frame:2}],frameRate:5}),u.sprite=l):u=t.add.rectangle(i.x*r,i.y*r,i.w*r,i.h*r,s),u.w=i.w*r,u.h=i.h*r,u.text=t.add.text(i.x+5,i.y-5,n.text,{font:n.font,fill:n.fill}).setOrigin(.5,.5),u.text.setPosition(u.text.x*r,u.text.y*r),u.text.setDisplaySize(u.text.width*r,u.text.height*r),u.callFunction=o,u.callValue=a,e.add(u),u}function ry(t,e,i,r,n){var s=t.add.text(i.x+5,i.y-5,n.text,{font:n.font,fill:n.fill}).setOrigin(.5,.5);return s.setPosition(s.x*r,s.y*r),s.setDisplaySize(s.width*r,s.height*r),e.add(s),s}function ny(t,e){e.children.entries.forEach((function(e){e.sprite&&(t.input.mousePointer.x>e.x-e.w/2&&t.input.mousePointer.x<e.x+e.w/2&&t.input.mousePointer.y>e.y-e.h/2&&t.input.mousePointer.y<e.y+e.h/2&&t.input.mousePointer.isDown?e.anims.play("down"+e.sprite,!0):t.input.mousePointer.x>e.x-e.w/2&&t.input.mousePointer.x<e.x+e.w/2&&t.input.mousePointer.y>e.y-e.h/2&&t.input.mousePointer.y<e.y+e.h/2?e.anims.play("over"+e.sprite,!0):e.anims.play("off"+e.sprite,!0)),t.input.mousePointer.x>e.x-e.w/2&&t.input.mousePointer.x<e.x+e.w/2&&t.input.mousePointer.y>e.y-e.h/2&&t.input.mousePointer.y<e.y+e.h/2&&t.input.mousePointer.isDown&&e.callFunction(e.callValue)}))}function sy(t,e,i,r,n,s,o){var a;if(n)for(var l=0;l<i.length;l++)(a=50===i[l].h?t.add.sprite(i[l].x*r,i[l].y*r,n):t.add.sprite(i[l].x*r,i[l].y*r,s)).setDisplaySize(i[l].w*r,i[l].h*r),e.add(a);else for(var u=0;u<i.length;u++)a=t.add.rectangle(i[u].x*r,i[u].y*r,i[u].w*r,i[u].h*r,65280),e.add(a);if(o)for(var h=0;h<i.length;h++)o.add(t.add.rectangle((i[h].x-i[h].w/2)*r,(i[h].y-i[h].h/2)*r,5,50,16777215).setAlpha(0)),o.add(t.add.rectangle((i[h].x+i[h].w/2)*r,(i[h].y-i[h].h/2)*r,5,50,16777215).setAlpha(0))}function oy(t,e,i,r,n,s){var o;return"p1"===s?((o=t.add.sprite(i*n,r*n,s)).setDisplaySize(50*n,50*n),t.anims.create({key:"run1",frames:[{key:"p1run1"},{key:"p1run2"}],frameRate:5,repeat:-1}),t.anims.create({key:"rest1",frames:[{key:"p1"}],frameRate:20}),o.animation="rest1",o.playerNum="1"):"p2"===s?((o=t.add.sprite(i*n,r*n,s)).setDisplaySize(50*n,50*n),t.anims.create({key:"run2",frames:[{key:"p2run1"},{key:"p2run2"}],frameRate:5,repeat:-1}),t.anims.create({key:"rest2",frames:[{key:"p2"}],frameRate:20}),o.animation="rest2",o.playerNum="2"):o=t.add.rectangle(i*n,r*n,50*n,50*n,16711680),e.add(o),o.origin={x:o.x,y:o.y},o.safePos={x:o.x,y:o.y},o.atExit=!1,o}function ay(t){t.player1.left=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.LEFT),t.player1.right=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.RIGHT),t.player1.up=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.UP),t.player1.interactionKey=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.ENTER),t.player1.interactionKey.pressed=!1,t.player2.left=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.A),t.player2.right=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.D),t.player2.up=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.W),t.player2.interactionKey=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.E),t.player2.interactionKey.pressed=!1,t.pauseButton=t.input.keyboard.addKey(Vv().Input.Keyboard.KeyCodes.P)}function ly(t,e,i,r){t.cameras.main.setBounds(i.x1*r,i.y1*r,i.x2*r,i.y2*r),t.cameras.main.startFollow(e)}function uy(t,e,i,r,n,s,o,a){var l;return a?(l=t.add.sprite(i.x*o,i.y*o,a)).setDisplaySize(i.w*o,i.h*o):l=t.add.rectangle(i.x*o,i.y*o,i.w*o,i.h*o,255),e.add(l),l.body.allowGravity=!1,l.body.immovable=!0,l.origin={x:l.x,y:l.y},r&&(l.target={x:r.x*o,y:r.y*o}),n&&(l.increment={x:n.x*o,y:n.y*o}),l.trigger=s,l}function hy(t,e,i,r,n){var s;return n?(s=t.add.sprite(i.x*r,i.y*r,n)).setDisplaySize(i.w*r,i.h*r):s=t.add.rectangle(i.x*r,i.y*r,i.w*r,i.h*r,16711935),e.add(s),s}function cy(t,e,i,r,n){var s;return n?((s=t.add.sprite(i.x*r,i.y*r-10*r,n)).setDisplaySize(i.w*r,i.w*r),t.anims.create({key:"off",frames:[{key:"buttonup"}],frameRate:5}),t.anims.create({key:"on",frames:[{key:"buttondown"}],frameRate:5}),s.animation="off"):s=t.add.rectangle(i.x*r,i.y*r,i.w*r,i.h*r,16776960),e.add(s),s.on=!1,s}function dy(t,e,i,r,n){var s;return n?((s=t.add.sprite(i.x*r,i.y*r-17*r,n)).setDisplaySize(i.w*r,.78125*i.w*r),t.anims.create({key:"lever-off",frames:[{key:"lever",frame:0}],frameRate:5}),t.anims.create({key:"lever-on",frames:[{key:"lever",frame:1}],frameRate:5}),s.animation="lever-off"):(s=t.add.rectangle(i.x*r,i.y*r,i.w*r,i.h*r,65535)).setRotation(-45*Math.PI/180),e.add(s),s.on=!1,s}function fy(t,e,i,r,n,s){var o;if(s)for(var a=0;a<r;a++)(o=t.add.sprite((i.x+25*a)*n,(i.y-10)*n,s)).setDisplaySize(25,25),e.add(o);else for(var l=0;l<r;l++)o=t.add.triangle((i.x+25*l)*n,(i.y-12)*n,0*n,25*n,25*n,25*n,12*n,0*n,16777215),e.add(o)}function py(t,e,i,r,n,s,o){var a;return o?((a=t.add.sprite(i.x*s,i.y*s,o)).setDisplaySize(a.width/2,a.height/2),t.anims.create({key:"move",frames:[{key:"enemy1"},{key:"enemy2"}],repeat:-1,frameRate:3}),a.anims.play("move")):a=t.add.rectangle(i.x*s,i.y*s,50*s,50*s,14643200),e.add(a),a.patrolPath={x1:i.x*s,x2:r*s},a.moveSpeed=n*s,a.seekPlayer=!1,a}function my(t,e,i,r,n,s){var o;return s?(o=t.add.sprite(i.x*n,i.y*n,s)).setDisplaySize(50*n,75*n):o=t.add.rectangle(i.x*n,i.y*n,50*n,100*n,11184810),e.add(o),o.body.allowGravity=!1,o.body.immovable=!0,o.floor=r,o.levelComplete=!1,o}function vy(t,e,i,r,n){var s=t.add.rectangle(0,0,0,0,0);return s.initialised=!1,s.trigger=i,s.trapPlatforms=r,s.trapPlatformsPhysicsGroup=e,s.sprite=n,s}function yy(t,e,i,r,n,s){r=r.split(" ");for(var o,a=Math.ceil(r.length/n),l=0,u=0;u<n;u++){o="";for(var h=0;h<a;h++)r[l]&&(o+=r[l]+" ",l++);e.add(t.add.text(i.x*s,(i.y+20*u)*s,o,{font:"20px Future",fill:"#552eff"}).setOrigin(.5,.5))}}var gy,xy,by,wy,_y,Sy,Ay,Ty,Ey,My,Cy,Py,Ry,ky,Ly,Oy,Dy,Iy,Fy,jy,By,Ny,Uy=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;(0,X.Z)(this,i);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={initialize:!0,game:{type:Vv().AUTO,parent:"game2",width:window.innerWidth/2-2,height:.75*(window.innerWidth/2-2),physics:{default:"arcade",arcade:{gravity:{y:(window.innerWidth/2-50)/800*300},debug:!1}},scene:{preload:zy,create:Gy,update:Vy}}},t}return(0,Z.Z)(i,[{key:"render",value:function(){var t=this.state,e=t.initialize,i=t.game;return(0,J.jsx)(ty,{game:i,initialize:e})}}]),i}(e.Component);function zy(){this.load.image("p1","./assets/player/stand.png"),this.load.image("p1run1","./assets/player/walk1r.png"),this.load.image("p1run2","./assets/player/walk2r.png"),this.load.image("p2","./assets/player/p2-stand.png"),this.load.image("p2run1","./assets/player/p2-walk1.png"),this.load.image("p2run2","./assets/player/p2-walk2.png"),this.load.image("buttonup","./assets/button/buttonup.png"),this.load.image("buttondown","./assets/button/buttondown.png"),this.load.spritesheet("lever","./assets/lever/lever.png",{frameWidth:128,frameHeight:100}),this.load.image("box","./assets/box/box.png"),this.load.image("spike","./assets/spike/spike.png"),this.load.image("door","./assets/door/door.png"),this.load.image("enemy1","./assets/enemy/enemy1.png"),this.load.image("enemy2","./assets/enemy/enemy2.png"),this.load.image("grass","./assets/ground/grass.png"),this.load.image("sand","./assets/ground/sand.png"),this.load.image("snow","./assets/ground/snow.png"),this.load.image("dirt","./assets/ground/dirt.png"),this.load.image("planet","./assets/ground/planet.png"),this.load.image("grass-wall","./assets/ground/grass-wall.png"),this.load.image("sand-wall","./assets/ground/sand-wall.png"),this.load.image("snow-wall","./assets/ground/snow-wall.png"),this.load.image("dirt-wall","./assets/ground/dirt-wall.png"),this.load.image("planet-wall","./assets/ground/planet-wall.png"),this.load.image("movingPlatform","./assets/moving-platform/moving-platform.png"),this.load.image("background-grass","./assets/background/grass.png"),this.load.image("background-desert","./assets/background/desert.png"),this.load.image("background-ice","./assets/background/ice.png"),this.load.image("background-cave","./assets/background/cave.png"),this.load.image("background-shroom","./assets/background/shroom.png")}function Gy(){var t=this;if(By=!1,Ny){if(this.gameScale=this.scale.canvas.width/800,Py)if("background-cave"===Py)this.add.sprite(400*this.gameScale,1100*this.gameScale,"background-cave").setDisplaySize(2200*this.gameScale,2200*this.gameScale).setDepth(-2);else for(var e=0;e<Math.ceil(My.x2/1024);e++){var i=this.add.sprite((512+1024*e)*this.gameScale,My.y2/2*this.gameScale,Py).setDepth(-2);i.setDisplaySize(i.width*this.gameScale,i.height*this.gameScale)}this.players=this.add.group(),this.player1=oy(this,this.players,gy[0].x,gy[0].y,this.gameScale,"p1"),this.player2=oy(this,this.players,gy[1].x,gy[1].y,this.gameScale,"p2"),xy&&(this.platforms=this.add.group(),sy(this,this.platforms,xy.platforms,this.gameScale,xy.sprite,xy.sprite+"-wall")),by&&(this.boxes=this.add.group(),by.forEach((function(e){hy(t,t.boxes,{x:e.x,y:e.y,w:33,h:33},t.gameScale,"box")}))),wy&&(this.buttons=this.add.group(),wy.forEach((function(e){cy(t,t.buttons,{x:e.x,y:e.y,w:e.w,h:e.h},t.gameScale,"buttonup")}))),_y&&(this.levers=this.add.group(),_y.forEach((function(e){dy(t,t.levers,{x:e.x,y:e.y,w:e.w,h:e.h},t.gameScale,"lever")}))),Ay&&(this.spikes=this.add.group(),Ay.forEach((function(e){fy(t,t.spikes,{x:e.x,y:e.y},e.count,t.gameScale,"spike")}))),Ty&&(this.enemies=this.add.group(),Ty.forEach((function(e){py(t,t.enemies,{x:e.x,y:e.y},null,null,t.gameScale,"enemy1")}))),Sy&&(this.movingPlatforms=this.physics.add.staticGroup(),Sy.forEach((function(e){uy(t,t.movingPlatforms,{x:e.x,y:e.y,w:e.w,h:e.h},null,null,null,t.gameScale,"movingPlatform")}))),Ey&&(this.exitDoors=this.physics.add.staticGroup(),Ey.forEach((function(e){my(t,t.exitDoors,{x:e.x,y:e.y},e.floor,t.gameScale,"door")})),this.exitDoors.setDepth(-1)),Cy&&(this.texts=this.add.group(),Cy.forEach((function(e){yy(t,t.texts,{x:e.x,y:e.y},e.text,e.lines,t.gameScale)}))),ly(this,this.player1,My,this.gameScale)}}function Vy(){if(By)this.scene.restart();else if(Ny){if(Ry)for(var t=0;t<Ry.length;t++)this.players.children.entries[t].setPosition(Ry[t].x,Ry[t].y),Ry[t].animation&&(this.players.children.entries[t].anims.play(Ry[t].animation,!0),this.players.children.entries[t].flipX=Ry[t].flipX);if(ky)for(var e=0;e<ky.length;e++)this.movingPlatforms.children.entries[e].setPosition(ky[e].x,ky[e].y);if(Ly)for(var i=0;i<Ly.length;i++)this.boxes.children.entries[i].setPosition(Ly[i].x,Ly[i].y);if(Fy)for(var r=0;r<Fy.length;r++)Fy[r].animation&&this.buttons.children.entries[r].anims.play(Fy[r].animation,!0);if(Oy)for(var n=0;n<Oy.length;n++)this.levers.children.entries[n].setRotation(Oy[n].rotation),Oy[n].animation&&this.levers.children.entries[n].anims.play(Oy[n].animation,!0);if(Dy)for(var s=0;s<Dy.length;s++)this.enemies.children.entries[s].setPosition(Dy[s].x,Dy[s].y),this.enemies.children.entries[s].flipX=Dy[s].flipX;if(Iy)for(var o=0;o<Iy.length;o++)this.exitDoors.children.entries[o].setPosition(Iy[o].x,Iy[o].y);jy&&(sy(this,this.platforms,jy.platforms,this.gameScale,jy.sprite,jy.sprite+"-wall"),jy=null)}}function Hy(t){Py=t}function Wy(t){gy=t}function Yy(t){xy=t}function Xy(t){by=t}function Zy(t){wy=t}function qy(t){_y=t}function Qy(t){Sy=t}function Ky(t){Ay=t}function Jy(t){Ty=t}function $y(t){Ey=t}function tg(t){Cy=t}function eg(t){My=t}function ig(t){Ry=t}function rg(t){ky=t}function ng(t){Ly=t}function sg(t){Fy=t}function og(t){Oy=t}function ag(t){Dy=t}function lg(t){Iy=t}function ug(t){jy=t}function hg(t){Ny=t,By=!0}var cg=Uy;function dg(t,e){localStorage.setItem(t,JSON.stringify(e))}function fg(t){return JSON.parse(localStorage.getItem(t))}function pg(t){t>fg("levels-complete")&&dg("levels-complete",t)}function mg(t){t.scene.start("LevelSelect")}function vg(t){dg("levels-complete",0),t.scene.start("LevelSelect")}function yg(t){t.scene.start("ControlsMenu")}var gg=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"MainMenu")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.spritesheet("ui-button","./assets/ui-button/ui-button.png",{frameWidth:190,frameHeight:49}),this.load.image("background","./assets/background/grass.png")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.add.sprite(512*this.gameScale,300*this.gameScale,"background").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2),this.texts=this.add.group(),this.titleText=ry(this,this.texts,{x:400,y:100},this.gameScale,{text:"Menu",font:"75px Future",fill:"#552eff"}),this.buttons=this.add.group(),this.newGameButton=iy(this,this.buttons,{x:400,y:200,w:300,h:50},this.gameScale,{text:"New Game",font:"40px Future",fill:"#00ff00"},16711680,vg,this,"ui-button"),this.startButton=iy(this,this.buttons,{x:400,y:300,w:300,h:50},this.gameScale,{text:"Load Game",font:"40px Future",fill:"#00ff00"},16711680,mg,this,"ui-button"),this.controlsButton=iy(this,this.buttons,{x:400,y:500,w:300,h:50},this.gameScale,{text:"Settings",font:"40px Future",fill:"#00ff00"},16711680,yg,this,"ui-button"),hg(!1)}},{key:"update",value:function(){ny(this,this.buttons)}}]),i}(Vv().Scene),xg=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"LevelSelect")}return(0,Z.Z)(i,[{key:"init",value:function(t){var e=fg("levels-complete");this.levelsComplete=e||0,t&&(this.needToPlayMusic=t.needToPlayMusic)}},{key:"preload",value:function(){this.load.spritesheet("ui-button","./assets/ui-button/ui-button.png",{frameWidth:190,frameHeight:49}),this.load.spritesheet("ui-button-green","./assets/ui-button/ui-button-green.png",{frameWidth:49,frameHeight:49}),this.load.image("background","./assets/background/grass.png"),this.load.audio("worldmap","./assets/music/worldmap.mp3")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.needToPlayMusic&&(this.music=this.sound.add("worldmap"),this.music.play({loop:!0})),this.add.sprite(512*this.gameScale,300*this.gameScale,"background").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2),this.texts=this.add.group(),this.titleText=ry(this,this.texts,{x:400,y:100},this.gameScale,{text:"Level Selection",font:"75px Future",fill:"#552eff"}),this.levelButtons=this.add.group(),this.blankButtons=this.add.group();for(var t=0;t<this.levelsComplete+1;t++){iy(this,this.levelButtons,{x:80+160*t,y:300,w:50,h:50},this.gameScale,{text:(t+1).toString(),font:"40px Future",fill:"#0000ff"},65280,bg,{game:this,levelToStart:t+1},"ui-button-green").level=t+1}for(;t<5;t++)iy(this,this.levelButtons,{x:80+160*t,y:300,w:50,h:50},this.gameScale,{text:"",font:"40px Future",fill:"#0000ff"},5592405,null);this.uiButtons=this.add.group(),this.backButton=iy(this,this.uiButtons,{x:600,y:500,w:150,h:50},this.gameScale,{text:"Back",font:"40px Future",fill:"#00ff00"},16711680,wg,this,"ui-button"),hg(!1)}},{key:"update",value:function(){ny(this,this.levelButtons),ny(this,this.uiButtons)}}]),i}(Vv().Scene);function bg(t){t.game.sound.stopAll(),t.game.scene.start("Level"+t.levelToStart.toString())}function wg(t){t.scene.start("MainMenu")}var _g=xg;function Sg(t){t.scene.start("MainMenu")}function Ag(t){t.scene.start("CreditsMenu")}var Tg,Eg=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"ControlsMenu")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.spritesheet("ui-button","./assets/ui-button/ui-button.png",{frameWidth:190,frameHeight:49}),this.load.image("background","./assets/background/grass.png")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.add.sprite(512*this.gameScale,300*this.gameScale,"background").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2),this.texts=this.add.group(),this.titleText=ry(this,this.texts,{x:400,y:100},this.gameScale,{text:"Settings",font:"50px Future",fill:"#552eff"}),this.player1Text1=ry(this,this.texts,{x:400,y:200},this.gameScale,{text:"Player 1 controls: move left - left arrow, move right - right arrow,",font:"18px Future",fill:"#000000"}),this.player1Text2=ry(this,this.texts,{x:400,y:225},this.gameScale,{text:"jump - up arrow, interact - enter",font:"18px Future",fill:"#000000"}),this.player2Text1=ry(this,this.texts,{x:400,y:300},this.gameScale,{text:"Player 2 controls: move left - A, move right - D,",font:"18px Future",fill:"#000000"}),this.player2Text2=ry(this,this.texts,{x:400,y:325},this.gameScale,{text:"jump - W, interact - E",font:"18px Future",fill:"#000000"}),this.UniversalText=ry(this,this.texts,{x:400,y:400},this.gameScale,{text:"Universal controls: pause - P",font:"18px Future",fill:"#000000"}),this.uiButtons=this.add.group(),this.backButton=iy(this,this.uiButtons,{x:600,y:500,w:150,h:50},this.gameScale,{text:"Back",font:"40px Future",fill:"#00ff00"},16711680,Sg,this,"ui-button"),this.creditsButton=iy(this,this.uiButtons,{x:200,y:500,w:200,h:50},this.gameScale,{text:"Credits",font:"40px Future",fill:"#00ff00"},16711680,Ag,this,"ui-button"),hg(!1)}},{key:"update",value:function(){ny(this,this.uiButtons)}}]),i}(Vv().Scene);function Mg(t){t.scene.stop("PauseMenu"),t.scene.resume(Tg)}function Cg(t){t.sound.stopAll(),t.scene.start(Tg)}function Pg(t){t.sound.stopAll(),t.scene.stop(Tg),t.scene.stop("PauseMenu"),location.reload()}function Rg(t){Tg=t}var kg=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"PauseMenu")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.spritesheet("ui-button-white","./assets/ui-button/ui-button-white.png",{frameWidth:190,frameHeight:49})}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.scene.bringToTop("PauseMenu"),this.texts=this.add.group(),this.titleText=ry(this,this.texts,{x:400,y:100},this.gameScale,{text:"Game Paused",font:"75px Future",fill:"#552eff"}),this.buttons=this.add.group(),this.resumeButton=iy(this,this.buttons,{x:400,y:300,w:250,h:50},this.gameScale,{text:"Resume",font:"40px Future",fill:"#000000"},16777215,Mg,this,"ui-button-white"),parseInt(Tg[5])&&(this.restartButton=iy(this,this.buttons,{x:400,y:400,w:250,h:50},this.gameScale,{text:"Restart Level",font:"25px Future",fill:"#000000"},16777215,Cg,this,"ui-button-white")),this.menuButton=iy(this,this.buttons,{x:400,y:500,w:250,h:50},this.gameScale,{text:"Go to Menu",font:"35px Future",fill:"#000000"},16777215,Pg,this,"ui-button-white")}},{key:"update",value:function(){ny(this,this.buttons)}}]),i}(Vv().Scene);function Lg(t){t.scene.start("MainMenu")}var Og=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"CreditsMenu")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.spritesheet("ui-button","./assets/ui-button/ui-button.png",{frameWidth:190,frameHeight:49}),this.load.image("background","./assets/background/grass.png")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.add.sprite(512*this.gameScale,300*this.gameScale,"background").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2),this.texts=this.add.group(),this.titleText=ry(this,this.texts,{x:400,y:100},this.gameScale,{text:"Credits",font:"50px Future",fill:"#552eff"}),this.credit1text=ry(this,this.texts,{x:400,y:200},this.gameScale,{text:"Created and Devloped by Ben Fielder",font:"32px Future",fill:"#000000"}),this.credit2text=ry(this,this.texts,{x:400,y:300},this.gameScale,{text:"Kenny - Background for levels 1, 2, 3 and 5, platforms,",font:"18px Future",fill:"#000000"}),this.credit2text2=ry(this,this.texts,{x:400,y:320},this.gameScale,{text:"ineractable objects, enemies and font",font:"18px Future",fill:"#000000"}),this.credit3text=ry(this,this.texts,{x:400,y:350},this.gameScale,{text:"PWL - Background for level 4",font:"18px Future",fill:"#000000"}),this.credit4text=ry(this,this.texts,{x:400,y:400},this.gameScale,{text:"Ahmed Khalf - football and football goal",font:"18px Future",fill:"#000000"}),this.credit5text=ry(this,this.texts,{x:400,y:450},this.gameScale,{text:"CodeManu - Music",font:"18px Future",fill:"#000000"}),this.uiButtons=this.add.group(),this.backButton=iy(this,this.uiButtons,{x:600,y:500,w:150,h:50},this.gameScale,{text:"Back",font:"40px Future",fill:"#00ff00"},16711680,Lg,this,"ui-button"),hg(!1)}},{key:"update",value:function(){ny(this,this.uiButtons)}}]),i}(Vv().Scene);function Dg(t,e){t.players.children.entries.forEach((function(t){t.left.isDown?(t.body.setVelocityX(-100*e),t.anims&&(t.anims.play("run"+t.playerNum,!0),t.animation="run"+t.playerNum,t.flipX=!0)):t.right.isDown?(t.body.setVelocityX(100*e),t.anims&&(t.anims.play("run"+t.playerNum,!0),t.animation="run"+t.playerNum,t.flipX=!1)):(t.body.setVelocityX(0),t.anims&&(t.anims.play("rest"+t.playerNum,!0),t.animation="rest"+t.playerNum)),t.up.isDown&&t.body.touching.down&&t.body.setVelocityY(-300*e)}))}function Ig(t){t.players.children.entries.forEach((function(t){t.interactionKey.isDown||(t.interactionKey.pressed=!1)}))}function Fg(t,e,i){t.pauseButton.isDown&&(t.scene.pause("Level"+e.toString()),i("Level"+e.toString()),t.scene.launch("PauseMenu"))}function jg(t){t.movingPlatforms.children.entries.forEach((function(t){(null===t.trigger||t.trigger.on)&&(t.setPosition(t.x+t.increment.x,t.y+t.increment.y),t.origin.x<t.target.x?(t.x<=t.origin.x||t.x>=t.target.x)&&(t.increment.x=-1*t.increment.x):(t.x>=t.origin.x||t.x<=t.target.x)&&(t.increment.x=-1*t.increment.x),t.origin.y<t.target.y?(t.y<=t.origin.y||t.y>=t.target.y)&&(t.increment.y=-1*t.increment.y):(t.y>=t.origin.y||t.y<=t.target.y)&&(t.increment.y=-1*t.increment.y))}))}function Bg(t){t.buttons.children.entries.forEach((function(t){t.on=!1}))}function Ng(t){t.boxes.children.entries.forEach((function(t){t.body.setVelocityX(0)}))}function Ug(t){t.enemies.children.entries.forEach((function(t){t.seekPlayer||(t.x<=t.patrolPath.x1?(t.body.setVelocityX(t.moveSpeed),t.flipX=!0):t.x>=t.patrolPath.x2&&(t.body.setVelocityX(-t.moveSpeed),t.flipX=!1))}))}function zg(t,e){t.enemies.children.entries.forEach((function(i){var r=!1;t.players.children.entries.forEach((function(t){var n,s,o=t.x-i.x,a=t.origin.x-i.x;if(i.y>1e3?(n=Number.parseFloat(i.y).toPrecision(2)===Number.parseFloat(t.safePos.y).toPrecision(2),s=Number.parseFloat(i.y).toPrecision(2)===Number.parseFloat(t.origin.y).toPrecision(2)):(n=Number.parseFloat(i.y).toPrecision(1)===Number.parseFloat(t.safePos.y).toPrecision(1),s=Number.parseFloat(i.y).toPrecision(1)===Number.parseFloat(t.origin.y).toPrecision(1)),Math.abs(o)<150*e&&n&&(Math.abs(a)>75*e||!s))return i.seekPlayer=!0,r=!0,void(o>0?(i.body.setVelocityX(i.moveSpeed),i.flipX=!0):(i.body.setVelocityX(-i.moveSpeed),i.flipX=!1));r||(i.seekPlayer=!1)}))}))}function Gg(t,e){t.exitDoors.children.entries.forEach((function(t){t.setPosition(t.floor.x,t.floor.y-62*e),t.playerCount=0}))}function Vg(t,e,i,r){e.initialised||e.trigger.on&&(e.initialised=!0,i(t,e.trapPlatformsPhysicsGroup,e.trapPlatforms,t.gameScale,e.sprite,e.sprite+"-wall"),r({platforms:e.trapPlatforms,sprite:e.sprite}))}function Hg(t){t.players.children.entries.forEach((function(t){t.atExit=!1}))}function Wg(t){var e=0;if(t.players.children.entries.forEach((function(t){t.atExit&&(e+=1)})),e>=2)return!0}function Yg(t){t.buttons.children.entries.forEach((function(t){t.anims&&(t.on?(t.anims.play("on",!0),t.animation="on"):(t.anims.play("off",!0),t.animation="off"))}))}function Xg(t,e){e.on=!0}function Zg(t,e){t.interactionKey.isDown&&!t.interactionKey.pressed&&(t.interactionKey.pressed=!0,e.anims?e.on?(e.on=!1,e.animation="lever-off",e.anims.play("lever-off",!0)):(e.on=!0,e.animation="lever-on",e.anims.play("lever-on",!0)):Math.round(e.rotation,5)===Math.round(45*Math.PI/180,5)?(e.setRotation(-45*Math.PI/180),e.on=!1):(e.setRotation(45*Math.PI/180),e.on=!0))}function qg(t,e){t.setPosition(t.safePos.x,t.safePos.y-5)}function Qg(t,e){t.setPosition(t.origin.x,t.origin.y-5)}function Kg(t,e){t.body.touching.down&&(t.safePos.x=t.x,t.safePos.y=t.y)}function Jg(t,e){t.atExit=!0}var $g=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"Level1")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.image("p1","./assets/player/stand.png"),this.load.image("p1run1","./assets/player/walk1r.png"),this.load.image("p1run2","./assets/player/walk2r.png"),this.load.image("p2","./assets/player/p2-stand.png"),this.load.image("p2run1","./assets/player/p2-walk1.png"),this.load.image("p2run2","./assets/player/p2-walk2.png"),this.load.image("buttonup","./assets/button/buttonup.png"),this.load.image("buttondown","./assets/button/buttondown.png"),this.load.spritesheet("lever","./assets/lever/lever.png",{frameWidth:128,frameHeight:100}),this.load.image("spike","./assets/spike/spike.png"),this.load.image("door","./assets/door/door.png"),this.load.image("grass","./assets/ground/grass.png"),this.load.image("grass-wall","./assets/ground/grass-wall.png"),this.load.image("movingPlatform","./assets/moving-platform/moving-platform.png"),this.load.image("background-grass","./assets/background/grass.png"),this.load.audio("grasslands","./assets/music/grasslands.mp3")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.music=this.sound.add("grasslands"),this.music.play({loop:!0});for(var t=0;t<Math.ceil(1500/1024);t++)this.add.sprite((512+1024*t)*this.gameScale,300*this.gameScale,"background-grass").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2);Hy("background-grass"),this.players=this.physics.add.group(),this.player1=oy(this,this.players,50,525,this.gameScale,"p1"),this.player2=oy(this,this.players,150,525,this.gameScale,"p2"),Wy([{x:50,y:525},{x:150,y:525}]),this.platforms=this.physics.add.staticGroup(),this.walls=this.physics.add.staticGroup();var e=[{x:800,y:575,w:1600,h:50},{x:-5,y:400,w:10,h:1e3},{x:1505,y:400,w:10,h:1e3},{x:800,y:350,w:200,h:50},{x:1300,y:150,w:200,h:50}];sy(this,this.platforms,e,this.gameScale,"grass","grass-wall",this.walls),Yy({platforms:e,sprite:"grass"}),this.physics.add.collider(this.players,this.platforms,Kg),this.buttons=this.physics.add.staticGroup(),this.button1=cy(this,this.buttons,{x:250,y:550,w:25,h:10},this.gameScale,"buttonup"),this.button2=cy(this,this.buttons,{x:825,y:325,w:25,h:10},this.gameScale,"buttonup"),this.physics.add.overlap(this.players,this.buttons,Xg),Zy([{x:250,y:550,w:25,h:10},{x:825,y:325,w:25,h:10}]),this.levers=this.physics.add.staticGroup(),this.lever=dy(this,this.levers,{x:750,y:325,w:50,h:10},this.gameScale,"lever"),this.physics.add.overlap(this.players,this.levers,Zg),qy([{x:750,y:325,w:50,h:10}]),this.movingPlatforms=this.physics.add.group(),this.movingPlatform1=uy(this,this.movingPlatforms,{x:400,y:575,w:150,h:50},{x:400,y:350},{x:0,y:-1},this.button1,this.gameScale,"movingPlatform"),this.movingPlatform2=uy(this,this.movingPlatforms,{x:600,y:350,w:150,h:50},{x:600,y:500},{x:0,y:1},this.button2,this.gameScale,"movingPlatform"),this.movingPlatform3=uy(this,this.movingPlatforms,{x:1e3,y:350,w:150,h:50},{x:1050,y:150},{x:.25,y:-1},this.lever,this.gameScale,"movingPlatform"),this.physics.add.collider(this.players,this.movingPlatforms),Qy([{x:400,y:500,w:150,h:50},{x:600,y:350,w:150,h:50},{x:1e3,y:350,w:150,h:50}]),this.spikes=this.physics.add.staticGroup(),fy(this,this.spikes,{x:750,y:550},35,this.gameScale,"spike"),this.physics.add.collider(this.players,this.spikes,qg),Ky([{x:750,y:550,count:35}]),this.exitDoors=this.physics.add.group(),this.exitDoor=my(this,this.exitDoors,{x:1300,y:150},this.platforms.children.entries[this.platforms.children.entries.length-1],this.gameScale,"door"),this.exitDoors.setDepth(-1),this.physics.add.overlap(this.players,this.exitDoors,Jg),$y([{x:1300,y:150}]),this.texts=this.add.group(),yy(this,this.texts,{x:250,y:400},"Move onto the button",2,this.gameScale),yy(this,this.texts,{x:800,y:100},"Press the ineraction key when on the lever",3,this.gameScale),yy(this,this.texts,{x:1250,y:300},"Don't jump on the spikes",1,this.gameScale),yy(this,this.texts,{x:1200,y:75},"Get to the exit door",2,this.gameScale),tg([{x:250,y:400,text:"Move onto the button",lines:2},{x:800,y:100,text:"Press the ineraction key when on the lever",lines:3},{x:1250,y:300,text:"Don't jump on the spikes",lines:1},{x:1200,y:75,text:"Get to the exit door",lines:2}]),ly(this,this.player2,{x1:0,y1:0,x2:1500,y2:600},this.gameScale),eg({x1:0,y1:0,x2:1500,y2:600}),ay(this),Xy(null),Jy(null),hg(!0)}},{key:"update",value:function(){Dg(this,this.gameScale),jg(this),Ig(this),Gg(this,this.gameScale),Yg(this),this.levelComplete=Wg(this),Fg(this,1,Rg),Bg(this),Hg(this),this.levelComplete&&(pg(1),this.music.stop(),this.scene.start("LevelSelect",{needToPlayMusic:!0})),ig(this.players.children.entries),rg(this.movingPlatforms.children.entries),sg(this.buttons.children.entries),og(this.levers.children.entries),lg(this.exitDoors.children.entries)}}]),i}(Vv().Scene),tx=$g,ex=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"Level2")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.image("p1","./assets/player/stand.png"),this.load.image("p1run1","./assets/player/walk1r.png"),this.load.image("p1run2","./assets/player/walk2r.png"),this.load.image("p2","./assets/player/p2-stand.png"),this.load.image("p2run1","./assets/player/p2-walk1.png"),this.load.image("p2run2","./assets/player/p2-walk2.png"),this.load.image("buttonup","./assets/button/buttonup.png"),this.load.image("buttondown","./assets/button/buttondown.png"),this.load.image("box","./assets/box/box.png"),this.load.image("spike","./assets/spike/spike.png"),this.load.image("door","./assets/door/door.png"),this.load.image("enemy1","./assets/enemy/enemy1.png"),this.load.image("enemy2","./assets/enemy/enemy2.png"),this.load.image("sand","./assets/ground/sand.png"),this.load.image("sand-wall","./assets/ground/sand-wall.png"),this.load.image("movingPlatform","./assets/moving-platform/moving-platform.png"),this.load.image("background-desert","./assets/background/desert.png"),this.load.audio("desert","./assets/music/desert.mp3")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.music=this.sound.add("desert"),this.music.play({loop:!0});for(var t=0;t<Math.ceil(1.7578125);t++)this.add.sprite((512+1024*t)*this.gameScale,300*this.gameScale,"background-desert").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2);Hy("background-desert"),this.players=this.physics.add.group(),this.player1=oy(this,this.players,50,525,this.gameScale,"p1"),this.player2=oy(this,this.players,1750,525,this.gameScale,"p2"),this.players.setDepth(1),Wy([{x:50,y:525},{x:1750,y:525}]),this.platforms=this.physics.add.staticGroup(),this.walls=this.physics.add.staticGroup();var e=[{x:900,y:575,w:1800,h:50},{x:-5,y:400,w:10,h:1e3},{x:1805,y:400,w:10,h:1e3},{x:650,y:375,w:200,h:50},{x:1150,y:375,w:200,h:50},{x:900,y:250,w:200,h:50}];sy(this,this.platforms,e,this.gameScale,"sand","sand-wall",this.walls),Yy({platforms:e,sprite:"sand"}),this.physics.add.collider(this.players,this.platforms,Kg),this.boxes=this.physics.add.group(),this.box1=hy(this,this.boxes,{x:150,y:525,w:33,h:33},this.gameScale,"box"),this.box2=hy(this,this.boxes,{x:1650,y:525,w:33,h:33},this.gameScale,"box"),this.physics.add.collider(this.players,this.boxes),this.physics.add.collider(this.platforms,this.boxes),this.physics.add.collider(this.boxes,this.boxes),Xy([{x:150,y:525,w:33,h:33},{x:1650,y:525,w:33,h:33}]),this.buttons=this.physics.add.staticGroup(),this.button1=cy(this,this.buttons,{x:225,y:550,w:25,h:10},this.gameScale,"buttonup"),this.button2=cy(this,this.buttons,{x:1575,y:550,w:25,h:10},this.gameScale,"buttonup"),this.physics.add.overlap(this.players,this.buttons,Xg),this.physics.add.overlap(this.boxes,this.buttons,Xg),Zy([{x:225,y:550,w:25,h:10},{x:1375,y:550,w:25,h:10}]),this.movingPlatforms=this.physics.add.group(),this.movingPlatform1=uy(this,this.movingPlatforms,{x:400,y:525,w:200,h:50},{x:400,y:375},{x:0,y:-1},this.button1,this.gameScale,"movingPlatform"),this.movingPlatform2=uy(this,this.movingPlatforms,{x:1400,y:525,w:200,h:50},{x:1200,y:375},{x:0,y:-1},this.button2,this.gameScale,"movingPlatform"),this.physics.add.collider(this.players,this.movingPlatforms),this.physics.add.collider(this.movingPlatforms,this.boxes),Qy([{x:400,y:525,w:200,h:50},{x:1200,y:525,w:200,h:50}]),this.spikes=this.physics.add.staticGroup(),fy(this,this.spikes,{x:600,y:550},25,this.gameScale,"spike"),this.physics.add.collider(this.players,this.spikes,qg),this.physics.add.collider(this.boxes,this.spikes),Ky([{x:600,y:550,count:16}]),this.enemies=this.physics.add.group(),this.enemy1=py(this,this.enemies,{x:575,y:325},725,50,this.gameScale,"enemy1"),this.enemy2=py(this,this.enemies,{x:1075,y:325},1225,50,this.gameScale,"enemy1"),this.physics.add.collider(this.enemies,this.platforms),this.physics.add.overlap(this.players,this.enemies,Qg),this.physics.add.collider(this.enemies,this.walls),Jy([{x:575,y:325},{x:1075,y:325}]),this.exitDoors=this.physics.add.group(),this.exitDoor=my(this,this.exitDoors,{x:900,y:200},this.platforms.children.entries[this.platforms.children.entries.length-1],this.gameScale,"door"),this.exitDoors.setDepth(-1),this.physics.add.overlap(this.players,this.exitDoors,Jg),$y([{x:900,y:200}]),this.texts=this.add.group(),yy(this,this.texts,{x:150,y:350},"Push the box onto the button",2,this.gameScale),yy(this,this.texts,{x:1650,y:350},"Push the box onto the button",2,this.gameScale),yy(this,this.texts,{x:600,y:200},"Mind the enemy",2,this.gameScale),yy(this,this.texts,{x:1200,y:200},"Mind the enemy",2,this.gameScale),tg([{x:150,y:350,text:"Push the box onto the button",lines:2},{x:1650,y:350,text:"Push the box onto the button",lines:2},{x:600,y:200,text:"Mind the enemy",lines:2},{x:1200,y:200,text:"Mind the enemy",lines:2}]),ly(this,this.player2,{x1:0,y1:0,x2:1800,y2:600},this.gameScale),eg({x1:0,y1:0,x2:1800,y2:600}),ay(this),qy(null),hg(!0)}},{key:"update",value:function(){Dg(this,this.gameScale),jg(this),Ig(this),Ug(this),zg(this,this.gameScale),Gg(this,this.gameScale),Yg(this),this.levelComplete=Wg(this),Fg(this,2,Rg),Bg(this),Ng(this),Hg(this),this.levelComplete&&(pg(2),this.music.stop(),this.scene.start("LevelSelect",{needToPlayMusic:!0})),ig(this.players.children.entries),rg(this.movingPlatforms.children.entries),ng(this.boxes.children.entries),sg(this.buttons.children.entries),ag(this.enemies.children.entries),lg(this.exitDoors.children.entries)}}]),i}(Vv().Scene),ix=ex,rx=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"Level3")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.image("p1","./assets/player/stand.png"),this.load.image("p1run1","./assets/player/walk1r.png"),this.load.image("p1run2","./assets/player/walk2r.png"),this.load.image("p2","./assets/player/p2-stand.png"),this.load.image("p2run1","./assets/player/p2-walk1.png"),this.load.image("p2run2","./assets/player/p2-walk2.png"),this.load.image("buttonup","./assets/button/buttonup.png"),this.load.image("buttondown","./assets/button/buttondown.png"),this.load.spritesheet("lever","./assets/lever/lever.png",{frameWidth:128,frameHeight:100}),this.load.image("spike","./assets/spike/spike.png"),this.load.image("door","./assets/door/door.png"),this.load.image("enemy1","./assets/enemy/enemy1.png"),this.load.image("enemy2","./assets/enemy/enemy2.png"),this.load.image("snow","./assets/ground/snow.png"),this.load.image("snow-wall","./assets/ground/snow-wall.png"),this.load.image("movingPlatform","./assets/moving-platform/moving-platform.png"),this.load.image("background-ice","./assets/background/ice.png"),this.load.audio("iceland","./assets/music/iceland.mp3")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.music=this.sound.add("iceland"),this.music.play({loop:!0});for(var t=0;t<Math.ceil(1.7578125);t++)this.add.sprite((512+1024*t)*this.gameScale,350*this.gameScale,"background-ice").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2);Hy("background-ice"),this.players=this.physics.add.group(),this.player1=oy(this,this.players,50,625,this.gameScale,"p1"),this.player2=oy(this,this.players,1750,625,this.gameScale,"p2"),this.players.setDepth(1),Wy([{x:50,y:625},{x:1750,y:625}]),this.platforms=this.physics.add.staticGroup(),this.walls=this.physics.add.staticGroup();var e=[{x:900,y:675,w:1800,h:50},{x:-5,y:400,w:10,h:900},{x:1805,y:400,w:10,h:900},{x:625,y:450,w:150,h:50},{x:750,y:450,w:50,h:500},{x:1150,y:450,w:300,h:50},{x:675,y:200,w:200,h:50}];sy(this,this.platforms,e,this.gameScale,"snow","snow-wall",this.walls),Yy({platforms:e,sprite:"snow"}),this.physics.add.collider(this.players,this.platforms,Kg),this.buttons=this.physics.add.staticGroup(),this.button1=cy(this,this.buttons,{x:200,y:650,w:25,h:10},this.gameScale,"buttonup"),this.button2=cy(this,this.buttons,{x:1012,y:425,w:25,h:10},this.gameScale,"buttonup"),this.button3=cy(this,this.buttons,{x:750,y:175,w:25,h:10},this.gameScale,"buttonup"),this.physics.add.overlap(this.players,this.buttons,Xg),Zy([{x:200,y:650,w:25,h:10},{x:1012,y:425,w:25,h:10},{x:750,y:175,w:25,h:10}]),this.levers=this.physics.add.staticGroup(),this.lever1=dy(this,this.levers,{x:1650,y:650,w:50,h:10},this.gameScale,"lever"),this.lever2=dy(this,this.levers,{x:625,y:425,w:50,h:10},this.gameScale,"lever"),this.physics.add.overlap(this.players,this.levers,Zg),qy([{x:1450,y:650,w:50,h:10},{x:625,y:425,w:50,h:10}]),this.movingPlatforms=this.physics.add.group(),this.movingPlatform1=uy(this,this.movingPlatforms,{x:400,y:625,w:200,h:50},{x:400,y:500},{x:0,y:-1},this.lever1,this.gameScale,"movingPlatform"),this.movingPlatform2=uy(this,this.movingPlatforms,{x:400,y:250,w:200,h:50},{x:400,y:400},{x:0,y:1},this.button3,this.gameScale,"movingPlatform"),this.movingPlatform3=uy(this,this.movingPlatforms,{x:1450,y:625,w:200,h:50},{x:1350,y:500},{x:0,y:-1},this.lever2,this.gameScale,"movingPlatform"),this.movingPlatform4=uy(this,this.movingPlatforms,{x:875,y:400,w:150,h:50},{x:875,y:200},{x:0,y:-1},this.button2,this.gameScale,"movingPlatform"),this.physics.add.collider(this.players,this.movingPlatforms),this.physics.add.collider(this.movingPlatforms,this.boxes),Qy([{x:400,y:625,w:200,h:50},{x:400,y:400,w:200,h:50},{x:1350,y:625,w:200,h:50},{x:875,y:400,w:150,h:50}]),this.spikes=this.physics.add.staticGroup(),fy(this,this.spikes,{x:800,y:650},16,this.gameScale,"spike"),this.physics.add.collider(this.players,this.spikes,qg),Ky([{x:800,y:650,count:16}]),this.enemies=this.physics.add.group(),this.enemy1=py(this,this.enemies,{x:1100,y:360},1275,50,this.gameScale,"enemy1"),this.physics.add.collider(this.enemies,this.platforms),this.physics.add.overlap(this.players,this.enemies,Qg),this.physics.add.overlap(this.enemies,this.buttons,Xg),this.physics.add.collider(this.enemies,this.walls),Jy([{x:1100,y:360}]),this.exitDoors=this.physics.add.group(),this.exitDoor=my(this,this.exitDoors,{x:575,y:200},this.platforms.children.entries[this.platforms.children.entries.length-1],this.gameScale,"door"),this.exitDoors.setDepth(-1),this.physics.add.overlap(this.players,this.exitDoors,Jg),$y([{x:575,y:200}]),this.trap=vy(this,this.platforms,this.button1,[{x:140,y:550,w:50,h:200},{x:260,y:550,w:50,h:200}],"snow"),this.texts=this.add.group(),yy(this,this.texts,{x:200,y:450},"Don't jump on this button",2,this.gameScale),yy(this,this.texts,{x:625,y:300},"Sometimes levers move something for the other player",4,this.gameScale),yy(this,this.texts,{x:1650,y:350},"Sometimes levers move something for the other player",4,this.gameScale),yy(this,this.texts,{x:1250,y:250},"Lure the enemy onto the button",2,this.gameScale),yy(this,this.texts,{x:1200,y:75},"Beware of traps",2,this.gameScale),yy(this,this.texts,{x:200,y:75},"Beware of traps",2,this.gameScale),yy(this,this.texts,{x:700,y:50},"You are on your own now",2,this.gameScale),tg([{x:200,y:450,text:"Don't jump on this button",lines:2},{x:625,y:300,text:"Sometimes levers move something for the other player",lines:4},{x:1650,y:350,text:"Sometimes levers move something for the othe player",lines:4},{x:1200,y:75,text:"Beware of traps",lines:2},{x:200,y:75,text:"Beware of traps",lines:2},{x:700,y:50,text:"You are on your own now",lines:2}]),ly(this,this.player2,{x1:0,y1:0,x2:1800,y2:700},this.gameScale),eg({x1:0,y1:0,x2:1800,y2:700}),ay(this),Xy(null),hg(!0)}},{key:"update",value:function(){Dg(this,this.gameScale),jg(this),Ig(this),Ug(this),zg(this,this.gameScale),Gg(this,this.gameScale),Vg(this,this.trap,sy,ug),Yg(this),this.levelComplete=Wg(this),Fg(this,3,Rg),Bg(this),Hg(this),this.levelComplete&&(pg(3),this.music.stop(),this.scene.start("LevelSelect",{needToPlayMusic:!0})),ig(this.players.children.entries),rg(this.movingPlatforms.children.entries),sg(this.buttons.children.entries),og(this.levers.children.entries),ag(this.enemies.children.entries),lg(this.exitDoors.children.entries)}}]),i}(Vv().Scene),nx=rx,sx=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"Level4")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.image("p1","./assets/player/stand.png"),this.load.image("p1run1","./assets/player/walk1r.png"),this.load.image("p1run2","./assets/player/walk2r.png"),this.load.image("p2","./assets/player/p2-stand.png"),this.load.image("p2run1","./assets/player/p2-walk1.png"),this.load.image("p2run2","./assets/player/p2-walk2.png"),this.load.image("buttonup","./assets/button/buttonup.png"),this.load.image("buttondown","./assets/button/buttondown.png"),this.load.spritesheet("lever","./assets/lever/lever.png",{frameWidth:128,frameHeight:100}),this.load.image("box","./assets/box/box.png"),this.load.image("spike","./assets/spike/spike.png"),this.load.image("door","./assets/door/door.png"),this.load.image("enemy1","./assets/enemy/enemy1.png"),this.load.image("enemy2","./assets/enemy/enemy2.png"),this.load.image("dirt","./assets/ground/dirt.png"),this.load.image("dirt-wall","./assets/ground/dirt-wall.png"),this.load.image("movingPlatform","./assets/moving-platform/moving-platform.png"),this.load.image("background-cave","./assets/background/cave.png"),this.load.audio("dungeon","./assets/music/dungeon.mp3")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.music=this.sound.add("dungeon"),this.music.play({loop:!0}),this.add.sprite(400*this.gameScale,1100*this.gameScale,"background-cave").setDisplaySize(2200*this.gameScale,2200*this.gameScale).setDepth(-2),Hy("background-cave"),this.players=this.physics.add.group(),this.player1=oy(this,this.players,50,2125,this.gameScale,"p1"),this.player2=oy(this,this.players,750,225,this.gameScale,"p2"),this.players.setDepth(1),Wy([{x:50,y:2125},{x:750,y:225}]),this.platforms=this.physics.add.staticGroup(),this.walls=this.physics.add.staticGroup();var t=[{x:-5,y:1100,w:10,h:2500},{x:805,y:1100,w:10,h:2500},{x:400,y:2175,w:800,h:50},{x:300,y:1875,w:600,h:50},{x:500,y:1575,w:600,h:50},{x:500,y:275,w:600,h:50},{x:300,y:575,w:600,h:50},{x:500,y:875,w:600,h:50},{x:500,y:1275,w:300,h:50},{x:100,y:1275,w:200,h:50},{x:100,y:1075,w:200,h:50},{x:200,y:1175,w:50,h:250}];sy(this,this.platforms,t,this.gameScale,"dirt","dirt-wall",this.walls),Yy({platforms:t,sprite:"dirt"}),this.physics.add.collider(this.players,this.platforms,Kg),this.boxes=this.physics.add.group(),this.box1=hy(this,this.boxes,{x:150,y:2125,w:33,h:33},this.gameScale,"box"),this.box2=hy(this,this.boxes,{x:650,y:225,w:33,h:33},this.gameScale,"box"),this.physics.add.collider(this.players,this.boxes),this.physics.add.collider(this.platforms,this.boxes),this.physics.add.collider(this.boxes,this.boxes),Xy([{x:150,y:2125,w:33,h:33},{x:650,y:225,w:33,h:33}]),this.buttons=this.physics.add.staticGroup(),this.button1=cy(this,this.buttons,{x:550,y:1850,w:25,h:10},this.gameScale,"buttonup"),this.button2=cy(this,this.buttons,{x:550,y:550,w:25,h:10},this.gameScale,"buttonup"),this.button3=cy(this,this.buttons,{x:100,y:1050,w:25,h:10},this.gameScale,"buttonup"),this.physics.add.overlap(this.boxes,this.buttons,Xg),Zy([{x:550,y:1850,w:25,h:10},{x:550,y:550,w:25,h:10},{x:100,y:1050,w:25,h:10}]),this.levers=this.physics.add.staticGroup(),this.lever1=dy(this,this.levers,{x:550,y:2150,w:50,h:10},this.gameScale,"lever"),this.lever2=dy(this,this.levers,{x:600,y:1550,w:50,h:10},this.gameScale,"lever"),this.lever3=dy(this,this.levers,{x:250,y:850,w:50,h:10},this.gameScale,"lever"),this.lever4=dy(this,this.levers,{x:600,y:1250,w:50,h:10},this.gameScale,"lever"),this.physics.add.overlap(this.players,this.levers,Zg),qy([{x:550,y:2150,w:50,h:10},{x:600,y:1550,w:50,h:10},{x:250,y:850,w:50,h:10},{x:600,y:1250,w:50,h:10}]),this.movingPlatforms=this.physics.add.group(),this.movingPlatform1=uy(this,this.movingPlatforms,{x:700,y:2175,w:200,h:50},{x:700,y:1875},{x:0,y:-1},this.lever1,this.gameScale,"movingPlatform"),this.movingPlatform2=uy(this,this.movingPlatforms,{x:100,y:1825,w:200,h:50},{x:100,y:1575},{x:0,y:-1},this.button2,this.gameScale,"movingPlatform"),this.movingPlatform3=uy(this,this.movingPlatforms,{x:725,y:1525,w:150,h:50},{x:725,y:1275},{x:0,y:-1},this.lever3,this.gameScale,"movingPlatform"),this.movingPlatform4=uy(this,this.movingPlatforms,{x:100,y:275,w:200,h:50},{x:100,y:525},{x:0,y:1},this.button1,this.gameScale,"movingPlatform"),this.movingPlatform5=uy(this,this.movingPlatforms,{x:700,y:575,w:200,h:50},{x:700,y:875},{x:0,y:1},this.lever2,this.gameScale,"movingPlatform"),this.movingPlatform6=uy(this,this.movingPlatforms,{x:100,y:875,w:200,h:50},{x:300,y:875},{x:1,y:0},this.lever4,this.gameScale,"movingPlatform"),this.movingPlatform7=uy(this,this.movingPlatforms,{x:100,y:1225,w:200,h:50},{x:300,y:1225},{x:1,y:0},this.button3,this.gameScale,"movingPlatform"),this.physics.add.collider(this.players,this.movingPlatforms),this.physics.add.collider(this.movingPlatforms,this.boxes),Qy([{x:700,y:2175,w:200,h:50},{x:100,y:1825,w:200,h:50},{x:725,y:1525,w:150,h:50},{x:100,y:275,w:200,h:50},{x:700,y:575,w:200,h:50},{x:100,y:875,w:200,h:50},{x:100,y:1225,w:200,h:50}]),this.spikes=this.physics.add.staticGroup(),fy(this,this.spikes,{x:300,y:1850},6,this.gameScale,"spike"),this.physics.add.collider(this.players,this.spikes,qg),this.physics.add.collider(this.boxes,this.spikes),Ky([{x:300,y:1850,count:6}]),this.enemies=this.physics.add.group(),this.enemy1=py(this,this.enemies,{x:300,y:2125},450,50,this.gameScale,"enemy1"),this.enemy2=py(this,this.enemies,{x:300,y:1525},550,50,this.gameScale,"enemy1"),this.enemy3=py(this,this.enemies,{x:400,y:1225},550,50,this.gameScale,"enemy1"),this.enemy4=py(this,this.enemies,{x:250,y:225},500,50,this.gameScale,"enemy1"),this.enemy5=py(this,this.enemies,{x:250,y:525},450,50,this.gameScale,"enemy1"),this.enemy6=py(this,this.enemies,{x:400,y:825},550,50,this.gameScale,"enemy1"),this.physics.add.collider(this.enemies,this.platforms),this.physics.add.overlap(this.players,this.enemies,Qg),this.physics.add.collider(this.enemies,this.walls),Jy([{x:300,y:2125},{x:300,y:1525},{x:400,y:1225},{x:250,y:225},{x:250,y:525},{x:400,y:825}]),this.exitDoors=this.physics.add.group(),this.exitDoor=my(this,this.exitDoors,{x:100,y:1175},this.movingPlatform7,this.gameScale,"door"),this.exitDoors.setDepth(-1),this.physics.add.overlap(this.players,this.exitDoors,Jg),$y([{x:100,y:1175}]),ly(this,this.player2,{x1:0,y1:0,x2:800,y2:2200},this.gameScale),eg({x1:0,y1:0,x2:800,y2:2200}),ay(this),tg(null),hg(!0)}},{key:"update",value:function(){Dg(this,this.gameScale),jg(this),Ig(this),zg(this,this.gameScale),Ug(this),Gg(this,this.gameScale),Yg(this),this.levelComplete=Wg(this),Fg(this,4,Rg),Bg(this),Ng(this),Hg(this),this.levelComplete&&(pg(4),this.music.stop(),this.scene.start("LevelSelect",{needToPlayMusic:!0})),ig(this.players.children.entries),rg(this.movingPlatforms.children.entries),ng(this.boxes.children.entries),sg(this.buttons.children.entries),og(this.levers.children.entries),ag(this.enemies.children.entries),lg(this.exitDoors.children.entries)}}]),i}(Vv().Scene),ox=sx,ax=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.call(this,"Level5")}return(0,Z.Z)(i,[{key:"preload",value:function(){this.load.image("p1","./assets/player/stand.png"),this.load.image("p1run1","./assets/player/walk1r.png"),this.load.image("p1run2","./assets/player/walk2r.png"),this.load.image("p2","./assets/player/p2-stand.png"),this.load.image("p2run1","./assets/player/p2-walk1.png"),this.load.image("p2run2","./assets/player/p2-walk2.png"),this.load.image("buttonup","./assets/button/buttonup.png"),this.load.image("buttondown","./assets/button/buttondown.png"),this.load.spritesheet("lever","./assets/lever/lever.png",{frameWidth:128,frameHeight:100}),this.load.image("box","./assets/box/box.png"),this.load.image("spike","./assets/spike/spike.png"),this.load.image("door","./assets/door/door.png"),this.load.image("enemy1","./assets/enemy/enemy1.png"),this.load.image("enemy2","./assets/enemy/enemy2.png"),this.load.image("planet","./assets/ground/planet.png"),this.load.image("planet-wall","./assets/ground/planet-wall.png"),this.load.image("movingPlatform","./assets/moving-platform/moving-platform.png"),this.load.image("background-shroom","./assets/background/shroom.png"),this.load.audio("mushroom","./assets/music/mushroom.mp3")}},{key:"create",value:function(){this.gameScale=this.scale.canvas.width/800,this.music=this.sound.add("mushroom"),this.music.play({loop:!0});for(var t=0;t<Math.ceil(3.125);t++)this.add.sprite((512+1024*t)*this.gameScale,400*this.gameScale,"background-shroom").setDisplaySize(1024*this.gameScale,1024*this.gameScale).setDepth(-2);Hy("background-shroom"),this.players=this.physics.add.group(),this.player1=oy(this,this.players,800,725,this.gameScale,"p1"),this.player2=oy(this,this.players,3100,125,this.gameScale,"p2"),this.players.setDepth(1),Wy([{x:1e3,y:500},{x:3100,y:125}]),this.platforms=this.physics.add.staticGroup(),this.walls=this.physics.add.staticGroup();var e=[{x:1600,y:775,w:3200,h:50},{x:-5,y:400,w:10,h:1e3},{x:3205,y:400,w:10,h:1e3},{x:1600,y:200,w:50,h:600},{x:150,y:550,w:300,h:50},{x:150,y:250,w:300,h:50},{x:1250,y:650,w:150,h:50},{x:1450,y:510,w:100,h:50},{x:1200,y:450,w:175,h:50},{x:800,y:100,w:50,h:200},{x:3100,y:175,w:200,h:50},{x:2700,y:300,w:200,h:50},{x:2900,y:425,w:600,h:50},{x:2e3,y:425,w:800,h:50}];sy(this,this.platforms,e,this.gameScale,"planet","planet-wall",this.walls),Yy({platforms:e,sprite:"planet"}),this.physics.add.collider(this.players,this.platforms,Kg),this.boxes=this.physics.add.group(),this.box1=hy(this,this.boxes,{x:180,y:500,w:33,h:33},this.gameScale,"box"),this.box2=hy(this,this.boxes,{x:2700,y:250,w:33,h:33},this.gameScale,"box"),Xy([{x:180,y:500,w:33,h:33},{x:2700,y:250,w:33,h:33}]),this.physics.add.collider(this.players,this.boxes),this.physics.add.collider(this.platforms,this.boxes),this.physics.add.collider(this.boxes,this.boxes),this.buttons=this.physics.add.staticGroup(),this.button1=cy(this,this.buttons,{x:950,y:750,w:25,h:10},this.gameScale,"buttonup"),this.button2=cy(this,this.buttons,{x:100,y:525,w:25,h:10},this.gameScale,"buttonup"),this.button3=cy(this,this.buttons,{x:125,y:225,w:25,h:10},this.gameScale,"buttonup"),this.button4=cy(this,this.buttons,{x:1800,y:400,w:25,h:10},this.gameScale,"buttonup"),Zy([{x:950,y:750,w:25,h:10},{x:100,y:525,w:25,h:10},{x:125,y:225,w:25,h:10},{x:1800,y:400,w:25,h:10}]),this.physics.add.overlap(this.players,this.buttons,Xg),this.physics.add.overlap(this.boxes,this.buttons,Xg),this.levers=this.physics.add.staticGroup(),this.lever1=dy(this,this.levers,{x:700,y:750,w:50,h:10},this.gameScale,"lever"),this.lever2=dy(this,this.levers,{x:3150,y:150,w:50,h:10},this.gameScale,"lever"),this.lever3=dy(this,this.levers,{x:1800,y:750,w:50,h:10},this.gameScale,"lever"),qy([{x:700,y:750,w:50,h:10},{x:3150,y:150,w:50,h:10},{x:1800,y:750,w:50,h:10}]),this.physics.add.overlap(this.players,this.levers,Zg),this.spikes=this.physics.add.staticGroup(),fy(this,this.spikes,{x:0,y:750},14,this.gameScale,"spike"),fy(this,this.spikes,{x:2100,y:750},40,this.gameScale,"spike"),Ky([{x:0,y:750,count:14},{x:2100,y:750,count:40}]),this.physics.add.collider(this.players,this.spikes,qg),this.physics.add.collider(this.boxes,this.spikes),this.enemies=this.physics.add.group(),this.enemy1=py(this,this.enemies,{x:1200,y:725},1500,50,this.gameScale,"enemy1"),this.enemy2=py(this,this.enemies,{x:2e3,y:375},2350,50,this.gameScale,"enemy1"),Jy([{x:1200,y:725},{x:2e3,y:375}]),this.physics.add.collider(this.enemies,this.platforms),this.physics.add.overlap(this.players,this.enemies,Qg),this.physics.add.overlap(this.enemies,this.buttons,Xg),this.physics.add.collider(this.enemies,this.walls),this.movingPlatforms=this.physics.add.group(),this.finishPlatforms=this.physics.add.group(),this.finishPlatformBody=uy(this,this.movingPlatforms,{x:950,y:100,w:200,h:50},{x:950,y:100},{x:0,y:0},null,this.gameScale,"movingPlatform"),this.finishPlatform=function(t,e,i,r,n,s){var o;return s?(o=t.add.sprite(i.x*n,i.y*n,s)).setDisplaySize(i.w*n,i.h*n):o=t.add.rectangle(i.x*n,i.y*n,i.w*n,i.h*n,255),e.add(o),o.targetBody=r,o}(this,this.finishPlatforms,{x:950,y:100,w:200,h:50},this.finishPlatformBody,this.gameScale,"movingPlatform"),this.physics.add.collider(this.finishPlatforms,this.movingPlatforms),this.movingPlatform1=uy(this,this.movingPlatforms,{x:1600,y:625,w:50,h:250},{x:1600,y:500},{x:0,y:-1},this.button1,this.gameScale,"movingPlatform"),this.movingPlatform2=uy(this,this.movingPlatforms,{x:500,y:725,w:200,h:50},{x:500,y:550},{x:0,y:-1},this.lever2,this.gameScale,"movingPlatform"),this.movingPlatform3=uy(this,this.movingPlatforms,{x:500,y:450,w:200,h:50},{x:500,y:250},{x:0,y:-1},this.button2,this.gameScale,"movingPlatform"),this.movingPlatform4=uy(this,this.movingPlatforms,{x:760,y:200,w:150,h:50},{x:800,y:500},{x:0,y:1},this.button1,this.gameScale,"movingPlatform"),this.movingPlatform5=uy(this,this.movingPlatforms,{x:890,y:650,w:50,h:200},{x:890,y:450},{x:0,y:-1},this.lever3,this.gameScale,"movingPlatform"),this.movingPlatform6=uy(this,this.movingPlatforms,{x:1010,y:650,w:50,h:200},{x:1010,y:450},{x:0,y:-1},this.lever1,this.gameScale,"movingPlatform"),this.movingPlatform7=uy(this,this.movingPlatforms,{x:2500,y:425,w:200,h:50},{x:2700,y:700},{x:1,y:0},this.button4,this.gameScale,"movingPlatform"),this.movingPlatform8=uy(this,this.movingPlatforms,{x:2600,y:500,w:200,h:50},{x:2100,y:750},{x:-1,y:.5},this.button3,this.gameScale,"movingPlatform"),this.movingPlatform9=uy(this,this.movingPlatforms,{x:950,y:150,w:200,h:50},{x:1250,y:150},{x:1,y:0},this.button1,this.gameScale,"movingPlatform"),Qy([{x:950,y:100,w:200,h:50},{x:1600,y:625,w:50,h:250},{x:500,y:725,w:200,h:50},{x:500,y:450,w:200,h:50},{x:760,y:200,w:150,h:50},{x:890,y:650,w:50,h:200},{x:1010,y:650,w:50,h:200},{x:2500,y:425,w:200,h:50},{x:2600,y:500,w:200,h:50},{x:950,y:150,w:200,h:50}]),this.physics.add.collider(this.players,this.movingPlatforms),this.physics.add.collider(this.movingPlatforms,this.boxes),this.physics.add.collider(this.movingPlatforms,this.movingPlatforms),this.exitDoors=this.physics.add.group(),this.exitDoor=my(this,this.exitDoors,{x:950,y:100},this.finishPlatform,this.gameScale,"door"),this.exitDoors.setDepth(-1),$y([{x:950,y:100,floor:this.finishPlatform}]),this.physics.add.overlap(this.players,this.exitDoors,Jg),this.trap=vy(this,this.platforms,this.button1,[{x:890,y:650,w:50,h:200},{x:1010,y:650,w:50,h:200}],"planet"),ly(this,this.player2,{x1:0,y1:0,x2:3200,y2:800},this.gameScale),eg({x1:0,y1:0,x2:3200,y2:800}),ay(this),tg(null),hg(!0)}},{key:"update",value:function(){var t;Dg(this,this.gameScale),jg(this),Ig(this),zg(this,this.gameScale),Ug(this),Gg(this,this.gameScale),(t=this.finishPlatform).targetBody.setPosition(t.x,t.y),Vg(this,this.trap,sy,ug),Yg(this),this.levelComplete=Wg(this),Fg(this,5,Rg),Bg(this),Ng(this),Hg(this),this.levelComplete&&(pg(5),this.music.stop(),this.scene.start("LevelSelect",{needToPlayMusic:!0})),ig(this.players.children.entries),rg(this.movingPlatforms.children.entries),ng(this.boxes.children.entries),sg(this.buttons.children.entries),og(this.levers.children.entries),ag(this.enemies.children.entries),lg(this.exitDoors.children.entries)}}]),i}(Vv().Scene),lx=ax,ux=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){var t;(0,X.Z)(this,i);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={initialize:!0,game:{type:Vv().AUTO,parent:"game1",width:window.innerWidth/2-2,height:.75*(window.innerWidth/2-2),physics:{default:"arcade",arcade:{gravity:{y:(window.innerWidth/2-50)/800*300},debug:!1}},scene:[ey,gg,_g,Eg,Og,kg,tx,ix,nx,ox,lx]}},t}return(0,Z.Z)(i,[{key:"render",value:function(){var t=this.state,e=t.initialize,i=t.game;return(0,J.jsx)(ty,{game:i,initialize:e})}}]),i}(e.Component),hx=ux;function cx(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)(zv,{}),(0,J.jsx)(hx,{}),(0,J.jsx)(cg,{})]})}var dx=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"education",children:[(0,J.jsx)("div",{class:"background"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"University of Warwick"}),(0,J.jsx)("p",{id:"awardtitle",children:"Computer Science BSc:"}),(0,J.jsx)("p",{children:"3rd Year Student"}),(0,J.jsx)("p",{children:"September 2022 - Present"}),(0,J.jsx)("p",{children:"Expected Graduation Date: June 2025"})]})]})})]})}}]),i}(e.Component),fx=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{id:"education",children:[(0,J.jsx)("div",{class:"background"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"Marling School"}),(0,J.jsx)("p",{id:"awardtitle",children:"A Levels (2022):"}),(0,J.jsx)("p",{children:"Mathematics - A*"}),(0,J.jsx)("p",{children:"Further Mathematics - A*"}),(0,J.jsx)("p",{children:"Computer Science - A*"}),(0,J.jsx)("p",{children:"Physics - A*"}),(0,J.jsx)("br",{}),(0,J.jsx)("p",{id:"awardtitle",children:"GCSEs (2020):"}),(0,J.jsx)("p",{children:"11 subjects grade 9-7 as:"}),(0,J.jsx)("p",{children:"Six at grade 9 - including Mathematics"}),(0,J.jsx)("p",{children:"Three at grade 8 - including English Language"}),(0,J.jsx)("p",{children:"Two at grade 7"})]})]})})]})}}]),i}(e.Component),px=function(t){(0,q.Z)(i,t);var e=(0,Q.Z)(i);function i(){return(0,X.Z)(this,i),e.apply(this,arguments)}return(0,Z.Z)(i,[{key:"render",value:function(){return(0,J.jsxs)("div",{children:[(0,J.jsx)($,{active:""}),(0,J.jsx)("main",{children:(0,J.jsxs)("div",{class:"spaceworm",children:[(0,J.jsx)("div",{id:"pyramidnum"}),(0,J.jsxs)("section",{class:"intro",children:[(0,J.jsx)("h3",{children:"Pyramid Numbers"}),(0,J.jsx)("p",{children:"A puzzle game involving numbers and pyramids"}),(0,J.jsx)("p",{children:"Download for Android available here soon"}),(0,J.jsx)("p",{children:"Currently unavailable on the Play Store."}),(0,J.jsx)("br",{})]})]})})]})}}]),i}(e.Component);function mx(){return(0,J.jsx)(W,{children:(0,J.jsxs)(w,{children:[(0,J.jsx)(x,{path:"/",element:(0,J.jsx)(tt,{})}),(0,J.jsx)(x,{path:"/projects",element:(0,J.jsx)(lt,{})}),(0,J.jsx)(x,{path:"/spaceworm",element:(0,J.jsx)(ct,{})}),(0,J.jsx)(x,{path:"/education",element:(0,J.jsx)(pt,{})}),(0,J.jsx)(x,{path:"/projects/snake",element:(0,J.jsx)(jt,{})}),(0,J.jsx)(x,{path:"/projects/planets",element:(0,J.jsx)(Iv,{})}),(0,J.jsx)(x,{path:"/projects/puzzleplatformer",element:(0,J.jsx)(Fv,{})}),(0,J.jsx)(x,{path:"/projects/birdsongidentifier",element:(0,J.jsx)(Nv,{})}),(0,J.jsx)(x,{path:"/projects/puzzleplatformer/game",element:(0,J.jsx)(cx,{})}),(0,J.jsx)(x,{path:"/spaceworm/pyramidnumbers",element:(0,J.jsx)(px,{})}),(0,J.jsx)(x,{path:"/education/warwick",element:(0,J.jsx)(dx,{})}),(0,J.jsx)(x,{path:"/education/marling",element:(0,J.jsx)(fx,{})})]})})}r.render((0,J.jsx)(mx,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.9520817c.js.map